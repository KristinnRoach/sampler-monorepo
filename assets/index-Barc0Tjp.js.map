{"version":3,"file":"index-Barc0Tjp.js","sources":["../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["import { Component, onMount, createSignal } from 'solid-js';\nimport type { SamplerElement } from '@repo/audio-components';\n\nconst App: Component = () => {\n  let samplerRef: SamplerElement | undefined;\n  const [sampleLoaded, setSampleLoaded] = createSignal(false);\n  const [layout, setLayout] = createSignal<'desktop' | 'tablet' | 'mobile'>('desktop');\n\n  onMount(() => {\n    const handleSampleLoaded = () => {\n      if (samplerRef) {\n        const samplePlayer = samplerRef.getSamplePlayer();\n        console.log('Sample loaded, player:', samplePlayer);\n        setSampleLoaded(true);\n      }\n    };\n\n    // Simple responsive layout detection\n    const updateLayout = () => {\n      const width = window.innerWidth;\n      console.log(`updateLayout called, width: ${width}`);\n      \n      if (width < 600) {\n        console.log('Setting layout to mobile');\n        setLayout('mobile');\n      } else if (width < 900) {\n        console.log('Setting layout to tablet');\n        setLayout('tablet');\n      } else {\n        console.log('Setting layout to desktop');\n        setLayout('desktop');\n      }\n    };\n\n    console.log('Adding resize listener');\n    document.addEventListener('sample-loaded', handleSampleLoaded);\n    window.addEventListener('resize', updateLayout);\n    \n    console.log('Calling initial updateLayout');\n    updateLayout(); // Initial check\n\n    // Add expand/collapse listeners (from original main.ts)\n    const addExpandCollapseListeners = () => {\n      const legends = document.querySelectorAll('.expandable-legend');\n      legends.forEach((legend) => {\n        legend.addEventListener('click', () => {\n          const fieldset = legend.closest('fieldset');\n          if (fieldset) {\n            fieldset.classList.toggle('collapsed');\n          }\n        });\n      });\n    };\n\n    addExpandCollapseListeners();\n\n    return () => {\n      document.removeEventListener('sample-loaded', handleSampleLoaded);\n      window.removeEventListener('resize', updateLayout);\n    };\n  });\n\n  return (\n    <div id='page-wrapper' class='page-wrapper'>\n      <div class={`control-grid layout-${layout()}`} id='sampler-container'>\n        {/* Sampler Audio Engine */}\n        <sampler-element\n          ref={samplerRef}\n          node-id='test-sampler'\n          debug-mode='false'\n        />\n\n        {/* Controls */}\n        <fieldset class='control-group env-group'>\n          <legend class='expandable-legend'>Envelopes</legend>\n          <div class='expandable-content'>\n            <envelope-switcher height='225px' target-node-id='test-sampler' />\n          </div>\n        </fieldset>\n\n        <fieldset class='control-group sample-group'>\n          <legend class='expandable-legend'>Sample</legend>\n          <div class='expandable-content'>\n            <div class='flex-col'>\n              <record-button\n                target-node-id='test-sampler'\n                show-status='false'\n              />\n              <input-select target-node-id='test-sampler' />\n            </div>\n            <load-button target-node-id='test-sampler' show-status='false' />\n          </div>\n        </fieldset>\n\n        <fieldset class='control-group mix-group'>\n          <legend class='expandable-legend'>Mix</legend>\n          <div class='expandable-content'>\n            <volume-knob target-node-id='test-sampler' />\n            <dry-wet-knob target-node-id='test-sampler' />\n          </div>\n        </fieldset>\n\n        <fieldset class='control-group loop-group'>\n          <legend class='expandable-legend'>Loop</legend>\n          <div class='expandable-content'>\n            <loop-start-knob target-node-id='test-sampler' label='Start' />\n            <loop-duration-knob\n              target-node-id='test-sampler'\n              label='Duration'\n            />\n            <div class='flex-col'>\n              <loop-duration-drift-knob\n                target-node-id='test-sampler'\n                label='Drift'\n              />\n              <pan-drift-toggle target-node-id='test-sampler' />\n            </div>\n          </div>\n        </fieldset>\n\n        <fieldset class='control-group filter-group'>\n          <legend class='expandable-legend'>Filters</legend>\n          <div class='expandable-content'>\n            <lowpass-filter-knob target-node-id='test-sampler' />\n            <highpass-filter-knob target-node-id='test-sampler' />\n          </div>\n        </fieldset>\n\n        <fieldset class='control-group reverb-group'>\n          <legend class='expandable-legend'>Reverb</legend>\n          <div class='expandable-content'>\n            <reverb-send-knob label='Send' target-node-id='test-sampler' />\n            <reverb-size-knob label='Size' target-node-id='test-sampler' />\n          </div>\n        </fieldset>\n\n        <fieldset class='control-group effects-group'>\n          <legend class='expandable-legend'>Effects</legend>\n          <div class='expandable-content effects-grid'>\n            <div class='flex-row dist-am'>\n              <distortion-knob target-node-id='test-sampler' />\n              <am-modulation target-node-id='test-sampler' />\n            </div>\n            <div class='effect-section'>\n              <h4>Feedback</h4>\n              <div class='feedback-controls'>\n                <div class='flex-col'>\n                  <feedback-knob target-node-id='test-sampler' label='Amount' />\n                  <feedback-mode-toggle\n                    target-node-id='test-sampler'\n                    label=''\n                  />\n                </div>\n                <div class='flex-row'>\n                  <div class='flex-col'>\n                    <feedback-pitch-knob\n                      target-node-id='test-sampler'\n                      label='Pitch'\n                    />\n                    <feedback-lpf-knob\n                      label='Lowpass'\n                      class='fb-lpf-knob'\n                      target-node-id='test-sampler'\n                    />\n                  </div>\n                  <feedback-decay-knob\n                    target-node-id='test-sampler'\n                    label='Decay'\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </fieldset>\n\n        <fieldset class='control-group trim-group'>\n          <legend class='expandable-legend'>Trim</legend>\n          <div class='expandable-content'>\n            <trim-start-knob target-node-id='test-sampler' />\n            <trim-end-knob target-node-id='test-sampler' />\n          </div>\n        </fieldset>\n\n        <fieldset class='control-group amp-lfo-group'>\n          <legend class='expandable-legend'>LFO's</legend>\n          <div class='expandable-content'>\n            <div class='flex-col'>\n              <gain-lfo-rate-knob target-node-id='test-sampler' label='Rate' />\n              <gain-lfo-sync-toggle target-node-id='test-sampler' label='' />\n            </div>\n            <gain-lfo-depth-knob target-node-id='test-sampler' label='Depth' />\n            <div class='flex-col'>\n              <pitch-lfo-rate-knob target-node-id='test-sampler' label='Rate' />\n              <pitch-lfo-sync-toggle target-node-id='test-sampler' label='' />\n            </div>\n            <pitch-lfo-depth-knob target-node-id='test-sampler' label='Depth' />\n          </div>\n        </fieldset>\n\n        <fieldset class='control-group toggle-group'>\n          <legend class='expandable-legend'>Toggles</legend>\n          <div class='expandable-content'>\n            <midi-toggle target-node-id='test-sampler' />\n            <playback-direction-toggle target-node-id='test-sampler' />\n            <loop-lock-toggle target-node-id='test-sampler' />\n            <hold-lock-toggle target-node-id='test-sampler' />\n            <pitch-toggle target-node-id='test-sampler' />\n            <sampler-status target-node-id='test-sampler' />\n          </div>\n        </fieldset>\n\n        <fieldset class='control-group keyboard-group'>\n          <legend class='expandable-legend'>Keyboard</legend>\n          <computer-keyboard target-node-id='test-sampler' />\n          <div class='expandable-content'>\n            <piano-keyboard\n              id='piano-keyboard'\n              class='piano-keyboard'\n              target-node-id='test-sampler'\n              width='800'\n              height='80'\n            />\n            <div class='keyboard-controls'>\n              <keymap-select show-label='false' target-node-id='test-sampler' />\n              <glide-knob target-node-id='test-sampler' />\n            </div>\n          </div>\n        </fieldset>\n\n        {/* Row collapse icons */}\n        <div class='row-collapse-icon' data-row='1' style='grid-area: reverb' />\n        <div class='row-collapse-icon' data-row='2' style='grid-area: mod' />\n        <div\n          class='row-collapse-icon'\n          data-row='3'\n          style='grid-area: pitch-lfo'\n        />\n        <div\n          class='row-collapse-icon'\n          data-row='4'\n          style='grid-area: keyboard'\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","/* @refresh reload */\nimport { render } from 'solid-js/web';\nimport { defineSampler } from '@repo/audio-components';\nimport App from './App';\nimport './style.css';\n\ndefineSampler(); // Define all web components for the sampler\n\nconst root = document.getElementById('root');\n\nif (import.meta.env.DEV && !(root instanceof HTMLElement)) {\n  throw new Error(\n    'Root element not found. Did you forget to add it to your index.html? Or maybe the id attribute got misspelled?'\n  );\n}\n\nrender(() => <App />, root!);\n"],"names":["App","samplerRef","sampleLoaded","setSampleLoaded","createSignal","layout","setLayout","onMount","handleSampleLoaded","samplePlayer","getSamplePlayer","console","log","updateLayout","width","window","innerWidth","document","addEventListener","addExpandCollapseListeners","querySelectorAll","forEach","legend","fieldset","closest","classList","toggle","removeEventListener","_el$","_tmpl$","_el$2","firstChild","_el$3","_el$4","nextSibling","_el$5","_el$6","_el$7","_el$8","_el$9","_el$0","_el$1","_el$10","_el$11","_el$12","_el$13","_el$14","_el$15","_el$16","_el$17","_el$18","_el$19","_el$20","_el$21","_el$22","_el$23","_el$24","_el$25","_el$26","_el$27","_el$28","_el$29","_el$30","_el$31","_el$32","_el$33","_el$34","_el$35","_el$36","_el$37","_el$38","_el$39","_el$40","_el$41","_el$42","_el$43","_el$44","_el$45","_el$46","_el$47","_el$48","_el$49","_el$50","_el$51","_el$52","_el$53","_el$54","_el$55","_el$56","_el$57","_el$58","_el$59","_el$60","_el$61","_el$62","_el$63","_el$64","_el$65","_el$66","_el$67","_el$68","_el$69","_el$70","_el$71","_el$72","_el$73","_el$74","_el$75","_el$76","_el$77","_el$78","_el$79","_el$80","_el$81","_el$82","_el$83","_el$84","_el$85","_ref$","_$use","_$owner","_$getOwner","_$effect","_$className","defineSampler","root","getElementById","render","_$createComponent"],"mappings":"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"}