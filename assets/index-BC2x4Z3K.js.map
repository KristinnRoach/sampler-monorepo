{"version":3,"file":"index-BC2x4Z3K.js","sources":["../../src/utils/dom-utils.ts","../../src/utils/expandCollapse.ts","../../src/main.ts"],"sourcesContent":["export const qs = (classOrId: string, container?: Element) =>\n  (container || document).querySelector(classOrId);\n\nexport const qsa = (classOrId: string, container?: Element) =>\n  (container || document).querySelectorAll(classOrId);\n","import { qsa } from './dom-utils';\n\nexport const toggleRow = (rowNumber: number) => {\n  const rowSelectors = [\n    '.env-group, .sample-group, .mix-group, .reverb-group',\n    '.filter-group, .distortion-group, .mod-group',\n    '.loop-group, .trim-group, .feedback-group, .amp-lfo-group, .pitch-lfo-group',\n    '.toggle-group, .keyboard-group',\n  ];\n\n  const selector = rowSelectors[rowNumber - 1];\n  if (!selector) return;\n  const groups = qsa(selector);\n\n  if (groups.length === 0) return;\n  const allCollapsed = Array.from(groups).every((g) =>\n    g.classList.contains('collapsed')\n  );\n\n  groups.forEach((group) => group.classList.toggle('collapsed', !allCollapsed));\n};\n\nexport function addExpandCollapseListeners() {\n  document.addEventListener('click', (e: MouseEvent) => {\n    const target = e.target as EventTarget | null;\n    if (!(target instanceof Element)) return;\n\n    // Toggle a single group's collapse by legend\n    const legend = target.closest('.expandable-legend');\n    if (legend) {\n      legend.closest('.control-group')?.classList.toggle('collapsed');\n    }\n\n    // Toggle an entire row\n    const rowIcon = target.closest('.row-collapse-icon');\n    if (rowIcon) {\n      const rowAttr = rowIcon.getAttribute('data-row');\n      const row = Number.parseInt(rowAttr ?? '', 10);\n      if (Number.isFinite(row) && row > 0) {\n        toggleRow(row);\n      }\n    }\n  });\n}\n","import { defineSampler } from '@repo/audio-components';\nimport type { SamplerElement } from '@repo/audio-components';\nimport { addExpandCollapseListeners } from './utils/expandCollapse';\nimport { qs } from './utils';\n\ndefineSampler(); // Define all sampler components\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  console.debug('playground initialized');\n\n  const samplerEl = qs('sampler-element') as SamplerElement;\n  let samplePlayer: any;\n\n  document.addEventListener('sample-loaded', () => {\n    samplePlayer = samplerEl.getSamplePlayer();\n    // console.info(samplePlayer);\n  });\n\n  addExpandCollapseListeners();\n});\n"],"names":["qs","classOrId","container","qsa","toggleRow","rowNumber","selector","groups","allCollapsed","g","group","addExpandCollapseListeners","e","target","legend","_a","rowIcon","rowAttr","row","defineSampler","samplerEl"],"mappings":"wxBAAO,MAAMA,EAAK,CAACC,EAAmBC,IACtB,SAAU,cAAcD,CAAS,EAEpCE,EAAM,CAACF,EAAmBC,IACvB,SAAU,iBAAiBD,CAAS,ECFvCG,EAAaC,GAAsB,CAQ9C,MAAMC,EAPe,CACnB,uDACA,+CACA,8EACA,gCAAA,EAG4BD,EAAY,CAAC,EAC3C,GAAI,CAACC,EAAU,OACf,MAAMC,EAASJ,EAAIG,CAAQ,EAE3B,GAAIC,EAAO,SAAW,EAAG,OACzB,MAAMC,EAAe,MAAM,KAAKD,CAAM,EAAE,MAAOE,GAC7CA,EAAE,UAAU,SAAS,WAAW,CAAA,EAGlCF,EAAO,QAASG,GAAUA,EAAM,UAAU,OAAO,YAAa,CAACF,CAAY,CAAC,CAC9E,EAEO,SAASG,GAA6B,CAC3C,SAAS,iBAAiB,QAAUC,GAAkB,OACpD,MAAMC,EAASD,EAAE,OACjB,GAAI,EAAEC,aAAkB,SAAU,OAGlC,MAAMC,EAASD,EAAO,QAAQ,oBAAoB,EAC9CC,KACFC,EAAAD,EAAO,QAAQ,gBAAgB,IAA/B,MAAAC,EAAkC,UAAU,OAAO,cAIrD,MAAMC,EAAUH,EAAO,QAAQ,oBAAoB,EACnD,GAAIG,EAAS,CACX,MAAMC,EAAUD,EAAQ,aAAa,UAAU,EACzCE,EAAM,OAAO,SAASD,GAAW,GAAI,EAAE,EACzC,OAAO,SAASC,CAAG,GAAKA,EAAM,GAChCd,EAAUc,CAAG,CACf,CACF,CACD,CACH,CCtCAC,EAAA,EAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,QAAQ,MAAM,wBAAwB,EAEtC,MAAMC,EAAYpB,EAAG,iBAAiB,EAGtC,SAAS,iBAAiB,gBAAiB,IAAM,CAChCoB,EAAU,gBAAA,CAAgB,CAE1C,EAEDT,EAAA,CACF,CAAC"}