import{g as i,D as m}from"./vendor-gsap-DSz2Z63p.js";import{B as g}from"./audio-components-DPqdX40m.js";import"./audiolib-lIIV0uEG.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function a(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=a(e);fetch(e.href,r)}})();const d=(o,t)=>document.querySelector(o),p=(o,t)=>document.querySelectorAll(o);i.registerPlugin(m);const c=(o={},t={})=>{const{element:a,handleElement:n,className:e="",handleClassName:r=""}=o,{axis:s}=t||null;let l=null;if(a?l=a:e&&(l=d(e)),!(l instanceof Element)){console.warn("makeDraggable: Invalid Element.");return}return m.create(l,{type:s||"x,y",trigger:n??l.querySelector(r||".drag-handle")??l,...t})};g();const f=()=>{i.set('[target-node-id="test-sampler"] > div, computer-keyboard > *, piano-keyboard > *',{opacity:0,scale:.75,y:25,x:0});const o=i.timeline();o.to("sampler-element > div",{opacity:1,scale:1,y:0,x:0,duration:.6,ease:"back.out(1.7)"}),o.to('[target-node-id="test-sampler"] > div',{opacity:1,scale:1,y:0,x:0,duration:.4,ease:"back.out(1.7)",stagger:.05},"-=0.3"),o.to("computer-keyboard > *, piano-keyboard > *",{opacity:1,scale:1,y:0,x:0,duration:.5,ease:"back.out(1.7)",stagger:.2},"-=0.1")};function u(o){if(!o||o.querySelector(".drag-handle"))return;const t=document.createElement("div");t.className="drag-handle",t.setAttribute("aria-label","Drag to move this control group"),o.appendChild(t)}function y(){u(d(".top-bar")),p(".control-group").forEach(u)}document.addEventListener("DOMContentLoaded",()=>{if(console.debug("playground initialized"),!d("sampler-element")){console.error("Sampler element not found");return}document.addEventListener("sampler-error",t=>{if(console.error("Sampler error:",t.detail),t.detail.error==="AudioWorklet not supported"){const a=document.createElement("div");a.className="browser-warning";const n=document.createElement("h2");n.className="browser-warning__heading",n.textContent="Browser Not Supported";const e=document.createElement("p");e.className="browser-warning__message",e.textContent=t.detail.message||"Your browser is not compatible.";const r=document.createElement("p");r.className="browser-warning__info",r.textContent="Your browser does not fully support AudioWorklet API.";const s=document.createElement("button");s.className="browser-warning__button",s.textContent="Close",s.addEventListener("click",()=>{a.remove()}),a.appendChild(n),a.appendChild(e),a.appendChild(r),a.appendChild(s),document.body.appendChild(a)}}),document.addEventListener("sampler-ready",()=>{f(),y();const t=p(".control-group"),a=d(".top-bar");a&&c({element:a,handleClassName:".drag-handle"},{type:"x,y"}),t.forEach((n,e)=>{i.to(n,{rotateX:0,rotateY:0,rotateZ:0,ease:"back.inOut"}),c({element:n,handleClassName:".drag-handle"},{type:"x,y",onDragStart:()=>{n.classList.add("dragging")},onDragEnd:()=>{n.classList.remove("dragging")}})})})});
//# sourceMappingURL=index-D3KZtoS1.js.map
