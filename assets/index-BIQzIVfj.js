(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();let protoOf$1=Object.getPrototypeOf,changedStates$1,derivedStates$1,curDeps$1,curNewDerives$1,alwaysConnectedDom$1={isConnected:1},gcCycleInMs$1=1e3,statesToGc$1,propSetterCache$1={},objProto$1=protoOf$1(alwaysConnectedDom$1),funcProto$1=protoOf$1(protoOf$1),_undefined$1,addAndScheduleOnFirst$1=(o,e,t,n)=>(o??(setTimeout(t,n),new Set)).add(e),runAndCaptureDeps$1=(o,e,t)=>{let n=curDeps$1;curDeps$1=e;try{return o(t)}catch(r){return console.error(r),t}finally{curDeps$1=n}},keepConnected$1=o=>o.filter(e=>{var t;return(t=e._dom)==null?void 0:t.isConnected}),addStatesToGc$1=o=>statesToGc$1=addAndScheduleOnFirst$1(statesToGc$1,o,()=>{for(let e of statesToGc$1)e._bindings=keepConnected$1(e._bindings),e._listeners=keepConnected$1(e._listeners);statesToGc$1=_undefined$1},gcCycleInMs$1),stateProto$1={get val(){var o;return(o=curDeps$1==null?void 0:curDeps$1._getters)==null||o.add(this),this.rawVal},get oldVal(){var o;return(o=curDeps$1==null?void 0:curDeps$1._getters)==null||o.add(this),this._oldVal},set val(o){var e;(e=curDeps$1==null?void 0:curDeps$1._setters)==null||e.add(this),o!==this.rawVal&&(this.rawVal=o,this._bindings.length+this._listeners.length?(derivedStates$1==null||derivedStates$1.add(this),changedStates$1=addAndScheduleOnFirst$1(changedStates$1,this,updateDoms$1)):this._oldVal=o)}},state$1=o=>({__proto__:stateProto$1,rawVal:o,_oldVal:o,_bindings:[],_listeners:[]}),bind$1=(o,e)=>{let t={_getters:new Set,_setters:new Set},n={f:o},r=curNewDerives$1;curNewDerives$1=[];let s=runAndCaptureDeps$1(o,t,e);s=(s??document).nodeType?s:new Text(s);for(let a of t._getters)t._setters.has(a)||(addStatesToGc$1(a),a._bindings.push(n));for(let a of curNewDerives$1)a._dom=s;return curNewDerives$1=r,n._dom=s},derive$1=(o,e=state$1(),t)=>{let n={_getters:new Set,_setters:new Set},r={f:o,s:e};r._dom=t??(curNewDerives$1==null?void 0:curNewDerives$1.push(r))??alwaysConnectedDom$1,e.val=runAndCaptureDeps$1(o,n,e.rawVal);for(let s of n._getters)n._setters.has(s)||(addStatesToGc$1(s),s._listeners.push(r));return e},add$1=(o,...e)=>{for(let t of e.flat(1/0)){let n=protoOf$1(t??0),r=n===stateProto$1?bind$1(()=>t.val):n===funcProto$1?bind$1(t):t;r!=_undefined$1&&o.append(r)}return o},tag$1=(o,e,...t)=>{var l;let[{is:n,...r},...s]=protoOf$1(t[0]??0)===objProto$1?t:[{},...t],a=o?document.createElementNS(o,e,{is:n}):document.createElement(e,{is:n});for(let[c,h]of Object.entries(r)){let p=b=>b?Object.getOwnPropertyDescriptor(b,c)??p(protoOf$1(b)):_undefined$1,_=e+","+c,w=propSetterCache$1[_]??(propSetterCache$1[_]=((l=p(protoOf$1(a)))==null?void 0:l.set)??0),u=c.startsWith("on")?(b,k)=>{let E=c.slice(2);a.removeEventListener(E,k),a.addEventListener(E,b)}:w?w.bind(a):a.setAttribute.bind(a,c),P=protoOf$1(h??0);c.startsWith("on")||P===funcProto$1&&(h=derive$1(h),P=stateProto$1),P===stateProto$1?bind$1(()=>(u(h.val,h._oldVal),a)):u(h)}return add$1(a,s)},handler$1=o=>({get:(e,t)=>tag$1.bind(_undefined$1,o,t)}),update$1=(o,e)=>e?e!==o&&o.replaceWith(e):o.remove(),updateDoms$1=()=>{let o=0,e=[...changedStates$1].filter(n=>n.rawVal!==n._oldVal);do{derivedStates$1=new Set;for(let n of new Set(e.flatMap(r=>r._listeners=keepConnected$1(r._listeners))))derive$1(n.f,n.s,n._dom),n._dom=_undefined$1}while(++o<100&&(e=[...derivedStates$1]).length);let t=[...changedStates$1].filter(n=>n.rawVal!==n._oldVal);changedStates$1=_undefined$1;for(let n of new Set(t.flatMap(r=>r._bindings=keepConnected$1(r._bindings))))update$1(n._dom,bind$1(n.f,n._dom)),n._dom=_undefined$1;for(let n of t)n._oldVal=n.rawVal};const van$1={tags:new Proxy(o=>new Proxy(tag$1,handler$1(o)),handler$1()),hydrate:(o,e)=>update$1(o,bind$1(e,o)),add:add$1,state:state$1,derive:derive$1},qs=(o,e)=>document.querySelector(o);var gl=Object.defineProperty,Ba=o=>{throw TypeError(o)},yl=(o,e,t)=>e in o?gl(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,B=(o,e,t)=>yl(o,typeof e!="symbol"?e+"":e,t),So=(o,e,t)=>e.has(o)||Ba("Cannot "+t),i=(o,e,t)=>(So(o,e,"read from private field"),t?t.call(o):e.get(o)),S=(o,e,t)=>e.has(o)?Ba("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,t),y=(o,e,t,n)=>(So(o,e,"write to private field"),e.set(o,t),t),z=(o,e,t)=>(So(o,e,"access private method"),t),ps=(o,e,t,n)=>({set _(r){y(o,e,r)},get _(){return i(o,e,n)}});const Ni={sampleRate:48e3};function vl(o){if(o==null||o.duration<.01||o.duration>60||o.numberOfChannels<1||o.numberOfChannels>32)return!1;let s=!1,a=0,l=0;for(let c=0;c<o.numberOfChannels;c++)try{const h=o.getChannelData(c);if(!h||h.length===0)return!1;let p=0;for(let w=0;w<h.length;w++){const u=Math.abs(h[w]);u>0&&(s=!0),u>a&&(a=u),p+=u*u}const _=Math.sqrt(p/h.length);if(_>l&&(l=_),s)break}catch{return!1}if(s){const c=20*Math.log10(a),h=20*Math.log10(l);console.log(`AudioBuffer Analysis:
      Duration: ${o.duration} seconds
      Peak amplitude: ${a.toFixed(4)} (${c.toFixed(1)} dB)
      RMS amplitude: ${l.toFixed(4)} (${h.toFixed(1)} dB)
    `)}return s}var dr,ai,tt,Ft,ht,Mn,On,Cn,fr,Rn,be,Ya,Ha,Xa,Co,Ro,ni;class Va{constructor(e,t,n,r=1024){S(this,be),S(this,dr),S(this,ai),S(this,tt),S(this,Ft),S(this,ht),S(this,Mn),S(this,On),S(this,Cn,null),S(this,fr,new Map),S(this,Rn,null),y(this,dr,e),y(this,ai,t),y(this,tt,n),y(this,Ft,e.createAnalyser()),y(this,ht,e.createAnalyser()),i(this,Ft).fftSize=r,i(this,ht).fftSize=r,y(this,Mn,new Float32Array(i(this,Ft).fftSize)),y(this,On,new Float32Array(i(this,ht).fftSize))}start(e=1e3,t,n=!1){return this.stop(),z(this,be,Ya).call(this),y(this,Cn,window.setInterval(()=>{const r=this.getLevels();t&&t(r),n&&z(this,be,Xa).call(this,r)},e)),this}getLevels(){i(this,Ft).getFloatTimeDomainData(i(this,Mn)),i(this,ht).getFloatTimeDomainData(i(this,On));const e=z(this,be,Co).call(this,i(this,Mn)),t=z(this,be,Co).call(this,i(this,On)),n=z(this,be,Ro).call(this,i(this,Mn)),r=z(this,be,Ro).call(this,i(this,On)),s=z(this,be,ni).call(this,e),a=z(this,be,ni).call(this,t),l=z(this,be,ni).call(this,n),c=z(this,be,ni).call(this,r),h=l-c;return{input:{rms:e,peak:n,rmsDB:s,peakDB:l},output:{rms:t,peak:r,rmsDB:a,peakDB:c},gainChange:h,gainChangeDB:h}}stop(){if(i(this,Cn)){window.clearInterval(i(this,Cn)),y(this,Cn,null);try{i(this,Ft).disconnect(),i(this,ht).disconnect(),i(this,Rn)&&(i(this,Rn).disconnect(),y(this,Rn,null));const e=i(this,fr).get(i(this,tt));if(e){i(this,tt).disconnect();for(const t of e)t.node instanceof AudioNode?i(this,tt).connect(t.node,t.output,t.input):t.node instanceof AudioParam&&i(this,tt).connect(t.node,t.output)}i(this,fr).clear()}catch(e){console.error("Error removing level monitoring:",e)}}}}dr=new WeakMap,ai=new WeakMap,tt=new WeakMap,Ft=new WeakMap,ht=new WeakMap,Mn=new WeakMap,On=new WeakMap,Cn=new WeakMap,fr=new WeakMap,Rn=new WeakMap,be=new WeakSet,Ya=function(){try{const o=z(this,be,Ha).call(this,i(this,tt));i(this,fr).set(i(this,tt),o);const e=i(this,dr).createGain();e.gain.value=1,i(this,ai).connect(e),e.connect(i(this,Ft)),i(this,tt).disconnect(),i(this,tt).connect(i(this,ht));for(const t of o)t.node instanceof AudioNode?i(this,ht).connect(t.node,t.output,t.input):t.node instanceof AudioParam&&i(this,ht).connect(t.node,t.output);y(this,Rn,e)}catch(o){console.error("Error setting up level monitoring:",o)}},Ha=function(o){return[{node:i(this,dr).destination,output:0,input:0}]},Xa=function(o){console.log(`Audio Levels:
       Input:  RMS ${o.input.rmsDB.toFixed(1)} dB | Peak ${o.input.peakDB.toFixed(1)} dB
       Output: RMS ${o.output.rmsDB.toFixed(1)} dB | Peak ${o.output.peakDB.toFixed(1)} dB
       Gain Change: ${o.gainChangeDB>0?"+":""}${o.gainChangeDB.toFixed(1)} dB`)},Co=function(o){let e=0;for(let t=0;t<o.length;t++)e+=o[t]*o[t];return Math.sqrt(e/o.length)},Ro=function(o){let e=0;for(let t=0;t<o.length;t++){const n=Math.abs(o[t]);n>e&&(e=n)}return e},ni=function(o){return o<1e-7?-100:20*Math.log10(o)};function bl(o,e,t=.9){const n=e.numberOfChannels,r=e.length,s=e.sampleRate;let a=0;for(let h=0;h<n;h++){const p=e.getChannelData(h);for(let _=0;_<r;_++){const w=Math.abs(p[_]);w>a&&(a=w)}}if(a===0)return e;const l=t/a,c=o.createBuffer(n,r,s);for(let h=0;h<n;h++){const p=e.getChannelData(h),_=c.getChannelData(h);for(let w=0;w<r;w++)_[w]=p[w]*l}return c}const Za=[["C"],["C#","Db"],["D"],["D#","Eb"],["E"],["F"],["F#","Gb"],["G"],["G#","Ab"],["A"],["A#","Bb"],["B"]],Al={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},wl={chromatic:[0,1,2,3,4,5,6,7,8,9,10,11],major:[0,2,4,5,7,9,11],minor:[0,2,3,5,7,8,10],harmonic_minor:[0,2,3,5,7,8,11],melodic_minor:[0,2,3,5,7,9,11],lydian:[0,2,4,6,7,9,10],dorian:[0,2,3,5,7,9,10],phrygian:[0,1,3,5,7,8,10],mixolydian:[0,2,4,5,7,9,10],locrian:[0,1,3,5,6,8,10],diminished:[0,2,3,5,6,8,9,11],augmented:[0,3,4,8,9],major_pentatonic:[0,2,4,7,9],minor_pentatonic:[0,2,3,7,8],blues:[0,3,5,6,7,10],whole_tone:[0,2,4,6,8,10]};function Pl(o,e=440){return e*Math.pow(2,(o-69)/12)}function El(o,e="semitones",t=440,n){const r=12*Math.log2(o/t)+69;return e==="semitones"?Math.round(r):r}function Tl(o=0,e=9,t=440,n=4){const r=[],s=Math.pow(2,.08333333333333333),a=4*12+9;for(let l=o*12;l<=e*12+(e===8?0:11);l++){const c=t*Math.pow(s,l-a);r.push(Number(c.toFixed(n)))}return r}function Sl(o){return typeof o=="number"&&Number.isInteger(o)&&o>=0&&o<=127}function xl(o,e=60){return Math.pow(2,(o-e)/12)}const _o=Tl(0,9),kl=_o.map(o=>1/o),Il=Array.from({length:_o.length},(o,e)=>{const t=Math.floor(e/12)-1,n=e%12;return`${Za[n][0]}${t}`}),Dl=Za,xo=Al,Ps=_o,Ml=kl,Wa=Il,Ja=wl,Bo=o=>{const e=Ps.reduce((n,r)=>Math.abs(r-o)<Math.abs(n-o)?r:n),t=El(e);return Ol(t)};function Ol(o){const e=Pl(o),t=Math.floor(o/12)-1,n=o%12;return{name:Dl[n][0],octave:t,midiNote:o,frequency:e,period:1/e}}function Cl(){const o={};return Wa.forEach((e,t)=>{o[e]=Ps[t]}),Rl(o),Bl(o)}function Rl(o){const e=[["C#","Db"],["D#","Eb"],["F#","Gb"],["G#","Ab"],["A#","Bb"]];for(let t=0;t<=8;t++)for(const[n,r]of e){const s=`${n}${t}`,a=`${r}${t}`;s in o&&!(a in o)?o[a]=o[s]:a in o&&!(s in o)&&(o[s]=o[a])}}function Bl(o){return Object.fromEntries(Object.entries(o).sort((e,t)=>e[1]-t[1]))}const Vl=Cl();Object.fromEntries(Object.entries(Vl).map(([o,e])=>[o,1/e]));function Fl(o,e,t=0,n=8){if(!xo[o]&&xo[o]!==0)throw new Error(`Unknown root note: ${o}`);const r=[...typeof e=="string"?Ja[e]:e],s=xo[o],a=[],l=[],c=[];for(let h=t;h<=n;h++)r.forEach(p=>{const _=h*12+(s+p)%12;_<Ps.length&&(a.push(Ps[_]),l.push(Ml[_]),c.push(Wa[_]))});return{rootIdx:s,frequencies:a,periodsInSec:l,scalePattern:r,noteNames:c}}function Nl(o,e){const t=Math.pow(2,e/12);return o.map(n=>n/t)}function ne(o,e,t){if(!o){const n=t?`
Context: ${JSON.stringify(t)}`:"";throw new Error(`Assertion failed${e?`: ${e}`:""}${n}`)}}function Kl(o){return typeof o=="object"&&o!==null&&typeof o.then=="function"}async function wt(o,e,t=!0){if(typeof o!="function")throw new Error("tryCatch argument must be a function");try{const n=o();if(Kl(n))try{return{data:await n,error:null}}catch(r){return Fa(r,e,t)}return{data:n,error:null}}catch(n){return Fa(n,e,t)}}function Fa(o,e,t=!0){if(t){const n=e?`${e}: ${o.message??o}`:o.message??o;console.error(n)}return{data:null,error:o}}var pr;class Ll{constructor(){S(this,pr,null);try{if(typeof window>"u"||typeof AudioContext>"u"){console.error("Environment util: Window or AudioContext is undefined");return}const e=window.AudioContext||window.webkitAudioContext,t=new e,n=t.createGain().gain,r=typeof navigator<"u"&&"keyboard"in navigator,s=typeof KeyboardEvent<"u"&&typeof KeyboardEvent.prototype.getModifierState=="function";y(this,pr,{cancelAndHoldSupported:typeof n.cancelAndHoldAtTime=="function",workletSupported:typeof t.audioWorklet=="object",keyboardAPISupported:r,modifierStateSupported:s}),t.close().catch(console.error)}catch{y(this,pr,{cancelAndHoldSupported:!1,workletSupported:!1,keyboardAPISupported:!1,modifierStateSupported:!1})}}get capabilities(){return i(this,pr)}}pr=new WeakMap;const cr=new Ll,jl=()=>{var o;return!!((o=cr==null?void 0:cr.capabilities)!=null&&o.cancelAndHoldSupported)},ql=()=>{var o;return!!((o=cr==null?void 0:cr.capabilities)!=null&&o.modifierStateSupported)};function ri(o,e,t){(Array.isArray(o)?o:[o]).forEach(n=>{jl()?n.cancelAndHoldAtTime(e):(n.cancelScheduledValues(e),n.setValueAtTime(n.value,e))})}function ms(o,e,t="any",n=s=>s,r=(s,a)=>Math.abs(s-a)){if(o.length===0)throw new Error("Array cannot be empty");if(o.length===1)return 0;const s=e,a=n(o[0]),l=n(o[o.length-1]);if(s<=a)return 0;if(s>=l)return o.length-1;let c=0,h=o.length-1;for(;c<h-1;){const w=Math.floor((c+h)/2),u=n(o[w]);if(u===s)return w;u<s?c=w:h=w}if(t==="left")return c;if(t==="right")return h;const p=r(n(o[c]),s),_=r(n(o[h]),s);return p<=_?c:h}function ko(o,e,t,n,r){return(o-e)/(t-e)*(r-n)+n}const Ul=1e-4;function Gl(o,e=Ul){const t=o.getChannelData(0),n=o.sampleRate,r=[];for(let s=1;s<t.length;s++)if(Math.abs(t[s])<e)r.push(s/n);else if(Math.sign(t[s])!==Math.sign(t[s-1])){const a=-t[s-1]/(t[s]-t[s-1]),l=(s-1+a)/n;r.push(l)}return r}const Io=o=>{const e=o.values().next();if(!e.done)return o.delete(e.value),e.value};let Mt=null,hr=null;function ct(o){return Mt||(Mt=new AudioContext({sampleRate:Ni.sampleRate,latencyHint:"interactive"}),Mt.state==="suspended"&&(hr=hr||_a())),Mt}async function Vo(o){const e=ct();if(e.state==="running")return e;if(e.state==="closed"){Mt=null;const t=await wt(()=>Vo(o));return ne(t.data instanceof AudioContext&&!t.error,"failed to re-created closed audio context",t.error),t.data}return hr=hr||_a(),await hr,e}function _a(){if(typeof document>"u")return Promise.resolve();const o=["click","touchstart","keydown"];return new Promise(e=>{const t=async()=>{Mt&&(await Mt.resume(),o.forEach(n=>document.removeEventListener(n,t)),e())};o.forEach(n=>document.addEventListener(n,t,{once:!0}))})}function zl(){Mt&&Mt.close().catch(o=>{console.warn("[GlobalAudioContext] close() failed",o)}).then(()=>{Mt=null,hr=null})}let Hl=-1;const No=[],Ct=o=>{const e=`${++Hl}-${o}`;return No.push(e),e},pn=o=>{const e=No.indexOf(o);e>-1?No.splice(e,1):console.warn("Node ID not found: ",o)};function Ht(o){const e=new Map;return{sendMessage(t,n){const r=e.get(t);if(r){const s={type:t,senderId:o,...n};r.forEach(a=>a(s))}},onMessage(t,n){e.has(t)||e.set(t,new Set);const r=e.get(t);return r.add(n),()=>r.delete(n)},forwardFrom(t,n,r){const s=r||(l=>({...l})),a=n.map(l=>t.onMessage(l,c=>{const h=s(c);h!==null&&this.sendMessage(h.type,h)}));return()=>a.forEach(l=>l())}}}var Xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zl(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var vs={exports:{}},Wl=vs.exports,Na;function Jl(){return Na||(Na=1,function(o,e){(function(t,n){o.exports=n()})(Wl,function(){var t=function(d,f){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,$){m.__proto__=$}||function(m,$){for(var T in $)Object.prototype.hasOwnProperty.call($,T)&&(m[T]=$[T])})(d,f)},n=function(){return(n=Object.assign||function(d){for(var f,m=1,$=arguments.length;m<$;m++)for(var T in f=arguments[m])Object.prototype.hasOwnProperty.call(f,T)&&(d[T]=f[T]);return d}).apply(this,arguments)};function r(d,f,m){for(var $,T=0,A=f.length;T<A;T++)!$&&T in f||(($=$||Array.prototype.slice.call(f,0,T))[T]=f[T]);return d.concat($||Array.prototype.slice.call(f))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Xl,a=Object.keys,l=Array.isArray;function c(d,f){return typeof f!="object"||a(f).forEach(function(m){d[m]=f[m]}),d}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var h=Object.getPrototypeOf,p={}.hasOwnProperty;function _(d,f){return p.call(d,f)}function w(d,f){typeof f=="function"&&(f=f(h(d))),(typeof Reflect>"u"?a:Reflect.ownKeys)(f).forEach(function(m){P(d,m,f[m])})}var u=Object.defineProperty;function P(d,f,m,$){u(d,f,c(m&&_(m,"get")&&typeof m.get=="function"?{get:m.get,set:m.set,configurable:!0}:{value:m,configurable:!0,writable:!0},$))}function b(d){return{from:function(f){return d.prototype=Object.create(f.prototype),P(d.prototype,"constructor",d),{extend:w.bind(null,d.prototype)}}}}var k=Object.getOwnPropertyDescriptor,E=[].slice;function R(d,f,m){return E.call(d,f,m)}function L(d,f){return f(d)}function C(d){if(!d)throw new Error("Assertion Failed")}function M(d){s.setImmediate?setImmediate(d):setTimeout(d,0)}function N(d,f){if(typeof f=="string"&&_(d,f))return d[f];if(!f)return d;if(typeof f!="string"){for(var m=[],$=0,T=f.length;$<T;++$){var A=N(d,f[$]);m.push(A)}return m}var O=f.indexOf(".");if(O!==-1){var W=d[f.substr(0,O)];return W==null?void 0:N(W,f.substr(O+1))}}function F(d,f,m){if(d&&f!==void 0&&!("isFrozen"in Object&&Object.isFrozen(d)))if(typeof f!="string"&&"length"in f){C(typeof m!="string"&&"length"in m);for(var $=0,T=f.length;$<T;++$)F(d,f[$],m[$])}else{var A,O,W=f.indexOf(".");W!==-1?(A=f.substr(0,W),(O=f.substr(W+1))===""?m===void 0?l(d)&&!isNaN(parseInt(A))?d.splice(A,1):delete d[A]:d[A]=m:F(W=!(W=d[A])||!_(d,A)?d[A]={}:W,O,m)):m===void 0?l(d)&&!isNaN(parseInt(f))?d.splice(f,1):delete d[f]:d[f]=m}}function I(d){var f,m={};for(f in d)_(d,f)&&(m[f]=d[f]);return m}var V=[].concat;function Ie(d){return V.apply([],d)}var yn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ie([8,16,32,64].map(function(d){return["Int","Uint","Float"].map(function(f){return f+d+"Array"})}))).filter(function(d){return s[d]}),le=new Set(yn.map(function(d){return s[d]})),Ae=null;function se(d){return Ae=new WeakMap,d=function f(m){if(!m||typeof m!="object")return m;var $=Ae.get(m);if($)return $;if(l(m)){$=[],Ae.set(m,$);for(var T=0,A=m.length;T<A;++T)$.push(f(m[T]))}else if(le.has(m.constructor))$=m;else{var O,W=h(m);for(O in $=W===Object.prototype?{}:Object.create(W),Ae.set(m,$),m)_(m,O)&&($[O]=f(m[O]))}return $}(d),Ae=null,d}var Wt={}.toString;function Rt(d){return Wt.call(d).slice(8,-1)}var Ve=typeof Symbol<"u"?Symbol.iterator:"@@iterator",_t=typeof Ve=="symbol"?function(d){var f;return d!=null&&(f=d[Ve])&&f.apply(d)}:function(){return null};function $i(d,f){return f=d.indexOf(f),0<=f&&d.splice(f,1),0<=f}var mn={};function At(d){var f,m,$,T;if(arguments.length===1){if(l(d))return d.slice();if(this===mn&&typeof d=="string")return[d];if(T=_t(d)){for(m=[];!($=T.next()).done;)m.push($.value);return m}if(d==null)return[d];if(typeof(f=d.length)!="number")return[d];for(m=new Array(f);f--;)m[f]=d[f];return m}for(f=arguments.length,m=new Array(f);f--;)m[f]=arguments[f];return m}var je=typeof Symbol<"u"?function(d){return d[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Qr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Yr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Qr),Me={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ye(d,f){this.name=d,this.message=f}function Fe(d,f){return d+". Errors: "+Object.keys(f).map(function(m){return f[m].toString()}).filter(function(m,$,T){return T.indexOf(m)===$}).join(`
`)}function zi(d,f,m,$){this.failures=f,this.failedKeys=$,this.successCount=m,this.message=Fe(d,f)}function Gi(d,f){this.name="BulkError",this.failures=Object.keys(f).map(function(m){return f[m]}),this.failuresByPos=f,this.message=Fe(d,this.failures)}b(Ye).from(Error).extend({toString:function(){return this.name+": "+this.message}}),b(zi).from(Ye),b(Gi).from(Ye);var An=Yr.reduce(function(d,f){return d[f]=f+"Error",d},{}),Wi=Ye,_i=Yr.reduce(function(d,f){var m=f+"Error";function $(T,A){this.name=m,T?typeof T=="string"?(this.message="".concat(T).concat(A?`
 `+A:""),this.inner=A||null):typeof T=="object"&&(this.message="".concat(T.name," ").concat(T.message),this.inner=T):(this.message=Me[f]||m,this.inner=null)}return b($).from(Wi),d[f]=$,d},{});_i.Syntax=SyntaxError,_i.Type=TypeError,_i.Range=RangeError;var tn=Qr.reduce(function(d,f){return d[f+"Error"]=_i[f],d},{}),kn=Yr.reduce(function(d,f){return["Syntax","Type","Range"].indexOf(f)===-1&&(d[f+"Error"]=_i[f]),d},{});function Ui(){}function rr(d){return d}function Hi(d,f){return d==null||d===rr?f:function(m){return f(d(m))}}function Zt(d,f){return function(){d.apply(this,arguments),f.apply(this,arguments)}}function _s(d,f){return d===Ui?f:function(){var m=d.apply(this,arguments);m!==void 0&&(arguments[0]=m);var $=this.onsuccess,T=this.onerror;this.onsuccess=null,this.onerror=null;var A=f.apply(this,arguments);return $&&(this.onsuccess=this.onsuccess?Zt($,this.onsuccess):$),T&&(this.onerror=this.onerror?Zt(T,this.onerror):T),A!==void 0?A:m}}function wn(d,f){return d===Ui?f:function(){d.apply(this,arguments);var m=this.onsuccess,$=this.onerror;this.onsuccess=this.onerror=null,f.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?Zt(m,this.onsuccess):m),$&&(this.onerror=this.onerror?Zt($,this.onerror):$)}}function xn(d,f){return d===Ui?f:function(m){var $=d.apply(this,arguments);c(m,$);var T=this.onsuccess,A=this.onerror;return this.onsuccess=null,this.onerror=null,m=f.apply(this,arguments),T&&(this.onsuccess=this.onsuccess?Zt(T,this.onsuccess):T),A&&(this.onerror=this.onerror?Zt(A,this.onerror):A),$===void 0?m===void 0?void 0:m:c($,m)}}function is(d,f){return d===Ui?f:function(){return f.apply(this,arguments)!==!1&&d.apply(this,arguments)}}function qr(d,f){return d===Ui?f:function(){var m=d.apply(this,arguments);if(m&&typeof m.then=="function"){for(var $=this,T=arguments.length,A=new Array(T);T--;)A[T]=arguments[T];return m.then(function(){return f.apply($,A)})}return f.apply(this,arguments)}}kn.ModifyError=zi,kn.DexieError=Ye,kn.BulkError=Gi;var sr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function gn(d){sr=d}var Xr={},Gr=100,yn=typeof Promise>"u"?[]:function(){var d=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[d,h(d),d];var f=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[f,h(f),d]}(),Qr=yn[0],Yr=yn[1],yn=yn[2],Yr=Yr&&Yr.then,Sn=Qr&&Qr.constructor,Hr=!!yn,ns=function(d,f){ss.push([d,f]),us&&(queueMicrotask(U),us=!1)},Zr=!0,us=!0,Jr=[],Wr=[],rs=rr,ir={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ui,pgp:!1,env:{},finalize:Ui},Vt=ir,ss=[],tr=0,er=[];function yt(d){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var f=this._PSD=Vt;if(typeof d!="function"){if(d!==Xr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&os(this,this._value))}this._state=null,this._value=null,++f.ref,function m($,T){try{T(function(A){if($._state===null){if(A===$)throw new TypeError("A promise cannot be resolved with itself.");var O=$._lib&&G();A&&typeof A.then=="function"?m($,function(W,Y){A instanceof yt?A._then(W,Y):A.then(W,Y)}):($._state=!0,$._value=A,cs($)),O&&X()}},os.bind(null,$))}catch(A){os($,A)}}(this,d)}var bn={get:function(){var d=Vt,f=Ki;function m($,T){var A=this,O=!d.global&&(d!==Vt||f!==Ki),W=O&&!Ji(),Y=new yt(function(Q,J){K(A,new Ur(Ea($,d,O,W),Ea(T,d,O,W),Q,J,d))});return this._consoleTask&&(Y._consoleTask=this._consoleTask),Y}return m.prototype=Xr,m},set:function(d){P(this,"then",d&&d.prototype===Xr?bn:{get:function(){return d},set:bn.set})}};function Ur(d,f,m,$,T){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof f=="function"?f:null,this.resolve=m,this.reject=$,this.psd=T}function os(d,f){var m,$;Wr.push(f),d._state===null&&(m=d._lib&&G(),f=rs(f),d._state=!1,d._value=f,$=d,Jr.some(function(T){return T._value===$._value})||Jr.push($),cs(d),m&&X())}function cs(d){var f=d._listeners;d._listeners=[];for(var m=0,$=f.length;m<$;++m)K(d,f[m]);var T=d._PSD;--T.ref||T.finalize(),tr===0&&(++tr,ns(function(){--tr==0&&de()},[]))}function K(d,f){if(d._state!==null){var m=d._state?f.onFulfilled:f.onRejected;if(m===null)return(d._state?f.resolve:f.reject)(d._value);++f.psd.ref,++tr,ns(D,[m,d,f])}else d._listeners.push(f)}function D(d,f,m){try{var $,T=f._value;!f._state&&Wr.length&&(Wr=[]),$=sr&&f._consoleTask?f._consoleTask.run(function(){return d(T)}):d(T),f._state||Wr.indexOf(T)!==-1||function(A){for(var O=Jr.length;O;)if(Jr[--O]._value===A._value)return Jr.splice(O,1)}(f),m.resolve($)}catch(A){m.reject(A)}finally{--tr==0&&de(),--m.psd.ref||m.psd.finalize()}}function U(){$s(ir,function(){G()&&X()})}function G(){var d=Zr;return us=Zr=!1,d}function X(){var d,f,m;do for(;0<ss.length;)for(d=ss,ss=[],m=d.length,f=0;f<m;++f){var $=d[f];$[0].apply(null,$[1])}while(0<ss.length);us=Zr=!0}function de(){var d=Jr;Jr=[],d.forEach(function($){$._PSD.onunhandled.call(null,$._value,$)});for(var f=er.slice(0),m=f.length;m;)f[--m]()}function Ee(d){return new yt(Xr,!1,d)}function fe(d,f){var m=Vt;return function(){var $=G(),T=Vt;try{return Tn(m,!0),d.apply(this,arguments)}catch(A){f&&f(A)}finally{Tn(T,!1),$&&X()}}}w(yt.prototype,{then:bn,_then:function(d,f){K(this,new Ur(null,null,d,f,Vt))},catch:function(d){if(arguments.length===1)return this.then(null,d);var f=d,m=arguments[1];return typeof f=="function"?this.then(null,function($){return($ instanceof f?m:Ee)($)}):this.then(null,function($){return($&&$.name===f?m:Ee)($)})},finally:function(d){return this.then(function(f){return yt.resolve(d()).then(function(){return f})},function(f){return yt.resolve(d()).then(function(){return Ee(f)})})},timeout:function(d,f){var m=this;return d<1/0?new yt(function($,T){var A=setTimeout(function(){return T(new _i.Timeout(f))},d);m.then($,T).finally(clearTimeout.bind(null,A))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&P(yt.prototype,Symbol.toStringTag,"Dexie.Promise"),ir.env=_r(),w(yt,{all:function(){var d=At.apply(null,arguments).map(ji);return new yt(function(f,m){d.length===0&&f([]);var $=d.length;d.forEach(function(T,A){return yt.resolve(T).then(function(O){d[A]=O,--$||f(d)},m)})})},resolve:function(d){return d instanceof yt?d:d&&typeof d.then=="function"?new yt(function(f,m){d.then(f,m)}):new yt(Xr,!0,d)},reject:Ee,race:function(){var d=At.apply(null,arguments).map(ji);return new yt(function(f,m){d.map(function($){return yt.resolve($).then(f,m)})})},PSD:{get:function(){return Vt},set:function(d){return Vt=d}},totalEchoes:{get:function(){return Ki}},newPSD:rn,usePSD:$s,scheduler:{get:function(){return ns},set:function(d){ns=d}},rejectionMapper:{get:function(){return rs},set:function(d){rs=d}},follow:function(d,f){return new yt(function(m,$){return rn(function(T,A){var O=Vt;O.unhandleds=[],O.onunhandled=A,O.finalize=Zt(function(){var W,Y=this;W=function(){Y.unhandleds.length===0?T():A(Y.unhandleds[0])},er.push(function Q(){W(),er.splice(er.indexOf(Q),1)}),++tr,ns(function(){--tr==0&&de()},[])},O.finalize),d()},f,m,$)})}}),Sn&&(Sn.allSettled&&P(yt,"allSettled",function(){var d=At.apply(null,arguments).map(ji);return new yt(function(f){d.length===0&&f([]);var m=d.length,$=new Array(m);d.forEach(function(T,A){return yt.resolve(T).then(function(O){return $[A]={status:"fulfilled",value:O}},function(O){return $[A]={status:"rejected",reason:O}}).then(function(){return--m||f($)})})})}),Sn.any&&typeof AggregateError<"u"&&P(yt,"any",function(){var d=At.apply(null,arguments).map(ji);return new yt(function(f,m){d.length===0&&m(new AggregateError([]));var $=d.length,T=new Array($);d.forEach(function(A,O){return yt.resolve(A).then(function(W){return f(W)},function(W){T[O]=W,--$||m(new AggregateError(T))})})})}),Sn.withResolvers&&(yt.withResolvers=Sn.withResolvers));var De={awaits:0,echoes:0,id:0},ti=0,Xt=[],Li=0,Ki=0,Zi=0;function rn(d,f,m,$){var T=Vt,A=Object.create(T);return A.parent=T,A.ref=0,A.global=!1,A.id=++Zi,ir.env,A.env=Hr?{Promise:yt,PromiseProp:{value:yt,configurable:!0,writable:!0},all:yt.all,race:yt.race,allSettled:yt.allSettled,any:yt.any,resolve:yt.resolve,reject:yt.reject}:{},f&&c(A,f),++T.ref,A.finalize=function(){--this.parent.ref||this.parent.finalize()},$=$s(A,d,m,$),A.ref===0&&A.finalize(),$}function vn(){return De.id||(De.id=++ti),++De.awaits,De.echoes+=Gr,De.id}function Ji(){return!!De.awaits&&(--De.awaits==0&&(De.id=0),De.echoes=De.awaits*Gr,!0)}function ji(d){return De.echoes&&d&&d.constructor===Sn?(vn(),d.then(function(f){return Ji(),f},function(f){return Ji(),En(f)})):d}function $n(){var d=Xt[Xt.length-1];Xt.pop(),Tn(d,!1)}function Tn(d,f){var m,$=Vt;(f?!De.echoes||Li++&&d===Vt:!Li||--Li&&d===Vt)||queueMicrotask(f?(function(T){++Ki,De.echoes&&--De.echoes!=0||(De.echoes=De.awaits=De.id=0),Xt.push(Vt),Tn(T,!0)}).bind(null,d):$n),d!==Vt&&(Vt=d,$===ir&&(ir.env=_r()),Hr&&(m=ir.env.Promise,f=d.env,($.global||d.global)&&(Object.defineProperty(s,"Promise",f.PromiseProp),m.all=f.all,m.race=f.race,m.resolve=f.resolve,m.reject=f.reject,f.allSettled&&(m.allSettled=f.allSettled),f.any&&(m.any=f.any))))}function _r(){var d=s.Promise;return Hr?{Promise:d,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:d.all,race:d.race,allSettled:d.allSettled,any:d.any,resolve:d.resolve,reject:d.reject}:{}}function $s(d,f,m,$,T){var A=Vt;try{return Tn(d,!0),f(m,$,T)}finally{Tn(A,!1)}}function Ea(d,f,m,$){return typeof d!="function"?d:function(){var T=Vt;m&&vn(),Tn(f,!0);try{return d.apply(this,arguments)}finally{Tn(T,!1),$&&queueMicrotask(Ji)}}}function Eo(d){Promise===Sn&&De.echoes===0?Li===0?d():enqueueNativeMicroTask(d):setTimeout(d,0)}(""+Yr).indexOf("[native code]")===-1&&(vn=Ji=Ui);var En=yt.reject,Ls="ï¿¿",as="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ma="String expected.",Us=[],oo="__dbnames",Fo="readonly",ea="readwrite";function zs(d,f){return d?f?function(){return d.apply(this,arguments)&&f.apply(this,arguments)}:d:f}var Da={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ao(d){return typeof d!="string"||/\./.test(d)?function(f){return f}:function(f){return f[d]===void 0&&d in f&&delete(f=se(f))[d],f}}function Ca(){throw _i.Type()}function en(d,f){try{var m=Oa(d),$=Oa(f);if(m!==$)return m==="Array"?1:$==="Array"?-1:m==="binary"?1:$==="binary"?-1:m==="string"?1:$==="string"?-1:m==="Date"?1:$!=="Date"?NaN:-1;switch(m){case"number":case"Date":case"string":return f<d?1:d<f?-1:0;case"binary":return function(T,A){for(var O=T.length,W=A.length,Y=O<W?O:W,Q=0;Q<Y;++Q)if(T[Q]!==A[Q])return T[Q]<A[Q]?-1:1;return O===W?0:O<W?-1:1}(Ra(d),Ra(f));case"Array":return function(T,A){for(var O=T.length,W=A.length,Y=O<W?O:W,Q=0;Q<Y;++Q){var J=en(T[Q],A[Q]);if(J!==0)return J}return O===W?0:O<W?-1:1}(d,f)}}catch{}return NaN}function Oa(d){var f=typeof d;return f!="object"?f:ArrayBuffer.isView(d)?"binary":(d=Rt(d),d==="ArrayBuffer"?"binary":d)}function Ra(d){return d instanceof Uint8Array?d:ArrayBuffer.isView(d)?new Uint8Array(d.buffer,d.byteOffset,d.byteLength):new Uint8Array(d)}var Ia=(Pn.prototype._trans=function(d,f,m){var $=this._tx||Vt.trans,T=this.name,A=sr&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(d==="readonly"?"read":"write"," ").concat(this.name));function O(Q,J,j){if(!j.schema[T])throw new _i.NotFound("Table "+T+" not part of transaction");return f(j.idbtrans,j)}var W=G();try{var Y=$&&$.db._novip===this.db._novip?$===Vt.trans?$._promise(d,O,m):rn(function(){return $._promise(d,O,m)},{trans:$,transless:Vt.transless||Vt}):function Q(J,j,re,q){if(J.idbdb&&(J._state.openComplete||Vt.letThrough||J._vip)){var Z=J._createTransaction(j,re,J._dbSchema);try{Z.create(),J._state.PR1398_maxLoop=3}catch(ee){return ee.name===An.InvalidState&&J.isOpen()&&0<--J._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),J.close({disableAutoOpen:!1}),J.open().then(function(){return Q(J,j,re,q)})):En(ee)}return Z._promise(j,function(ee,H){return rn(function(){return Vt.trans=Z,q(ee,H,Z)})}).then(function(ee){if(j==="readwrite")try{Z.idbtrans.commit()}catch{}return j==="readonly"?ee:Z._completion.then(function(){return ee})})}if(J._state.openComplete)return En(new _i.DatabaseClosed(J._state.dbOpenError));if(!J._state.isBeingOpened){if(!J._state.autoOpen)return En(new _i.DatabaseClosed);J.open().catch(Ui)}return J._state.dbReadyPromise.then(function(){return Q(J,j,re,q)})}(this.db,d,[this.name],O);return A&&(Y._consoleTask=A,Y=Y.catch(function(Q){return console.trace(Q),En(Q)})),Y}finally{W&&X()}},Pn.prototype.get=function(d,f){var m=this;return d&&d.constructor===Object?this.where(d).first(f):d==null?En(new _i.Type("Invalid argument to Table.get()")):this._trans("readonly",function($){return m.core.get({trans:$,key:d}).then(function(T){return m.hook.reading.fire(T)})}).then(f)},Pn.prototype.where=function(d){if(typeof d=="string")return new this.db.WhereClause(this,d);if(l(d))return new this.db.WhereClause(this,"[".concat(d.join("+"),"]"));var f=a(d);if(f.length===1)return this.where(f[0]).equals(d[f[0]]);var m=this.schema.indexes.concat(this.schema.primKey).filter(function(W){if(W.compound&&f.every(function(Q){return 0<=W.keyPath.indexOf(Q)})){for(var Y=0;Y<f.length;++Y)if(f.indexOf(W.keyPath[Y])===-1)return!1;return!0}return!1}).sort(function(W,Y){return W.keyPath.length-Y.keyPath.length})[0];if(m&&this.db._maxKey!==Ls){var A=m.keyPath.slice(0,f.length);return this.where(A).equals(A.map(function(Y){return d[Y]}))}!m&&sr&&console.warn("The query ".concat(JSON.stringify(d)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(f.join("+"),"]"));var $=this.schema.idxByName;function T(W,Y){return en(W,Y)===0}var O=f.reduce(function(j,Y){var Q=j[0],J=j[1],j=$[Y],re=d[Y];return[Q||j,Q||!j?zs(J,j&&j.multi?function(q){return q=N(q,Y),l(q)&&q.some(function(Z){return T(re,Z)})}:function(q){return T(re,N(q,Y))}):J]},[null,null]),A=O[0],O=O[1];return A?this.where(A.name).equals(d[A.keyPath]).filter(O):m?this.filter(O):this.where(f).equals("")},Pn.prototype.filter=function(d){return this.toCollection().and(d)},Pn.prototype.count=function(d){return this.toCollection().count(d)},Pn.prototype.offset=function(d){return this.toCollection().offset(d)},Pn.prototype.limit=function(d){return this.toCollection().limit(d)},Pn.prototype.each=function(d){return this.toCollection().each(d)},Pn.prototype.toArray=function(d){return this.toCollection().toArray(d)},Pn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Pn.prototype.orderBy=function(d){return new this.db.Collection(new this.db.WhereClause(this,l(d)?"[".concat(d.join("+"),"]"):d))},Pn.prototype.reverse=function(){return this.toCollection().reverse()},Pn.prototype.mapToClass=function(d){var f,m=this.db,$=this.name;function T(){return f!==null&&f.apply(this,arguments)||this}(this.schema.mappedClass=d).prototype instanceof Ca&&(function(Y,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");function J(){this.constructor=Y}t(Y,Q),Y.prototype=Q===null?Object.create(Q):(J.prototype=Q.prototype,new J)}(T,f=d),Object.defineProperty(T.prototype,"db",{get:function(){return m},enumerable:!1,configurable:!0}),T.prototype.table=function(){return $},d=T);for(var A=new Set,O=d.prototype;O;O=h(O))Object.getOwnPropertyNames(O).forEach(function(Y){return A.add(Y)});function W(Y){if(!Y)return Y;var Q,J=Object.create(d.prototype);for(Q in Y)if(!A.has(Q))try{J[Q]=Y[Q]}catch{}return J}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=W,this.hook("reading",W),d},Pn.prototype.defineClass=function(){return this.mapToClass(function(d){c(this,d)})},Pn.prototype.add=function(d,f){var m=this,$=this.schema.primKey,T=$.auto,A=$.keyPath,O=d;return A&&T&&(O=ao(A)(d)),this._trans("readwrite",function(W){return m.core.mutate({trans:W,type:"add",keys:f!=null?[f]:null,values:[O]})}).then(function(W){return W.numFailures?yt.reject(W.failures[0]):W.lastResult}).then(function(W){if(A)try{F(d,A,W)}catch{}return W})},Pn.prototype.update=function(d,f){return typeof d!="object"||l(d)?this.where(":id").equals(d).modify(f):(d=N(d,this.schema.primKey.keyPath),d===void 0?En(new _i.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(f))},Pn.prototype.put=function(d,f){var m=this,$=this.schema.primKey,T=$.auto,A=$.keyPath,O=d;return A&&T&&(O=ao(A)(d)),this._trans("readwrite",function(W){return m.core.mutate({trans:W,type:"put",values:[O],keys:f!=null?[f]:null})}).then(function(W){return W.numFailures?yt.reject(W.failures[0]):W.lastResult}).then(function(W){if(A)try{F(d,A,W)}catch{}return W})},Pn.prototype.delete=function(d){var f=this;return this._trans("readwrite",function(m){return f.core.mutate({trans:m,type:"delete",keys:[d]})}).then(function(m){return m.numFailures?yt.reject(m.failures[0]):void 0})},Pn.prototype.clear=function(){var d=this;return this._trans("readwrite",function(f){return d.core.mutate({trans:f,type:"deleteRange",range:Da})}).then(function(f){return f.numFailures?yt.reject(f.failures[0]):void 0})},Pn.prototype.bulkGet=function(d){var f=this;return this._trans("readonly",function(m){return f.core.getMany({keys:d,trans:m}).then(function($){return $.map(function(T){return f.hook.reading.fire(T)})})})},Pn.prototype.bulkAdd=function(d,f,m){var $=this,T=Array.isArray(f)?f:void 0,A=(m=m||(T?void 0:f))?m.allKeys:void 0;return this._trans("readwrite",function(O){var Q=$.schema.primKey,W=Q.auto,Q=Q.keyPath;if(Q&&T)throw new _i.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(T&&T.length!==d.length)throw new _i.InvalidArgument("Arguments objects and keys must have the same length");var Y=d.length,Q=Q&&W?d.map(ao(Q)):d;return $.core.mutate({trans:O,type:"add",keys:T,values:Q,wantResults:A}).then(function(Z){var j=Z.numFailures,re=Z.results,q=Z.lastResult,Z=Z.failures;if(j===0)return A?re:q;throw new Gi("".concat($.name,".bulkAdd(): ").concat(j," of ").concat(Y," operations failed"),Z)})})},Pn.prototype.bulkPut=function(d,f,m){var $=this,T=Array.isArray(f)?f:void 0,A=(m=m||(T?void 0:f))?m.allKeys:void 0;return this._trans("readwrite",function(O){var Q=$.schema.primKey,W=Q.auto,Q=Q.keyPath;if(Q&&T)throw new _i.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(T&&T.length!==d.length)throw new _i.InvalidArgument("Arguments objects and keys must have the same length");var Y=d.length,Q=Q&&W?d.map(ao(Q)):d;return $.core.mutate({trans:O,type:"put",keys:T,values:Q,wantResults:A}).then(function(Z){var j=Z.numFailures,re=Z.results,q=Z.lastResult,Z=Z.failures;if(j===0)return A?re:q;throw new Gi("".concat($.name,".bulkPut(): ").concat(j," of ").concat(Y," operations failed"),Z)})})},Pn.prototype.bulkUpdate=function(d){var f=this,m=this.core,$=d.map(function(O){return O.key}),T=d.map(function(O){return O.changes}),A=[];return this._trans("readwrite",function(O){return m.getMany({trans:O,keys:$,cache:"clone"}).then(function(W){var Y=[],Q=[];d.forEach(function(j,re){var q=j.key,Z=j.changes,ee=W[re];if(ee){for(var H=0,ae=Object.keys(Z);H<ae.length;H++){var ce=ae[H],he=Z[ce];if(ce===f.schema.primKey.keyPath){if(en(he,q)!==0)throw new _i.Constraint("Cannot update primary key in bulkUpdate()")}else F(ee,ce,he)}A.push(re),Y.push(q),Q.push(ee)}});var J=Y.length;return m.mutate({trans:O,type:"put",keys:Y,values:Q,updates:{keys:$,changeSpecs:T}}).then(function(j){var re=j.numFailures,q=j.failures;if(re===0)return J;for(var Z=0,ee=Object.keys(q);Z<ee.length;Z++){var H,ae=ee[Z],ce=A[Number(ae)];ce!=null&&(H=q[ae],delete q[ae],q[ce]=H)}throw new Gi("".concat(f.name,".bulkUpdate(): ").concat(re," of ").concat(J," operations failed"),q)})})})},Pn.prototype.bulkDelete=function(d){var f=this,m=d.length;return this._trans("readwrite",function($){return f.core.mutate({trans:$,type:"delete",keys:d})}).then(function(O){var T=O.numFailures,A=O.lastResult,O=O.failures;if(T===0)return A;throw new Gi("".concat(f.name,".bulkDelete(): ").concat(T," of ").concat(m," operations failed"),O)})},Pn);function Pn(){}function Qs(d){function f(O,W){if(W){for(var Y=arguments.length,Q=new Array(Y-1);--Y;)Q[Y-1]=arguments[Y];return m[O].subscribe.apply(null,Q),d}if(typeof O=="string")return m[O]}var m={};f.addEventType=A;for(var $=1,T=arguments.length;$<T;++$)A(arguments[$]);return f;function A(O,W,Y){if(typeof O!="object"){var Q;W=W||is;var J={subscribers:[],fire:Y=Y||Ui,subscribe:function(j){J.subscribers.indexOf(j)===-1&&(J.subscribers.push(j),J.fire=W(J.fire,j))},unsubscribe:function(j){J.subscribers=J.subscribers.filter(function(re){return re!==j}),J.fire=J.subscribers.reduce(W,Y)}};return m[O]=f[O]=J}a(Q=O).forEach(function(j){var re=Q[j];if(l(re))A(j,Q[j][0],Q[j][1]);else{if(re!=="asap")throw new _i.InvalidArgument("Invalid event config");var q=A(j,rr,function(){for(var Z=arguments.length,ee=new Array(Z);Z--;)ee[Z]=arguments[Z];q.subscribers.forEach(function(H){M(function(){H.apply(null,ee)})})})}})}}function Hs(d,f){return b(f).from({prototype:d}),f}function js(d,f){return!(d.filter||d.algorithm||d.or)&&(f?d.justLimit:!d.replayFilter)}function ta(d,f){d.filter=zs(d.filter,f)}function ia(d,f,m){var $=d.replayFilter;d.replayFilter=$?function(){return zs($(),f())}:f,d.justLimit=m&&!$}function lo(d,f){if(d.isPrimKey)return f.primaryKey;var m=f.getIndexByKeyPath(d.index);if(!m)throw new _i.Schema("KeyPath "+d.index+" on object store "+f.name+" is not indexed");return m}function el(d,f,m){var $=lo(d,f.schema);return f.openCursor({trans:m,values:!d.keysOnly,reverse:d.dir==="prev",unique:!!d.unique,query:{index:$,range:d.range}})}function uo(d,f,m,$){var T=d.replayFilter?zs(d.filter,d.replayFilter()):d.filter;if(d.or){var A={},O=function(W,Y,Q){var J,j;T&&!T(Y,Q,function(re){return Y.stop(re)},function(re){return Y.fail(re)})||((j=""+(J=Y.primaryKey))=="[object ArrayBuffer]"&&(j=""+new Uint8Array(J)),_(A,j)||(A[j]=!0,f(W,Y,Q)))};return Promise.all([d.or._iterate(O,m),tl(el(d,$,m),d.algorithm,O,!d.keysOnly&&d.valueMapper)])}return tl(el(d,$,m),zs(d.algorithm,T),f,!d.keysOnly&&d.valueMapper)}function tl(d,f,m,$){var T=fe($?function(A,O,W){return m($(A),O,W)}:m);return d.then(function(A){if(A)return A.start(function(){var O=function(){return A.continue()};f&&!f(A,function(W){return O=W},function(W){A.stop(W),O=Ui},function(W){A.fail(W),O=Ui})||T(A.value,A,function(W){return O=W}),O()})})}var Zs=(il.prototype.execute=function(d){var f=this["@@propmod"];if(f.add!==void 0){var m=f.add;if(l(m))return r(r([],l(d)?d:[],!0),m).sort();if(typeof m=="number")return(Number(d)||0)+m;if(typeof m=="bigint")try{return BigInt(d)+m}catch{return BigInt(0)+m}throw new TypeError("Invalid term ".concat(m))}if(f.remove!==void 0){var $=f.remove;if(l($))return l(d)?d.filter(function(T){return!$.includes(T)}).sort():[];if(typeof $=="number")return Number(d)-$;if(typeof $=="bigint")try{return BigInt(d)-$}catch{return BigInt(0)-$}throw new TypeError("Invalid subtrahend ".concat($))}return m=(m=f.replacePrefix)===null||m===void 0?void 0:m[0],m&&typeof d=="string"&&d.startsWith(m)?f.replacePrefix[1]+d.substring(m.length):d},il);function il(d){this["@@propmod"]=d}var ru=(nn.prototype._read=function(d,f){var m=this._ctx;return m.error?m.table._trans(null,En.bind(null,m.error)):m.table._trans("readonly",d).then(f)},nn.prototype._write=function(d){var f=this._ctx;return f.error?f.table._trans(null,En.bind(null,f.error)):f.table._trans("readwrite",d,"locked")},nn.prototype._addAlgorithm=function(d){var f=this._ctx;f.algorithm=zs(f.algorithm,d)},nn.prototype._iterate=function(d,f){return uo(this._ctx,d,f,this._ctx.table.core)},nn.prototype.clone=function(d){var f=Object.create(this.constructor.prototype),m=Object.create(this._ctx);return d&&c(m,d),f._ctx=m,f},nn.prototype.raw=function(){return this._ctx.valueMapper=null,this},nn.prototype.each=function(d){var f=this._ctx;return this._read(function(m){return uo(f,d,m,f.table.core)})},nn.prototype.count=function(d){var f=this;return this._read(function(m){var $=f._ctx,T=$.table.core;if(js($,!0))return T.count({trans:m,query:{index:lo($,T.schema),range:$.range}}).then(function(O){return Math.min(O,$.limit)});var A=0;return uo($,function(){return++A,!1},m,T).then(function(){return A})}).then(d)},nn.prototype.sortBy=function(d,f){var m=d.split(".").reverse(),$=m[0],T=m.length-1;function A(Y,Q){return Q?A(Y[m[Q]],Q-1):Y[$]}var O=this._ctx.dir==="next"?1:-1;function W(Y,Q){return en(A(Y,T),A(Q,T))*O}return this.toArray(function(Y){return Y.sort(W)}).then(f)},nn.prototype.toArray=function(d){var f=this;return this._read(function(m){var $=f._ctx;if($.dir==="next"&&js($,!0)&&0<$.limit){var T=$.valueMapper,A=lo($,$.table.core.schema);return $.table.core.query({trans:m,limit:$.limit,values:!0,query:{index:A,range:$.range}}).then(function(W){return W=W.result,T?W.map(T):W})}var O=[];return uo($,function(W){return O.push(W)},m,$.table.core).then(function(){return O})},d)},nn.prototype.offset=function(d){var f=this._ctx;return d<=0||(f.offset+=d,js(f)?ia(f,function(){var m=d;return function($,T){return m===0||(m===1?--m:T(function(){$.advance(m),m=0}),!1)}}):ia(f,function(){var m=d;return function(){return--m<0}})),this},nn.prototype.limit=function(d){return this._ctx.limit=Math.min(this._ctx.limit,d),ia(this._ctx,function(){var f=d;return function(m,$,T){return--f<=0&&$(T),0<=f}},!0),this},nn.prototype.until=function(d,f){return ta(this._ctx,function(m,$,T){return!d(m.value)||($(T),f)}),this},nn.prototype.first=function(d){return this.limit(1).toArray(function(f){return f[0]}).then(d)},nn.prototype.last=function(d){return this.reverse().first(d)},nn.prototype.filter=function(d){var f;return ta(this._ctx,function(m){return d(m.value)}),(f=this._ctx).isMatch=zs(f.isMatch,d),this},nn.prototype.and=function(d){return this.filter(d)},nn.prototype.or=function(d){return new this.db.WhereClause(this._ctx.table,d,this)},nn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},nn.prototype.desc=function(){return this.reverse()},nn.prototype.eachKey=function(d){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(m,$){d($.key,$)})},nn.prototype.eachUniqueKey=function(d){return this._ctx.unique="unique",this.eachKey(d)},nn.prototype.eachPrimaryKey=function(d){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(m,$){d($.primaryKey,$)})},nn.prototype.keys=function(d){var f=this._ctx;f.keysOnly=!f.isMatch;var m=[];return this.each(function($,T){m.push(T.key)}).then(function(){return m}).then(d)},nn.prototype.primaryKeys=function(d){var f=this._ctx;if(f.dir==="next"&&js(f,!0)&&0<f.limit)return this._read(function($){var T=lo(f,f.table.core.schema);return f.table.core.query({trans:$,values:!1,limit:f.limit,query:{index:T,range:f.range}})}).then(function($){return $.result}).then(d);f.keysOnly=!f.isMatch;var m=[];return this.each(function($,T){m.push(T.primaryKey)}).then(function(){return m}).then(d)},nn.prototype.uniqueKeys=function(d){return this._ctx.unique="unique",this.keys(d)},nn.prototype.firstKey=function(d){return this.limit(1).keys(function(f){return f[0]}).then(d)},nn.prototype.lastKey=function(d){return this.reverse().firstKey(d)},nn.prototype.distinct=function(){var d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];if(!d||!d.multi)return this;var f={};return ta(this._ctx,function(T){var $=T.primaryKey.toString(),T=_(f,$);return f[$]=!0,!T}),this},nn.prototype.modify=function(d){var f=this,m=this._ctx;return this._write(function($){var T,A,O;O=typeof d=="function"?d:(T=a(d),A=T.length,function(H){for(var ae=!1,ce=0;ce<A;++ce){var he=T[ce],we=d[he],He=N(H,he);we instanceof Zs?(F(H,he,we.execute(He)),ae=!0):He!==we&&(F(H,he,we),ae=!0)}return ae});var W=m.table.core,j=W.schema.primaryKey,Y=j.outbound,Q=j.extractKey,J=200,j=f.db._options.modifyChunkSize;j&&(J=typeof j=="object"?j[W.name]||j["*"]||200:j);function re(H,he){var ce=he.failures,he=he.numFailures;Z+=H-he;for(var we=0,He=a(ce);we<He.length;we++){var $t=He[we];q.push(ce[$t])}}var q=[],Z=0,ee=[];return f.clone().primaryKeys().then(function(H){function ae(he){var we=Math.min(J,H.length-he);return W.getMany({trans:$,keys:H.slice(he,he+we),cache:"immutable"}).then(function(He){for(var $t=[],et=[],vt=Y?[]:null,Bt=[],bt=0;bt<we;++bt){var ei=He[bt],qi={value:se(ei),primKey:H[he+bt]};O.call(qi,qi.value,qi)!==!1&&(qi.value==null?Bt.push(H[he+bt]):Y||en(Q(ei),Q(qi.value))===0?(et.push(qi.value),Y&&vt.push(H[he+bt])):(Bt.push(H[he+bt]),$t.push(qi.value)))}return Promise.resolve(0<$t.length&&W.mutate({trans:$,type:"add",values:$t}).then(function(Xi){for(var Qi in Xi.failures)Bt.splice(parseInt(Qi),1);re($t.length,Xi)})).then(function(){return(0<et.length||ce&&typeof d=="object")&&W.mutate({trans:$,type:"put",keys:vt,values:et,criteria:ce,changeSpec:typeof d!="function"&&d,isAdditionalChunk:0<he}).then(function(Xi){return re(et.length,Xi)})}).then(function(){return(0<Bt.length||ce&&d===na)&&W.mutate({trans:$,type:"delete",keys:Bt,criteria:ce,isAdditionalChunk:0<he}).then(function(Xi){return re(Bt.length,Xi)})}).then(function(){return H.length>he+we&&ae(he+J)})})}var ce=js(m)&&m.limit===1/0&&(typeof d!="function"||d===na)&&{index:m.index,range:m.range};return ae(0).then(function(){if(0<q.length)throw new zi("Error modifying one or more objects",q,Z,ee);return H.length})})})},nn.prototype.delete=function(){var d=this._ctx,f=d.range;return js(d)&&(d.isPrimKey||f.type===3)?this._write(function(m){var $=d.table.core.schema.primaryKey,T=f;return d.table.core.count({trans:m,query:{index:$,range:T}}).then(function(A){return d.table.core.mutate({trans:m,type:"deleteRange",range:T}).then(function(O){var W=O.failures;if(O.lastResult,O.results,O=O.numFailures,O)throw new zi("Could not delete some values",Object.keys(W).map(function(Y){return W[Y]}),A-O);return A-O})})}):this.modify(na)},nn);function nn(){}var na=function(d,f){return f.value=null};function _u(d,f){return d<f?-1:d===f?0:1}function $u(d,f){return f<d?-1:d===f?0:1}function $r(d,f,m){return d=d instanceof rl?new d.Collection(d):d,d._ctx.error=new(m||TypeError)(f),d}function Ys(d){return new d.Collection(d,function(){return nl("")}).limit(0)}function co(d,f,m,$){var T,A,O,W,Y,Q,J,j=m.length;if(!m.every(function(Z){return typeof Z=="string"}))return $r(d,Ma);function re(Z){T=Z==="next"?function(H){return H.toUpperCase()}:function(H){return H.toLowerCase()},A=Z==="next"?function(H){return H.toLowerCase()}:function(H){return H.toUpperCase()},O=Z==="next"?_u:$u;var ee=m.map(function(H){return{lower:A(H),upper:T(H)}}).sort(function(H,ae){return O(H.lower,ae.lower)});W=ee.map(function(H){return H.upper}),Y=ee.map(function(H){return H.lower}),J=(Q=Z)==="next"?"":$}re("next"),d=new d.Collection(d,function(){return hs(W[0],Y[j-1]+$)}),d._ondirectionchange=function(Z){re(Z)};var q=0;return d._addAlgorithm(function(Z,ee,H){var ae=Z.key;if(typeof ae!="string")return!1;var ce=A(ae);if(f(ce,Y,q))return!0;for(var he=null,we=q;we<j;++we){var He=function($t,et,vt,Bt,bt,ei){for(var qi=Math.min($t.length,Bt.length),Xi=-1,Qi=0;Qi<qi;++Qi){var zr=et[Qi];if(zr!==Bt[Qi])return bt($t[Qi],vt[Qi])<0?$t.substr(0,Qi)+vt[Qi]+vt.substr(Qi+1):bt($t[Qi],Bt[Qi])<0?$t.substr(0,Qi)+Bt[Qi]+vt.substr(Qi+1):0<=Xi?$t.substr(0,Xi)+et[Xi]+vt.substr(Xi+1):null;bt($t[Qi],zr)<0&&(Xi=Qi)}return qi<Bt.length&&ei==="next"?$t+vt.substr($t.length):qi<$t.length&&ei==="prev"?$t.substr(0,vt.length):Xi<0?null:$t.substr(0,Xi)+Bt[Xi]+vt.substr(Xi+1)}(ae,ce,W[we],Y[we],O,Q);He===null&&he===null?q=we+1:(he===null||0<O(he,He))&&(he=He)}return ee(he!==null?function(){Z.continue(he+J)}:H),!1}),d}function hs(d,f,m,$){return{type:2,lower:d,upper:f,lowerOpen:m,upperOpen:$}}function nl(d){return{type:1,lower:d,upper:d}}var rl=(Object.defineProperty(nr.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),nr.prototype.between=function(d,f,m,$){m=m!==!1,$=$===!0;try{return 0<this._cmp(d,f)||this._cmp(d,f)===0&&(m||$)&&(!m||!$)?Ys(this):new this.Collection(this,function(){return hs(d,f,!m,!$)})}catch{return $r(this,as)}},nr.prototype.equals=function(d){return d==null?$r(this,as):new this.Collection(this,function(){return nl(d)})},nr.prototype.above=function(d){return d==null?$r(this,as):new this.Collection(this,function(){return hs(d,void 0,!0)})},nr.prototype.aboveOrEqual=function(d){return d==null?$r(this,as):new this.Collection(this,function(){return hs(d,void 0,!1)})},nr.prototype.below=function(d){return d==null?$r(this,as):new this.Collection(this,function(){return hs(void 0,d,!1,!0)})},nr.prototype.belowOrEqual=function(d){return d==null?$r(this,as):new this.Collection(this,function(){return hs(void 0,d)})},nr.prototype.startsWith=function(d){return typeof d!="string"?$r(this,Ma):this.between(d,d+Ls,!0,!0)},nr.prototype.startsWithIgnoreCase=function(d){return d===""?this.startsWith(d):co(this,function(f,m){return f.indexOf(m[0])===0},[d],Ls)},nr.prototype.equalsIgnoreCase=function(d){return co(this,function(f,m){return f===m[0]},[d],"")},nr.prototype.anyOfIgnoreCase=function(){var d=At.apply(mn,arguments);return d.length===0?Ys(this):co(this,function(f,m){return m.indexOf(f)!==-1},d,"")},nr.prototype.startsWithAnyOfIgnoreCase=function(){var d=At.apply(mn,arguments);return d.length===0?Ys(this):co(this,function(f,m){return m.some(function($){return f.indexOf($)===0})},d,Ls)},nr.prototype.anyOf=function(){var d=this,f=At.apply(mn,arguments),m=this._cmp;try{f.sort(m)}catch{return $r(this,as)}if(f.length===0)return Ys(this);var $=new this.Collection(this,function(){return hs(f[0],f[f.length-1])});$._ondirectionchange=function(A){m=A==="next"?d._ascending:d._descending,f.sort(m)};var T=0;return $._addAlgorithm(function(A,O,W){for(var Y=A.key;0<m(Y,f[T]);)if(++T===f.length)return O(W),!1;return m(Y,f[T])===0||(O(function(){A.continue(f[T])}),!1)}),$},nr.prototype.notEqual=function(d){return this.inAnyRange([[-1/0,d],[d,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},nr.prototype.noneOf=function(){var d=At.apply(mn,arguments);if(d.length===0)return new this.Collection(this);try{d.sort(this._ascending)}catch{return $r(this,as)}var f=d.reduce(function(m,$){return m?m.concat([[m[m.length-1][1],$]]):[[-1/0,$]]},null);return f.push([d[d.length-1],this.db._maxKey]),this.inAnyRange(f,{includeLowers:!1,includeUppers:!1})},nr.prototype.inAnyRange=function(ae,f){var m=this,$=this._cmp,T=this._ascending,A=this._descending,O=this._min,W=this._max;if(ae.length===0)return Ys(this);if(!ae.every(function(ce){return ce[0]!==void 0&&ce[1]!==void 0&&T(ce[0],ce[1])<=0}))return $r(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",_i.InvalidArgument);var Y=!f||f.includeLowers!==!1,Q=f&&f.includeUppers===!0,J,j=T;function re(ce,he){return j(ce[0],he[0])}try{(J=ae.reduce(function(ce,he){for(var we=0,He=ce.length;we<He;++we){var $t=ce[we];if($(he[0],$t[1])<0&&0<$(he[1],$t[0])){$t[0]=O($t[0],he[0]),$t[1]=W($t[1],he[1]);break}}return we===He&&ce.push(he),ce},[])).sort(re)}catch{return $r(this,as)}var q=0,Z=Q?function(ce){return 0<T(ce,J[q][1])}:function(ce){return 0<=T(ce,J[q][1])},ee=Y?function(ce){return 0<A(ce,J[q][0])}:function(ce){return 0<=A(ce,J[q][0])},H=Z,ae=new this.Collection(this,function(){return hs(J[0][0],J[J.length-1][1],!Y,!Q)});return ae._ondirectionchange=function(ce){j=ce==="next"?(H=Z,T):(H=ee,A),J.sort(re)},ae._addAlgorithm(function(ce,he,we){for(var He,$t=ce.key;H($t);)if(++q===J.length)return he(we),!1;return!Z(He=$t)&&!ee(He)||(m._cmp($t,J[q][1])===0||m._cmp($t,J[q][0])===0||he(function(){j===T?ce.continue(J[q][0]):ce.continue(J[q][1])}),!1)}),ae},nr.prototype.startsWithAnyOf=function(){var d=At.apply(mn,arguments);return d.every(function(f){return typeof f=="string"})?d.length===0?Ys(this):this.inAnyRange(d.map(function(f){return[f,f+Ls]})):$r(this,"startsWithAnyOf() only works with strings")},nr);function nr(){}function es(d){return fe(function(f){return Js(f),d(f.target.error),!1})}function Js(d){d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault()}var eo="storagemutated",ra="x-storagemutated-1",ds=Qs(null,eo),Lu=(ts.prototype._lock=function(){return C(!Vt.global),++this._reculock,this._reculock!==1||Vt.global||(Vt.lockOwnerFor=this),this},ts.prototype._unlock=function(){if(C(!Vt.global),--this._reculock==0)for(Vt.global||(Vt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var d=this._blockedFuncs.shift();try{$s(d[1],d[0])}catch{}}return this},ts.prototype._locked=function(){return this._reculock&&Vt.lockOwnerFor!==this},ts.prototype.create=function(d){var f=this;if(!this.mode)return this;var m=this.db.idbdb,$=this.db._state.dbOpenError;if(C(!this.idbtrans),!d&&!m)switch($&&$.name){case"DatabaseClosedError":throw new _i.DatabaseClosed($);case"MissingAPIError":throw new _i.MissingAPI($.message,$);default:throw new _i.OpenFailed($)}if(!this.active)throw new _i.TransactionInactive;return C(this._completion._state===null),(d=this.idbtrans=d||(this.db.core||m).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=fe(function(T){Js(T),f._reject(d.error)}),d.onabort=fe(function(T){Js(T),f.active&&f._reject(new _i.Abort(d.error)),f.active=!1,f.on("abort").fire(T)}),d.oncomplete=fe(function(){f.active=!1,f._resolve(),"mutatedParts"in d&&ds.storagemutated.fire(d.mutatedParts)}),this},ts.prototype._promise=function(d,f,m){var $=this;if(d==="readwrite"&&this.mode!=="readwrite")return En(new _i.ReadOnly("Transaction is readonly"));if(!this.active)return En(new _i.TransactionInactive);if(this._locked())return new yt(function(A,O){$._blockedFuncs.push([function(){$._promise(d,f,m).then(A,O)},Vt])});if(m)return rn(function(){var A=new yt(function(O,W){$._lock();var Y=f(O,W,$);Y&&Y.then&&Y.then(O,W)});return A.finally(function(){return $._unlock()}),A._lib=!0,A});var T=new yt(function(A,O){var W=f(A,O,$);W&&W.then&&W.then(A,O)});return T._lib=!0,T},ts.prototype._root=function(){return this.parent?this.parent._root():this},ts.prototype.waitFor=function(d){var f,m=this._root(),$=yt.resolve(d);m._waitingFor?m._waitingFor=m._waitingFor.then(function(){return $}):(m._waitingFor=$,m._waitingQueue=[],f=m.idbtrans.objectStore(m.storeNames[0]),function A(){for(++m._spinCount;m._waitingQueue.length;)m._waitingQueue.shift()();m._waitingFor&&(f.get(-1/0).onsuccess=A)}());var T=m._waitingFor;return new yt(function(A,O){$.then(function(W){return m._waitingQueue.push(fe(A.bind(null,W)))},function(W){return m._waitingQueue.push(fe(O.bind(null,W)))}).finally(function(){m._waitingFor===T&&(m._waitingFor=null)})})},ts.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new _i.Abort))},ts.prototype.table=function(d){var f=this._memoizedTables||(this._memoizedTables={});if(_(f,d))return f[d];var m=this.schema[d];if(!m)throw new _i.NotFound("Table "+d+" not part of transaction");return m=new this.db.Table(d,m,this),m.core=this.db.core.table(d),f[d]=m},ts);function ts(){}function sa(d,f,m,$,T,A,O){return{name:d,keyPath:f,unique:m,multi:$,auto:T,compound:A,src:(m&&!O?"&":"")+($?"*":"")+(T?"++":"")+sl(f)}}function sl(d){return typeof d=="string"?d:d?"["+[].join.call(d,"+")+"]":""}function oa(d,f,m){return{name:d,primKey:f,indexes:m,mappedClass:null,idxByName:($=function(T){return[T.name,T]},m.reduce(function(T,A,O){return O=$(A,O),O&&(T[O[0]]=O[1]),T},{}))};var $}var to=function(d){try{return d.only([[]]),to=function(){return[[]]},[[]]}catch{return to=function(){return Ls},Ls}};function aa(d){return d==null?function(){}:typeof d=="string"?(f=d).split(".").length===1?function(m){return m[f]}:function(m){return N(m,f)}:function(m){return N(m,d)};var f}function ol(d){return[].slice.call(d)}var Nu=0;function io(d){return d==null?":id":typeof d=="string"?d:"[".concat(d.join("+"),"]")}function Fu(d,f,Y){function $(H){if(H.type===3)return null;if(H.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var q=H.lower,Z=H.upper,ee=H.lowerOpen,H=H.upperOpen;return q===void 0?Z===void 0?null:f.upperBound(Z,!!H):Z===void 0?f.lowerBound(q,!!ee):f.bound(q,Z,!!ee,!!H)}function T(re){var q,Z=re.name;return{name:Z,schema:re,mutate:function(ee){var H=ee.trans,ae=ee.type,ce=ee.keys,he=ee.values,we=ee.range;return new Promise(function(He,$t){He=fe(He);var et=H.objectStore(Z),vt=et.keyPath==null,Bt=ae==="put"||ae==="add";if(!Bt&&ae!=="delete"&&ae!=="deleteRange")throw new Error("Invalid operation type: "+ae);var bt,ei=(ce||he||{length:1}).length;if(ce&&he&&ce.length!==he.length)throw new Error("Given keys array must have same length as given values array.");if(ei===0)return He({numFailures:0,failures:{},results:[],lastResult:void 0});function qi(ur){++zr,Js(ur)}var Xi=[],Qi=[],zr=0;if(ae==="deleteRange"){if(we.type===4)return He({numFailures:zr,failures:Qi,results:[],lastResult:void 0});we.type===3?Xi.push(bt=et.clear()):Xi.push(bt=et.delete($(we)))}else{var vt=Bt?vt?[he,ce]:[he,null]:[ce,null],Yi=vt[0],ar=vt[1];if(Bt)for(var lr=0;lr<ei;++lr)Xi.push(bt=ar&&ar[lr]!==void 0?et[ae](Yi[lr],ar[lr]):et[ae](Yi[lr])),bt.onerror=qi;else for(lr=0;lr<ei;++lr)Xi.push(bt=et[ae](Yi[lr])),bt.onerror=qi}function Ao(ur){ur=ur.target.result,Xi.forEach(function(Ks,Sa){return Ks.error!=null&&(Qi[Sa]=Ks.error)}),He({numFailures:zr,failures:Qi,results:ae==="delete"?ce:Xi.map(function(Ks){return Ks.result}),lastResult:ur})}bt.onerror=function(ur){qi(ur),Ao(ur)},bt.onsuccess=Ao})},getMany:function(ee){var H=ee.trans,ae=ee.keys;return new Promise(function(ce,he){ce=fe(ce);for(var we,He=H.objectStore(Z),$t=ae.length,et=new Array($t),vt=0,Bt=0,bt=function(Xi){Xi=Xi.target,et[Xi._pos]=Xi.result,++Bt===vt&&ce(et)},ei=es(he),qi=0;qi<$t;++qi)ae[qi]!=null&&((we=He.get(ae[qi]))._pos=qi,we.onsuccess=bt,we.onerror=ei,++vt);vt===0&&ce(et)})},get:function(ee){var H=ee.trans,ae=ee.key;return new Promise(function(ce,he){ce=fe(ce);var we=H.objectStore(Z).get(ae);we.onsuccess=function(He){return ce(He.target.result)},we.onerror=es(he)})},query:(q=Q,function(ee){return new Promise(function(H,ae){H=fe(H);var ce,he,we,vt=ee.trans,He=ee.values,$t=ee.limit,bt=ee.query,et=$t===1/0?void 0:$t,Bt=bt.index,bt=bt.range,vt=vt.objectStore(Z),Bt=Bt.isPrimaryKey?vt:vt.index(Bt.name),bt=$(bt);if($t===0)return H({result:[]});q?((et=He?Bt.getAll(bt,et):Bt.getAllKeys(bt,et)).onsuccess=function(ei){return H({result:ei.target.result})},et.onerror=es(ae)):(ce=0,he=!He&&"openKeyCursor"in Bt?Bt.openKeyCursor(bt):Bt.openCursor(bt),we=[],he.onsuccess=function(ei){var qi=he.result;return qi?(we.push(He?qi.value:qi.primaryKey),++ce===$t?H({result:we}):void qi.continue()):H({result:we})},he.onerror=es(ae))})}),openCursor:function(ee){var H=ee.trans,ae=ee.values,ce=ee.query,he=ee.reverse,we=ee.unique;return new Promise(function(He,$t){He=fe(He);var Bt=ce.index,et=ce.range,vt=H.objectStore(Z),vt=Bt.isPrimaryKey?vt:vt.index(Bt.name),Bt=he?we?"prevunique":"prev":we?"nextunique":"next",bt=!ae&&"openKeyCursor"in vt?vt.openKeyCursor($(et),Bt):vt.openCursor($(et),Bt);bt.onerror=es($t),bt.onsuccess=fe(function(ei){var qi,Xi,Qi,zr,Yi=bt.result;Yi?(Yi.___id=++Nu,Yi.done=!1,qi=Yi.continue.bind(Yi),Xi=(Xi=Yi.continuePrimaryKey)&&Xi.bind(Yi),Qi=Yi.advance.bind(Yi),zr=function(){throw new Error("Cursor not stopped")},Yi.trans=H,Yi.stop=Yi.continue=Yi.continuePrimaryKey=Yi.advance=function(){throw new Error("Cursor not started")},Yi.fail=fe($t),Yi.next=function(){var ar=this,lr=1;return this.start(function(){return lr--?ar.continue():ar.stop()}).then(function(){return ar})},Yi.start=function(ar){function lr(){if(bt.result)try{ar()}catch(ur){Yi.fail(ur)}else Yi.done=!0,Yi.start=function(){throw new Error("Cursor behind last entry")},Yi.stop()}var Ao=new Promise(function(ur,Ks){ur=fe(ur),bt.onerror=es(Ks),Yi.fail=Ks,Yi.stop=function(Sa){Yi.stop=Yi.continue=Yi.continuePrimaryKey=Yi.advance=zr,ur(Sa)}});return bt.onsuccess=fe(function(ur){bt.onsuccess=lr,lr()}),Yi.continue=qi,Yi.continuePrimaryKey=Xi,Yi.advance=Qi,lr(),Ao},He(Yi)):He(null)},$t)})},count:function(ee){var H=ee.query,ae=ee.trans,ce=H.index,he=H.range;return new Promise(function(we,He){var $t=ae.objectStore(Z),et=ce.isPrimaryKey?$t:$t.index(ce.name),$t=$(he),et=$t?et.count($t):et.count();et.onsuccess=fe(function(vt){return we(vt.target.result)}),et.onerror=es(He)})}}}var A,O,W,J=(O=Y,W=ol((A=d).objectStoreNames),{schema:{name:A.name,tables:W.map(function(re){return O.objectStore(re)}).map(function(re){var q=re.keyPath,H=re.autoIncrement,Z=l(q),ee={},H={name:re.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:q==null,compound:Z,keyPath:q,autoIncrement:H,unique:!0,extractKey:aa(q)},indexes:ol(re.indexNames).map(function(ae){return re.index(ae)}).map(function(we){var ce=we.name,he=we.unique,He=we.multiEntry,we=we.keyPath,He={name:ce,compound:l(we),keyPath:we,unique:he,multiEntry:He,extractKey:aa(we)};return ee[io(we)]=He}),getIndexByKeyPath:function(ae){return ee[io(ae)]}};return ee[":id"]=H.primaryKey,q!=null&&(ee[io(q)]=H.primaryKey),H})},hasGetAll:0<W.length&&"getAll"in O.objectStore(W[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Y=J.schema,Q=J.hasGetAll,J=Y.tables.map(T),j={};return J.forEach(function(re){return j[re.name]=re}),{stack:"dbcore",transaction:d.transaction.bind(d),table:function(re){if(!j[re])throw new Error("Table '".concat(re,"' not found"));return j[re]},MIN_KEY:-1/0,MAX_KEY:to(f),schema:Y}}function zu(d,f,m,$){var T=m.IDBKeyRange;return m.indexedDB,{dbcore:($=Fu(f,T,$),d.dbcore.reduce(function(A,O){return O=O.create,n(n({},A),O(A))},$))}}function ho(d,$){var m=$.db,$=zu(d._middlewares,m,d._deps,$);d.core=$.dbcore,d.tables.forEach(function(T){var A=T.name;d.core.schema.tables.some(function(O){return O.name===A})&&(T.core=d.core.table(A),d[A]instanceof d.Table&&(d[A].core=T.core))})}function po(d,f,m,$){m.forEach(function(T){var A=$[T];f.forEach(function(O){var W=function Y(Q,J){return k(Q,J)||(Q=h(Q))&&Y(Q,J)}(O,T);(!W||"value"in W&&W.value===void 0)&&(O===d.Transaction.prototype||O instanceof d.Transaction?P(O,T,{get:function(){return this.table(T)},set:function(Y){u(this,T,{value:Y,writable:!0,configurable:!0,enumerable:!0})}}):O[T]=new d.Table(T,A))})})}function la(d,f){f.forEach(function(m){for(var $ in m)m[$]instanceof d.Table&&delete m[$]})}function Gu(d,f){return d._cfg.version-f._cfg.version}function Wu(d,f,m,$){var T=d._dbSchema;m.objectStoreNames.contains("$meta")&&!T.$meta&&(T.$meta=oa("$meta",ll("")[0],[]),d._storeNames.push("$meta"));var A=d._createTransaction("readwrite",d._storeNames,T);A.create(m),A._completion.catch($);var O=A._reject.bind(A),W=Vt.transless||Vt;rn(function(){return Vt.trans=A,Vt.transless=W,f!==0?(ho(d,m),Q=f,((Y=A).storeNames.includes("$meta")?Y.table("$meta").get("version").then(function(J){return J??Q}):yt.resolve(Q)).then(function(J){return re=J,q=A,Z=m,ee=[],J=(j=d)._versions,H=j._dbSchema=go(0,j.idbdb,Z),(J=J.filter(function(ae){return ae._cfg.version>=re})).length!==0?(J.forEach(function(ae){ee.push(function(){var ce=H,he=ae._cfg.dbschema;mo(j,ce,Z),mo(j,he,Z),H=j._dbSchema=he;var we=ua(ce,he);we.add.forEach(function(Bt){ca(Z,Bt[0],Bt[1].primKey,Bt[1].indexes)}),we.change.forEach(function(Bt){if(Bt.recreate)throw new _i.Upgrade("Not yet support for changing primary key");var bt=Z.objectStore(Bt.name);Bt.add.forEach(function(ei){return fo(bt,ei)}),Bt.change.forEach(function(ei){bt.deleteIndex(ei.name),fo(bt,ei)}),Bt.del.forEach(function(ei){return bt.deleteIndex(ei)})});var He=ae._cfg.contentUpgrade;if(He&&ae._cfg.version>re){ho(j,Z),q._memoizedTables={};var $t=I(he);we.del.forEach(function(Bt){$t[Bt]=ce[Bt]}),la(j,[j.Transaction.prototype]),po(j,[j.Transaction.prototype],a($t),$t),q.schema=$t;var et,vt=je(He);return vt&&vn(),we=yt.follow(function(){var Bt;(et=He(q))&&vt&&(Bt=Ji.bind(null,null),et.then(Bt,Bt))}),et&&typeof et.then=="function"?yt.resolve(et):we.then(function(){return et})}}),ee.push(function(ce){var he,we,He=ae._cfg.dbschema;he=He,we=ce,[].slice.call(we.db.objectStoreNames).forEach(function($t){return he[$t]==null&&we.db.deleteObjectStore($t)}),la(j,[j.Transaction.prototype]),po(j,[j.Transaction.prototype],j._storeNames,j._dbSchema),q.schema=j._dbSchema}),ee.push(function(ce){j.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(j.idbdb.version/10)===ae._cfg.version?(j.idbdb.deleteObjectStore("$meta"),delete j._dbSchema.$meta,j._storeNames=j._storeNames.filter(function(he){return he!=="$meta"})):ce.objectStore("$meta").put(ae._cfg.version,"version"))})}),function ae(){return ee.length?yt.resolve(ee.shift()(q.idbtrans)).then(ae):yt.resolve()}().then(function(){al(H,Z)})):yt.resolve();var j,re,q,Z,ee,H}).catch(O)):(a(T).forEach(function(J){ca(m,J,T[J].primKey,T[J].indexes)}),ho(d,m),void yt.follow(function(){return d.on.populate.fire(A)}).catch(O));var Y,Q})}function Ku(d,f){al(d._dbSchema,f),f.db.version%10!=0||f.objectStoreNames.contains("$meta")||f.db.createObjectStore("$meta").add(Math.ceil(f.db.version/10-1),"version");var m=go(0,d.idbdb,f);mo(d,d._dbSchema,f);for(var $=0,T=ua(m,d._dbSchema).change;$<T.length;$++){var A=function(O){if(O.change.length||O.recreate)return console.warn("Unable to patch indexes of table ".concat(O.name," because it has changes on the type of index or primary key.")),{value:void 0};var W=f.objectStore(O.name);O.add.forEach(function(Y){sr&&console.debug("Dexie upgrade patch: Creating missing index ".concat(O.name,".").concat(Y.src)),fo(W,Y)})}(T[$]);if(typeof A=="object")return A.value}}function ua(d,f){var m,$={del:[],add:[],change:[]};for(m in d)f[m]||$.del.push(m);for(m in f){var T=d[m],A=f[m];if(T){var O={name:m,def:A,recreate:!1,del:[],add:[],change:[]};if(""+(T.primKey.keyPath||"")!=""+(A.primKey.keyPath||"")||T.primKey.auto!==A.primKey.auto)O.recreate=!0,$.change.push(O);else{var W=T.idxByName,Y=A.idxByName,Q=void 0;for(Q in W)Y[Q]||O.del.push(Q);for(Q in Y){var J=W[Q],j=Y[Q];J?J.src!==j.src&&O.change.push(j):O.add.push(j)}(0<O.del.length||0<O.add.length||0<O.change.length)&&$.change.push(O)}}else $.add.push([m,A])}return $}function ca(d,f,m,$){var T=d.db.createObjectStore(f,m.keyPath?{keyPath:m.keyPath,autoIncrement:m.auto}:{autoIncrement:m.auto});return $.forEach(function(A){return fo(T,A)}),T}function al(d,f){a(d).forEach(function(m){f.db.objectStoreNames.contains(m)||(sr&&console.debug("Dexie: Creating missing table",m),ca(f,m,d[m].primKey,d[m].indexes))})}function fo(d,f){d.createIndex(f.name,f.keyPath,{unique:f.unique,multiEntry:f.multi})}function go(d,f,m){var $={};return R(f.objectStoreNames,0).forEach(function(T){for(var A=m.objectStore(T),O=sa(sl(Q=A.keyPath),Q||"",!0,!1,!!A.autoIncrement,Q&&typeof Q!="string",!0),W=[],Y=0;Y<A.indexNames.length;++Y){var J=A.index(A.indexNames[Y]),Q=J.keyPath,J=sa(J.name,Q,!!J.unique,!!J.multiEntry,!1,Q&&typeof Q!="string",!1);W.push(J)}$[T]=oa(T,O,W)}),$}function mo(d,f,m){for(var $=m.db.objectStoreNames,T=0;T<$.length;++T){var A=$[T],O=m.objectStore(A);d._hasGetAll="getAll"in O;for(var W=0;W<O.indexNames.length;++W){var Y=O.indexNames[W],Q=O.index(Y).keyPath,J=typeof Q=="string"?Q:"["+R(Q).join("+")+"]";!f[A]||(Q=f[A].idxByName[J])&&(Q.name=Y,delete f[A].idxByName[J],f[A].idxByName[Y]=Q)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(d._hasGetAll=!1)}function ll(d){return d.split(",").map(function(f,m){var $=(f=f.trim()).replace(/([&*]|\+\+)/g,""),T=/^\[/.test($)?$.match(/^\[(.*)\]$/)[1].split("+"):$;return sa($,T||null,/\&/.test(f),/\*/.test(f),/\+\+/.test(f),l(T),m===0)})}var Uu=(yo.prototype._parseStoresSpec=function(d,f){a(d).forEach(function(m){if(d[m]!==null){var $=ll(d[m]),T=$.shift();if(T.unique=!0,T.multi)throw new _i.Schema("Primary key cannot be multi-valued");$.forEach(function(A){if(A.auto)throw new _i.Schema("Only primary key can be marked as autoIncrement (++)");if(!A.keyPath)throw new _i.Schema("Index must have a name and cannot be an empty string")}),f[m]=oa(m,T,$)}})},yo.prototype.stores=function(m){var f=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,m):m;var m=f._versions,$={},T={};return m.forEach(function(A){c($,A._cfg.storesSource),T=A._cfg.dbschema={},A._parseStoresSpec($,T)}),f._dbSchema=T,la(f,[f._allTables,f,f.Transaction.prototype]),po(f,[f._allTables,f,f.Transaction.prototype,this._cfg.tables],a(T),T),f._storeNames=a(T),this},yo.prototype.upgrade=function(d){return this._cfg.contentUpgrade=qr(this._cfg.contentUpgrade||Ui,d),this},yo);function yo(){}function ha(d,f){var m=d._dbNamesDB;return m||(m=d._dbNamesDB=new ls(oo,{addons:[],indexedDB:d,IDBKeyRange:f})).version(1).stores({dbnames:"name"}),m.table("dbnames")}function da(d){return d&&typeof d.databases=="function"}function pa(d){return rn(function(){return Vt.letThrough=!0,d()})}function fa(d){return!("from"in d)}var or=function(d,f){if(!this){var m=new or;return d&&"d"in d&&c(m,d),m}c(this,arguments.length?{d:1,from:d,to:1<arguments.length?f:d}:{d:0})};function no(d,f,m){var $=en(f,m);if(!isNaN($)){if(0<$)throw RangeError();if(fa(d))return c(d,{from:f,to:m,d:1});var T=d.l,$=d.r;if(en(m,d.from)<0)return T?no(T,f,m):d.l={from:f,to:m,d:1,l:null,r:null},cl(d);if(0<en(f,d.to))return $?no($,f,m):d.r={from:f,to:m,d:1,l:null,r:null},cl(d);en(f,d.from)<0&&(d.from=f,d.l=null,d.d=$?$.d+1:1),0<en(m,d.to)&&(d.to=m,d.r=null,d.d=d.l?d.l.d+1:1),m=!d.r,T&&!d.l&&ro(d,T),$&&m&&ro(d,$)}}function ro(d,f){fa(f)||function m($,Y){var A=Y.from,O=Y.to,W=Y.l,Y=Y.r;no($,A,O),W&&m($,W),Y&&m($,Y)}(d,f)}function ul(d,f){var m=vo(f),$=m.next();if($.done)return!1;for(var T=$.value,A=vo(d),O=A.next(T.from),W=O.value;!$.done&&!O.done;){if(en(W.from,T.to)<=0&&0<=en(W.to,T.from))return!0;en(T.from,W.from)<0?T=($=m.next(W.from)).value:W=(O=A.next(T.from)).value}return!1}function vo(d){var f=fa(d)?null:{s:0,n:d};return{next:function(m){for(var $=0<arguments.length;f;)switch(f.s){case 0:if(f.s=1,$)for(;f.n.l&&en(m,f.n.from)<0;)f={up:f,n:f.n.l,s:1};else for(;f.n.l;)f={up:f,n:f.n.l,s:1};case 1:if(f.s=2,!$||en(m,f.n.to)<=0)return{value:f.n,done:!1};case 2:if(f.n.r){f.s=3,f={up:f,n:f.n.r,s:0};continue}case 3:f=f.up}return{done:!0}}}}function cl(d){var f,m,$=(((f=d.r)===null||f===void 0?void 0:f.d)||0)-(((m=d.l)===null||m===void 0?void 0:m.d)||0),T=1<$?"r":$<-1?"l":"";T&&(f=T=="r"?"l":"r",m=n({},d),$=d[T],d.from=$.from,d.to=$.to,d[T]=$[T],m[T]=$[f],(d[f]=m).d=hl(m)),d.d=hl(d)}function hl(m){var f=m.r,m=m.l;return(f?m?Math.max(f.d,m.d):f.d:m?m.d:0)+1}function wo(d,f){return a(f).forEach(function(m){d[m]?ro(d[m],f[m]):d[m]=function $(T){var A,O,W={};for(A in T)_(T,A)&&(O=T[A],W[A]=!O||typeof O!="object"||le.has(O.constructor)?O:$(O));return W}(f[m])}),d}function ga(d,f){return d.all||f.all||Object.keys(d).some(function(m){return f[m]&&ul(f[m],d[m])})}w(or.prototype,((Yr={add:function(d){return ro(this,d),this},addKey:function(d){return no(this,d,d),this},addKeys:function(d){var f=this;return d.forEach(function(m){return no(f,m,m)}),this},hasKey:function(d){var f=vo(this).next(d).value;return f&&en(f.from,d)<=0&&0<=en(f.to,d)}})[Ve]=function(){return vo(this)},Yr));var Gs={},ma={},ya=!1;function bo(d){wo(ma,d),ya||(ya=!0,setTimeout(function(){ya=!1,va(ma,!(ma={}))},0))}function va(d,f){f===void 0&&(f=!1);var m=new Set;if(d.all)for(var $=0,T=Object.values(Gs);$<T.length;$++)dl(O=T[$],d,m,f);else for(var A in d){var O,W=/^idb\:\/\/(.*)\/(.*)\//.exec(A);W&&(A=W[1],W=W[2],(O=Gs["idb://".concat(A,"/").concat(W)])&&dl(O,d,m,f))}m.forEach(function(Y){return Y()})}function dl(d,f,m,$){for(var T=[],A=0,O=Object.entries(d.queries.query);A<O.length;A++){for(var W=O[A],Y=W[0],Q=[],J=0,j=W[1];J<j.length;J++){var re=j[J];ga(f,re.obsSet)?re.subscribers.forEach(function(H){return m.add(H)}):$&&Q.push(re)}$&&T.push([Y,Q])}if($)for(var q=0,Z=T;q<Z.length;q++){var ee=Z[q],Y=ee[0],Q=ee[1];d.queries.query[Y]=Q}}function ju(d){var f=d._state,m=d._deps.indexedDB;if(f.isBeingOpened||d.idbdb)return f.dbReadyPromise.then(function(){return f.dbOpenError?En(f.dbOpenError):d});f.isBeingOpened=!0,f.dbOpenError=null,f.openComplete=!1;var $=f.openCanceller,T=Math.round(10*d.verno),A=!1;function O(){if(f.openCanceller!==$)throw new _i.DatabaseClosed("db.open() was cancelled")}function W(){return new yt(function(re,q){if(O(),!m)throw new _i.MissingAPI;var Z=d.name,ee=f.autoSchema||!T?m.open(Z):m.open(Z,T);if(!ee)throw new _i.MissingAPI;ee.onerror=es(q),ee.onblocked=fe(d._fireOnBlocked),ee.onupgradeneeded=fe(function(H){var ae;J=ee.transaction,f.autoSchema&&!d._options.allowEmptyDB?(ee.onerror=Js,J.abort(),ee.result.close(),(ae=m.deleteDatabase(Z)).onsuccess=ae.onerror=fe(function(){q(new _i.NoSuchDatabase("Database ".concat(Z," doesnt exist")))})):(J.onerror=es(q),H=H.oldVersion>Math.pow(2,62)?0:H.oldVersion,j=H<1,d.idbdb=ee.result,A&&Ku(d,J),Wu(d,H/10,J,q))},q),ee.onsuccess=fe(function(){J=null;var H,ae,ce,he,we,He=d.idbdb=ee.result,$t=R(He.objectStoreNames);if(0<$t.length)try{var et=He.transaction((he=$t).length===1?he[0]:he,"readonly");if(f.autoSchema)ae=He,ce=et,(H=d).verno=ae.version/10,ce=H._dbSchema=go(0,ae,ce),H._storeNames=R(ae.objectStoreNames,0),po(H,[H._allTables],a(ce),ce);else if(mo(d,d._dbSchema,et),((we=ua(go(0,(we=d).idbdb,et),we._dbSchema)).add.length||we.change.some(function(vt){return vt.add.length||vt.change.length}))&&!A)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),He.close(),T=He.version+1,A=!0,re(W());ho(d,et)}catch{}Us.push(d),He.onversionchange=fe(function(vt){f.vcFired=!0,d.on("versionchange").fire(vt)}),He.onclose=fe(function(vt){d.on("close").fire(vt)}),j&&(we=d._deps,et=Z,He=we.indexedDB,we=we.IDBKeyRange,da(He)||et===oo||ha(He,we).put({name:et}).catch(Ui)),re()},q)}).catch(function(re){switch(re==null?void 0:re.name){case"UnknownError":if(0<f.PR1398_maxLoop)return f.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),W();break;case"VersionError":if(0<T)return T=0,W()}return yt.reject(re)})}var Y,Q=f.dbReadyResolve,J=null,j=!1;return yt.race([$,(typeof navigator>"u"?yt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(re){function q(){return indexedDB.databases().finally(re)}Y=setInterval(q,100),q()}).finally(function(){return clearInterval(Y)}):Promise.resolve()).then(W)]).then(function(){return O(),f.onReadyBeingFired=[],yt.resolve(pa(function(){return d.on.ready.fire(d.vip)})).then(function re(){if(0<f.onReadyBeingFired.length){var q=f.onReadyBeingFired.reduce(qr,Ui);return f.onReadyBeingFired=[],yt.resolve(pa(function(){return q(d.vip)})).then(re)}})}).finally(function(){f.openCanceller===$&&(f.onReadyBeingFired=null,f.isBeingOpened=!1)}).catch(function(re){f.dbOpenError=re;try{J&&J.abort()}catch{}return $===f.openCanceller&&d._close(),En(re)}).finally(function(){f.openComplete=!0,Q()}).then(function(){var re;return j&&(re={},d.tables.forEach(function(q){q.schema.indexes.forEach(function(Z){Z.name&&(re["idb://".concat(d.name,"/").concat(q.name,"/").concat(Z.name)]=new or(-1/0,[[[]]]))}),re["idb://".concat(d.name,"/").concat(q.name,"/")]=re["idb://".concat(d.name,"/").concat(q.name,"/:dels")]=new or(-1/0,[[[]]])}),ds(eo).fire(re),va(re,!0)),d})}function wa(d){function f(A){return d.next(A)}var m=T(f),$=T(function(A){return d.throw(A)});function T(A){return function(Y){var W=A(Y),Y=W.value;return W.done?Y:Y&&typeof Y.then=="function"?Y.then(m,$):l(Y)?Promise.all(Y).then(m,$):m(Y)}}return T(f)()}function $o(d,f,m){for(var $=l(d)?d.slice():[d],T=0;T<m;++T)$.push(f);return $}var Yu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(d){return n(n({},d),{table:function(f){var m=d.table(f),$=m.schema,T={},A=[];function O(j,re,q){var Z=io(j),ee=T[Z]=T[Z]||[],H=j==null?0:typeof j=="string"?1:j.length,ae=0<re,ae=n(n({},q),{name:ae?"".concat(Z,"(virtual-from:").concat(q.name,")"):q.name,lowLevelIndex:q,isVirtual:ae,keyTail:re,keyLength:H,extractKey:aa(j),unique:!ae&&q.unique});return ee.push(ae),ae.isPrimaryKey||A.push(ae),1<H&&O(H===2?j[0]:j.slice(0,H-1),re+1,q),ee.sort(function(ce,he){return ce.keyTail-he.keyTail}),ae}f=O($.primaryKey.keyPath,0,$.primaryKey),T[":id"]=[f];for(var W=0,Y=$.indexes;W<Y.length;W++){var Q=Y[W];O(Q.keyPath,0,Q)}function J(j){var re,q=j.query.index;return q.isVirtual?n(n({},j),{query:{index:q.lowLevelIndex,range:(re=j.query.range,q=q.keyTail,{type:re.type===1?2:re.type,lower:$o(re.lower,re.lowerOpen?d.MAX_KEY:d.MIN_KEY,q),lowerOpen:!0,upper:$o(re.upper,re.upperOpen?d.MIN_KEY:d.MAX_KEY,q),upperOpen:!0})}}):j}return n(n({},m),{schema:n(n({},$),{primaryKey:f,indexes:A,getIndexByKeyPath:function(j){return(j=T[io(j)])&&j[0]}}),count:function(j){return m.count(J(j))},query:function(j){return m.query(J(j))},openCursor:function(j){var re=j.query.index,q=re.keyTail,Z=re.isVirtual,ee=re.keyLength;return Z?m.openCursor(J(j)).then(function(ae){return ae&&H(ae)}):m.openCursor(j);function H(ae){return Object.create(ae,{continue:{value:function(ce){ce!=null?ae.continue($o(ce,j.reverse?d.MAX_KEY:d.MIN_KEY,q)):j.unique?ae.continue(ae.key.slice(0,ee).concat(j.reverse?d.MIN_KEY:d.MAX_KEY,q)):ae.continue()}},continuePrimaryKey:{value:function(ce,he){ae.continuePrimaryKey($o(ce,d.MAX_KEY,q),he)}},primaryKey:{get:function(){return ae.primaryKey}},key:{get:function(){var ce=ae.key;return ee===1?ce[0]:ce.slice(0,ee)}},value:{get:function(){return ae.value}}})}}})}})}};function ba(d,f,m,$){return m=m||{},$=$||"",a(d).forEach(function(T){var A,O,W;_(f,T)?(A=d[T],O=f[T],typeof A=="object"&&typeof O=="object"&&A&&O?(W=Rt(A))!==Rt(O)?m[$+T]=f[T]:W==="Object"?ba(A,O,m,$+T+"."):A!==O&&(m[$+T]=f[T]):A!==O&&(m[$+T]=f[T])):m[$+T]=void 0}),a(f).forEach(function(T){_(d,T)||(m[$+T]=f[T])}),m}function $a(d,f){return f.type==="delete"?f.keys:f.keys||f.values.map(d.extractKey)}var qu={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(d){return n(n({},d),{table:function(f){var m=d.table(f),$=m.schema.primaryKey;return n(n({},m),{mutate:function(T){var A=Vt.trans,O=A.table(f).hook,W=O.deleting,Y=O.creating,Q=O.updating;switch(T.type){case"add":if(Y.fire===Ui)break;return A._promise("readwrite",function(){return J(T)},!0);case"put":if(Y.fire===Ui&&Q.fire===Ui)break;return A._promise("readwrite",function(){return J(T)},!0);case"delete":if(W.fire===Ui)break;return A._promise("readwrite",function(){return J(T)},!0);case"deleteRange":if(W.fire===Ui)break;return A._promise("readwrite",function(){return function j(re,q,Z){return m.query({trans:re,values:!1,query:{index:$,range:q},limit:Z}).then(function(ee){var H=ee.result;return J({type:"delete",keys:H,trans:re}).then(function(ae){return 0<ae.numFailures?Promise.reject(ae.failures[0]):H.length<Z?{failures:[],numFailures:0,lastResult:void 0}:j(re,n(n({},q),{lower:H[H.length-1],lowerOpen:!0}),Z)})})}(T.trans,T.range,1e4)},!0)}return m.mutate(T);function J(j){var re,q,Z,ee=Vt.trans,H=j.keys||$a($,j);if(!H)throw new Error("Keys missing");return(j=j.type==="add"||j.type==="put"?n(n({},j),{keys:H}):n({},j)).type!=="delete"&&(j.values=r([],j.values)),j.keys&&(j.keys=r([],j.keys)),re=m,Z=H,((q=j).type==="add"?Promise.resolve([]):re.getMany({trans:q.trans,keys:Z,cache:"immutable"})).then(function(ae){var ce=H.map(function(he,we){var He,$t,et,vt=ae[we],Bt={onerror:null,onsuccess:null};return j.type==="delete"?W.fire.call(Bt,he,vt,ee):j.type==="add"||vt===void 0?(He=Y.fire.call(Bt,he,j.values[we],ee),he==null&&He!=null&&(j.keys[we]=he=He,$.outbound||F(j.values[we],$.keyPath,he))):(He=ba(vt,j.values[we]),($t=Q.fire.call(Bt,He,he,vt,ee))&&(et=j.values[we],Object.keys($t).forEach(function(bt){_(et,bt)?et[bt]=$t[bt]:F(et,bt,$t[bt])}))),Bt});return m.mutate(j).then(function(he){for(var we=he.failures,He=he.results,$t=he.numFailures,he=he.lastResult,et=0;et<H.length;++et){var vt=(He||H)[et],Bt=ce[et];vt==null?Bt.onerror&&Bt.onerror(we[et]):Bt.onsuccess&&Bt.onsuccess(j.type==="put"&&ae[et]?j.values[et]:vt)}return{failures:we,results:He,numFailures:$t,lastResult:he}}).catch(function(he){return ce.forEach(function(we){return we.onerror&&we.onerror(he)}),Promise.reject(he)})})}}})}})}};function pl(d,f,m){try{if(!f||f.keys.length<d.length)return null;for(var $=[],T=0,A=0;T<f.keys.length&&A<d.length;++T)en(f.keys[T],d[A])===0&&($.push(m?se(f.values[T]):f.values[T]),++A);return $.length===d.length?$:null}catch{return null}}var Xu={stack:"dbcore",level:-1,create:function(d){return{table:function(f){var m=d.table(f);return n(n({},m),{getMany:function($){if(!$.cache)return m.getMany($);var T=pl($.keys,$.trans._cache,$.cache==="clone");return T?yt.resolve(T):m.getMany($).then(function(A){return $.trans._cache={keys:$.keys,values:$.cache==="clone"?se(A):A},A})},mutate:function($){return $.type!=="add"&&($.trans._cache=null),m.mutate($)}})}}}};function fl(d,f){return d.trans.mode==="readonly"&&!!d.subscr&&!d.trans.explicit&&d.trans.db._options.cache!=="disabled"&&!f.schema.primaryKey.outbound}function ml(d,f){switch(d){case"query":return f.values&&!f.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Qu={stack:"dbcore",level:0,name:"Observability",create:function(d){var f=d.schema.name,m=new or(d.MIN_KEY,d.MAX_KEY);return n(n({},d),{transaction:function($,T,A){if(Vt.subscr&&T!=="readonly")throw new _i.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Vt.querier));return d.transaction($,T,A)},table:function($){var T=d.table($),A=T.schema,O=A.primaryKey,j=A.indexes,W=O.extractKey,Y=O.outbound,Q=O.autoIncrement&&j.filter(function(q){return q.compound&&q.keyPath.includes(O.keyPath)}),J=n(n({},T),{mutate:function(q){function Z(bt){return bt="idb://".concat(f,"/").concat($,"/").concat(bt),he[bt]||(he[bt]=new or)}var ee,H,ae,ce=q.trans,he=q.mutatedParts||(q.mutatedParts={}),we=Z(""),He=Z(":dels"),$t=q.type,Bt=q.type==="deleteRange"?[q.range]:q.type==="delete"?[q.keys]:q.values.length<50?[$a(O,q).filter(function(bt){return bt}),q.values]:[],et=Bt[0],vt=Bt[1],Bt=q.trans._cache;return l(et)?(we.addKeys(et),(Bt=$t==="delete"||et.length===vt.length?pl(et,Bt):null)||He.addKeys(et),(Bt||vt)&&(ee=Z,H=Bt,ae=vt,A.indexes.forEach(function(bt){var ei=ee(bt.name||"");function qi(Qi){return Qi!=null?bt.extractKey(Qi):null}function Xi(Qi){return bt.multiEntry&&l(Qi)?Qi.forEach(function(zr){return ei.addKey(zr)}):ei.addKey(Qi)}(H||ae).forEach(function(Qi,ar){var Yi=H&&qi(H[ar]),ar=ae&&qi(ae[ar]);en(Yi,ar)!==0&&(Yi!=null&&Xi(Yi),ar!=null&&Xi(ar))})}))):et?(vt={from:(vt=et.lower)!==null&&vt!==void 0?vt:d.MIN_KEY,to:(vt=et.upper)!==null&&vt!==void 0?vt:d.MAX_KEY},He.add(vt),we.add(vt)):(we.add(m),He.add(m),A.indexes.forEach(function(bt){return Z(bt.name).add(m)})),T.mutate(q).then(function(bt){return!et||q.type!=="add"&&q.type!=="put"||(we.addKeys(bt.results),Q&&Q.forEach(function(ei){for(var qi=q.values.map(function(Yi){return ei.extractKey(Yi)}),Xi=ei.keyPath.findIndex(function(Yi){return Yi===O.keyPath}),Qi=0,zr=bt.results.length;Qi<zr;++Qi)qi[Qi][Xi]=bt.results[Qi];Z(ei.name).addKeys(qi)})),ce.mutatedParts=wo(ce.mutatedParts||{},he),bt})}}),j=function(Z){var ee=Z.query,Z=ee.index,ee=ee.range;return[Z,new or((Z=ee.lower)!==null&&Z!==void 0?Z:d.MIN_KEY,(ee=ee.upper)!==null&&ee!==void 0?ee:d.MAX_KEY)]},re={get:function(q){return[O,new or(q.key)]},getMany:function(q){return[O,new or().addKeys(q.keys)]},count:j,query:j,openCursor:j};return a(re).forEach(function(q){J[q]=function(Z){var ee=Vt.subscr,H=!!ee,ae=fl(Vt,T)&&ml(q,Z)?Z.obsSet={}:ee;if(H){var ce=function(vt){return vt="idb://".concat(f,"/").concat($,"/").concat(vt),ae[vt]||(ae[vt]=new or)},he=ce(""),we=ce(":dels"),ee=re[q](Z),H=ee[0],ee=ee[1];if((q==="query"&&H.isPrimaryKey&&!Z.values?we:ce(H.name||"")).add(ee),!H.isPrimaryKey){if(q!=="count"){var He=q==="query"&&Y&&Z.values&&T.query(n(n({},Z),{values:!1}));return T[q].apply(this,arguments).then(function(vt){if(q==="query"){if(Y&&Z.values)return He.then(function(qi){return qi=qi.result,he.addKeys(qi),vt});var Bt=Z.values?vt.result.map(W):vt.result;(Z.values?he:we).addKeys(Bt)}else if(q==="openCursor"){var bt=vt,ei=Z.values;return bt&&Object.create(bt,{key:{get:function(){return we.addKey(bt.primaryKey),bt.key}},primaryKey:{get:function(){var qi=bt.primaryKey;return we.addKey(qi),qi}},value:{get:function(){return ei&&he.addKey(bt.primaryKey),bt.value}}})}return vt})}we.add(m)}}return T[q].apply(this,arguments)}}),J}})}};function $l(d,f,m){if(m.numFailures===0)return f;if(f.type==="deleteRange")return null;var $=f.keys?f.keys.length:"values"in f&&f.values?f.values.length:1;return m.numFailures===$?null:(f=n({},f),l(f.keys)&&(f.keys=f.keys.filter(function(T,A){return!(A in m.failures)})),"values"in f&&l(f.values)&&(f.values=f.values.filter(function(T,A){return!(A in m.failures)})),f)}function xa(d,f){return m=d,(($=f).lower===void 0||($.lowerOpen?0<en(m,$.lower):0<=en(m,$.lower)))&&(d=d,(f=f).upper===void 0||(f.upperOpen?en(d,f.upper)<0:en(d,f.upper)<=0));var m,$}function Yl(d,f,re,$,T,A){if(!re||re.length===0)return d;var O=f.query.index,W=O.multiEntry,Y=f.query.range,Q=$.schema.primaryKey.extractKey,J=O.extractKey,j=(O.lowLevelIndex||O).extractKey,re=re.reduce(function(q,Z){var ee=q,H=[];if(Z.type==="add"||Z.type==="put")for(var ae=new or,ce=Z.values.length-1;0<=ce;--ce){var he,we=Z.values[ce],He=Q(we);ae.hasKey(He)||(he=J(we),(W&&l(he)?he.some(function(bt){return xa(bt,Y)}):xa(he,Y))&&(ae.addKey(He),H.push(we)))}switch(Z.type){case"add":var $t=new or().addKeys(f.values?q.map(function(ei){return Q(ei)}):q),ee=q.concat(f.values?H.filter(function(ei){return ei=Q(ei),!$t.hasKey(ei)&&($t.addKey(ei),!0)}):H.map(function(ei){return Q(ei)}).filter(function(ei){return!$t.hasKey(ei)&&($t.addKey(ei),!0)}));break;case"put":var et=new or().addKeys(Z.values.map(function(ei){return Q(ei)}));ee=q.filter(function(ei){return!et.hasKey(f.values?Q(ei):ei)}).concat(f.values?H:H.map(function(ei){return Q(ei)}));break;case"delete":var vt=new or().addKeys(Z.keys);ee=q.filter(function(ei){return!vt.hasKey(f.values?Q(ei):ei)});break;case"deleteRange":var Bt=Z.range;ee=q.filter(function(ei){return!xa(Q(ei),Bt)})}return ee},d);return re===d?d:(re.sort(function(q,Z){return en(j(q),j(Z))||en(Q(q),Q(Z))}),f.limit&&f.limit<1/0&&(re.length>f.limit?re.length=f.limit:d.length===f.limit&&re.length<f.limit&&(T.dirty=!0)),A?Object.freeze(re):re)}function Ql(d,f){return en(d.lower,f.lower)===0&&en(d.upper,f.upper)===0&&!!d.lowerOpen==!!f.lowerOpen&&!!d.upperOpen==!!f.upperOpen}function Hu(d,f){return function(m,$,T,A){if(m===void 0)return $!==void 0?-1:0;if($===void 0)return 1;if(($=en(m,$))===0){if(T&&A)return 0;if(T)return 1;if(A)return-1}return $}(d.lower,f.lower,d.lowerOpen,f.lowerOpen)<=0&&0<=function(m,$,T,A){if(m===void 0)return $!==void 0?1:0;if($===void 0)return-1;if(($=en(m,$))===0){if(T&&A)return 0;if(T)return-1;if(A)return 1}return $}(d.upper,f.upper,d.upperOpen,f.upperOpen)}function Zu(d,f,m,$){d.subscribers.add(m),$.addEventListener("abort",function(){var T,A;d.subscribers.delete(m),d.subscribers.size===0&&(T=d,A=f,setTimeout(function(){T.subscribers.size===0&&$i(A,T)},3e3))})}var Ju={stack:"dbcore",level:0,name:"Cache",create:function(d){var f=d.schema.name;return n(n({},d),{transaction:function(m,$,T){var A,O,W=d.transaction(m,$,T);return $==="readwrite"&&(O=(A=new AbortController).signal,T=function(Y){return function(){if(A.abort(),$==="readwrite"){for(var Q=new Set,J=0,j=m;J<j.length;J++){var re=j[J],q=Gs["idb://".concat(f,"/").concat(re)];if(q){var Z=d.table(re),ee=q.optimisticOps.filter(function(ei){return ei.trans===W});if(W._explicit&&Y&&W.mutatedParts)for(var H=0,ae=Object.values(q.queries.query);H<ae.length;H++)for(var ce=0,he=($t=ae[H]).slice();ce<he.length;ce++)ga((et=he[ce]).obsSet,W.mutatedParts)&&($i($t,et),et.subscribers.forEach(function(ei){return Q.add(ei)}));else if(0<ee.length){q.optimisticOps=q.optimisticOps.filter(function(ei){return ei.trans!==W});for(var we=0,He=Object.values(q.queries.query);we<He.length;we++)for(var $t,et,vt,Bt=0,bt=($t=He[we]).slice();Bt<bt.length;Bt++)(et=bt[Bt]).res!=null&&W.mutatedParts&&(Y&&!et.dirty?(vt=Object.isFrozen(et.res),vt=Yl(et.res,et.req,ee,Z,et,vt),et.dirty?($i($t,et),et.subscribers.forEach(function(ei){return Q.add(ei)})):vt!==et.res&&(et.res=vt,et.promise=yt.resolve({result:vt}))):(et.dirty&&$i($t,et),et.subscribers.forEach(function(ei){return Q.add(ei)})))}}}Q.forEach(function(ei){return ei()})}}},W.addEventListener("abort",T(!1),{signal:O}),W.addEventListener("error",T(!1),{signal:O}),W.addEventListener("complete",T(!0),{signal:O})),W},table:function(m){var $=d.table(m),T=$.schema.primaryKey;return n(n({},$),{mutate:function(A){var O=Vt.trans;if(T.outbound||O.db._options.cache==="disabled"||O.explicit||O.idbtrans.mode!=="readwrite")return $.mutate(A);var W=Gs["idb://".concat(f,"/").concat(m)];return W?(O=$.mutate(A),A.type!=="add"&&A.type!=="put"||!(50<=A.values.length||$a(T,A).some(function(Y){return Y==null}))?(W.optimisticOps.push(A),A.mutatedParts&&bo(A.mutatedParts),O.then(function(Y){0<Y.numFailures&&($i(W.optimisticOps,A),(Y=$l(0,A,Y))&&W.optimisticOps.push(Y),A.mutatedParts&&bo(A.mutatedParts))}),O.catch(function(){$i(W.optimisticOps,A),A.mutatedParts&&bo(A.mutatedParts)})):O.then(function(Y){var Q=$l(0,n(n({},A),{values:A.values.map(function(J,j){var re;return Y.failures[j]||(J=(re=T.keyPath)!==null&&re!==void 0&&re.includes(".")?se(J):n({},J),F(J,T.keyPath,Y.results[j])),J})}),Y);W.optimisticOps.push(Q),queueMicrotask(function(){return A.mutatedParts&&bo(A.mutatedParts)})}),O):$.mutate(A)},query:function(A){if(!fl(Vt,$)||!ml("query",A))return $.query(A);var O=((Q=Vt.trans)===null||Q===void 0?void 0:Q.db._options.cache)==="immutable",j=Vt,W=j.requery,Y=j.signal,Q=function(Z,ee,H,ae){var ce=Gs["idb://".concat(Z,"/").concat(ee)];if(!ce)return[];if(!(ee=ce.queries[H]))return[null,!1,ce,null];var he=ee[(ae.query?ae.query.index.name:null)||""];if(!he)return[null,!1,ce,null];switch(H){case"query":var we=he.find(function(He){return He.req.limit===ae.limit&&He.req.values===ae.values&&Ql(He.req.query.range,ae.query.range)});return we?[we,!0,ce,he]:[he.find(function(He){return("limit"in He.req?He.req.limit:1/0)>=ae.limit&&(!ae.values||He.req.values)&&Hu(He.req.query.range,ae.query.range)}),!1,ce,he];case"count":return we=he.find(function(He){return Ql(He.req.query.range,ae.query.range)}),[we,!!we,ce,he]}}(f,m,"query",A),J=Q[0],j=Q[1],re=Q[2],q=Q[3];return J&&j?J.obsSet=A.obsSet:(j=$.query(A).then(function(Z){var ee=Z.result;if(J&&(J.res=ee),O){for(var H=0,ae=ee.length;H<ae;++H)Object.freeze(ee[H]);Object.freeze(ee)}else Z.result=se(ee);return Z}).catch(function(Z){return q&&J&&$i(q,J),Promise.reject(Z)}),J={obsSet:A.obsSet,promise:j,subscribers:new Set,type:"query",req:A,dirty:!1},q?q.push(J):(q=[J],(re=re||(Gs["idb://".concat(f,"/").concat(m)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[A.query.index.name||""]=q)),Zu(J,q,W,Y),J.promise.then(function(Z){return{result:Yl(Z.result,A,re==null?void 0:re.optimisticOps,$,J,O)}})}})}})}};function Po(d,f){return new Proxy(d,{get:function(m,$,T){return $==="db"?f:Reflect.get(m,$,T)}})}var ls=(In.prototype.version=function(d){if(isNaN(d)||d<.1)throw new _i.Type("Given version is not a positive number");if(d=Math.round(10*d)/10,this.idbdb||this._state.isBeingOpened)throw new _i.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,d);var f=this._versions,m=f.filter(function($){return $._cfg.version===d})[0];return m||(m=new this.Version(d),f.push(m),f.sort(Gu),m.stores({}),this._state.autoSchema=!1,m)},In.prototype._whenReady=function(d){var f=this;return this.idbdb&&(this._state.openComplete||Vt.letThrough||this._vip)?d():new yt(function(m,$){if(f._state.openComplete)return $(new _i.DatabaseClosed(f._state.dbOpenError));if(!f._state.isBeingOpened){if(!f._state.autoOpen)return void $(new _i.DatabaseClosed);f.open().catch(Ui)}f._state.dbReadyPromise.then(m,$)}).then(d)},In.prototype.use=function(d){var f=d.stack,m=d.create,$=d.level,T=d.name;return T&&this.unuse({stack:f,name:T}),d=this._middlewares[f]||(this._middlewares[f]=[]),d.push({stack:f,create:m,level:$??10,name:T}),d.sort(function(A,O){return A.level-O.level}),this},In.prototype.unuse=function(d){var f=d.stack,m=d.name,$=d.create;return f&&this._middlewares[f]&&(this._middlewares[f]=this._middlewares[f].filter(function(T){return $?T.create!==$:!!m&&T.name!==m})),this},In.prototype.open=function(){var d=this;return $s(ir,function(){return ju(d)})},In.prototype._close=function(){var d=this._state,f=Us.indexOf(this);if(0<=f&&Us.splice(f,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}d.isBeingOpened||(d.dbReadyPromise=new yt(function(m){d.dbReadyResolve=m}),d.openCanceller=new yt(function(m,$){d.cancelOpen=$}))},In.prototype.close=function(m){var f=(m===void 0?{disableAutoOpen:!0}:m).disableAutoOpen,m=this._state;f?(m.isBeingOpened&&m.cancelOpen(new _i.DatabaseClosed),this._close(),m.autoOpen=!1,m.dbOpenError=new _i.DatabaseClosed):(this._close(),m.autoOpen=this._options.autoOpen||m.isBeingOpened,m.openComplete=!1,m.dbOpenError=null)},In.prototype.delete=function(d){var f=this;d===void 0&&(d={disableAutoOpen:!0});var m=0<arguments.length&&typeof arguments[0]!="object",$=this._state;return new yt(function(T,A){function O(){f.close(d);var W=f._deps.indexedDB.deleteDatabase(f.name);W.onsuccess=fe(function(){var Y,Q,J;Y=f._deps,Q=f.name,J=Y.indexedDB,Y=Y.IDBKeyRange,da(J)||Q===oo||ha(J,Y).delete(Q).catch(Ui),T()}),W.onerror=es(A),W.onblocked=f._fireOnBlocked}if(m)throw new _i.InvalidArgument("Invalid closeOptions argument to db.delete()");$.isBeingOpened?$.dbReadyPromise.then(O):O()})},In.prototype.backendDB=function(){return this.idbdb},In.prototype.isOpen=function(){return this.idbdb!==null},In.prototype.hasBeenClosed=function(){var d=this._state.dbOpenError;return d&&d.name==="DatabaseClosed"},In.prototype.hasFailed=function(){return this._state.dbOpenError!==null},In.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(In.prototype,"tables",{get:function(){var d=this;return a(this._allTables).map(function(f){return d._allTables[f]})},enumerable:!1,configurable:!0}),In.prototype.transaction=function(){var d=(function(f,m,$){var T=arguments.length;if(T<2)throw new _i.InvalidArgument("Too few arguments");for(var A=new Array(T-1);--T;)A[T-1]=arguments[T];return $=A.pop(),[f,Ie(A),$]}).apply(this,arguments);return this._transaction.apply(this,d)},In.prototype._transaction=function(d,f,m){var $=this,T=Vt.trans;T&&T.db===this&&d.indexOf("!")===-1||(T=null);var A,O,W=d.indexOf("?")!==-1;d=d.replace("!","").replace("?","");try{if(O=f.map(function(Q){if(Q=Q instanceof $.Table?Q.name:Q,typeof Q!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Q}),d=="r"||d===Fo)A=Fo;else{if(d!="rw"&&d!=ea)throw new _i.InvalidArgument("Invalid transaction mode: "+d);A=ea}if(T){if(T.mode===Fo&&A===ea){if(!W)throw new _i.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");T=null}T&&O.forEach(function(Q){if(T&&T.storeNames.indexOf(Q)===-1){if(!W)throw new _i.SubTransaction("Table "+Q+" not included in parent transaction.");T=null}}),W&&T&&!T.active&&(T=null)}}catch(Q){return T?T._promise(null,function(J,j){j(Q)}):En(Q)}var Y=(function Q(J,j,re,q,Z){return yt.resolve().then(function(){var ee=Vt.transless||Vt,H=J._createTransaction(j,re,J._dbSchema,q);if(H.explicit=!0,ee={trans:H,transless:ee},q)H.idbtrans=q.idbtrans;else try{H.create(),H.idbtrans._explicit=!0,J._state.PR1398_maxLoop=3}catch(he){return he.name===An.InvalidState&&J.isOpen()&&0<--J._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),J.close({disableAutoOpen:!1}),J.open().then(function(){return Q(J,j,re,null,Z)})):En(he)}var ae,ce=je(Z);return ce&&vn(),ee=yt.follow(function(){var he;(ae=Z.call(H,H))&&(ce?(he=Ji.bind(null,null),ae.then(he,he)):typeof ae.next=="function"&&typeof ae.throw=="function"&&(ae=wa(ae)))},ee),(ae&&typeof ae.then=="function"?yt.resolve(ae).then(function(he){return H.active?he:En(new _i.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ee.then(function(){return ae})).then(function(he){return q&&H._resolve(),H._completion.then(function(){return he})}).catch(function(he){return H._reject(he),En(he)})})}).bind(null,this,A,O,T,m);return T?T._promise(A,Y,"lock"):Vt.trans?$s(Vt.transless,function(){return $._whenReady(Y)}):this._whenReady(Y)},In.prototype.table=function(d){if(!_(this._allTables,d))throw new _i.InvalidTable("Table ".concat(d," does not exist"));return this._allTables[d]},In);function In(d,f){var m=this;this._middlewares={},this.verno=0;var $=In.dependencies;this._options=f=n({addons:In.addons,autoOpen:!0,indexedDB:$.indexedDB,IDBKeyRange:$.IDBKeyRange,cache:"cloned"},f),this._deps={indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange},$=f.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var T,A,O,W,Y,Q={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ui,dbReadyPromise:null,cancelOpen:Ui,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:f.autoOpen};Q.dbReadyPromise=new yt(function(j){Q.dbReadyResolve=j}),Q.openCanceller=new yt(function(j,re){Q.cancelOpen=re}),this._state=Q,this.name=d,this.on=Qs(this,"populate","blocked","versionchange","close",{ready:[qr,Ui]}),this.on.ready.subscribe=L(this.on.ready.subscribe,function(j){return function(re,q){In.vip(function(){var Z,ee=m._state;ee.openComplete?(ee.dbOpenError||yt.resolve().then(re),q&&j(re)):ee.onReadyBeingFired?(ee.onReadyBeingFired.push(re),q&&j(re)):(j(re),Z=m,q||j(function H(){Z.on.ready.unsubscribe(re),Z.on.ready.unsubscribe(H)}))})}}),this.Collection=(T=this,Hs(ru.prototype,function(ae,H){this.db=T;var q=Da,Z=null;if(H)try{q=H()}catch(ce){Z=ce}var ee=ae._ctx,H=ee.table,ae=H.hook.reading.fire;this._ctx={table:H,index:ee.index,isPrimKey:!ee.index||H.schema.primKey.keyPath&&ee.index===H.schema.primKey.name,range:q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Z,or:ee.or,valueMapper:ae!==rr?ae:null}})),this.Table=(A=this,Hs(Ia.prototype,function(j,re,q){this.db=A,this._tx=q,this.name=j,this.schema=re,this.hook=A._allTables[j]?A._allTables[j].hook:Qs(null,{creating:[_s,Ui],reading:[Hi,rr],updating:[xn,Ui],deleting:[wn,Ui]})})),this.Transaction=(O=this,Hs(Lu.prototype,function(j,re,q,Z,ee){var H=this;this.db=O,this.mode=j,this.storeNames=re,this.schema=q,this.chromeTransactionDurability=Z,this.idbtrans=null,this.on=Qs(this,"complete","error","abort"),this.parent=ee||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new yt(function(ae,ce){H._resolve=ae,H._reject=ce}),this._completion.then(function(){H.active=!1,H.on.complete.fire()},function(ae){var ce=H.active;return H.active=!1,H.on.error.fire(ae),H.parent?H.parent._reject(ae):ce&&H.idbtrans&&H.idbtrans.abort(),En(ae)})})),this.Version=(W=this,Hs(Uu.prototype,function(j){this.db=W,this._cfg={version:j,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Y=this,Hs(rl.prototype,function(j,re,q){if(this.db=Y,this._ctx={table:j,index:re===":id"?null:re,or:q},this._cmp=this._ascending=en,this._descending=function(Z,ee){return en(ee,Z)},this._max=function(Z,ee){return 0<en(Z,ee)?Z:ee},this._min=function(Z,ee){return en(Z,ee)<0?Z:ee},this._IDBKeyRange=Y._deps.IDBKeyRange,!this._IDBKeyRange)throw new _i.MissingAPI})),this.on("versionchange",function(j){0<j.newVersion?console.warn("Another connection wants to upgrade database '".concat(m.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(m.name,"'. Closing db now to resume the delete request.")),m.close({disableAutoOpen:!1})}),this.on("blocked",function(j){!j.newVersion||j.newVersion<j.oldVersion?console.warn("Dexie.delete('".concat(m.name,"') was blocked")):console.warn("Upgrade '".concat(m.name,"' blocked by other connection holding version ").concat(j.oldVersion/10))}),this._maxKey=to(f.IDBKeyRange),this._createTransaction=function(j,re,q,Z){return new m.Transaction(j,re,q,m._options.chromeTransactionDurability,Z)},this._fireOnBlocked=function(j){m.on("blocked").fire(j),Us.filter(function(re){return re.name===m.name&&re!==m&&!re._state.vcFired}).map(function(re){return re.on("versionchange").fire(j)})},this.use(Xu),this.use(Ju),this.use(Qu),this.use(Yu),this.use(qu);var J=new Proxy(this,{get:function(j,re,q){if(re==="_vip")return!0;if(re==="table")return function(ee){return Po(m.table(ee),J)};var Z=Reflect.get(j,re,q);return Z instanceof Ia?Po(Z,J):re==="tables"?Z.map(function(ee){return Po(ee,J)}):re==="_createTransaction"?function(){return Po(Z.apply(this,arguments),J)}:Z}});this.vip=J,$.forEach(function(j){return j(m)})}var To,Yr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ec=(Pa.prototype.subscribe=function(d,f,m){return this._subscribe(d&&typeof d!="function"?d:{next:d,error:f,complete:m})},Pa.prototype[Yr]=function(){return this},Pa);function Pa(d){this._subscribe=d}try{To={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{To={indexedDB:null,IDBKeyRange:null}}function iu(d){var f,m=!1,$=new ec(function(T){var A=je(d),O,W=!1,Y={},Q={},J={get closed(){return W},unsubscribe:function(){W||(W=!0,O&&O.abort(),j&&ds.storagemutated.unsubscribe(q))}};T.start&&T.start(J);var j=!1,re=function(){return Eo(Z)},q=function(ee){wo(Y,ee),ga(Q,Y)&&re()},Z=function(){var ee,H,ae;!W&&To.indexedDB&&(Y={},ee={},O&&O.abort(),O=new AbortController,ae=function(ce){var he=G();try{A&&vn();var we=rn(d,ce);return we=A?we.finally(Ji):we}finally{he&&X()}}(H={subscr:ee,signal:O.signal,requery:re,querier:d,trans:null}),Promise.resolve(ae).then(function(ce){m=!0,f=ce,W||H.signal.aborted||(Y={},function(he){for(var we in he)if(_(he,we))return;return 1}(Q=ee)||j||(ds(eo,q),j=!0),Eo(function(){return!W&&T.next&&T.next(ce)}))},function(ce){m=!1,["DatabaseClosedError","AbortError"].includes(ce==null?void 0:ce.name)||W||Eo(function(){W||T.error&&T.error(ce)})}))};return setTimeout(re,0),J});return $.hasValue=function(){return m},$.getValue=function(){return f},$}var Ws=ls;function Ta(d){var f=fs;try{fs=!0,ds.storagemutated.fire(d),va(d,!0)}finally{fs=f}}w(Ws,n(n({},kn),{delete:function(d){return new Ws(d,{addons:[]}).delete()},exists:function(d){return new Ws(d,{addons:[]}).open().then(function(f){return f.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(d){try{return f=Ws.dependencies,m=f.indexedDB,f=f.IDBKeyRange,(da(m)?Promise.resolve(m.databases()).then(function($){return $.map(function(T){return T.name}).filter(function(T){return T!==oo})}):ha(m,f).toCollection().primaryKeys()).then(d)}catch{return En(new _i.MissingAPI)}var f,m},defineClass:function(){return function(d){c(this,d)}},ignoreTransaction:function(d){return Vt.trans?$s(Vt.transless,d):d()},vip:pa,async:function(d){return function(){try{var f=wa(d.apply(this,arguments));return f&&typeof f.then=="function"?f:yt.resolve(f)}catch(m){return En(m)}}},spawn:function(d,f,m){try{var $=wa(d.apply(m,f||[]));return $&&typeof $.then=="function"?$:yt.resolve($)}catch(T){return En(T)}},currentTransaction:{get:function(){return Vt.trans||null}},waitFor:function(d,f){return f=yt.resolve(typeof d=="function"?Ws.ignoreTransaction(d):d).timeout(f||6e4),Vt.trans?Vt.trans.waitFor(f):f},Promise:yt,debug:{get:function(){return sr},set:function(d){gn(d)}},derive:b,extend:c,props:w,override:L,Events:Qs,on:ds,liveQuery:iu,extendObservabilitySet:wo,getByKeyPath:N,setByKeyPath:F,delByKeyPath:function(d,f){typeof f=="string"?F(d,f,void 0):"length"in f&&[].map.call(f,function(m){F(d,m,void 0)})},shallowClone:I,deepClone:se,getObjectDiff:ba,cmp:en,asap:M,minKey:-1/0,addons:[],connections:Us,errnames:An,dependencies:To,cache:Gs,semVer:"4.0.11",version:"4.0.11".split(".").map(function(d){return parseInt(d)}).reduce(function(d,f,m){return d+f/Math.pow(10,2*m)})})),Ws.maxKey=to(Ws.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ds(eo,function(d){fs||(d=new CustomEvent(ra,{detail:d}),fs=!0,dispatchEvent(d),fs=!1)}),addEventListener(ra,function(d){d=d.detail,fs||Ta(d)}));var Xs,fs=!1,nu=function(){};return typeof BroadcastChannel<"u"&&((nu=function(){(Xs=new BroadcastChannel(ra)).onmessage=function(d){return d.data&&Ta(d.data)}})(),typeof Xs.unref=="function"&&Xs.unref(),ds(eo,function(d){fs||Xs.postMessage(d)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(d){if(!ls.disableBfCache&&d.persisted){sr&&console.debug("Dexie: handling persisted pagehide"),Xs!=null&&Xs.close();for(var f=0,m=Us;f<m.length;f++)m[f].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(d){!ls.disableBfCache&&d.persisted&&(sr&&console.debug("Dexie: handling persisted pageshow"),nu(),Ta({all:new or(-1/0,[[]])}))})),yt.rejectionMapper=function(d,f){return!d||d instanceof Ye||d instanceof TypeError||d instanceof SyntaxError||!d.name||!tn[d.name]?d:(f=new tn[d.name](f||d.message,d),"stack"in d&&P(f,"stack",{get:function(){return this.inner.stack}}),f)},gn(sr),n(ls,Object.freeze({__proto__:null,Dexie:ls,liveQuery:iu,Entity:Ca,cmp:en,PropModification:Zs,replacePrefix:function(d,f){return new Zs({replacePrefix:[d,f]})},add:function(d){return new Zs({add:d})},remove:function(d){return new Zs({remove:d})},default:ls,RangeSet:or,mergeRanges:ro,rangesOverlap:ul}),{default:ls}),ls})}(vs)),vs.exports}var _l=Jl();const Ko=Zl(_l),Ka=Symbol.for("Dexie"),Es=globalThis[Ka]||(globalThis[Ka]=Ko);if(Ko.semVer!==Es.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ko.semVer} and ${Es.semVer}`);const{liveQuery:$c,mergeRanges:eh,rangesOverlap:th,RangeSet:nh,cmp:rh,Entity:ih,PropModification:sh,replacePrefix:oh,add:ah,remove:uh}=Es;class eu extends Es{constructor(){super("AudioSampleDB"),B(this,"samples"),this.version(1).stores({samples:"id, url, dateAdded, isDefaultInitSample, isFromDefaultLib"}),this.samples=this.table("samples")}}const me=new eu;async function tu(o,e,t,n=0,r=0){try{if(await me.samples.get(o))return console.warn(`Sample with ID ${o} already exists. Cancelled.`),o;const s=t.numberOfChannels,a=t.length,l=new Float32Array(s*a);for(let _=0;_<s;_++){const w=t.getChannelData(_);l.set(w,_*a)}const c=l.buffer,h={duration:t.duration,sampleRate:t.sampleRate,channels:s},p={id:o,url:e,audioData:c,dateAdded:new Date,metadata:h,isDefaultInitSample:n,isFromDefaultLib:r};return await me.samples.put(p),o}catch(s){throw console.error("Failed to store audio sample:",s),new Error(`Failed to store audio sample: ${s instanceof Error?s.message:String(s)}`)}}const cc="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQRChYECGFOAZwEAAAAAAIgdEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHWTbuMU6uEElTDZ1OsggFATbuMU6uEHFO7a1OsgogH7AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmsCrXsYMPQkBNgIxMYXZmNjEuNy4xMDBXQYxMYXZmNjEuNy4xMDBEiYhAnEgAAAAAABZUrmvlrgEAAAAAAABc14EBc8WIGaH8HEctQJ+cgQAitZyDdW5kiIEAhoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4ZGfgQG1iEDncAAAAAAAYmSBEGOik09wdXNIZWFkAQE4AYC7AAAAAAASVMNn/HNzn2PAgGfImUWjh0VOQ09ERVJEh4xMYXZmNjEuNy4xMDBzc9djwItjxYgZofwcRy1An2fIokWjh0VOQ09ERVJEh5VMYXZjNjEuMTkuMTAxIGxpYm9wdXNnyKFFo4hEVVJBVElPTkSHkzAwOjAwOjAxLjgxMDAwMDAwMAAfQ7Z1IIY/54EAo0IggQAAgPi1SeoyaPp6kgteriSYO9+t5Q+jJotGSKwrl/m5Ggu6hgATfQbcXMMuUv1f8/sxTi+YGPxELOcwYMSUUt992GMICQqWPAP/aK12Xg4fBz4B9ECXTB8C/YJIXn95l2GNa3GsVaq6CUx3CC0vKV2sE0hXvpwBZ/5g8rYS/bf0acVLPpBYm2FjwJilGro+qmxJ+Rl+nK5/YFKeFAryhZ/ToncOihyhD2zEEn6Qn/YFY6xaRS/4p9iUy0EwlG3Eg/vz/rsPYoaO+FQ78EOWCrrliiXzZqXeIa9uTN8C+6nNnDnL+DoelKmBZZOuUJ3MMmjYfwypVOSFmbhrQDQuY6UfBiBkc2IyyeprQESAAAAAAAAAAAAAAAACAzeyYaJw710u/i0eGoaLSBXicZItDmCJMb94RDMHxn9QXmgP0Z92odT12qboUBU9YlSLBVT84DPDt655h6xI2oQJXc2x95w1UF4XrHzzG68UdaPNi3Xj4luz85SuobEPIt20CQRHHilr+6l0UR9kwxam56nw39/1Yj2TRYMI92jd97LiI2ohennHlLzTMsWyFums7pWjswOF/le6euwpaVBl1E4mNVx55RaXb5HZszPcsttPLdrkbPwadw2J8tnh9qbw4fXFnKEVJD0Ss30akZ5W501Hhf7zNj79L99N9GHXf6SNEeRtaJANe3XGLxWwr58GLZoTxCxDy3dyYSOz5aKJCF4pG6NBXIEAFYD4rbQmNg3zBNPyB2URIErC8ICJTkpJyDx9FyxIyaIvsN2TMwgQZZ0cqyUnT49RwjXRvpJmreztajmq0bmSQFLbBFL9djFBx1SzSp41+STZi7DZUnMsUEZTY+njc1nZdlpZ8YbUk7GU8Klqw84PRTQqkoLNxC3dXmg+i11NcqbnxontPywcNJK5TltoI9U3b3i/bzrpPMJ7/HPIKQ9+buNsbVOJ8wSHuDq31iRhaUFoPvuPVqHdAeUZoN7NCa2iZYQwQxa5DkheraKxiNrWqO/xRlqsj5i7PRZancYfWvrtFEzWgzEZtrzZMw3lLL5sjjtfesKLPUMy6lSFyHbe40M9truUx+wazN6dBFNW+d1foaF3TE2kGTmgVrysnuicS2ZFoH6VQMuXXhRNZlJN377OYwg4PLqFgzWrfCqe7kMzCs9/C81ikmFL///56BqOLtlhElORsPWbnKNBWoEAKYD4rmR5TZXsgUci7ik9w9h7qpMYX2comNGK+b1g/F7TDZ8+56eNUBh1vlBqonujepD8tAFVt105XjNjiCwAA665C7TR787L76PUn3+4fYvUPY50hYIwFmRKOoGSO8ghx1TGUXM06H8GFlVRD5yy0Qa38gaI5khRdKCHppjbhw61NVnoIY9FOAfphDxdtpAT4oGkFgJs6wTUfb8+lF7wbbllRFQyJXx28fGYGdkbDC7Zke4CDkuBJJ/ha4Za5Uv908kq//7w2otVl+2op0RndcNjxB9qzyCEabP4BUpUGF2n0asc+gUoaLylj/R4WA2kVhDkTrrYHQtIIFYL0em+QZKu9aHTg3L9rQrBDPcMOUoYpFNe5c5jbOHW0kRqnlO5BvW6vFWxUC2go1YKQdhZ5qgrbYQb2xytMmp5XoV5LxO1hp2RBUJQTHwqmxcTfhlkzTghKtIbm5yjQYCBAD2A+KsmH/4VC8I5/SKsecpbW13QRcyggAQBJMbu1DXsdii+kpwJFmtJDm3Ejqz8aCNZu4pygDlWcOtKjm4Miyn13XGxI6Czz+mOvc8kUxuXWNdIzpOi8odJBeDOJmJfVg2KrWqbPD+kYGc9gbS1Kj+si2DxgYUHgR0IXOj0uyaMqjtagz8KTlRb0zdOpMbuk38t8IFJc5Rjuqu/aZSqdr+SUXDoe4WRPP91T9Y/xLa4G1ScelF8WoYGHMzTv/tQndWRDSSCx6NJJ+isrD0t4w3q+e6rHWFe+5BQ5/gcZpzbII94r06h3OPY1GPxJMjrLvi0zDDSYkYZoqD3gz5ANP/4lBhA7i4yEdmHVQ6mfGPlH3T2uVC5HsNi5WFUZSz7B60cQCE99TprgsTQ2PDEMYnQDiiye/neL682VUDFcQdgXse3PTtGUncXwhZzMOale//3ADr/8vkS6uiEQJQCfSKZVfhQQss1s38oheK/H+YeIKebBVp0wiebGYfHy5yjQXCBAFGA+K5DFYRpg1LUpdEvFAYJa89Nn/aB6711QxmPBm/Au2AAHCYmcQfnEKG1/6mFPXFWuK+8Q+3POtHRJr2rb9MYoL2vZVGjTb8VmGDxWWBewkttSQ/nBewLJfaT1A2w5G4NWw6aunChoCUUoJ8iO9sK9aRNY3DIjcHzUWQAely8HBIQ61SO/+VFhNy5SU7G8vqaL3CKbOzjS0oCxou+rokMASDQwT4diCJaCwH5kw/QDerRziE1em4kneR9WYKn+lVbu4JkbaQGMhy8c8y/r2FWDx/QhH6EBxohJkArB7ZVMI8Sh7csRd0M+ofQxJ4yyQpPTv5nxQbcMYL3kpxzEumOUCdjumOUJpGxolQUMw4BStldW/LmvdpPSe6CI0jZW8x6eeBT4cSkFF4qiAxzer4f8Wkko3TfX6e0LqOQPxYEvipV8l2iCRsLS7n+kD1Jehvt2kE2oh2WJTzusPxDqF9H3JvjXaS9KT2QAvNPnKNBeYEAZYD4rlgGaTakluezNZlGmY7qCeegb9Kamq90QC3yKhtxwO176BraQjTntMUT+f7EeFTDSweaxSI5YnYkfKsTPhzIosoEQUaTpBGnrPQHlOUoUaO8KlUNu9mZgOGZ8Ley7+7wMCX/UJKDosU0BM/umk836ZAgZI9VOXAWWBcj+Bj2cpN74hKFpwOHZPu6G6dV1uQumQoGWJKZsvLbC9ue8P48hvB4CUKnDoz0nn9+oERUFwHScu3wPkfm8vI80ziKbiWeDIKUD4iaAF7rKjyH3TV6UBFEshmsJbw+bs0mXliamAMMScaPLl9irFbb+dOIop8OB/SZR0Uq76H+dX2EbTfewoHvL3UweHwcVj20HOrLuNJkMg5o5S5C/0+L8RtXiq7fLPwZrLfR2P0d24BU/+ufPIyghgJWX/Gjb9a2JhhKXjYH1TblQF3rRSy2mslrC27W8yXEge2Bc4oSlEqBpUv7h4n6ztB+hICfU91R7wgF2GVW1Keco0F2gQB5gPiuSuKEOHPX97mNhHnK3Xf5pUukuofHwxYp8lS9zGOok2wA/Dq4eIq5CEmSz3/mItEFZCdjXyfADm95YMbBnKKOLX0+PHtEXmwUSCBFkLuYXMNBBi9ScI2nIjMeD/QLx72JUXwflPBckgp/lDXWjSsB4CLnNmo2huJ9ddMYqg1qwX/oQ9y11x8zCC0/HWxTw/m20nhYfaZVVnwbzoUQWG/5Njr+UjdQrcTkZaO1zeMGjTIw53EMPXJgn2LhTXROpR0MY3Ei1xmZrFPjBzozXu85jXCPlnGgn265eo2xVLWVJeu4vbA6xdmDUxoZJZniRs1gkUjMpdYWML8MwyOIlprbGTaZ4MhU2xumdZoc34tKRfV8k5eUCCgZOqe/X9NgRC+inBURIFrkZgcOK9I5RJTsq28AxknZ5JXMVzvefS6wzeVy1ujvwGMT/45NxlN6+kVemAHJ8de8nFkooLgkqNPzOhL3srF0kKuq2Cugn4LjE5yjQXWBAI2A+K5XpHGJkVjPU5sttAl8JBXznvh4ktbKgveROAaRELkld9HfUeTYO8QL2G4YfCplVE3kOiAAAovqdEAxHe7epEdh9ZFC/EiEl/C6pu5Ri0HK9wcCNdObtnoBfjXeHvTHPVZauZBQvoQy/5OI6y7drE63n0Uy62RmBfwtTS10PbjQtLcqFyz27rv5J+R9wchLPwLf7SvGTaJzf44yFvQKrUOJtQyiMkWU8zsK9ddPz+tUxEPUXMGzJQ9QgbgRKEG9bCSDzxyPmEPVBrfZb0HiflqKDxXMOgygqUVl4Y0imNbi4Bpmx1PBrnTV4xvjuJUtJBE6s+7iNHftDts2mBHKedXy05KcezMhqA7b4V0oPQUGfWp6d0ezB7kLHh0kigFQ2IbNphzu7ag8+3Kvp/SFm4MZA+8UcMfERAHaWu+0zlb0vZqeDU+opcGbyO6JxjsVsWj6izf2ykQdOOAG3hi/0kphUuK/USLbtXk2KfI93k2do0F5gQChgPirJcG8NsDzW3I8DidPu5TsGy2UFlcipGJAYejvr/PJYoheYggUKPylX4Qd01fVqbHRSogvfwzmdw+O0DP3bfgSskFitEIl+3V49hMTF/GgWkJyhxtyMy/3gVb9/BHIX7rbmT4XihYqRiAzlVn/ow4dFMukTEnIdZ36bXfDQoU6TBjbdGV4PVrz0QZUfk5u+G/pBJTwJ/t2Frj9jlNAqPH9AYRuiAFl7c9M5DQfO8/ITmhAfGVX+7y5I9b6f67Gn7JJeKlzapvgstYtwaJHFPiS4aivCOa7ZQqcMz80FHhJMa/bCZE8hiDD/c21BFgHHfZnI94z4NdQbb0SutISueUgOWLCE/6TMP+X9EFaRM4xBa3H2zROqxAYEIaln+IfRrDBx7gNn5hP2dXSXFhYkaI21y5xrPYLktG/8ZIoWy+qFtQazoDqj8pNqp9uh+SiYMjcdTzneg+O2GLAyBx/4VhlWKqtmZssDoYTWohIhEasc32FiZyjQXOBALWA+Ku5sgAlnkg2PkPwYTqSnDMje/uITb3tYPMzAj7m2eB775fWS+Oivrwcp08FMw8Z7PEzW9mW1jv+82TlR1eh17mSeuPnsZA3xzZqpHxDQeiulniJ4lNDJJ4qbjYeixbA43V7oR5mCe6avUmZ3u4DGoeKuqOhJhXo3Yu1jR/YVqdlJ4eiteKmyGaUcjdV+B43YTDKAoXWE8kAMPHpf9MrU5s0LMnIb3a2Er80zNofQNGfWDQIKVHGaVB2nvl7giMbtiXUZYrTpP5rbzlH+uWPUmId1EDiMvgC5SVAQQWZC/NH8aZMKqabV0eVqFtXIoLydXZj3vlmwqXzqxVL0Jq3jeA1ha0guU50SB2BklIM3G+61yJ6PI62w9wHWprT/LcqnuQ20nFeB4Z9B/Qk/GKj48vHCpdVvkFqTWRpORNw/coXSrjLSjPuEYlVdBNLa97FlnhrnttPNqRrODaErtWSzQ0ZJa9FKYesnsu19NzpnaNBc4EAyYD4ruCgY6Z+WGP2DqQSEMcK+a+qI34w1hX9+Q9vt42bWqEJ2sDXKQmfmTO1YEdtKWKhb80/bepJB8RQ7BMAx5l0P+5TyttmPqP+CPFzmTrxqcJUjH6pzwdEIKzcmEPtbmksxg796C1JtyYmrZ9HTUZA8cN25FQ9uPrg6IpjBtdBgzoiVz6yJs+eaFsgvJo3vvpl+Ov9FiOx+TYZDLYf6BSXYkERJqvsG918UArEABAzVxCKGCri9leacvyFsbF9CyvtKANyAru2/dVJHZk6ETCy6FVyI01687kL53OQs2UpEiMo6DSCISgQRd2Iv8Z5hcdfkS0NJh4/3ZyVhN9TlijpmAZzSew/Np79JVHZGshaftdNj20eJNM1jwIudT2alyQhBFOtfpmmmK9p25XsYnbY7fbJGiuJL2OhQwKwTA58xjols/7EtpsrSR3LGSolUNGUQchL+uV52N9S2knW08IG8xLKplXU5Won1foTA2Wco0F7gQDdgPitfv6uqT/xXZcNu4cAkRiAqQ/ZHCPzPhhP3rvKYHV9jKYxgHyHMAPSrGgee56koUOCPDNFMQyC3hf0sivHtdf91GoAjob5+0QPaldg8eRHMz00Knsr6qqHs3xJtUwhCMxwcH0JV01Fq7MVe8wotcedLJwB3vsA92/cscsA0sbu5rnfqEEGsTjGzxzquQJ96FGtVY8zpVP4P6/b0Y6A8EJ7Nw3FVRtNO6FwawB+qDoOI/p9V5+RFsNcYnEc05fK8FxxKjAgG7CfwDlooKUILCL0iI0D8BMeyCnglPkFNSpMnBgpcxjFxqXwNyR54K4bScF2DQJq8Dq6KyK7O3XTqLXWdkSsaHrc6gdub4F/9/HPG/dXZjcmyrrmwBwTTheC+Ihyn2a0Gejy3nK2pYnGhofwJNyB11RM6EO6Sbm7G/gVXa53uRRcQDPdrvo5MmxhTgh1D8PvicUjUjnd49ewjQUWDqxac7O08xAegacOgUT5v883mH2XnaNBg4EA8YD4rmWunXxAAwmZxr2h0yHrb000kqz1/G8OdHCfrjIcne7gG1F66ktnO2YNZVA3golWG5Yom4pizHSeyDj6mkaDW4odJKi/M8VePXxtU5Xs5r9MvEe6nv6TqV2Fzcdp0C1Q8PYCbhJ4lFn4bGBYPcYmGbKojyPCU9L9eCv8Qfee66s+fq7j4eOdSCncWppWaTqLSWEzu7RVi0o83OwTMGK06DGulcwL4pn52hlA/vWI2kWgagIkXBNKBTMsbuefkJSjEGJN17MCeQx0vjUpqIecFbbAGgvqrZ6hAm1uCp8372P1vktHL3ypbB72gRw6uEf70DAliDxmIZ62IlggjzAjae0Fm+e30vN3nwlgQea1R9n4FmG/UQoUqmbha7eNdNb81O601Lc9rXAqk5dmUJ6kRSjviKjhSLHlCT8KShTeTtPQQGsjT9nZ/Jv9bDOYfF5OIFtoiylM1Ga1eHkzQlnXaWj9vmv0DrLYSodfY/6dTjP/i7Tk9QpbMz5ovrAvnKNBf4EBBYD4qyYbSs4Bybedz7wfTj2lFhxAwLIQWChZjvpTeAgbDtpoHLjIZBD0w+4Zcf8Zj2ZwfgRGcmWREFGaz1FP3RzVMBa8vI6i1wPEozvgDLqAC4CRLu6z0FoEPGDEMnwlTmjBF9LrG99oSkz4kcj11FOcJ5Eb6YfFdDLQyhcWDPI0t0hmfrTr6k35T693AB71FzGy3Zfba6xKq+/U80ZCwQCfPUXGuameW3H5mW3u3DUQRYvKdKMaIfK6Q0OF/hCQ4osc+zSAjtEwLdFk6e/t5B2uaL2h9tpUMNbXXCby57eVS3c0y4yKnjkg+BuQZYEFLeWiZwx1H7Bz7f8QtenTx23LIdTbKcnY/EZgpRXjxZnlra26GIeY0qRTdc4/yKO3H8pBjWvFSDNDp6W7FKxUfrzKC5qJRx8py+vDhKwbUd6Z0+ZA2nckSLKESD6LlsLpiLuLux+nTIVPBymOLRUS78Ub9xKoYRVa/RlGnP3op/nSKQx9v6oDVHUoxeGco0F+gQEZgPirt7RUfZ4U7xSknbSA2cHCq5d5OyzlumTZ4qEulLnEVM0VpRcYwi4Pv0UUTYZ9t0DhWAj8qTxx+/dVEJl6RNZZvIdW17tDEY19kzKRzh9aOJXgp2TiSxo8hFmv8Lq7PxpQFrGdSKcyYuaX9zxtbC48SrfocRHCPS+nEzXzoIYi4amxtaqdDxPdbIkl3ITDV9CL02bDP5gXWf6zbwMf9pd8irEXbNpW+ZaYni7A/0QnlCw37iMdtKMCuJowZhwJEux91BOk+ANkLB5tByMNrgEAYh0xG0FylccrmVYgZfQRoyvK27KD6ICpS2/NRpoz1mxGz4wxOcNeiLhH9YbrNI+MF7Dc32oZenEaMAqUegKtQAFqbd84Z8NuuONSDwqfvtoanwuLxDNdKhhFAUntV4z0lT8wJ3sUQ/tuk7Md3n4N9s/DLSeul1K7TDxd/fCuExNmnVk+LvPgF8NFSNGyQhhW5/y+yv1ju1GjgPUFhUrjG3tThHKSVZJrnKNBfYEBLYD4ruDuzfOaUQkI8rYE+tX7cxDbw6pZut7pg31Tq/8wLfNoVzG9M0QkZOH27UQ925WiLhHDxa/g4O58Al/ShdOMtaMAyJMEjT5TCyvFfA+1BNFVH1pjy6sUScLoipv44/i1TTPvKbcesDKEtGtx9Tg6KLODGiE0LzKgn+czRk7cMqjcUbpborBDTUkRjlSPKcAYDXKb/uKthsiswH1YJhl74RLMvRukc2UUuZX4u15e+WhSKCs1Ji014J7MCxrxIyvWbIBaiuYVYOotvthrV6qT1iZsuNoinf4UOoTvXrANloXF9SGL0n7YWLchNcltjy97pjV/5J/RlmV3UvxB/DmtGGLbWeXynBxITUb8Dqz7sU/0SiFeqxsorTJnklEldgaIru76lEbTEuape3EhscexkEeFEJU+p9rwMbT2PTfGQ1FIuHHdqSIQKOuunEm/LSZeA3XQgrGOnF+vlxlvLo3o9Q5PxCwkGbqvhV/ksesyODDfMAgekkOrnKNBe4EBQYD4qyWKnBysdL7nWpLzT7HEY9Hx7EwRW7c9Wb85w7a1lkEnBAiICdOiSyvQYU3bjRJf+MCTx0+DgjJNvAprYGb1UL2AW7FMKIusNlKIrOjs3//pe7ojGxumFcEVLPCyPAZppGf8Oq0xFi/SOqhOfjpImX536tbTeC344NM0LzAWVMzW93aSf86GaArrfOAZ1JreUNiz76d4EULwF6lnf4KsCuDU445zqL7UsUysMILsqglguDhItUnqQU8zPyvRsuBBcLCijWT4GzcSTBPELu/+TsMwBoAJhLfsGeLE52E27URGXlr7x6QCGoyIxrNgVRKW0uxWIgNRkhCXxMU4szQfj9PZ8GaLhGqcC5txA6MX54zB4ZcGYc9M+FLdaWcVJjWPtzZZdnTompHSUJodEUqrou7we/gM5NG/zdWvGOdS+y9qGvomc13hF+cbyBNDKZ4F83Fcen6I/vl6nIc9xjrMBjakhSHQcpYpBt7aUSIW66Fhq1M7qZyjQXmBAVWA+KsmcmAY+Vh7Pno5dxIgoSoQuKcrY9QGFBEmkcEa4t2C4Ky+b/2evEtswHDfWKg4JNCLcxzeOH8x5cw9ZLnKqRU3G0+iP12NQTOUTpCAYlXRzZZUZWiKAhxxdlUkjeJvvqV5a6/3wj6vvkdTIKoQV5OIDqJv7zxcfdfugNoj7ByJW5M1k0Qh21DciZAhOPfGyeJfyoLBkMWx4bgbU1GavQJTxttX0NyLytZbXqxK/gDQJH0pOYJVc55sFQQVkZ2SitQ/EuLSuPuV6Uqw4bN3lxts2HFEVoYO5K+BIu/TcUYc99PmP3zoyN1FK7QEsCXvjDcBTdlFoOekRN3Jbu/Kyo8vsfrsSvjf6biNk9zAEz2lVTQd7F67FsKk5T18ydE/d+HNo6i4HtJZMDnVRweprKqojzh4QUseOPXYatt7p7iN2mHZV2u7XOlvfqxziyabdNxgyE9HDEnAqFSGn1Rkf3sYZbu5Qtc72lKapvpPOWKEyyXrnKNBf4EBaYD4rX6J7Si6AyV9o29UnKrlgK+NZ+lCnF1nYzE34mHxpXAToLK3umlnIv57Hg4f3bcDUqeZN0rt5M3Lir5AOK79GInxch+gTQEPt/4zBq/fGU3y+HVJBsbouN0Y/Ydt0zxySPLFvh5YHrh8CCNZN5p4DC2CYkUhsxH2o63oaoqPQpGcEekyH0bZTI0ZX4/YF7NUGnNCwcdgeMya83/FSgySH7mNGuA5ke05DS+AZqG4ewpl8Pk7rPQCJnznHytd8DIUwo95FmvRHMQPJyBkU8tDFjYV7ErdqBUYPbz3DxL97YyijuSt7Fd1vGU+TGgsTl8bSqkWve4FXPpXrt7zsJ+i5nO2c8ZLfg/WiMNXYbRFZRT43bU7JZsFo7hSrpXJnxxTXwQMrdpDAZFY2Q90qaoX9WOE9t+NYpcy8qVggHjc4EiGVdG0IHIBXWkwuFxVbtdZh6iAVppPe3amsfMHazcRiAj3wcSox/W7dxUrjaZHolAKZfNBnJHwD1uco0F5gQF9gPiu4HJ5yhlJ0ahSQpJYKuu3/7nowis8jR5I/u+uoqPPHEHhHtl/AnLqDrhK9BvZyU92CX2Y3W0ZjSiMhTnD76UfWb0ZMOoZvYZOdPuSiTbTW/dIWusQlyB5wfrHIZGjDEzrDM5n8oxgTYolwWY7e/DuknbRkDV55U+zHswcdFZ+bxwgba0GnNnoKDnmWGD1vyQpX1CQ+2Tn0yxv4s2lH3U37CCNuFiU5LGR/10aXo9pmS9Bs3jXUaiAYeVjDGBI/HCGc9fuawr3mvtguTzNgv1IAV5IeLnn+6IrSR2FoGdtcssBwGOsVUkoWJZaYlcnUATx6r7hB6OlO+InTKEHOQCeED4TRe2PVA8Qt/KmdqAdzP0AwhYWye3DBBLjd87iAjj1cj+IaaKpwW6aw9fskLtZBVKBsxm9pn88Pz3acEm9XRrGlR/l6ec76uDOjmH0ngAYm4I7i0J3rYtBuZQDohEMz7tvsgSNcYLcEVHxNhQCyMsGJZyjQXiBAZGA+KsNzkgOLsx547z4rhB5P53yzu/OQnoDAwtDTOHeezy5GIz5/FBsS0zZRrxazmS7ICCJNBR/pJUOLFImIcQJz1YNyY9LdZnk+vBE85w+zJHDk3m3OOA+KNqmnMbtzQfbx4Z0lA62k/DFF3xOa4SJwvGui3v3yBIZ3JBANxzqm61dFh2aJ/3y/WgXKQakchHtQKC8DXd3bHPIH330TtH9PMnWu8dl/+8v4uvBA8+OA3qfinYxEjbZbiTasPKTmt8eAspE/HT6WxEgk9wKLjnsvkCQke7QCwQz6a2PpVI69OhO6fdsONytppf2517oqHXQHXz1IkIzRXO+qg6FIoi4Spp8GcCzcCXq7TI5on8fVNPgjVemQXVkilPN9R9HCJzVC7r/EI3VaVDWMxMnMRGzCt5D/Rc7mmHgJwBjvx71nJFg6O+hFI2Net7ZrQ9HdWdqAGKLvsUoVBAAGGX/a/PSD3a6M5KOfPZS4QYL7PdZxWNf9a+co0F6gQGlgPirD/Hhb4EmD7AFnGcW1BCSDmlllwx5gGE5XQ5kkuh5nHUypVvR/jxCihfpdbf0TAwekER1x+6T73V/09e5r7xgZJf68M3hb6fppMI2KmZL0JzWR0dm0u99C7wK22JknEg4tg8DPZtqVdIX78nfgyi9bG3uFoUoumbMbRJw0HmVAE6tAWQkO46CEYVWHzkcH1s0rM3Enh1eeH9xScAJY7E7m1fyCOKczNIcaNXFAdGLpJk1FKSit7OPdeZJw+i0uWYMk7mBwu06SHr9LieBlD2BX0geNcRls1nl0065CmodeVtXctZvMt5CtBmgsH5v8VVjNuojy/EM3CPl+6+9bPyBq1UpNQSGBaG2CCZ5ETzpn/YMGrlvEMwV3sNcWcO9A6ITKYBafFcAd6Jgi/h20TjjJ2sp2Mw+I0UxtNYJoSXCFvEhXvdbvXF42pC45Y1rRZOE4cJ6z2JkDBKkgGJaEulIn0kmk//pCllRYzL2yf9VpEDM4QOco0F0gQG5gPirEJqov1JRxhyNsDOyhvE6WbjuNEsuKQH71OPPCoYiyIllKyd394iMMxi5LKe+Q/cg4FRXYA4jFNaI20zF2Ypm25TdXbPqBYDbI5anlimQG1I1C6QN5cpr7cGAUNRMiwsBR5osyrz0Q4Vdbxf/v4YyTw5FG1RDkQopX8ImRZMhQO/sxGcHXHJL0fV8F1qoXPfbaJYl6g7wGzDgokCf0PcOk/1LLDa+hbWzEm6iZTuPnT6y2pUVSkCpcTAmlNlMRptBREPy7EEyjS5FSw5XF15tFyguL3YuzhnfYZi33ZrugF1Q7JiSaHp/y8rbV0Dr4v5K5UWyLYa9z5XtgGR3ooDG0T+ojRYtD4mKxQINaJh7G2eMAUlUehcCf7yT33mSad7zWnoRb/t8H5Dl/q8ZX0PVfAKAxrrucP7EAfPUI5pcE3X8OmPzta0P6EpSbTaX5DbSmP2y5LtGqgG1jAoEYCzZ7Vji1UiQBP7j8f401Huco0F4gQHNgPirEy3T9a+pOuj5sQR1i+T4noWPs16DBwijys0c0G5eI42tkgD55gKjp1Fna6Ekq8hYu5MuVL7MtDhskGEKz8jh+SStn0Rpgi0ZIb0QHVXPR2FUb8P0Lu2IM4aTcRvv38Plg6GeIJRBPXKSRUmCwrbeNSm38rMITP1LpwOS0P//kfHj/bcQuNXiMQO8/QEA+oWUNG8IhIuqt5WHEOr4yHno+091V+S7WJ14hFERdmCKqjtc0g7O9YRL+FgIqMhn0QQnSjFWoetS6lm1spOzSWP21PVtZgI3yrbNnKLNHSE19kdqUS7o1Ye8GQGYa9ej1AbA+aW4sAAlBoY6AaqxUBMBqSI9GxAei8NbOqzi4jatPkifKOn8N1GvC053hNFi2s8WMwani9ZsdhjTnswZejd2QS735Putmr11rAxmKWiC1jcP19As11JTmnB/WVdmyk6l+5YTmnHtW7MpKae42HNxJZ6GiHOwwqUv98bN62OPZ883nKNBeoEB4YD4qxvUWsyedhPZ8Ks85e7YB7cVFrd27ql3WfdsHMSUOioBExVzBioO+xDrHXyZXcJou/ZL6QfLdPYTjIzk262FhTESiFLgEvABKdjUYyBCGGCesuhSLk+bH/dqNDpomS0j+oZXxxXi96Aa/bSbihZUGNcpklzJuLDsHETJ9Pf/7sQDUi/no0cLS1OvWEjZK5cTTjBced7EcNd4LeAXKd0CA/bqSr/sRj1tK9e+A1jtjWVpN3KTNbbjTG733fOQsRxo9kk6mqhdvKVAyeuDMc0KzBbEabKuBoBU1BZ2CLB22FaTg1VJKzCcZUKSOv9KKZQvOuJpvpN7aFyaiLr3jyPm73bTkHBInJHwwImOZGUqcyJyniPXivmlPPvSStIRJXZKHIIRzIqHm/GrfY41lkpSGc858j6NL4xn6qa9sBu12BjdOWNNRocHo0Z3J6go/3Z2ohTfPQUC3XdENVflwo2rAMJfv9XbOO2na5cMWfhlkBM7HNGTmqNBfoEB9YD4rKaPQ+b6CDvrWr18p7YZIEGmebOOtVnvSwmbUkBRnx4FqW+16+fbcOqlCV9dsdL/YFPtyUnrGduCadoRW4b7oWwDB5Mpgj49X/RYE5KNSxidAdZToqhGqHSuVVZV5Dp4QBEPtdib9SATaPQvmofRm1VlPtHIBaZTx2eGZFMXoPONqA0RC/tFDNCn0bGpgngSenHSgsRsh8xPahcPmn1gEFRDGYhnPru0jTJwctldXKtD0fT7nyh7g2q0pe9A7t22q8X0x15lNBd27ZkxWU98wwY6YAFfSUFRM26vRvMTE03YOHI9vNrAE9l94bWAdqM2TuLQbxueZShMbqhYfD4jNA36vZH1VFNdsF65/g5m8NyxGPF+EEVOc8YX3ajcsCBWfj0z+8g5ZAyhVLHgkvtEIaj77C7eaGAedldeRLir0Vj1fUIoJZVhAVHhWBFjLHr+/qW0p8Refq6PX5p36YmUNlXHnen+cGtt6uvz/Ety2d/ovEkvlqVc+5yjQXiBAgmA+KsNUoqg5TFyxCFp+2tfoxKD9dby9E2ehTP3UQbUPUL2wr4jSECO22d81NoMqfqAJX/aooSDIBDASOiirnPoZLpEfi2Er7nEtFQ1MN/xXwp1Ts0kKTG6igESUS75N38O9ednQ30dWEtVm/8MqdWj0Bo0Ax2pPe0ooh2i1E2oPo8F1Eyer2OazLkRyxIXD4OrLRrhq9zyebhcZV6fwP2wwPlCsCE4ary/Wd2ndtRDDYmKq+ynYWkDrzTScEvkW8IQ5Sb/UmZUmxP/4FQW521g5HwhsRg21f7myw6oUMsfC0h6vpS2Ck6SI+Ex1a2b4IXFUkFJDfJXyZSBt5OxpQ0HFr27EfQPCLo9ZZ6WQhnr2LhNRkMkqyC2pgDlcT2pkkuvp0jPXodEDrqUW2qUM52y1cOT1R/YJZi0DWchBxi3YPm8gShcmF68CmqRjs+4UEDTjB133LjTE84gQ9k8XMJj8qQZVoFQKBtnguHPv1NXLZsGmYmco0F3gQIdgPitb2z4hwVNarCqF4TZZ8FgSs7IcE4Llb9eTQRsd18IfJMg52WQVOCxsDk85B4vUo5HE0iH0HhuAvgkx3WMaL9ZxlYs4lr7zALBMdekrPNnxmP8uSyZjW2HUE5+IIXDfvvNE/e25D0wnRXRihAl5m+0KzQjAI422xIvUxLQeRkJ5Xy3Pz3m5aODAG521RmiK6WX4O+yEAmtIfqtieduK38/HmOMvzkcXHTsq4F0jYOkd7xnKTevKN7eNG3ExA2O9WgSAQgPGMgYGaTJgtj+B1EEnrIlj7w8JHqI3nE0+EMTbwjBaDp4agZRQrEzVbZUsMJ/MH68AxZNLV/4fIb6T9c/29ZhZ/yjEO4vIYBOPzKnmZJIURy0cBczkfoPJFzbtgT4wPcOFv3o0VAe04iv+LgOG+qDokPfy0NtOm4F8WBc5Dtl7j2k8I9KsW9g91Er8MB0yzTC7IEuh7sptjVZwysf7+EIXH/TyzQNRtf30FX5ftOco0F0gQIxgPirDHVI4djwHYFezIL8tmDm34LRTIgODk7Q06d2jW4jm4If075DhCc39niR8yOZVkjW/5LnHs8azOz+p2i8iubQ87PYmS3r/O0tp+sxnL4JQaAL21SI2AzXNhxO+RkgHEz3TJ+Ilxo7rtF+jMhBrWu+8TdERVyfPeuTjjSzkRUYFFVE1BM836BqqbjGO3xDPqIQhe0bVH0+E/zaJbFyl2HAtkTzyBGAcQA0sefv/NNHarJIugpoGpBf06v09UlaQGLvUbeLhrcFnfWIF05rIfYe4hUM9Sw/+i4RwLHZ9nl7vQhFh7/JNve1FGQBbGLlrC8eUxPmm9qaDrskUqwjWYZRdGzeyU6hwtj5p3TDIgJE8+xo+woJ+PMWCONuI98uxDW/XO/39k7PFptmajcEsgcQY77kqdT7nrY7vgqGmU3syUU29Kj2X5his7Xvif4MN9jafpo6eiPmSE1Hbf7+BeYczHvEtjzxMPXvcHs8P6Gco0F3gQJFgPirdzdXK/5ipvh4F3kZGwrCOdq9S5rvnzWkuL2Ecao0HOt27l0IUWjN0gIiHT0Cb4xs0KPJV0enTwXJUA1nhYWNK+HIDqjBzlN69utuRiYecb8wfEtVx30orPea+0Zmct+nQdM30IeCmNuXRJUgxjGQUFWF6z0vMlfsZwkKophdGFVAwK5//uQQUgFM1hXigP6SPoQRCNk+2it8WTF1G8n5wg0v99v1AoZyCVPMV/nOm157glMswt1TCECvbluNT4e6ItjXojUfWJGr1SY2ozyDBR3c3HdnikhHB3FJYUP/uKd7LqWdVeSThqgO9iQVGH/Yt0arb0ZISEr/9WLxC2ILxODGmKIW2qGXUHfSTgjIL4G9xM/fX/EXAD8KRfLzlgLiq/uc11F4r8Pyq4NqLH6/FnfMO45z5b1D5Dxfwb2pWN0SWUCGycN4++Blu9ODkqxdQ/pFBH3qV5A0YUs72oi97pk/W3uzyZgxAaDmvLu5Nq+co0F1gQJZgPisp6EJaa6P5XlFiaiLbNzMsavM+dJqS74frCpUv6cZhCgN9GWk8g+IBCSr8iWRZGyCkN9pwRAC16qEUs69xi/Vpl1iMM4OSg2jMvagVKOmjkmXCWTF+OOBgtpSJhVX1EgW2AQ+GuG6CBhlbamqeXgtIGnpU0pIdqJEbGv/89OdtDqzL4rv8e5MriFNebQLaUSpvlbbTCnR1aDmGWzUoTPUQiJmv45rHGrQAIo16QAdhheNWOFjq6mSAruMkUCw4c+Urf7bkC5pzH5VOABld5ibbz5n910B9kaCgl5Zv8WJwcgkCUt6WLw3ahAcBtPdGQp/blIiNUtxQUlzxhCJfu7Q/W7Fb7Cg/+3dHwIO4qzo82mzxdNoP1v6tRKPV+lTE1vDdsgyi4w13MG8ouDfHuGgHJ2BlsR363xbSYnR7Juxf4FlSr6p0XcgwHdpjNIGO1f7b5Ch3//b4uQsqOrb2lwjIUZS1x2MP3cSuiPjxibtnKNBdIECbYD4rffizm34BVpGbqW7J59HD+2w3CEuUoCnf7f/gSCn2xL35m6titc9cyZZArLoq3oXyFtEE09RlZv1btUEQ61n60FSSCMbrLx1m4mlrOG5oVwC+y40DDurp5Dw88qMUNqo13niQKVGXj9FsWVTiZnLzPKIJtjl2NZvYc7tNz7S6MLP9axxr/EGTd9rDU94eH1A3yRw0Gu6rGHtDf0z7hJ1HDNtYsPWtvoslufeb207ojLYrOYpZ9OEbt1LdrABcAKT+Ar88rRYxDRo5g8RrdSXy0Y3olAU02XMghkai33S+XqDABDwpw51EIRcDaIluqU4Aggh/egNn6RHmRh0PJOTPpxomWDTQMgGP1r5vMSlS5eE81VvOHbucU9XMxzupDNkFnH57tLc/ppDqArUuAgWMV/Kj8gncyf+LpPBdWsHVbF/f2v2j5rb41WJVzqXSv/SMFaMaT/bz/qrWbhiX+F5TB9goremIECQ2cTx5MeDnKNBcYECgYD4sGa5kwbWJdXFan1C+tdU+32dGq8IAI7+Ek2jg5hmiGVnTlAEihKUtNKR8/nZqUyUpuLmUTUg9FRZCVZej1rV93rB6PDL9y9hqshuq89E8JqcGjyRJhWqcuhgNLJB/EgNCpvXBkHYehNRtK7mex+5SFu3y76xGdYENJhtgy5yjN4Tc3nAHzA90OOZD25M2wmdw6PumRHOpsU2DBo+9efLg0WkiYOfj9SQewCyfK1z/NrVWv62bQ1qQ+t9jIi4QJPpML2o4ZsnCBhA5kEG4lDqgEPNOZ1NThOmg96tYMMPMJclWYaTFOstZ8UDsI0x8mQyYFoPBcvT89gxBu8/xk6jpMItknRfEVSzbPMkXuJWqyIZ42FOF0E4lClBF8gpKXl4F8kw9Qzy3PKk0hDC7BKeQ0JhzZzEvD3R5ZBTwJeDR5+FmCLDKenKqzOYpl6nVcQTgxoe0CDHCDA5AZFK9XgC3Jvm6k+1/diSlKEDnKNBdYEClYD4q3c6Nhy7oJqpk2SvwNa/ugaw+kUfOQm5KWvAR0OH5rO4+j4Yj04yJH81c7Krf2pIGrr/CtaauO8PTNR9buPOCDRUge9bFKk3ymmRDEc8xDuBiqTp62IHkvTun1r+U+6c8v4MMp6WK8ShX8xhsgP+05mfVLdWbLqkwJqapJowNcjVRWOqqq1ygs+9tpJCXsywnN/yKS9S5vqtEuF94nMlt7JUmG9A6rR8uak4yeriO00OnWLpry3dNMJAQcHgZez0KWQwwmrzFfPMLcCNv21ZQO2y1qDd6g+EsBbv9WAZzSigybt6To0LowaoK7Wp70DIhQNORTxgIbOa1OKZ4w2tEl2aKkZw5xySN2amlvPUHSowGVPEIQHNbEjTvTQWIpy7wjmu42GwKfxmyhgQZDny3o+P+a1hCKZ5/bUvFdRyh1EOXeDSLrYODc/9MXN4TFBKbTfa4UwnjfHohUVdLR1FbR819aPYZ/5Ms3nwA/EYb5yjQXeBAqmA+Kt4SmzSD9W1ez5r4WJLYzPJCAPutMG025tHruJJqOe4V2LydnMUAU16HEhuAbO90sdyE6nBby6TyRaZfkCeywk5HlxNt+WaFIpUyOVEKXclGIIWgIV4hHlcjiKyM6jkH+/k/83cX3ppS0HyW3B5ms2fWpYivkVoZs3zStBC3BGV+zMQgkGTPv1kiTM5mcH40x1fiN15VE3MVFTzhzGFLUMXi1G5CwwwUoevrSCBLP+0EWQDHqdqyum4kM5kjBH90UWXGovoblAONjZ8odBMnDycMDg2YkoZUN2uE5rjflyvtHTBQ6ghKT+gri4ZZYYmmgcmFj646Si95ruO9s5zZUjVO8jECj/a0sfUmIYj0j3/vTsq3vwS8AvnW3jnNL6+MiSOTSAief5LPz1S+8PrxaW5Z2iwNA2NFGb6TaVvFiKP2XjB7QziMloiyoAi2CptCLVGi5PvnZTtWANn+0PjwJlaTUZzhdbBRVr4UopxBR0Tt5yjQXSBAr2A+KsPX44Rx6oRmf3+gGxcxxXna50wfDPSltP10gu8WIZ9qYAg6yGdrF41S3QSu/nFdoJ8aLi2janiqv+TfjQzqr2ux//V4QFr6GoxR7MxxIATrh7nvrXoLi2XfX0S4Ib7PdjXO2DjsJKnLCNFEk2f7/DF9XMp+fEVxO6hCiERAKVHS8HG5lHL/SwVdYEiBRhl9EZ9MEkFpV/TlfCoMa/0PwCx7SHGyGTIdt7R4Pvyg/Tz1oE972nfaIHI+MILOqEV/9RAP5SxsttITOx25XkSsP7vIg/XVD8nASLLO+bdOlpD56pUdKSB+6gC/7YopuLdBBTZfzQ1eTrN1TB+Xb2/U5eq9ZLrnoszJqP/kB2kInzULSWsm13jnNSQhtBNwtfvlXZnykIDo7hAod/n0t79vR2ir7y9m1xWyrlSJQCRmmeCgvYJXIkYrc+u9A5DdFyWWzioHXTYPAqSYyrCFgCzbGdsobJ4YZFRuok8pCKnYZyjQXWBAtGA+KyqCRW13yxGxwC3AtMEGXwhmnOYeeBozO7/bO6I+l7skQJWZ0PmqeOHZe5sk3LQfeA2w8Ksq0/4S0vhTD4LvSa+pEZ5ZBTGAhxImpLBAr7+iwg2wumDyuAiEM1tBlzT7WooMG1heFDxp6pMa1ODXayJ95NCCGOoIoeiVOgdTU1uygDpVgol+XMS7nja/XYRegYA71aDQN/MZTgAQhiM9/D+NSMn/9p8byYUTOpIziffdBI5IPmhwCxO/fqscwWcjMIQyVP9XfJTLZbomA4uVLqySCBG7aJBKtDBZBoguvCZT8EU4UJ30nKKYTRnfPnzdUbuiqRcfeFPan5flbiI7JGuKvz2+vcf4VTqyqbYocEeh5hhkPWgy/KIzQKfrYY5sAKTlSE3/PlNRzYLj1VTK18dAdouKOvuDOAB4Jd6yR8ir2NvxBO9lh5c4qvGou2Xr9zrFaXdwuXn1FITsRCFAANY06faVZJlRlvMUYrPh9mco0F0gQLlgPirDweTEco9mr//BeDOhllMEs6LtpL1wEv3JJzP/oj4z+Gyi0bSR7muStbG/vjtMxYW/OBWOwvT2KnoU5sSVN3K2HUn+0oJDVAVdyGkLR3JRjFGayx76ukByXSTLvFLwkHzdbK3XFO0w0rX3uwcZ+u4OijoB3iP9glD/6D8vQnFfmcgS260w3MwVbgg1Tq6KSXQVWSS4lA61OtN9xosxIskh3CAkhyDE/rsEI55HYOHp81/O8ewn+MlRyl009PQdqMHJN2IJhPB5cAtenhKTQkCxH7qjBo1dU0WJJJYABrxUkxSdQQZ6TJZ2hRxBFn5RltxSLYDf+2nopK4j5IFL7Y9eJ9SjZvDrnb5D9EwOwGZOyHa2MCl+UGCgHCUcE/V5qenZmf2/ekIONIvgXlC04bbiZ7EsxcS2u1K79wKogk1wIL+a7oaK/fnkEQNUZG9Pp8NUorW0GV1VQbxvXU7IbPwdZ/Fy2wMtP4soVITI0mdo0FygQL5gPireFfEm+kmBEkAhnNDvGvYsjcxowfoqB72WdVeSvEpSwvsJgIBqFsjWN6ZKCNX4FmFin8bZ6sVy5RTBUwhOD9vVUNtQmy5+3G7vJj6ZAhplZR3X6Ye2VWbgfO0DfukrwA5rRsomP1sTK3jmB8/1f705EBAULMziL+L7BY/G56QXq1/96nQw9GlJaDqBlMPHohvm5a4/3V5S4+As6fobsHBHr8lNjoqQ9UmHPBaoneTxWJYcolCWeSc2pyApFxie/eyKG6ASEiKpQCXxc0g3al9aBKBxjUKcEMl4lgakoenu3PxbycKj5cKB/SdtNl9vQftM3oMR2JBklcJwwX6aLtzRmo/17Fu+1kIB5ONfqX3GuI0UHzd9KZ5RLi4ursJqer9nrssRz0iLTDzVoz/Rv66PO9zm8Xtjq/NyvQkUDhahGJBNxd1RkCkrlXQmcV6foxIapI+nPT7vSL8c1r8ixchpddGzDFZaMa0rxJjnKNBcYEDDYD4rKe5S/k1vqaBLiymQHNCl24Sk/H/hiFqscmZxaDAR4bOc5zH0wqBpBYwg/P5tFuORyXHluCUeP7tVGddryMCqul2l1SzHZl1mva/Kw6Jlqw88snE0KZsAhNBAiArlzOdoKuapJ3N4w8E6GKidGNCyBlHqnf1f5pUNEdY2tmj7AlwOJDjrOtbzqBCZf73tGV0AG4P7k9PWDOXNXM9rfbwGuwwjoGDwUu8jCfCCXJ0YWFzSqSIDO9Z9cqhFoWfoDVAk7ywXwn/u9DTw6uxkAAXeCM973RHuZbwrgXNKr5MwPCiic1vqeq/Ed2AFWXW9cVU/rNevkXNqIUFlAf1y6JZYkV5nsNtTeavNwDLYDVwE6Cr6KcpmC/EjYgiSJTwJVk6l3GWHg63XW3oNKk6SUmo0g/plncAuQFLNfUVyES5ekZ8nqmJON4qUXkVrvzjNygDXbw/6DaPFRv/bMUb6EcyxNQt3x/ryHhPwQsnnKNBcoEDIYD4rWxEOWVN16hmhZIoyaLODu2s2AY35ufko+WPP8kJRSxoHx4Et/SreL5x1O32zAK/Fz2ibFXK6XnUM4jLSsJLLnOsX2gDEzdxgmAblARSHch5QiAG6dO7s+ko4rkyrk20XV+Ug/ppR0Shn+52svJtF3/k1V63XM9gvULJCd9axJgJbX1YgtJNhiqAW0fRAKm5fOiKl+iCJ6BzDrA4HH9gUHE5dQdS0ISVu0wOoBEK+3VdWxrtPKI0U6e3q+7wamnEW10woLe6JlQJJI9+9GN46NgsjJcABQxSx/Gme6GffyBOn20SZbakPTHJRYfRUystalY1BLI8IWUhc5rIBOKRhArXejOIddmNMN13L6hzKiQPzuBqtkgOAHJM1/jO3SBs+i/h7t6zU6l6iE4ue8O2PqAL/6akqSScB7DJNFUwPy8Tx4xOIJfhmz7QzOViNnQ/sH+w+cMRc1H/SoUkZ3DfNNLG0enqCsSVMZ4Td5yjQW6BAzWA+K1tyvNXxBHvwH7BUhV+PQp5rMRRB/r5r5QN+QIjER+3B858o75I0B2oqyDONBXYG/NILQLe9RIH26A3YpOD6cD/71FtxCDQyMwy+QAILD/+aRYT7G3eiGGgCXvIiVOZQJKTJ6oEY1UPr2ra4uRVQtvfmCOb0rmECM7U9Bc9MikKM3564sOiTU6gU3oMrB3dUutOa8FpG59x9hQC+dim9LsSRVGKKgsm2xbN1FohvNbUJ2QPpFR4naiYwELjwqs4TS8v9fXaIwESugfonscKu0Gu8/mGpu0TaF59SvqvFdjU5ilBT5chohFnFRy3l/GUSeY8gU3k3JZrNvzMF+KQ9kADY42YPzJtDJ45XPRjY8aXOGLqi+LLHYXPMJqIqG2/NG9JIE4qyr7xoDpuW3+f1pOPC6CGIHpAng25Qt1PLW34ZJZJ/rHEyCtnuD12QG5sqBSXp6/Dt1//sTSCztreUETfDnSDKXkgC52jQXOBA0mA+Kt3CL8V5N+TQ5ae9gjCoCVS66D6dlUL2+oI47gl6291TAQW2tH1wrF/F69HXYzDuibifA0EVZ+69cyrmGCRSbc4arUACE+vwmLNwm8v3SQYEjKnIsyT/szexr0jzRrJgOe7Nm83cweVRetdCFQSA2qYzu6yxLdf50YOqKjiooGhDl37I5Mf87FI0zmoJ8alEDw8V8bsWP0KtwmVOoCFzVNbpKTjGod1TGgUuGjaZhOxN83LJTE4xi3YjlIzq4eTdaouUhlJ9UMRZWeyp+dmh46UjDGV0Oy/Cm0Sj4Wei7SXdZlDQfQ4HQaTmljnH1cqWncZQQrJPLyXvCriUaKjduCsLI8NW83YA8K0P4gGnWDUu83romLxta7/PIxdGtk/PN8k18U6cQt5izhsYibNKpzbjgMJYhsEdR9pDf0CQiwulxhvzKu6rpUU1B3RShFHBO1f6BtEuBUu+eCiBw6DO7E+Jryt15zaFZTWfBRjnKNBcYEDXYD4rKoJFbh3a/UiCMM4KWVdV+eQWk7wT6tgyUXhP1fT82gczCwDTdSmda5uJZk8Rt39MPGffRrXmI1x+F0Vo8pBL5ETHlb0Mjfoy2ulbFSuoYhfMHgPelPRlhOydaPBbCvGXsk+Oz1mka5NE3w4WvAkcZtC5kjw2NfrIXh9X/zodJdLyz8vTOmnlrVKKLhV6P+MpK1f9yKP2TGpcTWPnFXju+h+F6p84I+ESheAnjPOGLxAnOIVgC8YwoJWCkjIxlD8I4ziMfwII9WZEG0w7J4fqf2cwudUo26nNs19XyvgV8owCMQ+qrOSqpa/IWVJDO/XDH+7cJoNr9MN9pZFsd/r4UmfRQSy6ebT6fef0U72F85b6efbrdK1FyQz2xBvu2zRimj7XMNyDY5mwTzVc8xx6RqtvNZBOvSNc9Cf8M0s4lRLkW3F7nPKPkUeWpabGXZ56q6gF6PKHP//LMnLuA7SjmHI3qeqzZpWLw89nKNBboEDcYD4rKc5QsjXrGKrjFi590ug69e+sd22WRgvt1nlql2njQszmm/2KZ9nX3yBrljw15tIgtasThz16OHga/Rq59wHU+Aj0q73SRetxjBR3d4erPE+AeGS055F3LeD1HCL8dEU9EqKH3bQ0xOjvmQyf5m9ZbouF/HNayGdnqd+01Vp/k4Ji2xvkaH+i0FlAp4NuT2LoqTpzixbbNYaEU4eHe9JvXCgCJNGr4qMcYw5ZiCycAtRcIlGYhe3RSPoVOJ2FsqQZyeUy2iwiZphuLohHdIi7Eq/HVU0YUFchL9DDgfUtWMcRPzmBtxRpsfJw3t7Tu+anhCa5R2v27n8rBxNniLINR5oID7MWyrXyss1Z4rTwQDzQDYeRQxcDFQOH1Wvsjc4jxYZ2i+CIKBxva6YTO5yrYgPId6SZ2cFxffBAPKc6ZVxC5QcgcZCqhTYz40BoRL4tudutmx8SEU2rvIRVgsz/pwKZ2LWehnFnKNBdoEDhYD4rKe5S/TRRYQUL4qyuJ1ZmCk/qOJCY1gn8JmH+/wUr6k1Vw4az3Mjfu0jc9VzWeDs0HrFTP6XZob3spvnSxG+HqiYhhV2u3STxPqUaAP9gyES3X0SRHwVSlhj/2OmedImiRcD/hwcdRgkY+bygMO+r7MVE7xXi8h9oLPRRjWsZVkb6acT9Ka6WjTML0RNqFCwHFf1zBUxaGn1nqrqBHTg0PSJZVqMD481wMEOZZD5b0TAaywqJsEeXvmWUY+YQJLgo3Ohz6kcCISlEDA1RttqL7LddHV9g0N8VnU2o9s2CWBmlzkhxoorF+UVZRsa8FEU2cfBKLTKEz/hXOf0c2cJCoqwTtPHSaHsusxSx7XU5zU0jWUVcW/qpLgzbO+M4dHrmrL3OPod7uxTMWYAwUfOKUx8w0kYfRyTASVDFqb9nR3X5CWYFH/i2IAXZp7D3qt6+nKLQUIbUjRzRYGgtmRT2mZc7wjjuXBda+2CxlpzHTOco0FugQOZgPispzskr8BTtzhalmITpzKKJXqi+F0HMyxsVqXqXHnF3QynxDJnpKfEuLSet/QBfdeSZAOLvZUT4OQaTp3e9WxXVp8tbNRLb9M0PqRrMntSZ0q0lVyhTij0Z2xovYFObhFpwHpaoFJ/EeO2LKcV76vP8xOtZVOc2qY4IdFAMiilDHhcDd5mT8od1cTNtW7cda/WfLskCsAAKymqwF/vTVzNHZPgYt4osw/CPfb63597yhJetYKTZx7KScgEXUrtyVk0b/qa7r0PtZDRpdnYS65NIyWxwja028zjsosfkXWM7RVY+6AXYnOQGa47wG90BjxCCn1pveVszYHv40fQa5lCNYNH2+ihATgvSR/razazbQQH538HSG9lhl8v9S82rhHAZzu//F6KwtAEMX7Hw6SJPwwjTanngbjIesm19LxmY8rH1vJCIdYa5Y7lByCsp1FrIpf0WWjbWB0+H8kr3KED/2vrqGTtD/Wco0FxgQOtgPireEps0xpt7xzA0dP0R0q5XVVgkm0S1x5cRBY2sJ/UBPvbKTvlNU0wIxSPQEhWvMYzp0wJrEv/HmeP9Y+ALdZQp3fP02ZN8xUwIKsFyl+H44vfmOSQGnKIlQkvVsX19wnknLyqyMSTCmbMWEYjahNUxzQDotsJJ9T9SB9FjOvWv3F5qhVwRt5lTOzBcmfq709TsoSw+OSqQ9cxsnF861gj9dekXEwwZ+fpf8lrJWWH9igLLlex0cjnJYoQEQI5bQRLrOKL7puWwZN4vfOklb4whtDL6gx8TmoEnsVoADR5TTcx0TSAa0z8KrpYjFvGzeQSCf2l1IlCI87VgacmElIFgjC1IxW3XL1YFovxSLti9q6tnvGw85iNUyiAeEJ1yW1Y/h9WUhimj0o+Gp0VNAuPmKDcnXqw4lAQzTkTujKfBVgdJrypv9kkP9JviVhU+zUp9FGdwXDGHrSY2kjxJBNqa7d1PXwAOlY/HIGco0FugQPBgPispzlXBXvagv7AqXQWilZSeKw3geUfxLBxuz9ypA9U1vLZY6/jCl5+mhzkj8o2AdSw46k3fLJso5WqFaJ4dfvB7ktthDbnwKI+LNuA7nwxtlOwfz4d5tVMWAC2qhLqr+w1mZu1XHMlooLqdarNzWR2YvSuAWzhszUVuUB8Br3XcY0BceYuFJyg3l61DpUzPLidI/fmt1Z6bvVBBsUQGBypUb+nNpb+RmWGb5S0Wsilso1BzfRfApsB8vhxZVqRcu8LdgBAKcU2T09bO2GdLkEP8jOBkh3A3zudZK89ZM58jMZIwZqrOBLZP69M+zbloSrrvFKSylGdRmGt875HQu4+XV/dsS6aPslflOat0Z1XtTBRKwUNaq5b9t6v7CxNSskb5o9yrdQecybgc/kiLxVkpB//PDYRw5TqaMlBI7pRn9AYqnftAVrCiyMwX11nIWmMj7v+4HewW0+piT7R07n5w3YZALSZISeco0FvgQPVgPitbcvG9qfUmkjVFJaI+odrN//EQ2ewSoSHCsqUERjF8bTFnRBHP206kC0TycGO7Tuy9AOhGvHE3uw8QItxii7QI6J0UNdY+hl0Zk4i0dIB+9A04MWSqx8K5Huk4uYiP+nYS2v1ECvSoaqimphRKcP65hw3R9yrjtc0Qr5hv7vgfdAGihvLL/83EVk7u7Lktj79Q5u7f6BZtNCE4ZO1dSdYzVmlPNE167D9uflf9QDHMnyTABTxIVF80SVbljVgvHQla4OZTcHu+dvYUW/9pI2uoAM1rGZ7HkdnhwgO9g+Q6sG4ZSAdJdDe9dEe06Bpq7HNyrj/H6uPfJpg5hUwb7ND/VeaQrcW+NosQoO8nk5i8LvvWBcn8ARIAW9KPAUtRnewXvsx28S+y3OlTy6LbE7dDoYXCJTDQqw11b0UzKVItNyrNok2GWGdJzdgsViQRPmfTHPZMvb/rQ2jtgvIkBqES6HQvCiNorqBnKNBdYED6YD4q3hXLTJuAg7kjfrnIzMoZOkFXqwK7o7oprVoZ40/xu/njxQAqQsiTS1FyGK471KtO/xeme2NY9MKsOmkOBDA/K6oEyapbTybjdFWvFpPR//9FEOnO7u8xx/enOxBYYOoClkOKNtPj3dXCZVwlFGVnQPP2R0HLjDNMVeMAVTOYBzj+C+kt6MXo+lm5j3ycvV+NDoeYlSqynBnhPEXsbmJar7WOe9uLipycELsJkiUBHOg2Y+CUGKpz6kyKXP0GzU5J9aKBnuoL+u0sZnHhm5Jgp4WYvOWLBKLAtSAmsP5MbrWi5YjQx7ap/YbzCCKa7B+OixxPp8ZGdG0UTF4UPrb8D9yyEF1HrEoobZlE+obu3861ieN/KWfHbDQVpr5k5W3C5yi1q+8st3myMvlafCcclZU+btgOQGfdV3+aSQSvHIQnnwjmHcT+zOJsF9kgmw7H5TEmvBEz9H/OuYr0l/qQByqyq5TkFekAMJhGTlEl5qjQXOBA/2A+LBNb2llUdcnpGPX83/zuGBceaK0FX8XSeYw95E+APyVzY3/PrjGCsLAnXslu9PPqOhlCjJ4/O2Z+RCvYgj7L614ghXoRQOw+yBn+mOfMY6O208rERN4ke0taplKPLE4YEEHrWc///ljodKMpEickJbUUzQATFDTVy2h/vvUwV5EaTK3MBX/2MOEfWLJzswc/sGcq+AC6pNrbw/lQ9vrDKjEg2tLY1EhdbqzDg/7REqq/VyIZmx+zxEw/1FJLdUeLJ/7NRR/OeUIG5slyEKqcTbGORGec/SD45aQ7Mywm3SZnst1lqRZtXvKGevl5r5R1+x1+2w1FCMo3YxFLhB83zi/g75Pnp01AmR1B0z6kPvLDLgpEwno+8A8jlBnfEvAyVy0r44+V2s2ENQwCIEweLqoCEBQ0SvubnUyqbIpZT+UWLQFQZz/q0D944CNexWnuzGGO+uIIrR3NOy+3AtVC8M69NdU+mfn1MINRBNHnaNBc4EEEYD4q3hXPU9k4y+aekUH8EGjE+vXeslWoLebzpSnOkwI90LK9aPOF0T3g2FhE1y7gZShxuqi5hxNSZg1lFP+q0q5ct4x5LOKLYtglm0FCFvI872Hlxj1Rdzt/IgMbO4DmcFlPJTrbe/+5pC15CWikQh9UrJD8r5xcuW5O7eF+pfCkr+pY9hs3XuYZSlDFcfIv5cnM8EK+quLt2HaF2DNi58Y02MVAFHCPu/ojqEwnT0w21q3Fz2m5dVWZB8uyGhTzVD5X/Zb/PNPlEWuaOnyJSy/5qVIB8BI1qvVaj25uXCr/a/UUn0EDiL5Vj7YdKle+iKFSZAkJ452uiH6/8ec7SurnB/MlCeKhWz7qKd2TifVRMbMR4hmhOsoGrkC0Q/UzLlDm2Iv8RnaLzttneGanppX4Aw7pfrSY45AI3Ala2emJWV/wf8AXi71LJVJ/wWhzI7jUYhoIOV6TiP6UoPdrbdyj3TI248eBzm4hyh0NQ2co0FwgQQlgPisp60O50lvPii4ECcr62LpJefBGQwHokDvvX5FimsY4SIXYqVi0EUNOsUtlzbSzc3mxjLsOp7tyzwyxRFwWUOvyMbHf+79AKnEMp1/pFV1m5/TiqUkqaAlCNtMU6mUD44e2bBasok25bYsfGFX83+CXNW5UMog0FSQzjRJunrMnxkW+VvQfwwDgeZc6DypeKn/pwu6CvEgoaTSj05CwGpKLMteJk3Oa4o9mxBX5XiCFwkaDmfGapS80rOhyVYSg5bVcCp/eqCQqj1BWkDwJ8+8CVI+yTxx+K63ZidlrPjIKCULj61MNo+0OEfYYbqcnFM9dii5sSPU5ScF9dWRGj25v0nDH4w2qWnuOvCOc5ITM0EMh7HJV+RUeC8sgvR1x9Tj5+wW2sUt/pC+tFg3K2tiHM+gxn9Qe1LiHmmfVMZp6azS1fUtpAatt/Z6vNlClPvHD6z2DcXp8USvRzv+ifLjOpyqkvhT/gkxr5yjQW2BBDmA+KynSzq59eD0oRWw6LeDlzPf7jfAl2btLh6oVobzOxaR5RSuHLfkHkwmhNK2mhetu957e/lTFyNhB4zz9kTLo8fn37Ym5jIHMA0IeUZQTl8+diIKAeEFAWBROsBt8WF8GNAq+aGLoPsPu+ePrwQTvvdtYRKLAjdZ06u1oAXXhMZ4H4mmOeDi8hT3MVtI+rZOexRxOwasovtazv/wIWS2hT8Fj/H8EU+caqTsCGggXYJx5lhagqLF4M+0TUfPc6+K2ooulPUP/Q3h2KhN3wWh3tm5YJiqRG2Wuh3v41/8+43fFl3B23i70XrQwczSeHP5Tw7nKvCMnrVdGjnW8dnLhp3Ik8JNbmXINksCvWQ4N/ngH0bWo0LriE8WOyN07I4ARQEY+mhGnbfLHTIbwwaesENWh14UYVbslTcqzLxU7iApQWL5ekzQIgzkFdQLyqdg9O7Yc4qktecjllzIYtsZTtAadlZNNyqnnKNBcIEETYD4rKetDuVZtcngctczwQK5ndp8SovU1QcM/rzG5PBXSfGSwJqFpqsIYCXfg5/2tUDspOEeTSZ9fltipwmUgGDz1bUxL0kMGlM0p8itSN7G1NMJZL3fM17GB3FToZvTsaKqDGBSF150jrULeVWqs5bWK6dqDFTywZBpXcXAnyK1FqaJf0raUbulwDix0cWYvSSia5BkMEdrb/rtBvFCB3PTM0XF9dPd06xS7vEEpSY6/DoxFXVf/l2NtgBp4sPONFDMPSC9HkAsDqddlQHOlcvg/VLqJx1pV/jM5sijeqyvw9dPHxqS0ZL4av37f2QJU25ISUyFEMMUqzN+iZzSeUW6nzADBbdJgmYc1v/V+vwrjrxYRUgPZISmfrmYhJsrqfPYfZfxh2tV0CSrClTjXk+ySS0o8PHsV8z4xpZxxTGWjxgi9yktLECCcEgRsb914EXlgY3vNc7rJ/CrZoOa5eHJvyftEm2FZcGGLLWco0FwgQRhgPisp0v0ej4bHRGdEjZ/CbgOlqi7eygex6/K8IGz9GrRT3dCE6qkQvFY/e5v99vVDkPyyds2sxkQMA1QrVX4pjjhoO2DI3xOTs4pXeTNktGwCS4x9DEG8RvTHC2vLoGVahWvjg3VkVPnBZQHbZNDsL4IIk/rQdPrKZnNWKjEy26YsSNuXzdAgJUjNz2Y+PjE5hWeR0mXXTW9af7O2Hi8zPvFtAE/cYUqFmGujDrpoInlDFjMITT0/w4C7vaqSPYssWcPoGpbqtxqbh9GDFymS3F6zuVtnv62SFOE4KlT9XBh4kb7YIeNrDABEZNNmqFw93uN+JtiTH+Q0RZpWfLlDGrtjYhkspyaEzZ5QJoKUo6lURnjtYJApIFLWarpvYcvgMJrAFDET4HtEWjZKHgikgVfoaqlrynGV1Tj4Xarn/wADZYrI9+h3G7u/3QU7f6qKYnPKSkUPl0YFlnsTvPk1NnLuow+giGwHakvk5yjQXCBBHWA+K0TrMqty+Jx/qNteYfwXWL4rnmsNUKE7qmurdPI0sCrmIIEeDiIzWzRYNBC17qFr8Vw2Ts0lqOq2BtlTfxRa2IoPSxaTjx+2gOwIRymfkG9SkS65n4gDzkFsnKFuslZRc/tdAgCMBBs0zTqT55oSCvFhAwYPQ8Ec5DxoXQOVLBw88TRzizjc7HyDmQfd/QEAnejE7JDBxGtYtQvFMe1MoLTjpOPa39wVQav2NwrcXZHn4xDbSNhja4eGGmfU754P4CbFBEh+tnNVwp2sT9tcMDvKyffe8MAbudB23dV08BK3fy39In9zKawGQYo3QvHZXsEucBZroPQh5Mtn9upoW5fDoE8bfjZ5uDPMJsdvPKJO452KqFGrJcqAGTLdG60lJmD0UhvgpjCtITsOMEa6Bn8KgKu6C3t4p5XF5ClpOO9DXchzBPxx7f21iYK+GyP9iik6wbkkvK8l/ltvRnQxPgbr37jZEES9PvLnaNBcYEEiYD4sE2OBLz2IwQk38fBu0yHJ/ekSa868a75WQ6fT91C0VAj4pUxjzx9s5fR+bQ2yCOuqqUbqp6Y6l+2gtnQmGtiFqSCiKM+oljQky4sHDYvaJgcKAbT7qLFtReeLxJWgBcaznjh4gLhM+6QhpXzd8nSMOpzWq3QlLAkffhozY61PCGYLbXHq6o8wF4VuIBOmsSvHkE4SEi1xxKuZxzz3P8lJnNj9Qn0OKmr+u+2sMv50bH8/rco2ytVwvFhuvlSDZMX45g0a14s4z4ZnbhRqg3DVRUMBUPrzyEKayGP5UKRD1hudeNRsJGqHJrXbepY7u3GQfwv3Vr2ni+1sAjXNSrcdum7s/4i/79UnYL1It/7WGaAnp51fJkEmKyrYMPF/2cwKoO2xF9QJ4wdyxnt27SWuO7bd8jx2rAzHWudYL7grOuRuEVC95vOuGA0dYmiu+KnyOye9igYmFcyjRXwLebdZ5EFrOzGBLvnEmIPnKNBc4EEnYD4rKgp5GZgnsPu1XrY/bkA+2z3Xhhn1SBg8klvHDxgI0eSzuKu+3T/o84Voe/hpQ3P1NKZET7BiY/Q7FeO8ZvlH8DgXp7KDhPZ5y35yCu+WUkEBzLgrEKHoWW8MiAONeHD4dmIlEGdX3J4IDK55kbGXUFTRkbNTrEHLQUYVN4k1U4ZW0IMHaeBKFVM7oFNvwPkWkMlz0vdMzLOy8nZYxVTypuE+PY92SseX3CeE1qOdmzIoQQtKaQ65Ngs7T8oIamwbjlIhTgQZwoSb3tGn2QhM9VFjJHfnmCm4sdEckyhL45fnTBB4mIyNxAm9orC5T5UgKZoKMgn1hriIf20Nrf55T8p0oovCWl+CqieCEItyvHilmnNWalcohfp+1G+9J6tf3rDH9qsSBOrp/m8/3Mmny/vqJnZf171D7RnCFKqf67rnqtBHkBLvMg+BQI74o0im/sMZHpI5yNSwVOiKROD1tamuZplkJFIAqd0LxWco0FtgQSxgPiv6ir6IhnDah92/VKcvOGzV9vjKUNBTbxrwt3bVQhg6k32pSScA7MXk/hsIlFQ6vpSfsg2IYM/juruuphQUg3idlSbFcYhdmvkNzM5ALeCE5v0MBHIUY6cs8UJMyIhHejgwgTGmNy7IIGKT6YjBTPuN/wXU2fYmepR54v0bPeHRuCUSnton9i02z7bNhB1KQNmdgG9eYDNQWNUx1znbY8ozg9BBr7cV3bdJHdVglQ2KxjsDpc3imrmU/6XS18jXKjHXNTlwNCzdeyzoDBFBwmygug9vO70PtVLxOxQcZ3+wRUEPCev7cVF3E7IC5YEQye+t4o+DXnQmKhAGH4FRyBksQaC1VOhgrAO5fFmAX52DolE/omDDrGuH8KgA7zX2EnSC7zgdNPxpSf6Evb0Pc7LJqEOBuFq1AUGB54mjk08yQfbsUJ4Tk1L6pw3T1QE90rbfrJgPyEWSfCkRw7dzq/GS9I3hnIDGZ2jQW6BBMWA+KynsxEALlkgm9b1wJqHdHMxTL1MtQuSReoWyU/lbdPEVU3USrjk+3P+dgjsXNAcj3wzGDVjqbmG9DLct2iIWBeGKVNslXiyAgJQ2PZDXzN970z0GEOU/1d8doZ8w6Ciu9QNT/FedO5Kblj3X8W+F4jxfncxoJWQq3JbhgYVC1j8D0r/lsHMUs/xmN1YQr6f/T7tqyVzGeoiLLpBwctvDwEVGs1lo2ivtM8nfTibPL500f/oOrg//Ze02NVS1hGyGXembGVGAmKonVw7PfDMfokg1e/eqv6O+Z/mZj1W2xPUoSA5hwKpG5jAUxJ7FvJtpgvXtDKI+Cue5wECMoX3GAq+4nSwyUrPYJwAdnB/tJ70Fayh7om1p1sfNVLL9PxHW3/Uo3BgY8plbz4oll2XXaUWwEQvBpwJ6C7MsBRsS1a3KGSw3bniUdPzva4Kcv0VOInmMTdvb3jym5q6TVaUby5e800kuAphuZyjQXCBBNmA+LBNzJyzpvL6A2AO1S6qs7lhWKce4ONZQgBL5y6ZsGLtyK7i12rlUC0BEfganMLmQfzid56AFRhVIRKZ4a3a/jeB+r6wM0RzAMfGfgYUAn3S56gu94S8MZMZpvutPJ/i2SrG21R7wwx9uIFyn0enJojhohoYy6t68peeGtweOUSCmEDyHrmVSnBgbdVTki6f6DlTYu5/dusrX47nk86DYkUpB1hYfvllDSd1Nf3U8ASewYFZnpiFItQmD/sKXq05EeVvsq/KF6z+BEEnF/aZyK30rPohBufRWQKliAz3cR4IqDUbjJNR1NEE6YdY8lbNP+l7roPkCIUUVnWNpva4w2YLsbwOp3cDY07Bur5or/6iTTjNlstQTBQphSYlYwFKNxoo7IjAM4f0bBlAOlQAXsIXIxnxJqBsK3vAMEPGoKTVHnXpErkpOwUH6pNtbsxMIjYnoMIsDR8KDPggKb4fFui3HsIzlJlfKGeRnKNBc4EE7YD4rKgn1i0AEXF087yWU384q0INeRrNjqC9kYzlmqEvHV20YNMjOcQ/I2+/xmYGUjWatxaZsD2UJ0WUrdkkFxkTY30vtQRc2/9kP9B9X4r0VAPSqMAz9TMDmzETg5HaQJHdknqr2YE31ZZe5EdzUPUz11xpS+MNkbX4BA4iiR/SC3LoFTe8FoOvXRlkQk1f7P5hl6ti7vXC1vEudHm7Sd4AprnWd060JA6A9W7a6UKHzvpCrezAKgjwSnTYgO+AXP33IhjFz3X8Y2Jyr2Wjr+OK9BTiLP21g5bWAt/I5gwWmrVz0sXROviI+dSQoLkbOIdt2v36R4HCBTLdZbz0tKqguofX2Ydf71CrBFMcMth6w8Fl3vUdWtgrOZC4zgdHT2ygEm3OXQNR46y2U0V9iHPqhbfeToglRBtH3UUJMzvErgd2Km/h2GfFT9fTWnaSuvXfaWG+uKBlqjXbfVJFl8O9hzPHMIIczrfkdesULAOdo0FzgQUBgPispvGv7K5v3aRCdCXbTo3Ad1ptnPOHfuVYykl6LuTxHp4iWn3zuufNhwlybrH9xau3YkART1uS3kRK0wOlLpmNmVK08TuYtshJ8qEHwRjSt/DdFlYTQm9tZqtxkY2+Sh6TraWEH/wgnYOkdlDjMNT1vwNJRcB1BRWpOYKBNpeHg1TLkX+8Wj9xYmi/BqqrAH2eowBTBzX8FmBT0zGRgAuu4YtDkFLg4k7b64QV3+jzK2tzy0mrTX24K7L0haw1qMsc30+ERUC38HLlu5Y5uX2Cm1VRd2qXQC7q/CjgpwDWBrxgvxoRqY8ndrm6UC6at9iADYFtLljLjjSaL59pq/4fSLOy0D6pFbN1oY74wL05krk0+3u3F7ByiP01rGKi3XA9U1p8AU+L6lYRTrsdZcW1CADO4ovq7/cGoqWE5EfaYmOkgnHCsA0uY38dDYztvKLYN8y5dseW/s2GZLOxMXnrFWexB++ZDma3ZgA5k5yjQXGBBRWA+LBOgMPO57Up7n5j6bl0mOGX33MpbvflnF6JmiyaVMiAYNMkIQlwAxNzckScJf9Ul4Z1kDKUrff7gyEyI+KDcBs8++fUilWhwOgC2Cw75o/N5M7j7Rx/84hXuwQLNOM5iHRzVn/dX2IrQYbsQNEKJ7gr8jAag25PzDUVF/hHw4hVlTmnMwjfxHPr1c5/M+QtOCy/q+JWBCafoXDu9NMG+x9EzqSgY95KaZCZtdE3CzDtm5pdKR2e/OTzKtK+auIZt3ljq7aIfkRaUPpt4Qwgjaz83APS9fwKB3/PBaR+38sullnLNM8nQNXQFI6TEcL4SkdPEwYDHJ79YIwWjXKEfhmZeYUdVpjSv10OQWXcrGWYpDv3GV7GpHzsuG07ft3TyxjlqXrV1s5oL5mwJ1DIO639v0PPlwKXUkBXnBlX3+BJjiLlmVRi8TIvI/j+1yspjhTJJe23coFuyBG66qMqms3UVHsnFwvze1xfeZyjQWuBBSmA+K/mx86DN+UfuDHFQFrMj7srbJikR2K84NxO9zXQthei0vm6yCyrUEXkbAKfDyh7FD/SaXLCXkNzeBiTasjn2zLe7mscmQkNUcNCRLHhfP/FIFWHkaGRcfE/cn5GuktzUlQwRYvthetEmCoJZ5tBeJbt+yshDM1g1VR4v8VTAFbj37dTsddjFSTLbG0D1qIL1SKPYlFxhxBmgaau8XpVrU2H8amnlY+uDPV3v0mcRdjg45cNpqRis1CIpC3i5p1AVkwOrb5lq0XzCzwybPRMg7zQw5OqGcHERROv4KiUvMSXrvTFciI6RAVsXiA4QYzzCLhYyQ8Z+51Pi3Rr+tYNTZ/5G6cPzbnOXKyGYhMEA2pux0jfL/U1wc+YuR9KV6zQJvnjTyQ5lBo2+IDX8Sb4bRDhjuPCRa2K5gX52HB0pmc/MHbUCi0NxmDpVq3gaTQizwoWLXGQYhE8QaeYvclGjWuD4JvfjZyjQWmBBT2A+KsRKsAlguJDHxYLv8YrDfpb7wy+j0pglPjHoh84nAP1mSQWsi/9E3NzzY3rWFllXzfSokcLZ/7ptGnPIxmNobScJC46gc9ZOeMSijz3nFV6dH7RZ2YvQxw7FZYV3VmLkuU892ZXVL5NUORATjLcgNgCxiPZQv3koLUqV62+NxAl+1rIsMGyIPAg7t4Gs5g8K59zao0ylMZ3SmDXUUCBm8ncsZXXkkZNJhQPR9Wyofig3JeHyYRq7ix/Whv2oXgGc/Zt9H35y6iY7b5j+qh8zlq2hKMxV4OA+/BwR2e8d91/UrMREOdcHwGb2YCvNAGFFQ8POMSSCw8vp8TJrIVErIV/JG6oVUrHoK6LpVL1+4/gs/OfLUQSUPvjLl5JQ7pgaTi4Qjyg7450dOYCWLjY7E/VOvt9XMc5/cn7lt1E3mvA/QMEGYV/CdKxMZ6xl9G4tqmwVSn4L7tRU2F2kns5zIV4Wpedo0FxgQVRgPiwTfCNqPKf05NwXodAvoFDJ6sPffbhAoACKOvpndhXL2ccvmMVduqTlc07cuOt9Bdw3l1QrFv8GkSD5nWBnbAytNkJYOv/vdFsY1fEEuAcfNKStVwNZ5yD1eTdZ0VrFUG0RTYB1H+n1wrYw9cuOeQQaumOLZgcc7rb28X2aMmQKAuSfvJzbfnigU9FoWWWwcCKT6fVMUe3RA1H0TOXqGxwwmj8RPLxDy62eNJ+7TOa4wcmu5QF+M+BYVXDqYMreCY9391n3ddxweXH3tDSnYlReJEVGDf3mEPTL2yg9jus+tRhEJ1AFin23DhvriDPzpj4irITyf5XdzS7yN0ifGQUmdv/p+WSVl3D2boflBnxPuBvhhQ7xvUaC/rl4ST7MBTjSaB9tj4xKWkntWJkVue8eCeXnM0XdQGu3V3fIruZGkW4p6XU7nQ8Yome9ApdIaiANFjGvbB8WxSDEg49SuGHjhzrzbbIc8awIpudo0FzgQVlgPispvGv9fx7jNkvuWhghrwsazvl6rgIq7T7wmVBi/2hT7o4PAm1lYlGQjO9lxc0LOuic9uB1D2B13BYRQTMRm891x6HCVbBeiudgSI6CCP0g8vq4WCRpx/H3JNU1KgZLWGj2MDLvPoUf4bbwPh4/tfmHpEAJV+yasll8Xxfw0yfGu7w4me6H0q6wsDFU5D3x/NLs8xkpnUhJUW1McLDwooRe30B1gHml93/Eh76Kg1T5cwlcZRNZw7OpJHd7BBXYMEnI3qCI4fsPySICIKfks3Dm+ZFXFHmyNkoq3laYzuEp5xvIFrprXiKObqrjgN/pPEmt8uKcl3EZrY2up4vJDcabKEwy4KhDmDuZh8pTwPnysQoNECgF3f/41xkjPNeyIxz9PHL4Dpkbrf7PUd3t6tMnXL5GIdlV4ftpqIWUtD/0pX+JF+H1oSkP4B+k/udKAZEOeQAepB1HdV1l8n2eagOmtbgRgKvrUqhuKpLE52jQXWBBXmA+K0TrMrk3g+EkE2SmKDXLxQ/sLfj1THasvAH1isrFrYpGNqNxgxeOjMTrA5zMseh/rTH+Xtd5j6FmxT6Cw7LHMWyNf+OhCPwV4OGK+yNrowscqIm/+X2v/D6JCQHk6rtdqJwZE5h06vc4yK2cE88YgdlQ8AFz8It1uC0ZMeICUyA0PwKxIB/tdmDdnPWgwWvDSvHfqhL5TxthzQPxhOaiThJAsHYUATRi1wkhCgLihTGt0zVDXSMqKFuNv/xSkdqH5SkkMc7Yc2uxRzN9ImQcNs/dCIiDGJnJ1hX+ehnQBOMtgz70uUZJ4jb2GXRGPAXZcqujdDP1daaCB+41tI0QyypdIeaw7LWZ3ZHNl5nZiF0m6hL8bDy7954zVjDp/XYQb56I14uu4hFUR9Rqj+R8pJ8XunaltyhY+a44t5JgCDzY+OaLQDFtIpvRZ9V/72Pv2cgqkUuwL/yXHLcLZZeGonutpr9hsAuppZryC/h2u2do0FvgQWNgPiwTZYUkdK95jMaVZhMHH9kj8LLUDyq186AyMXXRmFtFnkTMEv67Fmp4xWo50XfS/78dUNJ36FaAi7Ni/5RXXcYGULaMVLaIVLJntShLeNFrRjSdoK6AFArqiiiJz5k+dJ9HR9z/nsXn9pUf82gdRfJAO0eHV1bhVVkDgbe4KlcP2VNcQJmrEYEVYrEkMdZQNYAvcwI5v2lJUjrRJ7WpYHy3YbfhM3/uNDTaSETjfxqJM3VfpJM869QKzQU2KBNIvcc2t8itD99eOvtFyAScjna50wmEFsViMFAy8KAaoA8uFsnisGazHJd/R+iLVBHrQd0OT2sIhmSMM6BLq5km8GRS9O+HKbhlSSK22Wd3ad47SYKMfPnrApgRnbFMF3AdpmKkgIm2vVdtzvZraCNVh9H3NySrrW4xFCw27hDMTq5Gl7sXA+HdyYphZAkpfDeH4AgOBtL97tHg7Pp5naBtal2iaV8QGKO1Rj7nKNBcYEFoYD4rKgpwXUdNqbPCg8he8mFxcv2VNExrIaBkassXDl5p706KQ2Q4rQkvjIZeovsfWkAysq7FWB4cSkWEPZQFn7x8apBqeOqRB4d8+v+4E+k7+w27dED5iPiCu+sbnQB9my7BkGzBOSL+YxIGSvEF+gm5//YNsBVyOokwua2V0qgR6MmHliils5Ba4CtT7vYv4DnOIqquKDdiu3rWt1JtB406qaUCh8hY6cyzHBrLB1rnahmw3I2yXyJPJ1gzdk98TIY6wOufXjaL2n9YQQ3N2sRlIcr9xImnRvD0WYIUhrEXAoC72V4aVj6rIy+Tq46y24kw4DTJqIPqb5CObN3msdKe2Fcv/znn/uhBjY81cKa2pQG0KX0dNGtFhp6Pf2p2PDgyqIk9scqoOip3qLHLClpW6yPi1DisI82vR6FRCla+Cfi+GQ27a5HDnE2CC4vwEr+H+mPs4voKSFlS4rO5r9ey2FANd/s0cxepBlDnKNBcIEFtYD4rRJOodTivR+Ckm7Odjrq+J4ARlAfrSaYnqh1n1WReyoSlK5k7PsHLm2Pj7ug9tXdY0SBeBupwJ0Vbf0c0oMZFAx2w6jl/l4vqMJ5hk2zwT+KFz4a0DjU4wI5OQGJ5+d+D3G5xUIzYIKFMOLqMjr/lyelQl9pGCz0lUu/woOvazKEz9AlbU0gocbuXI7FAInSAGNZaNMlqmtVnLz0wVnTi5CUWbltIu5ZNL44QvKV9TqelCT2T4ZOuGuLs16JDaQpSDXq5FPFawBBGmMAM1B4BmQ970j4sqm/B6oNkCPWRNQFs4kIX1T7eB+80TtLFHviqQBl6g2/3gKtFOPJbGi1dWB6ODBVxphnr7LUdJSdH4GQ85sgA5SvTRlxetzgAEeA0sZ6LDVOSjFLcrnISJWyUN7D9lE35COdf/zpZ21uJFj8PMOV+8UKB/6FiSGqhT9NhXJCy5QjuzGPhzdQ2UrRnYvdJ7mB2W5vx8Gdo0FygQXJgPixrnW+aFNkC5hUseJoFxIqyTMVDP6233QfBrDuVgYegXPYTFs4x2bjkjA3j+2RSBEF8q7UIi0hX5hiYE0tlekgfLwas4tplj5ZFCgCIS2hP4oI9NWGXHvoAC/9bJ5XSGLU866EARZod2bHfAkdn+QiIDyiEiUFXjj85rgrvSMANlxWGG+R2KhGqYN26i1FIfMruzvXp40v+fmu+VI0KKUsJaxE/HwmJwqIijB2c3keQGyVzqVoSu4U5u/BRJ3QHa9c5mf8dQrGgvL53R7lZBC49HyasGNtTKHDurNlgmlR0+Fx/R7nPblMvxr/FXJxDgdOv4D0JcawrCuUy2CJOX3bYhX+Efm59mD3f2VOsYWb18xWnZ/H8N7PyUzO2uIrdBmaMaZ4V+O6KlXHFk/ofSbuLSWj2XOrUpHCajL/brUMUND0he30nY/Kq2iNM8N8rppAvuyo6nsUDT7S6Oh5HiJ1nkj29zvpeIqqkFJdnaNBcYEF3YD4sE2V8rux7ur68fd0EgYyUhfMrBiXqMC+qOvEV/0RNQuj6ZK5aXd4qnGYacgDC5vLlMt0YEl8EhV5dwWRjgWmnyGhy7Em4gVa4ChnoCTn5UubMNOhSedsmAFgYZfq4nDXrFazEiulr/rOVqfPNO6VBco97cwp8DIBdPpPnyibDUzggQWOGSdXCDLxvi0dLwHUtpLgOVDTs7oBVqz8kiFBdVaoJDj4yEndTwK1zVXkAUN0ujQpGtXC77TwG55XxqOBElrl2GiA+gSQISQLFPRKq2j/s5uyr96z2iy72Eyq7OcAatvWLdfshfIOjF67iXTyuvmGJKevWRPh0DACECi1t7wA479lRnpI2gldB+4t3xeZalLt3zkOzFoN86psAZzVlqDHtlmCjKm7Jy10sdP2h19qbx7jEANYrk/2x/kfU7BhqHhz0NVrgrufvB6ppA9ftAaCftabjSTLJw66290MXTXrUDan3P61yGQLnKNBbIEF8YD4q3hIlBc4GdRzSk+1bIp6pZ8TTj2qXUcd/BT0WZjh5gSqr7O+st0eg0E1NzCqhWLcwhsgFl3qCN93gC0/+93XtUBhfDupTME9HslLtk7SVITFLM1lb549XmbjmmpFPmlhpjrv8lapjmLboOos+NurOMFutxOUQFOAJKf6yom/jLxwl0iNhGwB/GO4nfnACGEyuN/faOWESsJ2bFzRHQLBNQfM+SE2elhgpjXo/00vgLbOLGrIaejncoC63Pl88hcOKdJBuLdgfF5QctCUsMF17BhczOAszb1+Jhtx2uAKIDcS76ki3Y1WqE3WTVYvpDfVM2xMNqdlBIeCrmJTV8+jkCFHlXXfcpYFVrj+Dnn4GG3hLOyUN1cZkGA9vHztOkHOrNP2pZda7e5POwuAUFk+lavJZreEIkWd9jGyhzP3pfaHgtNtM4ia/x/Uik1Uc0Xq7AVRPT32p31fB7Ut/u7Sm/g4yCkFBZ2jQW2BBgWA+Kym8TxZoxd3rO46gN27egFnlveeTHKHwYGaTy0ZnWYzB0+KI/1Yue846gQ0w77cP5gx4BWmaY2P3WAHKjef2A9xYy0CSj5AVy/vf7+X0BLhm8xwSLtHofA5hwkT3fpUzfWcj6RzhSkvKenS39j0+Am2+/CIub6jM1YtxQv9Qx1Eg8WHLtjtaacg0dIwTK2DBUAYmE3x04WKMpaACdEpoTHd/iRQxf3k+1KAjrwHOpWN4nDOcn1nXVUHhC88kFaFHYYQovAKxk+MD8mQuXbnXSXxUynZsm7zMnbE/Q8ZtkREiDrsUc3BVRaPcHwjF8pnP/HZc8GobDiP6jkSRbsFduj5txTs2bjodMmSk8YUjlJEVT8DthObV3/UuWXlapMt3w9FTgSI21DDIsSEth2wEsGzQVFsQiLhKRCy5k+hN0ulZtM/SO+aLYQ6pXt3/LLgWb8Y0qJQCQaO/lFVZ7FoVS812TXUygknnaNBa4EGGYD4rIjWqpeMX/37kHLgwX4dIukKiDrVcrafP2uom3gearVeNROWsaNowdufQXs7hczjuBRLdD0vzC/9hUlhJCGXalMzu/pf41ElFkjg0dm3drxYA84RuU3yGLKII7rxrAVd1xFyZt5owyaVoiM+eVadw7zO+jfkwoVpxUDBHIUOvFNuWPfqVFX+kxg7/qJEkwFGwaHI6pycIX7I4K9Uwr8bBgx9zTlAmGIeAuIXGY2RbTnKFi11DBjlY3kyvQIjj32v/fv6lzN/YWS/hlgZk+JqPL+AwIZ6m/z0zDpueImp6IWNiPjEHh4D4XLuLK8oHg1NHeshq1a0KXpA512Vi/yir7VMjtJkNKLgR49Znv6rVY9pice/Vm0u8n2/kogNbyQ4C1uvTDrT1pAQyVweziN2Wn1ndASD4xqRtLjptbkWlczXnvUsqJ2Fd9f75AFCLSHrlv6CGCS57r1Kra5h1US+H2Fct/innaNBbIEGLYD4rIlLRIatcxQ7gLEA+TAmys6tZ/X7L+blOG4ptkaOEVMnMCeTpXsM7hMtqZFjVexUUT6aD1/hgrQxY+rUCZevuJQqj4G5zLTzP06VnsLuTXQJT+epRgkpIZBBWbST09VTjRum73Gzq2BdRRhlUXy5QAfizou2lbh2s5IbfJ/hedEagECXhYoY40ohZsqMMucOFY7IIJJKepih6p5UBKXGkC1OXgai+cbkr+IwM+dR+6h59fKYvCBuvOCCE1Nby7xFAub1a/aCohaSxSEVNrw9EuoZ+ZUV1yVOBut8TCIfxrAqGHG1bBdwEMW+Nf+RAYdP/94LCpMdTTk2lzVMK74jU2j8nWUH3lTaNaPBGmVGzGeaGm1j/HEKCcxrhmO2PgwQMZWSrTbQVKgnhV1sP/D64ZDaufeijudTHj0tlf2WqV4nb3VYTVhQVNmnnus8Pahcsdy1Tkv0GCz+YNOrkva2Tx1st274xZ2jQWiBBkGA+K/nyla4p6mYECmcV8A0Bx7ceOiipvQNFpJFX8ifZRxP5fdus24Y1LG7ghIF1Op5oyFo1MjsUmcDpk8qAZtV8ZQVl8wrITYfsz/Qk8nx2abT5yG5WHkeSchVNSq12YxNA6U20m6Uy/QtmG56THX4XolrYsQYjmtIdbaCirJQA63Lgk50KT5DDxeDnkCScT5SysBXfdrHq4uN1yqvFyk/t2witnSQZx5sae4/swdXEKFfn/aA5rySHGs6WjJbhhCBpuOJoEs6CvwCABL2/Olkosm9Kcrn6w7DoHBkuhkq6xjeGfYAzYg1wZW1P6DGWbCAM/4kTD92SZZeDQbLYM4Xg65PPsM6Pizx/g5rGt527Yq1Y7x0QztwXxFyLpjfWURgPKW/HjjxU3PVwJs2ntpE/0DzSmUt5oAKbd+yhd64FA10tjxB5zqrKPOfo53OUKLx3pKZiu6QUVV5GMwi9l+xilN6fZyjQWqBBlWA+LBFrleK9LzVGCVBshinGXZ+GWyFluH0nVewUObijVEVv8tnIWpf647CPFyI7KV59fnh71uVJh5tLm1ZCy5j2gJ7ZmGZZvkuhlAH5Hq/jk7fqSO8n2ioY8AK0Wdw+PiibgwhbIW7e8L92iKXVgzujlftl2lRL6IQrnkA2gdLgPMWA61O15g9KF3+3Bw8Gwtjo9elUJEH4F7GxP1w84PeGv36mbZ5TqU9dRqp93glJMCW8wwEA5APdXDREYk7KEX7Pqk0CBpniok/OCgP/LMhwea4yOVyaJfdMeeG+RnYgLA526twg6U2ka7B0Nt/761+Ez1tT4QOsK1nUEaYcis6e6ts99/YRqIhuu4O/keyBcfwlWbJPTlKJCCX9rJnuEQAHBhoXuH+0i+eno9O8lrBSAwcFjBGzAveAhvfa2D18pE9rT/zSjte9XSMTdGcl2+Tans4Vt4kJeqpdOU+YdqiQb59y9T3nKNBZIEGaYD4r+b79ug07+xNHO+kX50rydW5zL+wRtISLp7nxEGSgKDBZYfOrfjo4KprQQUEQZfLC4Gq1D6M4G6GPcn/7I+r4MurgA+w1eOdJvxl/X+Y9IktrOQ2PsmcmIfdS9druIY6mzVqtwchtFpIwRAUcCHLaTQLut831bZE+J04OrOLwn20HN5//mekjb9+y9qh24hCVNGRzP4KD7JI0JmxYucCATDuVdHGWRF1qx2f4dHJDW0/Pynw9RgGaw3nempmX6blGM3o99+cLVwZJJHMIc9lSRxDTRVV/2cTenrcRFCrgn9IG7R3ubC3HMhqkBeBufnCv0pA5CSDHcrbj7zK7eCrAb3x0ZNK+i5m3BJcE+2yi6ZohS6K+6pVqTSD0e73HbSugJ/j0oGbafHAlZF8jzfeA8Rz8FZ/BzoJWiULHP50O2o+agT0jTDdveIzM+die/9ZX+MsqP9wmMFaaZlGdPGdo0FogQZ9gPisiNzt+uR+7Tkzm/fxysueAmA6xPOSTu5MGdks32pw0E6/030txdNcMGPHmvNYXigP+R30OFW8T0OWVqRKVEAKCIibZfsSTbo1vzH/IZogx8m72sQxitdpJOS+Vtwv8bydA1yKUn6abekzXYoDSWvCYGx0W2rDEJ4Y8aPvmQ9BtJufKLNaGgrF3s02IEZC87t5OJImnT/FQz3ZQh2AeK9pTnRIgzm9/zedpnSPpV+VNaUyQy+avPl3gF59uXQeV6LM+VYtHvfpK81YgRipADbjhMJlA4AQxzEEIEKu0zROovo0Mtwh98iQpcIOj+7z5qSNsyGyCHzegkxv8slbQDXypBHeFSeTw4NlnlHlvZWV/TpnwJpS5rMHg7vSoHkMq3RZ7WQ9aOmpDvclwzUo0PGiNJvVpSMjHEpLT5ivHQe9RpPW+SloH66ek9ti0eJymyRa/XXDFW5W0hcxktAysOXFCCGco0FxgQaRgPiv58ssS6rtAl7CVDNJvXmKuqGhT3x9Ec6TkYCG7uMo+OpxD6MTjZXjijwxyyqOBST+zyk7VzJcN3ZVwnO4VDc+zIarLprm0IubR/YSDMxIbHKDhLg8p8+koLfwPakX/ggQ0UiYIfNkRfqw1YN+g6/WvG1cwfE/erjfpBDXeIgEzeu6oQufMZLVFJFf3mymJXj5Uex/xkz0mFG/Vt2XgGORyR9LcIS53jhVVMtCfil7LgNEAAUgzioVcL0IcyQp2z/GnJl5wwXc0mTz/XhvcAV58t5gmR7hAA8zShqHIUb4jLvzehF8LX3Tp0zchYUElvJO/UJmt2zq1an4epOOlueEuK9pgdNIrqlLGurOL+u5S/0vwYj8o9gGXXen68wQG+Ap8ltgtuytLumMhiuya+m3WNZDFvodwNHQqJXI5EU9wMy4HmiFAMB0XutWIsJtQRQiLS9SplpYli9fqH9iSIewgphYGdvUWtBYXieco0FtgQalgPiv1PVTDI7u7OeLPWkcmMdm9Zv/KB61Asui+97YqvdY+1QhiZ/zueeHzzpOJzHCxf5Lx6COCQPiZGZlJDR45PaZrCEimBB+6JIOrM0Qtniq9onGKLz3WPPuC5L+WCJf43Kj+I3y8lwfyY6A5EFfcmcJp0/T1Nz6YdPp+j477+Rlka8SL5vGAFZygzBKiXFQQcn0tk1P8I5fUNGv17DumrI4++9IjjI7Ox4gXLw63KnzO/yYnjEXCX46QM+S3/MdnsssVYxTzgzeF8zIn0MgsRZ4CNhGUWNU/2gcKaB5iezbS3VkH/W1fMSP6vMViprvdhMXhVHvVYp9eF6+a7ujxUd2H7K5A0vCyYbx9oU6pXWOk+zBbbHwG0YTC0ijarVjN/TibAGVHTnoktQ4cdDzEMKPj2NOcFnLUXz9nCuCcoIjqfx98hORg5Aa6xE2ozA21TncN8ntQBe36yFlYrFx+1oFdzi2EAP8EZ2jQW6BBrmA+LJCM9AjzumkKz2H9MoxfrFi9UCAC/mwD9DIZyM9ss2qa7feeCUtAqz4eNEYNwwcfW7hQVGeKqUPDYu4JMhwOUSC7dr74temp8vBLUwE1o1SNRNm+Eb195ujWdQDJxlUWyW0o8/hEUlFoZEkz8RAsInnQ8FrmI+fMUvTmKc691Yp+lqsVyp0xQ8n+kS6+D2iELlDYug0JgH+AFjCqa4qHZhtSBZda4+h7dH531A3UhLLjCzzw6AIMMQyYFSLViZeCitHlmNSurUMh6RQ+m86wFpsd9njTj7zfrAZMuNsvlcKtMsLn9OFM0X6bqAmku1zOMLTqJ8Nzpl1GPEbBARvfQHOoc/Ud7odOhiywi7f02mKSfnV4vgx398NTyq2zKkVNSU71HNNBwd2aFQZ6dHjK1OCmf07vUuUfOu3XPEiTbZkxLmEhryxk5UMx6+oQI/n4ta3bYiHJ33GHsrIvnofsN0DEyoMAD4qlZ2jQXKBBs2A+LFxV95UCbHlrkldu1ZwCFMcqFVvT3/JypUMOUNGrxm1WLGFtZQ4UCjIVL7ZbreQHyPHhavza3jBZtMIm16k54/02bkFhvLCdD1SaNMCSsERtuL9pa4KNnh9+FZZeQI3zlsAgsKLDGFpTNlDMrPDHM3L8qxGa70DOCQKDa/CitG/YeRHGzxrRU9GjEtfnlrExpabgw8jDtMbS3CqPZLI0VzJJVsZ6d10NmavHHPp3dMeLjxEd8GYDsKZzUGW7TwmdCin9NqeY01nx2ycUlnYOrAkH6fVihTJ8sJgoBB87D+eFNFXQsd8kTNkWckuci2mP6FIZ6YdPLGXWjrFAeBBUOrPtvjCQJNkZ6C8UFFv+undZ7VfnMgUWK1GqLO8te6sWAmwAgsoVMOuPmJeHZD9g5FDKgGhzzdmExCvSvvmWkYL1w3c7GdGua3HjJnEoFNkoCg5ksoDRrFR53peDq/y0MLGOeBesaHEAezPNvleo0FzgQbhgPiyQiZdIOwQwqf4tKRNjV0sn8f726I3Btj1DV27zEeSYqBh8dRnEShEY00nQlK0s9VRl0gKVZ5sA1loGYagJY4JUnIo65vuWAUXyOEAYBgXnffKU++lsFgt6AITn9Ckd4pD71iT1980Qicl+/BgB1Uv0T4CjRB3APbbDsJ6GkaKEyb2/Jql+X/ZODPPCwEVvN6OMo9LvQXq7LrprRdqx9173thSCYJmq+O2xPMHH3OlnIMkc7jqScVh214HgQ+yECKDCcpSHrmKhMxGXQGX8VvVxNWeCZx9PcBYJghejiUywBKXUKUo63p18hqX9JNH0IJi8EaoF0wPP4HntEhMY7TCCFWHDtdktM0rA1eg8AUvbg7smF8tFW5hIHMFZ0oySo0vf0rgBCzP4TJdhOHj8UTJOR/75/FdMydjAspDWzqZ2ttdxWkLWhh1INOQ/OGOIRTKwtEoG4H8MJgocM++SrYIPRi4nmsJkPNqODiDp1yjQXqBBvWA+LI3QZOwVQXD6komQu6QO5M+VVKVp30hdz9vAeoeZ1PiMBKCNwRlFXKCN222rEFdp4AcbKIjAXp39ezdxjJBYOg9RVQV14IX8vk2OqtCT6PFbZ2nBbFbetglMhp/yB46BgfFWxuOgG2KgqoBa+L9nKUJPPlbQlwuA927hdotd5ZQSwE+zfyW1BCPGndvx2GKq5qazS5sgUazSjSg++VK3Qktfk/UkrP8FvSqBVzy0KNTjqV9M2WVy4pUGUoRZuPJOp/Wfr6bsCHnGge+w74zfdzXVSq4vF3emXbeeTpsgE9sV5BPx88V1Lwoe3++Hx9iwyIHKpZpDD0eWbCHbgjxwN7UTZA9yRv1CCnBX0BleioZLCUFlqBapkiSX5pO8sxBLOkIUGhM8b3QFIpZAusVKDoo8zShuIlpsg8/c3AK6b7lH7lAAt/cVg3Kg7t5Ki/Df3U0X5EaY1SuimSqowtnO0juKclufq2H7YusESPrlx/QpxqngN2gQj2hQjOBBwkA+HiF4OY67QebAK2Rma+v2pvzI3sA4ovAip0p9B6oyKBzuj0nJ0NeysGYHsqXSQttWQ3cXjZD2OKaRkpcgxxx6DwSSzOXIfAdIfgCgjFRU/Ckc+4sfGzSFM6Lkc8PHe0iVqQGnhHgKLgWGoSckORm5O9gNmnQC8GMSId8/oEmCkVJ44w4PHJIfzkZ41fPATZ9AM+fFAXWAqEd1NEaYYgGv5C3TwNbZIy1m7bbAZ45ls4do9x/Db76JFN2B1TYjKxeAYnA5xC6pj8wjKRsztma7MM/IgLB5zfJrkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK9MvlUgw4EE19hhZTR7Mx0luksGBuII9m+FBlgKyW2DG8tK3RX/7GlH8TjHLDRqUGzlTl9cZmjqlXZfmOSRycYqTXRgpDD1G5zOPlCDGP1KE7OtVTqnfa8SVx0qtnlkXR9gzhphrFQoFQIcEhBS8nxkn53KJEdUY5FcRhZKysxIAuiy4vSnEp5jnrxYlXHLFEuh3WihACt4vkcU7trkbuPs4EAt4r3gQHxggHB8IED";async function su(){const o=await fetch(cc);if(!o.ok)throw new Error(`Failed to fetch init sample: ${o.statusText}`);const e=await o.arrayBuffer(),t=new(window.AudioContext||window.webkitAudioContext)({sampleRate:Ni.sampleRate}),n=await t.decodeAudioData(e);return await t.close(),n}const hc="../assets/",dc="init_sample.wav";async function ou(){try{await me.open(),await au()}catch(o){console.error("Error opening IndexedDB:",o)}}async function au(){try{const o="default-init-sample",e=`${hc}${dc}`,t=await me.samples.get(o);if(t){console.info("Init sample from idb: ",{sample:t.id});return}const n=await su();if(!n||n.length<=0){console.warn("Failed to decode init sample");return}console.debug({audioBuffer:n});const r=await tu(o,e,n,1,1);console.info(`storing init sample in idb, stored sample ID: ${r}`)}catch(o){console.warn("Error ensuring init sample in IndexedDB:",o)}}const La={KeyZ:48,KeyS:49,KeyX:50,KeyD:51,KeyC:52,KeyV:53,KeyG:54,KeyB:55,KeyH:56,KeyN:57,KeyJ:58,KeyM:59,Comma:60,KeyL:61,Period:62,Semicolon:63,Slash:64,KeyQ:60,Digit2:61,KeyW:62,Digit3:63,KeyE:64,KeyR:65,Digit5:66,KeyT:67,Digit6:68,KeyY:69,Digit7:70,KeyU:71,KeyI:72,Digit9:73,KeyO:74,Digit0:75,KeyP:76,BracketLeft:77,Equal:78,BracketRight:79};var mr,Ce,ui,Bn,qe,Nt,Kt,Ts,li,gr,Ss;const Dn=class so{constructor(e=La){S(this,Ss),S(this,Ce,new Set),S(this,ui,!1),S(this,Bn,!1),S(this,qe,new Set),S(this,Nt,new Set),S(this,Kt),S(this,Ts,{loopToggle:"CapsLock",loopMomentary:"Space"}),S(this,li,!1),S(this,gr,!1),B(this,"handleKeyDown",t=>{if(t.repeat)return;const n=t.code;if(i(this,qe).has(n))return;i(this,qe).add(n);const r=i(this,Kt)[n];if(r===void 0)return;t.preventDefault();const s=100,a=this.getAllModifiers(t);i(this,Ce).forEach(l=>{l.onModifierChange&&l.onModifierChange(a)}),i(this,Ce).forEach(l=>l.onNoteOn(r,s,a))}),B(this,"handleKeyUp",t=>{y(this,li,this.getCapslock(t));const n=this.getAllModifiers(t);if(i(this,Ce).forEach(s=>{s.onModifierChange&&s.onModifierChange(n)}),!i(this,qe).has(t.code))return;const r=i(this,Kt)[t.code];r!==void 0&&(i(this,Ce).forEach(s=>s.onNoteOff(r,n)),i(this,qe).delete(t.code))}),B(this,"handleBlur",t=>{const n=Array.from(i(this,qe));console.log("Blur occured");const r={shift:!1,ctrl:!1,alt:!1,meta:!1,caps:this.getCapslock(),space:!1};n.forEach(s=>{const a=i(this,Kt)[s];a!==void 0&&i(this,Ce).forEach(l=>l.onNoteOff(a,r)),i(this,qe).delete(s)}),i(this,Ce).forEach(s=>{s.onBlur&&s.onBlur()}),i(this,qe).clear()}),y(this,Kt,e),y(this,ui,ql())}static getInstance(e=La){return i(so,mr)||y(so,mr,new so(e)),i(so,mr)}get pressedKeys(){return new Set([...i(this,qe),...i(this,Nt)])}get pressedNoteKeys(){return new Set(i(this,qe))}getAllModifiers(e){return{shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey,caps:this.getCapslock(e),space:i(this,gr)}}getCapslock(e){return e&&i(this,ui)?e.getModifierState("CapsLock"):i(this,li)}getToggleKeysState(e){return{CapsLock:this.getCapslock(e)}}isPressed(e){return i(this,Ts).hasOwnProperty(e)?i(this,Nt).has(e):i(this,qe).has(e)}addHandler(e){return i(this,Ce).has(e)?(console.warn("Handler is already registered"),()=>this.removeHandler(e)):(i(this,Ce).add(e),this.startListening(),()=>this.removeHandler(e))}removeHandler(e){i(this,Ce).delete(e),i(this,Ce).size===0&&this.stopListening()}hasHandler(e){return Array.isArray(e)?e.every(t=>i(this,Ce).has(t)):i(this,Ce).has(e)}setKeymap(e){y(this,Kt,e)}getKeymap(){return{...i(this,Kt)}}startListening(){i(this,Bn)||typeof document<"u"&&(document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp),window.addEventListener("blur",this.handleBlur),y(this,Bn,!0))}stopListening(){i(this,Bn)&&typeof document<"u"&&(document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),typeof window<"u"&&window.removeEventListener("blur",this.handleBlur),y(this,Bn,!1))}dispose(){this.stopListening(),i(this,Ce).clear(),i(this,qe).clear()}};mr=new WeakMap,Ce=new WeakMap,ui=new WeakMap,Bn=new WeakMap,qe=new WeakMap,Nt=new WeakMap,Kt=new WeakMap,Ts=new WeakMap,li=new WeakMap,gr=new WeakMap,Ss=new WeakSet,S(Dn,mr);let Lo=Dn;const Yt=Lo.getInstance();var ci,Vn,Fn;class Kr{constructor(){S(this,ci,null),S(this,Vn,!1),S(this,Fn,new Map)}async initialize(){if(i(this,Vn))return!0;try{y(this,ci,await navigator.requestMIDIAccess());const e=i(this,ci).inputs.values();for(const t of e)t.onmidimessage=this.handleMidiMessage.bind(this),console.log(`MIDI input connected: ${t.name}`);return y(this,Vn,!0),!0}catch(e){return console.error("Failed to initialize MIDI:",e),!1}}handleMidiMessage(e){const[t,n,r]=e.data,s=t&240;if(s===144&&r>0)for(const a of i(this,Fn).values())a.onNoteOn(n,r);else if(s===128||s===144&&r===0)for(const a of i(this,Fn).values())a.onNoteOff(n)}connectInstrument(e,t=0){i(this,Vn)?i(this,Fn).set(t,{onNoteOn:(n,r)=>e.play(n,r),onNoteOff:n=>e.release(n)}):console.log("connectInstrument failed: midi not initialized")}disconnectInstrument(e){i(this,Fn).delete(e)}get isInitialized(){return i(this,Vn)}}ci=new WeakMap,Vn=new WeakMap,Fn=new WeakMap;async function vc(o={echoCancellation:!1,noiseSuppression:!0,autoGainControl:!0}){return await navigator.mediaDevices.getUserMedia({audio:o})}const bc=30,Ac=1e3,wc={off:0,low:.1,medium:.2,high:.3};async function Pc(o,e="medium"){const t=o.getChannelData(0),n=wc[e];let r=0;for(let C=0;C<t.length;C++){const M=Math.abs(t[C]);M>r&&(r=M)}const s=n>0?t.map(C=>Math.abs(C)>n*r?C:0):t,a=Math.floor(o.sampleRate/Ac),l=Math.floor(o.sampleRate/bc);let c=new Float32Array(l);for(let C=a;C<c.length;C++){let M=0;for(let N=0;N<s.length-C;N++)M+=s[N]*s[N+C];c[C]=M}let h=a;for(let C=a;C<l;C++)c[C]>c[h]&&(h=C);const p=h,_=c[p-1],w=c[p],u=c[p+1],P=2*(2*w-_-u),b=Math.abs(P)<1e-6?0:(u-_)/P,k=c[h],E=Math.sqrt(s.reduce((C,M)=>C+M*M,0)/s.length),R=k/(E*E*s.length),L=Math.max(0,Math.min(1,R));return{frequency:o.sampleRate/(p+b),confidence:L}}var Lt,Nn,hi,di,Pt,Ze,fi,yr,bs;class Ec{constructor(e=[],t=[0,1],n,r,s){S(this,yr),S(this,Lt),S(this,Nn,0),S(this,hi,!1),S(this,di),S(this,Pt,null),S(this,Ze,null),S(this,fi),B(this,"updateStartPoint",(a,l)=>{this.updatePoint(0,a,l)}),B(this,"updateEndPoint",(a,l)=>{this.updatePoint(this.points.length-1,a,l)}),B(this,"setValueRange",a=>y(this,Lt,a)),this.points=e,ne(e.length>=2,"EnvelopeData needs at least two points to initialize"),y(this,Nn,n),y(this,Lt,t),y(this,di,0),y(this,Pt,r||e.length-2),y(this,Ze,s||e.length-2),y(this,fi,e.length-1)}addPoint(e,t,n="exponential"){const r={time:e,value:t,curve:n};if(this.points.length>=2){const a=this.points[this.startPointIndex].time,l=this.points[this.points.length-1].time;if(e<=a||e>=l){console.warn(`Cannot add point at time ${e}. Must be between ${a} and ${l}`);return}}const s=this.points.findIndex(a=>a.time>e);s===-1?this.points.push(r):(this.points.splice(s,0,r),i(this,Pt)!==null&&s<=i(this,Pt)&&ps(this,Pt)._++,i(this,Ze)!==null&&s<=i(this,Ze)&&ps(this,Ze)._++),z(this,yr,bs).call(this)}updatePoint(e,t,n){if(e>=0&&e<this.points.length){const r=this.points[e];let s=t??r.time;if(e===1&&s<=this.points[0].time){console.warn("Second point cannot go before first point");return}if(e===this.points.length-2&&s>=this.points[this.points.length-1].time){console.warn("Second-to-last point cannot go after last point");return}this.points[e]={...r,time:s,value:n??r.value}}z(this,yr,bs).call(this)}deletePoint(e){this.points.length>2&&e>0&&e<this.points.length-1&&this.points.splice(e,1),z(this,yr,bs).call(this),i(this,Ze)===null&&y(this,Ze,Math.max(0,this.points.length-2))}interpolateValueAtTime(e){if(this.points.length===0)return i(this,Lt)[0];if(this.points.length===1){const[a,l]=i(this,Lt);return a+this.points[0].value*(l-a)}const t=[...this.points].sort((a,l)=>a.time-l.time);let n=0;if(e<=t[0].time)n=t[0].value;else if(e>=t[t.length-1].time)n=t[t.length-1].value;else{n=0;for(let a=0;a<t.length-1;a++){const l=t[a],c=t[a+1];if(e>=l.time&&e<=c.time){const h=c.time-l.time,p=h===0?0:(e-l.time)/h;l.curve==="exponential"&&l.value>0&&c.value>0?n=l.value*Math.pow(c.value/l.value,p):n=l.value+(c.value-l.value)*p;break}}}const[r,s]=i(this,Lt);return r+n*(s-r)}getSVGPath(e=400,t=200,n){if(this.points.length<2)return`M0,${t} L${e},${t}`;const r=[...this.points].sort((a,l)=>a.time-l.time);let s=`M${r[0].time/n*e},${(1-r[0].value)*t}`;for(let a=1;a<r.length;a++){const l=r[a],c=r[a-1],h=l.time/n*e,p=(1-l.value)*t;if(c.curve==="exponential"){const _=c.time/n*e,w=(1-c.value)*t,u=_+(h-_)*.3,P=w,b=_+(h-_)*.7;s+=` C${u},${P} ${b},${p} ${h},${p}`}else s+=` L${h},${p}`}return s}setSustainPoint(e){if(e==null){y(this,Pt,null);return}e>=0&&e<this.points.length&&y(this,Pt,e)}setReleasePoint(e){e>=0&&e<this.points.length?y(this,Ze,e):console.error("EnvelopeData.setReleasePoint: invalid index")}get startPointIndex(){return i(this,di)}get sustainPointIndex(){return i(this,Pt)}get releasePointIndex(){return i(this,Ze)===null||i(this,Ze)>=this.points.length?Math.max(0,this.points.length-2):i(this,Ze)}get endPointIndex(){return i(this,fi)}get valueRange(){return i(this,Lt)}get startTime(){var e;return((e=this.points[0])==null?void 0:e.time)??0}get endTime(){var e;return((e=this.points[this.points.length-1])==null?void 0:e.time)??i(this,Nn)}get durationSeconds(){return this.endTime-this.startTime}setDurationSeconds(e){y(this,Nn,e)}get hasSharpTransitions(){return i(this,hi)}}Lt=new WeakMap,Nn=new WeakMap,hi=new WeakMap,di=new WeakMap,Pt=new WeakMap,Ze=new WeakMap,fi=new WeakMap,yr=new WeakSet,bs=function(){const o=.02*i(this,Nn);y(this,hi,this.points.some((e,t)=>t>0&&Math.abs(e.time-this.points[t-1].time)<o))};var jt,vr,ie,qt,Kn,sn,Ln,jn,Et,on,pe,As,jo,qo,uu,br,xs,lu,cu,Uo;class gs{constructor(e,t,n,r=[],s=[0,1],a=1,l=!1,c=!0){switch(S(this,pe),B(this,"nodeId"),B(this,"nodeType","default-env"),S(this,jt),S(this,vr),S(this,ie),S(this,qt),B(this,"envelopeType"),S(this,Kn),S(this,sn,!1),S(this,Ln,!1),S(this,jn,1),S(this,Et,1),S(this,on,!1),B(this,"addPoint",(h,p,_)=>i(this,ie).addPoint(h,p,_)),B(this,"deletePoint",h=>i(this,ie).deletePoint(h)),B(this,"updatePoint",(h,p,_)=>{i(this,ie).updatePoint(h,p,_)}),B(this,"updateStartPoint",(h,p)=>i(this,ie).updateStartPoint(h,p)),B(this,"updateEndPoint",(h,p)=>i(this,ie).updateEndPoint(h,p)),B(this,"getSVGPath",(h,p,_)=>i(this,ie).getSVGPath(h,p,_)),B(this,"setValueRange",h=>i(this,ie).setValueRange(h)),B(this,"enable",()=>y(this,Kn,!0)),B(this,"disable",()=>y(this,Kn,!1)),S(this,br,!1),S(this,xs,()=>i(this,sn)&&!i(this,br)),B(this,"setTimeScale",h=>{y(this,Et,h)}),B(this,"setLoopEnabled",(h,p="normal")=>{p!=="normal"&&console.info("Only default env loop mode implemented. Other modes coming soon!"),y(this,sn,h)}),B(this,"syncToPlaybackRate",h=>{y(this,Ln,h)}),B(this,"setSustainPoint",h=>i(this,ie).setSustainPoint(h)),B(this,"setReleasePoint",h=>i(this,ie).setReleasePoint(h)),this.envelopeType=t,this.nodeType=t,this.nodeId=Ct(this.envelopeType),y(this,vr,Ht(this.nodeId)),t){case"amp-env":y(this,qt,"envGain");break;case"pitch-env":y(this,qt,"playbackRate");break;case"filter-env":y(this,qt,"lpf");break;case"loop-env":y(this,qt,"loopEnd"),console.warn("CustomEnvelope not implemnted for type: loop-env");break;default:console.error(`CustomEnvelope not implemented for type: ${t}`),y(this,qt,"default");break}y(this,Kn,c),y(this,jt,e),y(this,on,l),y(this,ie,n||new Ec([...r],s,a))}get data(){return i(this,ie)}get param(){return i(this,qt)}get isEnabled(){return i(this,Kn)}get points(){return i(this,ie).points}get fullDuration(){return i(this,ie).durationSeconds}get timeScale(){return i(this,Et)}get valueRange(){return i(this,ie).valueRange}get loopEnabled(){return i(this,sn)}get syncedToPlaybackRate(){return i(this,Ln)}get numPoints(){return i(this,ie).points.length}setSampleDuration(e){return i(this,ie).setDurationSeconds(e),this}triggerEnvelope(e,t,n={baseValue:1,playbackRate:1}){y(this,br,!1),y(this,jn,n.playbackRate),i(this,sn)?z(this,pe,lu).call(this,e,t,n):z(this,pe,uu).call(this,e,t,n)}releaseEnvelope(e,t,n={baseValue:1,playbackRate:i(this,jn)}){y(this,br,!0);const r=this.releasePointIndex;z(this,pe,cu).call(this,e,t,r,n)}get sustainPointIndex(){return i(this,ie).sustainPointIndex}get releasePointIndex(){return i(this,ie).releasePointIndex}get releasePoint(){return this.points[this.releasePointIndex]||null}get releaseTime(){const e=this.points[this.points.length-1].time-this.points[this.releasePointIndex].time;return i(this,Ln)?e/i(this,jn)/i(this,Et):e/i(this,Et)}get sustainEnabled(){return this.sustainPoint!==null&&!this.loopEnabled}get sustainPoint(){return this.sustainPointIndex!==null?this.points[this.sustainPointIndex]:null}get currentPlaybackRate(){return i(this,jn)}onMessage(e,t){return i(this,vr).onMessage(e,t)}sendUpstreamMessage(e,t){return i(this,vr).sendMessage(e,t),this}hasVariation(){var e;const t=((e=this.points[0])==null?void 0:e.value)??0;return this.points.some(n=>Math.abs(n.value-t)>.001)}static getDefaults(e,t=1){switch(e){case"amp-env":return{points:[{time:0,value:0,curve:"exponential"},{time:.005,value:1,curve:"exponential"},{time:.3,value:.5,curve:"exponential"},{time:t-.1,value:.5,curve:"exponential"},{time:t,value:0,curve:"exponential"}],valueRange:[0,1],logarithmic:!0,initEnable:!0};case"pitch-env":return{points:[{time:0,value:.5,curve:"exponential"},{time:t,value:.5,curve:"exponential"}],valueRange:[.5,1.5],logarithmic:!1,initEnable:!1};case"filter-env":return{points:[{time:0,value:.3,curve:"exponential"},{time:.05,value:1,curve:"exponential"},{time:t,value:.5,curve:"exponential"}],valueRange:[30,18e3],logarithmic:!1,initEnable:!1};default:return{points:[{time:0,value:0,curve:"linear"},{time:t,value:1,curve:"linear"}],valueRange:[0,1],logarithmic:!1,initEnable:!0}}}dispose(){y(this,sn,!1),pn(this.nodeId)}}jt=new WeakMap,vr=new WeakMap,ie=new WeakMap,qt=new WeakMap,Kn=new WeakMap,sn=new WeakMap,Ln=new WeakMap,jn=new WeakMap,Et=new WeakMap,on=new WeakMap,pe=new WeakSet,As=function(o,e,t=1,n=1){if(o<0||e>=this.points.length||o>=e)return 0;const r=this.points[o].time;let s=this.points[e].time-r;return i(this,Ln)&&(s=s/t),s/n},jo=function(o){return i(this,on)?o<1?1e3:750:i(this,ie).hasSharpTransitions?1e3:o<1?500:250},qo=function(o,e=this.fullDuration,t){const n=z(this,pe,jo).call(this,o),r=Math.max(2,Math.floor(o*n)),s=new Float32Array(r),{baseValue:a,minValue:l,maxValue:c}=t;for(let h=0;h<r;h++){const p=h/(r-1)*e;let _=i(this,ie).interpolateValueAtTime(p);i(this,on)&&(_=Math.pow(_,2));let w=(a??1)*_;l!==void 0&&(w=Math.max(w,l)),c!==void 0&&(w=Math.min(w,c)),s[h]=z(this,pe,Uo).call(this,w)}return s},uu=function(o,e,t){var n;const r=this.sustainEnabled?this.sustainPointIndex??this.points.length-1:this.points.length-1,s=z(this,pe,As).call(this,0,r,t.playbackRate,i(this,Et)),a=z(this,pe,qo).call(this,s,this.sustainEnabled?((n=this.sustainPoint)==null?void 0:n.time)??this.fullDuration:this.fullDuration,t);t.voiceId!==void 0&&this.sendUpstreamMessage(`${this.envelopeType}:trigger`,{voiceId:t.voiceId,midiNote:t.midiNote??60,duration:s,sustainEnabled:this.sustainEnabled,sustainPoint:this.sustainPoint});const l=Math.max(i(this,jt).currentTime,e);try{if(o.cancelScheduledValues(l),o.setValueCurveAtTime(a,l,s),this.sustainEnabled){const c=a[a.length-1];o.setValueAtTime(c,l+s)}}catch{console.debug("Failed to apply envelope curve due to rapid fire.");try{const c=o.value;o.cancelScheduledValues(l),o.setValueAtTime(c,l),o.linearRampToValueAtTime(a[a.length-1],l+s)}catch{try{o.setValueAtTime(a[a.length-1],l)}catch{}}}},br=new WeakMap,xs=new WeakMap,lu=function(o,e,t){let n=Math.max(i(this,jt).currentTime,e);const r=()=>{if(!i(this,xs).call(this))return;const s=z(this,pe,As).call(this,0,this.points.length-1,t.playbackRate,i(this,Et)),a=z(this,pe,qo).call(this,s,this.fullDuration,t);t.voiceId!==void 0&&this.sendUpstreamMessage(`${this.envelopeType}:trigger`,{voiceId:t.voiceId,midiNote:t.midiNote??60,duration:s,sustainEnabled:this.sustainEnabled,sustainPoint:this.sustainPoint}),n=Math.max(n,i(this,jt).currentTime+.001),o.cancelScheduledValues(n),o.setValueCurveAtTime(a,n,s),n+=s+.005;const l=(n-s-i(this,jt).currentTime)*1e3-10;t.voiceId!==void 0&&this.sendUpstreamMessage(`${this.envelopeType}:trigger`,{voiceId:t.voiceId,midiNote:t.midiNote??60,duration:s,sustainEnabled:!1}),setTimeout(r,Math.max(0,l))};r()},cu=function(o,e,t,n){const r=this.points[t],s=this.points[this.points.length-1],a=s.time-r.time,l=z(this,pe,As).call(this,t,this.points.length-1,n.playbackRate,i(this,Et));if(l<=0)return;let c=i(this,ie).interpolateValueAtTime(r.time),h=i(this,ie).interpolateValueAtTime(s.time);const p=o.value,_=z(this,pe,jo).call(this,l),w=Math.max(2,Math.floor(l*_)),u=new Float32Array(w),{baseValue:P,minValue:b,maxValue:k}=n;i(this,on)&&(c=Math.pow(c,2),h=Math.pow(h,2));const E=(P??1)*c,R=(P??1)*h,L=Math.max(b??-1/0,Math.min(k??1/0,R));for(let M=0;M<w;M++){const N=M/(w-1),F=r.time+N*a;let I=i(this,ie).interpolateValueAtTime(F);i(this,on)&&(I=Math.pow(I,2));let V=(P??1)*I;b!==void 0&&(V=Math.max(V,b)),k!==void 0&&(V=Math.min(V,k));const Ie=E!==L?(V-E)/(L-E):0,le=p+Ie*(L-p);u[M]=z(this,pe,Uo).call(this,le)}n.voiceId!==void 0&&this.sendUpstreamMessage(`${this.envelopeType}:release`,{voiceId:n.voiceId,midiNote:n.midiNote??60,releasePointTime:this.points[this.releasePointIndex].time/this.currentPlaybackRate/this.timeScale,remainingDuration:l});const C=Math.max(i(this,jt).currentTime,e);try{o.cancelScheduledValues(C),o.setValueCurveAtTime(u,C,l)}catch(M){console.warn("Failed to apply release curve, falling back to linear ramp:",M),o.cancelScheduledValues(C),o.setValueAtTime(p,C),o.linearRampToValueAtTime(L,C+l)}},Uo=function(o){const[e,t]=i(this,ie).valueRange;return Math.max(e,Math.min(t,o))};function Do(o,e,t={}){const{durationSeconds:n=2,points:r,valueRange:s,logarithmic:a,initEnable:l,sharedData:c}=t;if(c)return new gs(o,e,c);if(r)return new gs(o,e,void 0,r,s||[0,1],n,a||!1,l!==void 0?l:!0);const h=gs.getDefaults(e,n);return new gs(o,e,void 0,h.points,s||h.valueRange,n,a!==void 0?a:h.logarithmic,l!==void 0?l:h.initEnable)}class hu{constructor(){B(this,"timers",new Map)}debounce(e,t,n){return(...r)=>{this.timers.has(e)&&clearTimeout(this.timers.get(e)),this.timers.set(e,setTimeout(()=>{t(...r),this.timers.delete(e)},n))}}cancel(e){this.timers.has(e)&&(clearTimeout(this.timers.get(e)),this.timers.delete(e))}}var We,Te,pi,qn,Tt,mi,Ar,Lr,du,fu,Xo;class ja{constructor(e,t){S(this,Lr),B(this,"nodeType","macro"),B(this,"nodeId"),S(this,We),S(this,Te),S(this,pi),S(this,qn),S(this,Tt,""),S(this,mi,!1),B(this,"descriptor"),S(this,Ar,0),S(this,Xo,(n,r,s,a,l)=>{console.debug("adjusting param: ",i(this,Tt),"targetValue",n,"constant",r,"targetPeriod",s,"quantizedPeriod",a,"result",l)}),this.descriptor=t,y(this,We,new Go(e,t.defaultValue)),y(this,Te,new Tc),y(this,pi,new hu),y(this,qn,Ht(i(this,We).nodeId)),this.nodeId=i(this,We).nodeId,y(this,mi,!0)}addTarget(e,t,n=1){return i(this,Tt)||y(this,Tt,t),ne(t===i(this,Tt),"Macros only support a single ParamType"),i(this,We).addTarget(e,n),this}ramp(e,t,n,r={}){if(e===i(this,Ar))return this;y(this,Ar,e);const{method:s="exponential",debounceMs:a=20,onComplete:l,onCompleteDelayMs:c=30}=r,h=()=>{let p=z(this,Lr,du).call(this,e,n);i(this,We).ramp(p,t,s,!0),l&&setTimeout(l,t*1e3+c)};return a===0?h():i(this,pi).debounce(this.nodeId,h,a)(),this}debugProcessVal(e,t,n){console.log("MacroParam.#processValue input:",{value:e,constant:t,targetPeriod:n,hasValueSnapping:i(this,Te).hasValueSnapping,hasPeriodSnapping:i(this,Te).hasPeriodSnapping,longestPeriod:i(this,Te).longestPeriod})}setAllowedParamValues(e,t){return i(this,Te).setAllowedValues(e,t)}setAllowedPeriods(e,t,n=!1){return i(this,Te).setAllowedPeriods(e,t,n)}setScale(e){const{rootNote:t,scale:n,tuningOffset:r=0,lowestOctave:s=0,highestOctave:a=8}=e,l=Array.isArray(n)?n:Ja[n];return i(this,Te).setScale(t,l,r,s,a,e.normalize,e.snapToZeroCrossings)}setValue(e,t){return i(this,We).setValue(e,t),z(this,Lr,fu).call(this,e),y(this,Ar,e),this}getValue(){return i(this,We).value}get targets(){return i(this,We).targets}get snapper(){return i(this,Te)}get isReady(){return i(this,mi)}get now(){throw new Error("Not implemented")}get audioParam(){return i(this,We).param}get type(){return i(this,Tt)}get longestPeriod(){return i(this,Te).longestPeriod}onChange(e){return this.onMessage("value:changed",e)}onMessage(e,t){return i(this,qn).onMessage(e,t)}sendMessage(e,t){i(this,qn).sendMessage(e,t)}dispose(){i(this,We).dispose()}connect(e,t,n){return this.addTarget(e,t,n),this}disconnect(e){throw new Error("Not implemented")}}We=new WeakMap,Te=new WeakMap,pi=new WeakMap,qn=new WeakMap,Tt=new WeakMap,mi=new WeakMap,Ar=new WeakMap,Lr=new WeakSet,du=function(o,e){if(!Number.isFinite(o)||!Number.isFinite(e))return o;const t=Math.abs(o-e);if(i(this,Te).hasPeriodSnapping&&t<i(this,Te).longestPeriod){const n=i(this,Te).snapToMusicalPeriod(t);let r;if(i(this,Tt)==="loopEnd"&&(r=e+n),i(this,Tt)==="loopStart"&&(r=e-n),r)return r}else if(i(this,Te).hasValueSnapping)return i(this,Te).snapToValue(o);return o},fu=function(o){i(this,qn).sendMessage("value:changed",{value:o})},Xo=new WeakMap;var an,dt,wr,gi;const si=class ka{constructor(e,t=ka.MIN_EXPONENTIAL_RAMP_VALUE){B(this,"nodeId"),S(this,an),S(this,dt),S(this,wr,[]),S(this,gi,!1),y(this,an,e),this.nodeId=Ct("audio-param-controller"),y(this,dt,e.createConstantSource()),i(this,dt).start(),i(this,dt).offset.setValueAtTime(t,e.currentTime),y(this,gi,!0)}addTarget(e,t=1){if(t===1)i(this,dt).connect(e),i(this,wr).push({param:e});else{const n=new GainNode(i(this,an),{gain:t});i(this,dt).connect(n),n.connect(e),i(this,wr).push({param:e,scaler:n})}return this}ramp(e,t,n="exponential",r=!0){const s=i(this,an).currentTime;r&&this.param.cancelScheduledValues(s);const a=this.param.value;if(this.param.setValueAtTime(a,s),n==="exponential"){const l=Math.max(e,ka.MIN_EXPONENTIAL_RAMP_VALUE);this.param.exponentialRampToValueAtTime(l,s+t)}else this.param.linearRampToValueAtTime(e,s+t);return this}setValue(e,t=this.now,n=!0){return n&&this.param.cancelScheduledValues(t),this.param.setValueAtTime(e,t),this}get targets(){return i(this,wr)}get context(){return i(this,an)}get now(){return i(this,an).currentTime}get param(){return i(this,dt).offset}get value(){return this.param.value}get isReady(){return i(this,gi)}dispose(){i(this,dt).stop(),i(this,dt).disconnect(),pn(this.nodeId)}};an=new WeakMap,dt=new WeakMap,wr=new WeakMap,gi=new WeakMap,B(si,"MIN_EXPONENTIAL_RAMP_VALUE",1e-6);let Go=si;const qa=(o,e)=>{const{from:t,to:n}=e,[r,s]=t,[a,l]=n,c=(l-a)/(s-r);if(Array.isArray(o))return o.map(h=>{const p=Math.max(r,Math.min(s,h));return a+(p-r)*c});{const h=Math.max(r,Math.min(s,o));return a+(h-r)*c}};var Un,Ue,yi,Zo;class Tc{constructor(){S(this,Zo),S(this,Un,[]),S(this,Ue,[]),S(this,yi,0),B(this,"paramType",null)}setScale(e,t,n=0,r=0,s=8,a,l=!1){const c=[...t];let h=Fl(e,c,r,s).periodsInSec.sort((p,_)=>p-_);return n!==0&&(h=Nl(h,-n)),this.setAllowedPeriods(h,a,l)}setAllowedPeriods(e,t,n=!1,r="any"){let s=t?qa([...e],t):e;return y(this,Ue,[...s].sort((a,l)=>a-l)),y(this,yi,i(this,Ue).length-1),i(this,Ue)}snapToValue(e,t=i(this,Un),n,r="any"){if(t.length===0)return e;if(n===void 0)return ms(t,e);const s=t.filter(a=>Math.abs(a-e)<=n);if(s.length>0)return ms(s,e,r);if(n!==void 0){const a=ms(t,e,r),l=Math.sign(a-e);return e+l*n}return e}snapToMusicalPeriod(e,t=i(this,Ue)){if(t.length===0||e>this.longestPeriod)return e;if(e<=this.shortestPeriod)return this.shortestPeriod;const n=i(this,Ue)[i(this,yi)];if(e===n)return e;const r=e>n?"right":"left",s=ms(t,e,r);return i(this,Ue)[s]}setAllowedValues(e,t){const n=t?qa(e,t):e;return y(this,Un,[...n].sort((r,s)=>r-s)),i(this,Un)}get periods(){return i(this,Ue)}get shortestPeriod(){return i(this,Ue)[0]}get longestPeriod(){const e=i(this,Ue).length-1;return i(this,Ue)[e]}get hasValueSnapping(){return i(this,Un).length>0}get hasPeriodSnapping(){return i(this,Ue).length>0}}Un=new WeakMap,Ue=new WeakMap,yi=new WeakMap,Zo=new WeakSet;const pu=o=>Math.floor(o/2-1e3),zo=pu(48e3),Ua=10,xc=100,kc=zo,Ga=10,Oe={PLAYBACK_RATE:{nodeId:"playback-rate",name:"playback-rate",dataType:"number",minValue:-4,maxValue:4,step:1e-4,defaultValue:1,group:"pitch",automationRate:"k-rate"},ATTACK:{nodeId:"attack-time",name:"attack-time",dataType:"number",minValue:0,maxValue:5,step:.001,defaultValue:.01,group:"amp-env",automationRate:"k-rate"},RELEASE:{nodeId:"release-time",name:"release-time",dataType:"number",minValue:0,maxValue:5,step:.001,defaultValue:.05,group:"amp-env",automationRate:"k-rate"},LOOP_START:{nodeId:"loop-start",name:"loop-start",dataType:"number",minValue:0,maxValue:9999,step:.001,defaultValue:0,group:"loop-points",automationRate:"k-rate"},LOOP_END:{nodeId:"loop-end",name:"loop-end",dataType:"number",minValue:0,maxValue:9999,step:.001,defaultValue:9999,group:"loop-points",automationRate:"k-rate"},LOOP_RAMP_DURATION:{nodeId:"loop-point-ramp",name:"loop-point-ramp",dataType:"number",minValue:.001,maxValue:1,step:.001,defaultValue:.5,group:"loop-points",automationRate:"k-rate"},START_POINT:{nodeId:"start-point",name:"start-point",dataType:"number",minValue:0,maxValue:9999,step:.001,defaultValue:0,group:"trim-sample",automationRate:"k-rate"},END_POINT:{nodeId:"end-point",name:"end-point",dataType:"number",minValue:0,maxValue:9999,step:.001,defaultValue:9999,group:"trim-sample",automationRate:"k-rate"},LOWPASS_CUTOFF:{nodeId:"lpf-freq",name:"lpf-freq",dataType:"number",minValue:Ua,maxValue:zo,step:Ga,defaultValue:kc,group:"filter:lpf",automationRate:"k-rate"},HIGHPASS_CUTOFF:{nodeId:"hpf-freq",name:"hpf-freq",dataType:"number",minValue:Ua,maxValue:zo,step:Ga,defaultValue:xc,group:"filter:hpf",automationRate:"k-rate"}};var nt,ks,rt,Ge,Ne,ft,Pr,Gn,St,vi,_n,mu,Qo;class Ic{constructor(){S(this,_n),B(this,"nodeId"),B(this,"nodeType","fx"),S(this,nt),S(this,ks,null),S(this,rt),S(this,Ge),S(this,Ne),S(this,ft,null),S(this,Pr),S(this,Gn,!0),S(this,St,null),S(this,vi,!1),this.nodeId=Ct(this.nodeType),y(this,nt,ct()),y(this,Pr,Ht(this.nodeId)),y(this,rt,new GainNode(i(this,nt),{gain:1})),y(this,Ge,z(this,_n,mu).call(this)),y(this,Ne,new GainNode(i(this,nt),{gain:1})),z(this,_n,Qo).call(this),y(this,vi,!0)}get initialized(){return i(this,vi)}startLevelMonitoring(e=1e3,t=1024,n=!1){this.stopLevelMonitoring(),y(this,St,new Va(i(this,nt),i(this,rt),i(this,Ne),t)),i(this,St).start(e),console.log("Level monitoring started")}stopLevelMonitoring(){i(this,St)&&(i(this,St).stop(),y(this,St,null),console.log("Level monitoring stopped"))}logLevels(){if(i(this,St)){const e=i(this,St).getLevels();console.log(`InstrumentMasterBus Levels:
         Input:  RMS ${e.input.rmsDB.toFixed(1)} dB | Peak ${e.input.peakDB.toFixed(1)} dB
         Output: RMS ${e.output.rmsDB.toFixed(1)} dB | Peak ${e.output.peakDB.toFixed(1)} dB
         Gain Reduction: ${e.gainChangeDB>0?e.gainChangeDB.toFixed(1):"0.0"} dB`)}else{const e=new Va(i(this,nt),i(this,rt),i(this,Ne)).getLevels();console.log(`InstrumentMasterBus Levels:
         Input:  RMS ${e.input.rmsDB.toFixed(1)} dB | Peak ${e.input.peakDB.toFixed(1)} dB
         Output: RMS ${e.output.rmsDB.toFixed(1)} dB | Peak ${e.output.peakDB.toFixed(1)} dB
         Gain Reduction: ${e.gainChangeDB>0?e.gainChangeDB.toFixed(1):"0.0"} dB`)}}setCompressorEnabled(e){return i(this,Gn)!==e&&(y(this,Gn,e),z(this,_n,Qo).call(this),i(this,Pr).sendMessage("compressor:state",{enabled:e})),this}get compressorEnabled(){return i(this,Gn)}setCompressorParams(e){return e.threshold!==void 0&&i(this,Ge).threshold.setValueAtTime(e.threshold,this.now),e.knee!==void 0&&i(this,Ge).knee.setValueAtTime(e.knee,this.now),e.ratio!==void 0&&i(this,Ge).ratio.setValueAtTime(e.ratio,this.now),e.attack!==void 0&&i(this,Ge).attack.setValueAtTime(e.attack,this.now),e.release!==void 0&&i(this,Ge).release.setValueAtTime(e.release,this.now),this}onMessage(e,t){return i(this,Pr).onMessage(e,t)}setAltOutVolume(e){var t;return(t=i(this,ft))==null||t.gain.setValueAtTime(e,this.now),this}mute(e="all"){e==="main"?this.volume=0:e==="alt"?this.altVolume=0:(this.volume=0,this.altVolume=0)}connect(e){return ne(e instanceof AudioNode,"remember to fix this"),y(this,ks,e),i(this,Ne).connect(e),e}connectAltOut(e){return i(this,ft)||y(this,ft,new GainNode(i(this,nt))),i(this,ft).connect(e),this}disconnect(e="all"){var t,n;switch(e){case"main":i(this,Ne).disconnect();break;case"alt":(t=i(this,ft))==null||t.disconnect();break;case"all":default:i(this,Ne).disconnect(),(n=i(this,ft))==null||n.disconnect()}return this}dispose(){this.stopLevelMonitoring(),this.disconnect(),i(this,rt).disconnect(),i(this,Ge).disconnect(),y(this,rt,null),y(this,Ge,null),y(this,Ne,null),y(this,nt,null)}get now(){return i(this,nt).currentTime}get input(){return i(this,rt)}get output(){return i(this,Ne)}get volume(){return i(this,Ne).gain.value}get altVolume(){var e;return((e=i(this,ft))==null?void 0:e.gain.value)??null}set altVolume(e){var t;(t=i(this,ft))==null||t.gain.setValueAtTime(e,this.now)}set volume(e){const t=Math.max(0,Math.min(1,e));i(this,Ne).gain.setValueAtTime(t,this.now)}}nt=new WeakMap,ks=new WeakMap,rt=new WeakMap,Ge=new WeakMap,Ne=new WeakMap,ft=new WeakMap,Pr=new WeakMap,Gn=new WeakMap,St=new WeakMap,vi=new WeakMap,_n=new WeakSet,mu=function(){return new DynamicsCompressorNode(i(this,nt),{threshold:-50,knee:12,ratio:4,attack:.005,release:.1})},Qo=function(){i(this,rt).disconnect(),i(this,Ge).disconnect(),i(this,Gn)?(i(this,rt).connect(i(this,Ge)),i(this,Ge).connect(i(this,Ne))):i(this,rt).connect(i(this,Ne))};function Dc(o,e){localStorage.setItem(o,e.toString())}function Mc(o,e){const t=localStorage.getItem(o);return t===null?e:typeof e=="number"?Number(t):t}class gu{constructor(e,t,n=16,r,s){B(this,"nodeId"),B(this,"nodeType"),B(this,"messages"),B(this,"keyboardHandler",null),B(this,"midiController",null),B(this,"voicePool",null),B(this,"audioContext"),B(this,"outBus"),B(this,"destination",null),B(this,"panic",a=>this.releaseAll(a)),this.nodeType=e,this.nodeId=Ct(this.nodeType),this.audioContext=t,this.messages=Ht(this.nodeId),this.outBus=new Ic,this.midiController=s||null}storeParamValue(e,t){const n=this.getLocalStorageKey(e);Dc(n,t)}getStoredParamValue(e,t){const n=this.getLocalStorageKey(e);return Mc(n,t)}getLocalStorageKey(e){return`${e}-${this.nodeId}`}onMessage(e,t){return this.messages.onMessage(e,t)}sendUpstreamMessage(e,t){return this.messages.sendMessage(e,t),this}enableKeyboard(){return this.keyboardHandler||(this.keyboardHandler={onNoteOn:this.play.bind(this),onNoteOff:this.release.bind(this),onBlur:this.handleBlur.bind(this),onModifierChange:this.handleModifierKeys.bind(this)},Yt.addHandler(this.keyboardHandler)),this}disableKeyboard(){return this.keyboardHandler&&(Yt.removeHandler(this.keyboardHandler),this.keyboardHandler=null),this}async enableMIDI(e,t=0){return e||(e=new Kr,await e.initialize()),e.isInitialized&&(this.midiController=e,e.connectInstrument(this,t)),this}disableMIDI(e,t=0){const n=e||this.midiController;return n==null||n.disconnectInstrument(t),n===this.midiController&&(this.midiController=null),this}handleBlur(){return this.panic(),this}handleModifierKeys(e){return this}connect(e){return ne(e instanceof AudioNode,"remember to fix this"),this.outBus.connect(e),this.destination=e,e}disconnect(e){return this.outBus.disconnect(e),(e==="main"||e==="all")&&(this.destination=null),this}get now(){return this.audioContext.currentTime}get volume(){return this.outBus.volume}set volume(e){this.outBus.volume=e}dispose(){this.panic(0),this.disconnect(),this.disableKeyboard(),this.disableMIDI(),this.audioContext=null,this.messages=null,this.keyboardHandler&&(Yt.removeHandler(this.keyboardHandler),this.keyboardHandler=null)}}const Pe={NOT_READY:"NOT_READY",LOADED:"LOADED",PLAYING:"PLAYING",RELEASING:"RELEASING",STOPPING:"STOPPING",STOPPED:"STOPPED"};var un,Er,Ke,zn,ge,bi,Re,Ai,Tr,oe,Ut,xt,ln,wi,Wo,Is,Pi,Ds,Sr,Ms,Os,Ot,yu,vu,Gt,bu,Au;class Oc{constructor(e=ct(),t,n={}){S(this,Ot),B(this,"nodeId"),B(this,"nodeType","sample"),S(this,un,null),S(this,Er),S(this,Ke),S(this,zn),S(this,ge,Pe.NOT_READY),S(this,bi,!1),S(this,Re,null),S(this,Ai,-1),S(this,Tr,0),S(this,oe,new Map),S(this,Ut,null),S(this,xt,null),S(this,ln),S(this,wi,!1),S(this,Wo,!1),S(this,Is,.1),S(this,Pi,.1),S(this,Ds,100),S(this,Sr,18e3),S(this,Ms,1),S(this,Os,1),B(this,"logAvailableParams",()=>{console.table("Available worklet params:",Array.from(i(this,Ke).parameters.keys()))}),S(this,Gt,null),B(this,"enableEnvelope",r=>{var s;(s=i(this,oe).get(r))==null||s.enable()}),B(this,"disableEnvelope",r=>{var s;if((s=i(this,oe).get(r))==null||s.disable(),r==="filter-env"&&i(this,ln)){const a=this.getParam("lpf");a==null||a.cancelScheduledValues(this.now),a==null||a.exponentialRampToValueAtTime(pu(this.context.sampleRate),this.now+.1)}}),B(this,"setEnvelopeTimeScale",(r,s)=>{var a;(a=i(this,oe).get(r))==null||a.setTimeScale(s)}),B(this,"setEnvelopeSustainPoint",(r,s)=>{const a=i(this,oe).get(r);a!=null&&a.isEnabled&&a.setSustainPoint(s)}),B(this,"setEnvelopeReleasePoint",(r,s)=>{const a=i(this,oe).get(r);a!=null&&a.isEnabled&&a.setReleasePoint(s)}),B(this,"getEnvelope",r=>i(this,oe).get(r)),B(this,"setStartPoint",(r,s=this.now)=>{this.setParam("startPoint",r,s)}),B(this,"setEndPoint",(r,s=this.now)=>{this.setParam("endPoint",r,s)}),B(this,"setAttack",r=>{y(this,Is,r),console.info("setAttack called, to be replaced with envelope")}),B(this,"setRelease",r=>{y(this,Pi,r),console.info("setRelease called, to be replaced with envelope")}),B(this,"setEnvelopeLoop",(r,s,a="normal")=>{const l=i(this,oe).get(r);return l==null||l.setLoopEnabled(s,a),this}),B(this,"syncEnvelopeToPlaybackRate",(r,s)=>{const a=i(this,oe).get(r);return a==null||a.syncToPlaybackRate(s),this}),this.context=e,this.nodeId=Ct(this.nodeType),y(this,zn,Ht(this.nodeId)),y(this,Ke,new AudioWorkletNode(e,"sample-player-processor",{numberOfInputs:0,numberOfOutputs:1,processorOptions:n.processorOptions||{}})),y(this,ln,n.enableFilters??!0),i(this,ln)?(y(this,Sr,this.context.sampleRate/2-1e3),y(this,Ut,new BiquadFilterNode(e,{type:"highpass",frequency:i(this,Ds),Q:i(this,Os)})),y(this,xt,new BiquadFilterNode(e,{type:"lowpass",frequency:i(this,Sr),Q:i(this,Ms)})),i(this,Ke).connect(i(this,Ut)),i(this,Ut).connect(i(this,xt)),i(this,xt).connect(t),y(this,Er,i(this,xt)),y(this,un,t)):(i(this,Ke).connect(t),y(this,Er,i(this,Ke)),y(this,un,t)),z(this,Ot,Au).call(this),this.sendToProcessor({type:"voice:init"}),i(this,Ke).port.start()}addEnvelope(e,t){console.warn("Currently using createEnvelopes instead.")}async loadBuffer(e,t){if(y(this,ge,Pe.NOT_READY),e.sampleRate!==this.context.sampleRate)return console.warn(`Sample rate mismatch - buffer: ${e.sampleRate}, context: ${this.context.sampleRate}`),!1;const n=Array.from({length:e.numberOfChannels},(r,s)=>e.getChannelData(s).slice());return this.sendToProcessor({type:"voice:set_buffer",buffer:n,durationSeconds:e.duration}),t!=null&&t.length&&(z(this,Ot,vu).call(this,t),this.sendToProcessor({type:"voice:set_zero_crossings",zeroCrossings:t})),!0}set transposeSemitones(e){this.sendToProcessor({type:"transpose",semitones:e})}trigger(e){const{midiNote:t=60,velocity:n=100,secondsFromNow:r=0}={...e},s=this.now+r;if(y(this,Ai,s),y(this,Re,t),i(this,ge)===Pe.PLAYING||i(this,ge)===Pe.RELEASING)return console.log(`had to stop a playing voice, midinote: ${t}`),this.stop(s),null;y(this,ge,Pe.PLAYING);const a=xl(t);return this.setParams([{name:"playbackRate",value:a},{name:"velocity",value:n}],s),this.sendToProcessor({type:"voice:start",timestamp:s}),this.applyEnvelopes(s,a,t),i(this,Re)}applyEnvelopes(e,t,n){i(this,oe).forEach((l,c)=>{if(!l.isEnabled)return;const h=this.getParam(l.param);if(!h||c==="pitch-env"&&!l.hasVariation())return;const p=c==="pitch-env"?t:1;l.triggerEnvelope(h,e,{baseValue:p,playbackRate:t,voiceId:this.nodeId,midiNote:n??60})});const r=i(this,oe).get("amp-env"),s=i(this,oe).get("pitch-env"),a=i(this,oe).get("filter-env");this.sendUpstreamMessage("sample-envelopes:trigger",{voiceId:this.nodeId,midiNote:i(this,Re),envDurations:{"amp-env":r.syncedToPlaybackRate?r.fullDuration/t/r.timeScale:r.fullDuration/r.timeScale,"pitch-env":s.syncedToPlaybackRate?s.fullDuration/t/s.timeScale:s.fullDuration/s.timeScale,"filter-env":a.syncedToPlaybackRate?a.fullDuration/t/a.timeScale:a.fullDuration/a.timeScale},loopEnabled:{"amp-env":r.loopEnabled,"pitch-env":s.loopEnabled,"filter-env":a.loopEnabled}})}release({release:e=i(this,Pi),secondsFromNow:t=0}){var n;if(i(this,ge)===Pe.RELEASING)return this;if(!this.getParam("envGain"))throw new Error("Cannot release - envGain parameter is null");y(this,ge,Pe.RELEASING);const r=this.now+t,s=((n=this.getParam("playbackRate"))==null?void 0:n.value)??1;if(i(this,oe).forEach((c,h)=>{if(!c.isEnabled)return;const p=this.getParam(c.param);if(!p)return;const _=h==="pitch-env"?s:1;c.releaseEnvelope(p,r,{playbackRate:s,baseValue:_,voiceId:this.nodeId,midiNote:i(this,Re)??60})}),e<=0)return this.stop(r);this.sendToProcessor({type:"voice:release",timestamp:r});const a=Array.from(i(this,oe).values()).filter(c=>c.isEnabled),l=a.length>0?Math.max(...a.map(c=>c.releaseTime)):e;return i(this,Gt)&&clearTimeout(i(this,Gt)),y(this,Gt,setTimeout(()=>{try{i(this,ge)===Pe.RELEASING&&this.stop()}finally{y(this,Gt,null)}},l*1e3+50)),this}stop(e=this.now){return i(this,ge)===Pe.STOPPED||i(this,ge)===Pe.STOPPING?this:(y(this,ge,Pe.STOPPING),this.setParam("envGain",0,e,{cancelPrevious:!0,glideTime:0}),this.sendToProcessor({type:"voice:stop",timestamp:e}),y(this,ge,Pe.STOPPED),this)}addEnvelopePoint(e,t,n){const r=i(this,oe).get(e);r!=null&&r.isEnabled&&r.addPoint(t,n)}updateEnvelopePoint(e,t,n,r){const s=i(this,oe).get(e);s!=null&&s.isEnabled&&s.updatePoint(t,n,r)}deleteEnvelopePoint(e,t){const n=i(this,oe).get(e);n!=null&&n.isEnabled&&n.deletePoint(t)}get envelopes(){return i(this,oe)}setParam(e,t,n,r={}){const s=this.getParam(e);if(!s||s.value===t)return this;const{glideTime:a=0,cancelPrevious:l=!0}=r;return l&&s.cancelScheduledValues(n),a<=0?s.setValueAtTime(t,Math.max(n,this.now+.001)):s.linearRampToValueAtTime(t,n+Math.max(a,.001)),this}setParams(e,t,n={}){const r=e.filter(s=>this.getParam(s.name)!==null);return r.length===0?this:(r.forEach(({name:s,value:a})=>{this.setParam(s,a,t,{...n})}),this)}setLoopPoints(e,t,n=this.now,r=0){return e>=t?this:(e!==void 0&&this.setParam("loopStart",e,n,{glideTime:r,cancelPrevious:!0}),t!==void 0&&this.setParam("loopEnd",t,n,{glideTime:r,cancelPrevious:!0}),this)}setAllowedPeriods(e){return this.sendToProcessor({type:"setAllowedPeriods",allowedPeriods:e}),this}connect(e,t,n){return e===i(this,un)?i(this,un):(e instanceof AudioParam?this.out.connect(e,t):e instanceof AudioNode?this.out.connect(e,t,n):console.warn(`SampleVoice: Unsupported destination: ${e}`),e)}disconnect(e="main",t){return e==="alt"?(console.warn('SampleVoice has no "alt" output to disconnect'),this):(t?t instanceof AudioNode?this.out.disconnect(t):t instanceof AudioParam&&this.out.disconnect(t):this.out.disconnect(),this)}onMessage(e,t){return i(this,zn).onMessage(e,t)}sendToProcessor(e){return i(this,Ke).port.postMessage(e),this}sendUpstreamMessage(e,t){return i(this,zn).sendMessage(e,t),this}getPlaybackDuration(){const e=this.getParam("startPoint").value;return this.getParam("endPoint").value-e}get currMidiNote(){return i(this,Re)}get hpf(){return i(this,Ut)}get lpf(){return i(this,xt)}get in(){return null}get out(){return i(this,Er)}get destination(){return i(this,un)}get state(){return i(this,ge)}get initialized(){return i(this,bi)}get now(){return this.context.currentTime}get activeNoteId(){return i(this,Re)}get triggerTimestamp(){return i(this,Ai)}get sampleDurationSeconds(){return i(this,Tr)}get startPoint(){return this.getParam("startPoint").value}get endPoint(){return this.getParam("endPoint").value}enablePositionTracking(e){return this.sendToProcessor({type:"voice:usePlaybackPosition",value:e}),this}setLoopEnabled(e){return this.sendToProcessor({type:"setLoopEnabled",value:e}),y(this,wi,e),this}setPlaybackRate(e,t=this.now,n){return this.setParam("playbackRate",e,t,n),this}debugDuration(){console.info(`
      sample duration: ${this.sampleDurationSeconds}, 
      startPoint: ${this.getParam("startPoint").value}, 
      endPoint: ${this.getParam("endPoint").value}, 
      playback duration: ${this.getPlaybackDuration()}
      `)}dispose(){this.stop(),this.disconnect(),i(this,oe).forEach(e=>e.dispose()),i(this,Ke).port.close(),i(this,Gt)&&clearTimeout(i(this,Gt)),pn(this.nodeId)}getParam(e){var t,n,r,s;if(i(this,Ke)&&i(this,Ke).parameters.has(e))return i(this,Ke).parameters.get(e)??null;if(i(this,ln))switch(e){case"highpass":case"hpf":return((t=i(this,Ut))==null?void 0:t.frequency)||null;case"lowpass":case"lpf":return((n=i(this,xt))==null?void 0:n.frequency)||null;case"hpfQ":return((r=i(this,Ut))==null?void 0:r.Q)||null;case"lpfQ":return((s=i(this,xt))==null?void 0:s.Q)||null}return null}}un=new WeakMap,Er=new WeakMap,Ke=new WeakMap,zn=new WeakMap,ge=new WeakMap,bi=new WeakMap,Re=new WeakMap,Ai=new WeakMap,Tr=new WeakMap,oe=new WeakMap,Ut=new WeakMap,xt=new WeakMap,ln=new WeakMap,wi=new WeakMap,Wo=new WeakMap,Is=new WeakMap,Pi=new WeakMap,Ds=new WeakMap,Sr=new WeakMap,Ms=new WeakMap,Os=new WeakMap,Ot=new WeakSet,yu=function(){const o=i(this,Tr)||void 0,e=Do(this.context,"amp-env",{durationSeconds:o});i(this,oe).set("amp-env",e);const t=Do(this.context,"pitch-env",{durationSeconds:o});if(i(this,oe).set("pitch-env",t),i(this,ln)){const n=Do(this.context,"filter-env",{durationSeconds:o,valueRange:[10,i(this,Sr)],initEnable:!1});i(this,oe).set("filter-env",n)}z(this,Ot,bu).call(this)},vu=function(o){return this.sendToProcessor({type:"voice:set_zero_crossings",zeroCrossings:o}),this},Gt=new WeakMap,bu=function(){i(this,oe).forEach((o,e)=>{i(this,zn).forwardFrom(o,[`${e}:trigger`,`${e}:release`],t=>({...t,voiceId:this.nodeId,midiNote:i(this,Re)}))})},Au=function(){i(this,Ke).port.onmessage=o=>{var e;let{type:t,...n}=o.data;switch(t){case"initialized":y(this,bi,!0),y(this,ge,Pe.NOT_READY);break;case"voice:loaded":y(this,Re,null),y(this,ge,Pe.LOADED),n.durationSeconds&&(y(this,Re,null),y(this,Tr,n.durationSeconds),z(this,Ot,yu).call(this),this.setStartPoint(0),this.setEndPoint(n.durationSeconds),this.setParam("loopEnd",0,this.now));break;case"voice:transposed":break;case"voice:started":y(this,ge,Pe.PLAYING),n={voice:this,midiNote:i(this,Re)};break;case"voice:stopped":y(this,ge,Pe.STOPPED),n={voiceId:this.nodeId,voice:this,midiNote:i(this,Re)},y(this,Re,null);break;case"voice:releasing":y(this,ge,Pe.RELEASING),n={voiceId:this.nodeId,voice:this,midiNote:i(this,Re)};break;case"loop:enabled":y(this,wi,!0);break;case"voice:looped":break;case"voice:position":(e=this.getParam("playbackPosition"))==null||e.setValueAtTime(n.position,this.context.currentTime);break;case"debug:params":console.debug("Debug params: ",{loopStart:n.loopStart},{loopStartSamples:n.loopStartSamples},{loopEnd:n.loopEnd},{loopEndSamples:n.loopEndSamples});break;case"debug:loop":console.log("Loop debug:",n);break;default:console.warn(`Unhandled message type: ${t}`);break}this.sendUpstreamMessage(t,n)}};var Qn,it,Yn,Le,ze,pt,mt,xr,Cs,wu;class Cc{constructor(e,t,n,r=!0){S(this,Cs),B(this,"nodeId"),B(this,"nodeType","pool"),S(this,Qn),S(this,it),S(this,Yn,new Set),S(this,Le,new Map),S(this,ze,new Set),S(this,pt,new Set),S(this,mt,new Set),S(this,xr,!1),this.nodeId=Ct(this.nodeType),y(this,Qn,Ht(this.nodeId)),y(this,it,Array.from({length:t},()=>{const s=new Oc(e,n,{enableFilters:r});return s.connect(n),s})),i(this,it).forEach(s=>{i(this,ze).add(s),z(this,Cs,wu).call(this,s)}),y(this,xr,!0)}onMessage(e,t){return i(this,Qn).onMessage(e,t)}sendUpstreamMessage(e,t){return i(this,Qn).sendMessage(e,t),this}setBuffer(e,t){return i(this,Yn).clear(),i(this,it).forEach(n=>n.loadBuffer(e,t)),this}allocate(e=i(this,ze),t=i(this,mt),n=i(this,pt)){let r;if(e.size?r=Io(e):t.size?(r=Io(t),r==null||r.stop()):n.size&&(r=Io(n),r==null||r.stop()),!r)throw new Error("Could not allocate voice");return r}noteOn(e,t=100,n=0,r){const s=this.allocate();return s.trigger({midiNote:e,velocity:t,secondsFromNow:n,currentLoopEnd:r})?(i(this,Le).set(e,s),e):null}noteOff(e,t=.2,n=0){const r=i(this,Le).get(e);if(r)return(r==null?void 0:r.state)===Pe.PLAYING&&r.release({release:t,secondsFromNow:n}),this}allNotesOff(e=0){return i(this,Le).forEach(t=>{t.release({release:e})}),i(this,Le).clear(),this}applyToAllVoices(e){i(this,it).forEach(t=>e(t))}applyToActiveVoices(e){i(this,Le).forEach(t=>e(t))}applyToInactiveVoices(e){i(this,ze).forEach(t=>e(t))}applyToActiveNote(e,t){const n=i(this,Le).get(e);n?t(n):console.warn(`No active voice found for midiNote: ${e}`)}debug(){console.debug(`
      releasing: ${i(this,mt).size}
      playing: ${i(this,pt).size}
      available: ${i(this,ze).size}
      Sum: ${i(this,mt).size+i(this,pt).size+i(this,ze).size}
      Sum should be: ${this.allVoicesCount}
      `,{midiToVoiceMap:i(this,Le)})}dispose(){this.applyToAllVoices(e=>e.dispose()),y(this,it,[]),i(this,Le).clear(),i(this,ze).clear(),i(this,mt).clear(),i(this,pt).clear(),i(this,Yn).clear(),y(this,xr,!1),pn(this.nodeId)}get isReady(){return i(this,xr)}get availableVoices(){return i(this,ze)}get playingVoicesCount(){return i(this,pt).size}get releasingVoicesCount(){return i(this,mt).size}get availableVoicesCount(){return i(this,ze).size}get allVoices(){return i(this,it)}get allVoicesCount(){return i(this,it).length}get assignedVoicesMidiMap(){return i(this,Le)}set transposeSemitones(e){i(this,it).forEach(t=>t.transposeSemitones=e)}}Qn=new WeakMap,it=new WeakMap,Yn=new WeakMap,Le=new WeakMap,ze=new WeakMap,pt=new WeakMap,mt=new WeakMap,xr=new WeakMap,Cs=new WeakSet,wu=function(o){o.onMessage("voice:started",e=>{i(this,ze).delete(e.voice),i(this,mt).delete(e.voice),i(this,pt).add(e.voice),i(this,Le).set(e.midiNote,e.voice)}),o.onMessage("voice:releasing",e=>{i(this,ze).delete(e.voice),i(this,pt).delete(e.voice),i(this,mt).add(e.voice),i(this,Le).get(e.midiNote)===e.voice&&i(this,Le).delete(e.midiNote)}),o.onMessage("voice:stopped",e=>{i(this,pt).delete(e.voice),i(this,mt).delete(e.voice),i(this,ze).add(e.voice)}),i(this,Qn).forwardFrom(o,["voice:started","voice:stopped","voice:releasing","voice:loaded","voice:transposed","amp-env:trigger","amp-env:release","pitch-env:trigger","pitch-env:release","filter-env:trigger","filter-env:release"],e=>e.type==="voice:loaded"?(i(this,Yn).add(e.senderId),i(this,Yn).size===i(this,it).length?{...e,type:"sample:loaded"}:null):e)};var kr,zt,Hn,Ir,Dr,Xn,Be,Se,Rs,Mr,Zn,cn,Ei,lt,Eu,Tu,Su,ws;class Pu extends gu{constructor(e,t=16,n,r){super("sample-player",e,t,n,r),S(this,lt),S(this,kr,null),S(this,zt,0),S(this,Hn,!1),S(this,Ir,!1),S(this,Dr,!1),S(this,Xn,!1),S(this,Be),S(this,Se),S(this,Rs,new Map),S(this,Mr,!1),S(this,Zn,!1),S(this,cn,[]),S(this,Ei,!0),B(this,"randomizeVelocity",!1),B(this,"voicePool"),B(this,"connectAltOut"),B(this,"setAltOutVolume"),B(this,"mute"),B(this,"setTransposition",s=>{this.voicePool.transposeSemitones=s,console.info(`transposing by ${s} semitones`),this.sendUpstreamMessage("sample:auto-transpose:success",{transposedBy:s})}),B(this,"panic",s=>(this.releaseAll(s),this)),B(this,"MIN_LOOP_DURATION_SECONDS",1/1046.502),B(this,"setLoopStart",(s,a=this.getLoopRampDuration())=>this.setLoopPoint("start",s,this.loopEnd,a)),B(this,"setLoopEnd",(s,a=this.getLoopRampDuration())=>this.setLoopPoint("end",this.loopStart,s,a)),B(this,"getHpfCutoff",()=>this.getStoredParamValue("hpfCutoff",NaN)),B(this,"getLpfCutoff",()=>this.getStoredParamValue("lpfCutoff",NaN)),B(this,"enableEnvelope",s=>{this.voicePool.applyToAllVoices(a=>a.enableEnvelope(s))}),B(this,"disableEnvelope",s=>{this.voicePool.applyToAllVoices(a=>a.disableEnvelope(s))}),B(this,"setEnvelopeLoop",(s,a,l="normal")=>{this.voicePool.applyToAllVoices(c=>c.setEnvelopeLoop(s,a,l))}),B(this,"setEnvelopeSync",(s,a)=>{this.voicePool.applyToAllVoices(l=>l.syncEnvelopeToPlaybackRate(s,a))}),B(this,"setEnvelopeTimeScale",(s,a)=>{this.voicePool.applyToAllVoices(l=>l.setEnvelopeTimeScale(s,a))}),this.voicePool=new Cc(e,t,this.outBus.input,!0),z(this,lt,Eu).call(this),y(this,Be,new ja(e,Oe.LOOP_START)),y(this,Se,new ja(e,Oe.LOOP_END)),z(this,lt,Tu).call(this),this.setAltOutVolume=(...s)=>this.outBus.setAltOutVolume(...s),this.connectAltOut=(...s)=>this.outBus.connectAltOut(...s),this.mute=(...s)=>this.outBus.mute(...s),y(this,Mr,!0),n!=null&&n.duration&&this.loadSample(n,n.sampleRate)}onMessage(e,t){return this.messages.onMessage(e,t)}sendUpstreamMessage(e,t){return this.messages.sendMessage(e,t),this}getMacrosAudioParam(e){switch(e){case"loopStart":return i(this,Be).audioParam;case"loopEnd":return i(this,Se).audioParam;default:const t=e;throw new Error(`Unknown macro parameter: ${t}`)}}getMacro(e){switch(e){case"loopStart":return i(this,Be);case"loopEnd":return i(this,Se);default:const t=e;throw new Error(`Unknown macro parameter: ${t}`)}}async loadSample(e,t,n=!0,r=!0){e instanceof ArrayBuffer&&(e=await ct().decodeAudioData(e)),ne(vl(e)),(e.sampleRate!==this.audioContext.sampleRate||t&&this.audioContext.sampleRate!==t)&&console.warn(`sample rate mismatch, 
        buffer rate: ${e.sampleRate}, 
        context rate: ${this.audioContext.sampleRate}
        requested rate: ${t}
        `),this.releaseAll(0),this.voicePool.transposeSemitones=0,y(this,Zn,!1),y(this,kr,null);let s=0;if(n){const l=await this.detectPitch(e);r&&(l.confidence>.35?(s=this.detectedPitchToTransposition(l.midiFloat,60),this.setTransposition(s)):(console.info("Skipped auto transpose due to unreliable pitch detection results: ",l),this.sendUpstreamMessage("sample:auto-transpose:fail",{})))}if(i(this,Ei)){const l=Gl(e);y(this,cn,l)}this.voicePool.setBuffer(e,i(this,cn)),y(this,zt,e.duration),z(this,lt,Su).call(this,e.duration);const a={rootNote:"C",scale:[0],lowestOctave:0,highestOctave:6,tuningOffset:s,normalize:!1};return this.setScale(a),y(this,kr,e),e}async detectPitch(e){const t=await Pc(e),n=Bo(t.frequency),r=69+12*Math.log2(t.frequency/440),s=n.frequency/t.frequency;return console.table({pitchSource:t,targetNoteInfo:n,playbackRateMultiplier:s,midiFloat:r}),this.sendUpstreamMessage("sample:pitch-detected",{pitchResults:t,closestNoteInfo:n}),{frequency:t.frequency,confidence:t.confidence,midiFloat:r,targetNoteInfo:n}}detectedPitchToTransposition(e,t){let n=t-e;for(;n>6;)n-=12;for(;n<-6;)n+=12;return n}play(e,t=100,n){n&&(z(this,lt,ws).call(this,n),n.alt&&(e+=12));const r=Sl(t)?t:100;return this.voicePool.noteOn(e,r,0,i(this,Se).getValue())}release(e,t){return t&&z(this,lt,ws).call(this,t),this.holdEnabled||i(this,Xn)?this:(this.voicePool.noteOff(e,this.getReleaseTime(),0),this.sendUpstreamMessage("note:off",{midiNote:e}),this)}releaseAll(e=this.getReleaseTime()){return this.voicePool.allNotesOff(e),this}setScale(e){return i(this,Be).setScale({snapToZeroCrossings:i(this,cn),...e}),i(this,Se).setScale({snapToZeroCrossings:i(this,cn),...e}),this}setAttackTime(e){return this.storeParamValue("attack",e),this.voicePool.applyToAllVoices(t=>t.setAttack(e)),this}setReleaseTime(e){return this.storeParamValue("release",e),this.voicePool.applyToAllVoices(t=>t.setRelease(e)),this}setSampleStartPoint(e){return this.storeParamValue("startPoint",e),this.voicePool.applyToAllVoices(t=>t.setStartPoint(e)),this}setSampleEndPoint(e){return this.storeParamValue("endPoint",e),this.voicePool.applyToAllVoices(t=>t.setEndPoint(e)),this}setLoopRampDuration(e){return this.storeParamValue("loopRampDuration",e),this}setPlaybackRate(e){return this.storeParamValue("playbackRate",e),this.voicePool.applyToAllVoices(t=>t.setPlaybackRate(e)),console.warn("SamplePlayer: setPlaybackRate is not implemented yet."),this}setLoopEnabled(e){return i(this,Hn)===e?this:i(this,Ir)&&!e?this:(this.voicePool.allVoices.forEach(t=>t.setLoopEnabled(e)),y(this,Hn,e),this.sendUpstreamMessage("loop:enabled",{enabled:e}),this)}setHoldEnabled(e){return i(this,Dr)===e?this:i(this,Xn)&&!e?this:(y(this,Dr,e),e||this.releaseAll(this.getReleaseTime()),this.sendUpstreamMessage("hold:enabled",{enabled:e}),this)}setLoopLocked(e){return i(this,Ir)===e?this:(y(this,Ir,e),this.setLoopEnabled(e),this.sendUpstreamMessage("loop:locked",{locked:e}),this)}setHoldLocked(e){return i(this,Xn)===e?this:(y(this,Xn,e),e===!1&&this.releaseAll(),console.debug(`sending hold:locked message, locked: ${e}`),this.sendUpstreamMessage("hold:locked",{locked:e}),this)}isNormalized(e,t=[0,1]){return e>=t[0]&&e<=t[1]}setLoopPoint(e,t,n,r=this.getLoopRampDuration()){if(t>n||n<t||this.isLoaded&&n>i(this,zt))return console.error(`samplePlayer.setLoopPoint: Loop points out of bounds.
        Adjusting: ${e}, loopStart: ${t}, loopEnd: ${n}`),this;const s=r*1;if(e==="start"){const a=()=>this.storeParamValue("loopStart",t);i(this,Be).ramp(t,s,n,{onComplete:()=>{a()}})}else if(e==="end"){const a=()=>this.storeParamValue("loopEnd",n);i(this,Se).ramp(n,s,t,{onComplete:()=>{a()}})}return this}scrollLoopPoints(e,t){const n=this.now;return i(this,Be).setValue(e,n),i(this,Se).setValue(t,n),this}setParameterValue(e,t){switch(e){case"attack":this.setAttackTime(t);break;case"release":this.setReleaseTime(t);break;case"startPoint":this.setSampleStartPoint(t);break;case"endPoint":this.setSampleEndPoint(t);break;case"playbackRate":this.setPlaybackRate(t);break;case"loopStart":this.setLoopStart(t);break;case"loopEnd":this.setLoopEnd(t);break;case"loopRampDuration":this.setLoopRampDuration(t);break;default:console.warn(`Unknown parameter: ${e}`)}return this}getAttackTime(){return this.getStoredParamValue("attack",Oe.ATTACK.defaultValue)}getReleaseTime(){return this.getStoredParamValue("release",Oe.RELEASE.defaultValue)}getStartPoint(){return this.getStoredParamValue("startPoint",Oe.START_POINT.defaultValue)}getEndPoint(){return this.getStoredParamValue("endPoint",Oe.END_POINT.defaultValue)}getLoopRampDuration(){return this.getStoredParamValue("loopRampDuration",Oe.LOOP_RAMP_DURATION.defaultValue)}getPlaybackRate(){return this.getStoredParamValue("playbackRate",Oe.PLAYBACK_RATE.defaultValue)}getParameterDescriptors(){return{attack:Oe.ATTACK,release:Oe.RELEASE,startPoint:Oe.START_POINT,endPoint:Oe.END_POINT,playbackRate:Oe.PLAYBACK_RATE,loopStart:i(this,Be).descriptor,loopEnd:i(this,Se).descriptor,loopRampDuration:Oe.LOOP_RAMP_DURATION,hpfCutoff:Oe.HIGHPASS_CUTOFF,lpfCutoff:Oe.LOWPASS_CUTOFF}}getParameterValue(e){switch(e){case"loopStart":return this.loopStart;case"loopEnd":return this.loopEnd;case"loopRampDuration":return this.getLoopRampDuration();case"attack":return this.getAttackTime();case"release":return this.getReleaseTime();case"startPoint":return this.getStartPoint();case"endPoint":return this.getEndPoint();case"playbackRate":return this.getPlaybackRate();case"hpfCutoff":return this.getHpfCutoff();case"lpfCutoff":return this.getLpfCutoff();default:console.warn(`Unknown parameter: ${e}`);return}}getEnvelope(e){const t=this.voicePool.allVoices[0];if(!t)throw new Error("No voices available in voice pool");const n=t.getEnvelope(e);if(!n)throw new Error(`Envelope type '${e}' not found`);return n}setEnvelopeSustainPoint(e,t){this.voicePool.applyToAllVoices(n=>n.setEnvelopeSustainPoint(e,t))}setEnvelopeReleasePoint(e,t){this.voicePool.applyToAllVoices(n=>n.setEnvelopeReleasePoint(e,t))}updateEnvelopePoint(e,t,n,r){this.voicePool.applyToAllVoices(s=>s.updateEnvelopePoint(e,t,n,r))}addEnvelopePoint(e,t,n){this.voicePool.applyToAllVoices(r=>r.addEnvelopePoint(e,t,n))}deleteEnvelopePoint(e,t){this.voicePool.applyToAllVoices(n=>n.deleteEnvelopePoint(e,t))}startLevelMonitoring(e){this.outBus.startLevelMonitoring(e)}enableKeyboard(){return this.keyboardHandler||(this.keyboardHandler={onNoteOn:this.play.bind(this),onNoteOff:this.release.bind(this),onBlur:()=>this.panic(),onModifierChange:z(this,lt,ws).bind(this)},Yt.addHandler(this.keyboardHandler)),this}disableKeyboard(){return this.keyboardHandler&&(Yt.removeHandler(this.keyboardHandler),this.keyboardHandler=null),this}async initMidiController(){var e;if((e=this.midiController)!=null&&e.isInitialized)return!0;this.midiController||(this.midiController=new Kr),ne(this.midiController,"SamplePlayer: Failed to create MIDI controller");const t=await wt(()=>this.midiController.initialize());return ne(!t.error,"SamplePlayer: Failed to initialize MIDI"),t.data}async enableMIDI(e,t=0){const n=e||this.midiController;return await this.initMidiController()&&n!=null&&n.isInitialized&&n.connectInstrument(this,t),this}disableMIDI(e,t=0){const n=e||this.midiController;return n&&n.disconnectInstrument(t),this}setMidiController(e){return this.midiController=e,this}get out(){return this.outBus.output}get outputBus(){return this.outBus}get context(){return this.audioContext}get now(){return this.audioContext.currentTime}get sampleDuration(){return i(this,zt)}get volume(){return this.outBus.volume}set volume(e){this.outBus.volume=e}get loopEnabled(){return i(this,Hn)}get holdEnabled(){return i(this,Dr)}get loopStart(){return i(this,Be).getValue()}get loopEnd(){return i(this,Se).getValue()}get initialized(){return i(this,Mr)}get isLoaded(){return i(this,Zn)}get audiobuffer(){return i(this,kr)}dispose(){var e,t;try{this.releaseAll(),this.voicePool&&(this.voicePool.dispose(),this.voicePool=null),this.outBus&&(this.outBus.dispose(),this.outBus=null),(e=i(this,Be))==null||e.dispose(),(t=i(this,Se))==null||t.dispose(),y(this,Be,null),y(this,Se,null),y(this,zt,0),y(this,Mr,!1),y(this,Zn,!1),y(this,cn,[]),y(this,Ei,!1),y(this,Hn,!1),this.audioContext=null,this.messages=null,this.keyboardHandler&&(Yt.removeHandler(this.keyboardHandler),this.keyboardHandler=null)}catch(n){console.error(`Error disposing Sampler ${this.nodeId}:`,n)}}}kr=new WeakMap,zt=new WeakMap,Hn=new WeakMap,Ir=new WeakMap,Dr=new WeakMap,Xn=new WeakMap,Be=new WeakMap,Se=new WeakMap,Rs=new WeakMap,Mr=new WeakMap,Zn=new WeakMap,cn=new WeakMap,Ei=new WeakMap,lt=new WeakSet,Eu=function(){return this.voicePool.onMessage("sample:loaded",o=>{i(this,Rs).forEach(e=>{e.setDurationSeconds(o.durationSeconds)}),y(this,Zn,!0)}),this.messages.forwardFrom(this.voicePool,["voice:started","voice:stopped","voice:releasing","sample:loaded","amp-env:trigger","amp-env:release","pitch-env:trigger","pitch-env:release","filter-env:trigger","filter-env:release"]),this},Tu=function(){const o=this.voicePool.allVoices;return i(this,Be).audioParam.setValueAtTime(0,this.now),i(this,Se).audioParam.setValueAtTime(i(this,zt),this.now),o.forEach((e,t)=>{const n=e.getParam("loopStart"),r=e.getParam("loopEnd");n?i(this,Be).addTarget(n,"loopStart"):console.error("loopStart param is null!"),r?i(this,Se).addTarget(r,"loopEnd"):console.error("loopEnd param is null!")}),this},Su=function(o=i(this,zt)){return i(this,Be).audioParam.setValueAtTime(0,this.now),i(this,Se).audioParam.setValueAtTime(o,this.now),this},ws=function(o){return o.caps!==void 0&&this.setLoopEnabled(o.caps),o.shift!==void 0&&this.setHoldEnabled(o.shift),this};var Or,Cr,Rr,Ti,Si,xi,kt,ki,Qe,Je,Wn,Bs,Ii,Vs,Fs;class Rc{constructor(e=ct(),t={}){B(this,"nodeId"),B(this,"nodeType","karplus-strong"),B(this,"processorNames",["random-noise-processor","feedback-delay-processor"]),S(this,Or),B(this,"paramMap"),B(this,"delayParam"),B(this,"holdMs",10),B(this,"fbParamMap"),B(this,"noiseParamMap"),B(this,"audioContext"),B(this,"noiseGenerator"),B(this,"feedbackDelay"),B(this,"noiseGain"),B(this,"outputGain"),S(this,Cr,.3),S(this,Rr,0),S(this,Ti,0),S(this,Si,null),S(this,xi,0),S(this,kt,!1),S(this,ki,!1),S(this,Qe,null),S(this,Je,null),S(this,Wn),S(this,Bs,100),S(this,Ii),S(this,Vs,1),S(this,Fs,1),this.nodeId=Ct(this.nodeType),y(this,Or,Ht(this.nodeId)),this.audioContext=e,this.noiseGenerator=new AudioWorkletNode(e,"random-noise-processor"),this.noiseGain=new GainNode(e,{gain:0}),this.outputGain=new GainNode(e),this.feedbackDelay=new AudioWorkletNode(e,"feedback-delay-processor",{parameterData:{delayTime:5,gain:.8}}),this.fbParamMap=this.feedbackDelay.parameters,this.noiseParamMap=this.noiseGenerator.parameters,this.paramMap=new Map([["decay",this.fbParamMap.get("gain")],["noiseTime",{value:this.holdMs,setValueAtTime:n=>(this.holdMs=n,n)}]]),this.delayParam=this.fbParamMap.get("delayTime"),y(this,Ii,this.audioContext.sampleRate/2-100),y(this,Wn,t.enableFilters??!0),i(this,Wn)?(y(this,Qe,new BiquadFilterNode(e,{type:"highpass",frequency:i(this,Bs),Q:i(this,Fs)})),y(this,Je,new BiquadFilterNode(e,{type:"lowpass",frequency:i(this,Ii),Q:i(this,Vs)})),this.noiseGenerator.connect(this.noiseGain),this.noiseGain.connect(this.feedbackDelay),this.noiseGain.connect(i(this,Qe)),this.feedbackDelay.connect(i(this,Qe)),i(this,Qe).connect(i(this,Je)),i(this,Je).connect(this.outputGain)):(this.noiseGenerator.connect(this.noiseGain),this.noiseGain.connect(this.outputGain),this.noiseGain.connect(this.feedbackDelay),this.feedbackDelay.connect(this.outputGain)),y(this,ki,!0)}get in(){return this.noiseGain}get initialized(){return i(this,ki)}getParam(e){var t,n,r,s;const a=this.paramMap.get(e);if(a)return a;if(i(this,Wn))switch(e){case"highpass":case"hpf":return((t=i(this,Qe))==null?void 0:t.frequency)||null;case"lowpass":case"lpf":return((n=i(this,Je))==null?void 0:n.frequency)||null;case"hpfQ":return((r=i(this,Qe))==null?void 0:r.Q)||null;case"lpfQ":return((s=i(this,Je))==null?void 0:s.Q)||null}return null}setParam(e,t){const n=this.paramMap.get(e);if(n)e==="noiseTime"?this.holdMs=t:n.setValueAtTime(t,this.now+1e-4);else if(i(this,Wn))switch(e){case"highpass":case"hpf":i(this,Qe)&&i(this,Qe).frequency.setValueAtTime(t,this.now+1e-4);break;case"lowpass":case"lpf":i(this,Je)&&i(this,Je).frequency.setValueAtTime(t,this.now+1e-4);break;case"hpfQ":i(this,Qe)&&i(this,Qe).Q.setValueAtTime(t,this.now+1e-4);break;case"lpfQ":i(this,Je)&&i(this,Je).Q.setValueAtTime(t,this.now+1e-4);break}return this}set attack(e){y(this,Rr,e)}onMessage(e,t){return i(this,Or).onMessage(e,t)}sendMessage(e,t){i(this,Or).sendMessage(e,t)}trigger(e){if(i(this,kt))return this;y(this,kt,!0),y(this,Ti,this.now);const{midiNote:t,velocity:n,noteId:r}=e;y(this,xi,t),y(this,Si,r??null);const s=1e3/(440*Math.pow(2,(t-69)/12));return this.delay={ms:s},ri(this.outputGain.gain,this.now),this.outputGain.gain.cancelScheduledValues(this.now),this.outputGain.gain.setValueAtTime(i(this,Cr),this.now),ri(this.noiseGain.gain,this.now),this.noiseGain.gain.setValueAtTime(0,this.now),this.noiseGain.gain.linearRampToValueAtTime(i(this,Cr)*n,this.now+i(this,Rr)),this.noiseGain.gain.linearRampToValueAtTime(0,this.now+this.holdMs/1e3+i(this,Rr)),this.sendMessage("voice:started",{...e}),this}release({release_sec:e=.3,secondsFromNow:t=0}={}){if(!i(this,kt))return this;const n=this.now+t;return ri(this.outputGain.gain,n),this.noiseGain.gain.linearRampToValueAtTime(0,n+e),ri(this.noiseGain.gain,this.now),this.outputGain.gain.linearRampToValueAtTime(0,n+e),setTimeout(()=>{y(this,kt,!1),this.sendMessage("voice:ended",{noteId:i(this,Si),midiNote:i(this,xi)})},(e+t)*1e3),this}stop(){return i(this,kt)?(this.noiseGain.gain.cancelScheduledValues(this.now),this.outputGain.gain.cancelScheduledValues(this.now),this.outputGain.gain.setValueAtTime(0,this.now),this.noiseGain.gain.setValueAtTime(0,this.now),y(this,kt,!1),this):this}connect(e,t,n){return e instanceof AudioParam?this.outputGain.connect(e,t):e instanceof AudioNode?this.outputGain.connect(e,t,n):console.warn(`SampleVoice: Unsupported destination: ${e}`),e}disconnect(){return this.outputGain.disconnect(),this}dispose(){this.stop(),this.disconnect(),this.noiseGenerator.port.close(),pn(this.nodeId)}set volume(e){y(this,Cr,e)}set delay({ms:e,rampTime:t=0}){this.delayParam.linearRampToValueAtTime(e,this.now+t)}get ctx(){return this.audioContext}get hpf(){return i(this,Qe)}get lpf(){return i(this,Je)}get startTime(){return i(this,Ti)}get now(){return this.audioContext.currentTime}get isPlaying(){return i(this,kt)}sendToProcessor(e){this.noiseGenerator.port.postMessage(e),this.feedbackDelay.port.postMessage(e)}}Or=new WeakMap,Cr=new WeakMap,Rr=new WeakMap,Ti=new WeakMap,Si=new WeakMap,xi=new WeakMap,kt=new WeakMap,ki=new WeakMap,Qe=new WeakMap,Je=new WeakMap,Wn=new WeakMap,Bs=new WeakMap,Ii=new WeakMap,Vs=new WeakMap,Fs=new WeakMap;var _e,Di,st$1,Mi,Oi;class Bc{constructor(e,t,n){B(this,"nodeId"),B(this,"nodeType","karplus-pool"),S(this,_e),S(this,Di),S(this,st$1),S(this,Mi),S(this,Oi,!1),B(this,"connect",r=>{i(this,_e).forEach(s=>s.connect(r))}),this.nodeId=Ct(this.nodeType),y(this,Di,e),y(this,_e,Array.from({length:t},()=>{const r=new Rc(e);return r.connect(n),r})),y(this,st$1,new Map),y(this,Mi,0),y(this,Oi,!0)}get isReady(){return i(this,Oi)}findVoice(){return i(this,_e).find(t=>!t.isPlaying)||i(this,_e).reduce((t,n)=>!t||n.startTime<t.startTime?n:t,null)}noteOn(e,t=100,n=i(this,Di).currentTime){const r=ps(this,Mi)._++,s=this.findVoice();return s&&(s.isPlaying&&s.stop(),s.trigger({midiNote:e,velocity:t,noteId:r}),i(this,st$1).set(r,s)),r}noteOff(e,t=.2,n=0){const r=i(this,st$1).get(e);return r&&(r.release({release_sec:t,secondsFromNow:n}),i(this,st$1).delete(e)),this}allNotesOff(){return i(this,_e).forEach(e=>e.stop()),i(this,st$1).clear(),this}applyToAllVoices(e){i(this,_e).forEach(t=>e(t))}applyToActiveVoices(e){i(this,st$1).forEach(t=>e(t))}applyToVoice(e,t){const n=i(this,st$1).get(e);n?t(n):console.warn(`No active voice found for noteId: ${e}`)}dispose(){i(this,_e).forEach(e=>e.dispose()),y(this,_e,[]),i(this,st$1).clear(),pn(this.nodeId)}get allVoices(){return[...i(this,_e)]}get activeVoicesCount(){return i(this,st$1).size}set auxIn(e){this.ins.forEach(t=>{"connect"in e&&(e instanceof AudioNode||"connect"in e)&&e.connect(t)})}get ins(){const e=[];return i(this,_e).forEach(t=>e.push(t.in)),e}}_e=new WeakMap,Di=new WeakMap,st$1=new WeakMap,Mi=new WeakMap,Oi=new WeakMap;var Br,ot,Jo,Ci,jr,xu,ku,Ri,Bi,Vi;class Vc extends gu{constructor(e=8,t,n={}){super("synth",t||ct(),e),S(this,jr),S(this,Br),S(this,ot,new Map),S(this,Jo,new hu),S(this,Ci,!1),B(this,"voicePool"),B(this,"panic",r=>this.releaseAll(r)),B(this,"SET_TARGET_TIMECONSTANT",.05),S(this,Ri,0),S(this,Bi,0),S(this,Vi,.05),this.voicePool=new Bc(this.audioContext,e,this.outBus.input),y(this,Br,new GainNode(this.audioContext)),this.voicePool.auxIn=i(this,Br),this.setParameterValue("volume",this.getStoredParamValue("volume",1)),this.setParameterValue("attack",this.getStoredParamValue("attack",.01)),this.setParameterValue("decay",this.getStoredParamValue("decay",.9)),this.setParameterValue("noiseTime",this.getStoredParamValue("noiseTime",.1)),y(this,Ci,!0)}onMessage(e,t){return this.messages.onMessage(e,t)}play(e,t=100,n={}){if(i(this,ot).has(e)){const s=i(this,ot).get(e);this.voicePool.noteOff(s,0)}const r=this.voicePool.noteOn(e,t);return i(this,ot).set(e,r),this.sendUpstreamMessage("note:on",{midiNote:e,velocity:t,noteId:r}),r}release(e,t={}){const n=i(this,ot).get(e);return n===void 0?(console.warn(`Could not release note ${e}`),this):(this.voicePool.noteOff(n,this.decaySeconds),i(this,ot).delete(e),this.sendUpstreamMessage("note:off",{midiNote:e}),this)}releaseAll(e){return console.debug(`todo: implement fade out. 
      Curr fadeout value is ${e}`),this.stopAll(),this}stopAll(){return this.voicePool.allNotesOff(),i(this,ot).clear(),this}setParameterValue(e,t){return(()=>{switch(e){case"volume":this.volume=t,this.storeParamValue("volume",t);break;case"attack":this.voicePool.allVoices.forEach(r=>{r.attack=t});const n=ko(t,0,1,.1,1);this.storeParamValue("attack",n);break;case"decay":this.voicePool.allVoices.forEach(r=>{const s=r.getParam("decay");if(s){const a=ko(t,0,1,.35,.995);s.setValueAtTime(a,this.audioContext.currentTime)}}),this.storeParamValue("decay",t);break;case"noiseTime":this.voicePool.allVoices.forEach(r=>{const s=r.getParam("noiseTime");if(s){const a=ko(t,0,1,.1,.99);s.setValueAtTime(a,this.audioContext.currentTime)}}),this.storeParamValue("noiseTime",t);break;default:console.warn(`Unknown parameter: ${e}`)}})(),this}getParameterValue(e){switch(e){case"volume":return this.volume;case"attack":return this.getStoredParamValue("attack",.01);case"decay":return this.getStoredParamValue("decay",.9);case"noiseTime":return this.getStoredParamValue("noiseTime",.1);default:console.warn(`Unknown parameter: ${e}`);return}}getParameterDescriptors(){return{volume:{nodeId:`${this.nodeId}-volume`,name:"Volume",dataType:"number",defaultValue:.5,minValue:0,maxValue:2,group:"output",automationRate:"k-rate"},attack:{nodeId:`${this.nodeId}-attack`,name:"Attack",dataType:"number",defaultValue:.01,minValue:0,maxValue:2,group:"envelope",automationRate:"k-rate"},decay:{nodeId:`${this.nodeId}-decay`,name:"Decay",dataType:"number",defaultValue:.9,minValue:0,maxValue:5,group:"envelope",automationRate:"k-rate"},noiseTime:{nodeId:`${this.nodeId}-noiseTime`,name:"Noise Time",dataType:"number",defaultValue:.1,minValue:0,maxValue:1,group:"synthesis",automationRate:"k-rate"}}}enableKeyboard(){return this.keyboardHandler||(this.keyboardHandler={onNoteOn:this.play.bind(this),onNoteOff:this.release.bind(this),onBlur:z(this,jr,xu).bind(this),onModifierChange:z(this,jr,ku).bind(this)},Yt.addHandler(this.keyboardHandler)),console.info("Karplus-strong synth: keyboard enabled"),this}disableKeyboard(){return this.keyboardHandler&&(Yt.removeHandler(this.keyboardHandler),this.keyboardHandler=null),console.info("Karplus-strong synth: keyboard disabled"),this}async enableMIDI(e=this.midiController,t=0){return e||(e=new Kr,await e.initialize()),e.isInitialized&&(e.connectInstrument(this,t),console.info("Karplus-strong synth: MIDI enabled")),this}disableMIDI(e,t=0){var n;return e==null||e.disconnectInstrument(t),(n=this.midiController)==null||n.disconnectInstrument(t),console.info("Karplus-strong synth: MIDI disabled"),this}dispose(){this.stopAll(),this.disconnect(),this.keyboardHandler&&(Yt.removeHandler(this.keyboardHandler),this.keyboardHandler=null),this.voicePool.dispose(),i(this,ot).clear(),this.outBus.dispose(),this.outBus=null,this.audioContext=null}set volume(e){this.outBus.volume=e}get auxIn(){return i(this,Br)}get attackSeconds(){return this.getStoredParamValue("attack",.3)}set attackTime(e){this.storeParamValue("attack",e/1e3)}get decaySeconds(){return this.getStoredParamValue("decay",.3)}set decayTime(e){this.storeParamValue("decay",e/1e3)}setHpfCutoff(e){if(isNaN(e)||!isFinite(e))return console.warn(`Invalid LPF frequency: ${e}`),this;const t=this.now;return t-i(this,Ri)<i(this,Vi)?this:(this.storeParamValue("karplus:hpfCutoff",e),this.voicePool.applyToAllVoices(n=>n.setParam("hpf",e)),y(this,Ri,t),this)}setLpfCutoff(e){const t=this.audioContext.sampleRate/1-100;if(isNaN(e)||!isFinite(e))return console.warn(`Invalid LPF frequency: ${e}`),this;const n=Math.max(20,Math.min(e,t));this.storeParamValue("karplus:lpfCutoff",n);const r=this.now;return r-i(this,Bi)<i(this,Vi)?this:(this.voicePool.applyToAllVoices(s=>{s.lpf&&(ri(s.lpf.frequency,r),s.lpf.frequency.setTargetAtTime(n,r,this.SET_TARGET_TIMECONSTANT))}),y(this,Bi,r),this)}get context(){return this.audioContext}get initialized(){return i(this,Ci)}get now(){return this.audioContext.currentTime}get volume(){return this.outBus.volume}get isPlaying(){return i(this,ot).size>0}get activeVoices(){return i(this,ot).size}get maxVoices(){return this.voicePool.allVoices.length}}Br=new WeakMap,ot=new WeakMap,Jo=new WeakMap,Ci=new WeakMap,jr=new WeakSet,xu=function(){return console.debug("Blur occurred"),this.stopAll(),this},ku=function(o){return this},Ri=new WeakMap,Bi=new WeakMap,Vi=new WeakMap;function Fc(o,e=16,t=ct(),n){ne(t,"Audio context is not available");const r=new Pu(t,e,o,n);return ne(r,"Failed to create SamplePlayer"),r}function Nc(o=16,e=ct(),t=!1,n){ne(e,"Audio context is not available");const r=new Vc(o,e);return ne(r,"Failed to create KarplusStrongSynth"),r}function Kc(o,e){const t=o.numberOfChannels,n=Array.from({length:t},(l,c)=>o.getChannelData(c)),r=n[0].length;function s(){for(let l=0;l<r;l++)if(Math.max(...n.map(c=>Math.abs(c[l])))>e)return l;return 0}function a(){for(let l=r-1;l>=0;l--)if(Math.max(...n.map(c=>Math.abs(c[l])))>e)return l;return 0}return{start:s(),end:a()}}function za(o,e,t,n){const r=Math.min(e+t,o.length);for(let s=e;s<r;s++){const a=(s-e)/t,l=n==="in"?a:1-a;o[s]*=l}}function Lc(o,e,t,n,r=5){const s=e.numberOfChannels,a=n-t,l=o.createBuffer(s,a,e.sampleRate),c=Math.floor(r/1e3*e.sampleRate);for(let h=0;h<s;h++){const p=e.getChannelData(h),_=l.getChannelData(h);for(let w=0;w<a;w++)_[w]=p[t+w];a>c*2&&c>0&&(za(_,0,c,"in"),za(_,a-c,c,"out"))}return l}const jc={normalize:!0,trimSilence:!0,silenceThreshold:.01,maxAmplitudePeak:.9,fadeInOutMs:5};function qc(o,e,t=jc){const{normalize:n,trimSilence:r,silenceThreshold:s,maxAmplitudePeak:a,fadeInOutMs:l}=t;let c=e;if(n&&(c=bl(o,e,a)),r){const{start:h,end:p}=Kc(c,s);console.debug(h,p),c=Lc(o,c,h,p,l),console.debug(c)}return c}const Xe={IDLE:"IDLE",ARMED:"ARMED",RECORDING:"RECORDING",STOPPED:"STOPPED"},Uc={mimeType:"audio/webm"},Gc={mediaRecorderOptions:Uc,useThreshold:!0,startThreshold:-30,autoStop:!1,stopThreshold:-40,silenceTimeoutMs:1e3,preprocess:!0,preprocessOptions:void 0};var Qt,gt,$e,Vr,It,ye,hn,at,dn,fn,xe,ue,Iu,Yo,Ho,Du,Mu,ii,Ou,Cu,Ru;class zc{constructor(e){S(this,ue),B(this,"nodeId"),B(this,"nodeType","recorder"),S(this,Qt),S(this,gt,null),S(this,$e,null),S(this,Vr),S(this,It,null),S(this,ye,Xe.IDLE),S(this,hn,null),S(this,at,null),S(this,dn,null),S(this,fn,null),S(this,xe,null),this.nodeId=Ct(this.nodeType),y(this,Qt,e),y(this,Vr,Ht(this.nodeId))}async init(){return console.warn("Recorder: init() method is deprecated and will be removed in a future version."),this}async start(e){const t=await wt(()=>vc());if(ne(!t.error,`Failed to get microphone: ${t.error}`,t),y(this,gt,t.data),y(this,xe,{...Gc,...e}),y(this,$e,new MediaRecorder(i(this,gt),i(this,xe).mediaRecorderOptions)),!i(this,$e))throw new Error("Recorder not initialized");if(i(this,ye)===Xe.RECORDING)return this;try{return i(this,xe).useThreshold?z(this,ue,Iu).call(this):z(this,ue,Yo).call(this),this}catch(n){throw console.error("Error starting recording:",n),n}}async stop(){var e,t;if(!i(this,$e))throw new Error("Recorder not initialized");if(i(this,ye)===Xe.ARMED)throw z(this,ue,ii).call(this),y(this,ye,Xe.STOPPED),console.info(`Recorder state: ${i(this,ye)}`),this.sendMessage("record:cancelled",{}),new Error("Recording was armed but never triggered");if(i(this,ye)!==Xe.RECORDING)throw new Error("Not recording");z(this,ue,ii).call(this);const n=await z(this,ue,Ou).call(this);let r=await z(this,ue,Cu).call(this,n);return(e=i(this,xe))!=null&&e.preprocess&&(r=qc(i(this,Qt),r,i(this,xe).preprocessOptions)),i(this,It)&&await i(this,It).loadSample(r),y(this,ye,Xe.STOPPED),console.info(`Recorder state: ${i(this,ye)}`),this.sendMessage("record:stop",{duration:r.duration}),(t=i(this,gt))==null||t.getTracks().forEach(s=>s.stop()),y(this,gt,null),y(this,$e,null),r}onMessage(e,t){return i(this,Vr).onMessage(e,t)}sendMessage(e,t){i(this,Vr).sendMessage(e,t)}connect(e){return y(this,It,e),this}disconnect(){y(this,It,null)}dispose(){var e;z(this,ue,ii).call(this),(e=i(this,gt))==null||e.getTracks().forEach(t=>t.stop()),y(this,gt,null),y(this,$e,null),y(this,ye,Xe.IDLE),y(this,xe,null),pn(this.nodeId)}get isArmed(){return i(this,ye)===Xe.ARMED}get isRecording(){return i(this,ye)===Xe.RECORDING}get state(){return i(this,ye)}get initialized(){return i(this,$e)!==null&&i(this,gt)!==null}get now(){return i(this,Qt).currentTime}get destination(){return i(this,It)}}Qt=new WeakMap,gt=new WeakMap,$e=new WeakMap,Vr=new WeakMap,It=new WeakMap,ye=new WeakMap,hn=new WeakMap,at=new WeakMap,dn=new WeakMap,fn=new WeakMap,xe=new WeakMap,ue=new WeakSet,Iu=function(){if(!z(this,ue,Ru).call(this,i(this,xe).startThreshold)){console.warn(`Threshold ${i(this,xe).startThreshold}dB out of range (-60 to 0)`);return}y(this,ye,Xe.ARMED),console.info("Recorder state: ARMED"),this.sendMessage("record:armed",{threshold:i(this,xe).startThreshold,destination:i(this,It)}),z(this,ue,Ho).call(this)},Yo=function(){i(this,$e).start(),y(this,ye,Xe.RECORDING),console.info(`Recorder state: ${i(this,ye)}`),this.sendMessage("record:start",{destination:i(this,It)}),i(this,xe).autoStop&&z(this,ue,Ho).call(this)},Ho=function(){y(this,hn,i(this,Qt).createMediaStreamSource(i(this,gt))),y(this,at,i(this,Qt).createAnalyser()),i(this,at).fftSize=1024,i(this,hn).connect(i(this,at));const o=new Float32Array(i(this,at).fftSize),e=()=>{if(!i(this,at))return;i(this,at).getFloatTimeDomainData(o);const t=Math.max(...o.map(Math.abs)),n=t>1e-7?20*Math.log10(t):-100;if(i(this,ye)===Xe.ARMED)z(this,ue,Du).call(this,n);else if(i(this,ye)===Xe.RECORDING)z(this,ue,Mu).call(this,n);else{z(this,ue,ii).call(this);return}y(this,dn,requestAnimationFrame(e))};y(this,dn,requestAnimationFrame(e))},Du=function(o){o>=i(this,xe).startThreshold&&z(this,ue,Yo).call(this)},Mu=function(o){if(!i(this,xe).autoStop)return;const e=performance.now();o<i(this,xe).stopThreshold?i(this,fn)===null?y(this,fn,e):e-i(this,fn)>=i(this,xe).silenceTimeoutMs&&(this.sendMessage("record:stopping",{}),this.stop().catch(t=>console.error("Error auto-stopping:",t))):y(this,fn,null)},ii=function(){i(this,dn)!==null&&(cancelAnimationFrame(i(this,dn)),y(this,dn,null)),i(this,hn)&&(i(this,hn).disconnect(),y(this,hn,null)),i(this,at)&&(i(this,at).disconnect(),y(this,at,null)),y(this,fn,null)},Ou=function(){return new Promise(o=>{var e,t,n;((e=i(this,$e))==null?void 0:e.state)!=="inactive"&&((t=i(this,$e))==null||t.addEventListener("dataavailable",r=>o(r.data),{once:!0}),(n=i(this,$e))==null||n.stop())})},Cu=async function(o){const e=await o.arrayBuffer();return await i(this,Qt).decodeAudioData(e)},Ru=function(o){return o>-60&&o<0};async function Qa(o){const e=o||ct();return new zc(e)}const oi=[];function Qc(o){oi.push(o)}function Yc(o){return oi.includes(o)}function Hc(){return[...oi]}function Xc(){return oi.length=0,oi.length===0}const ys={has:Yc,add:Qc,getAll:Hc,clear:Xc};let Mo=!1;const Zc=["/node_modules/@repo/audiolib/dist/processors/processors.js","./processors/processors.js","/processors/processors.js",new URL(""+new URL("processors-DFWUQfke.js",import.meta.url).href,import.meta.url).href];async function Wc(){try{const o=[new URL(""+new URL("processors-DFWUQfke.js",import.meta.url).href,import.meta.url).href,"/processors/processors.js","./processors/processors.js"];let e=null,t=null;for(const r of o)try{const s=await fetch(r);if(!s.ok)throw new Error(`HTTP error ${s.status}`);e=await s.text(),console.info(`Fetched processor code from: ${r}`);break}catch(s){console.debug(`Failed to fetch from ${r}:`,s),t=s}if(!e)throw t||new Error("Couldn't fetch processor code from any URL");const n=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(n)}catch(o){throw console.error("Failed to create Blob URL:",o),o}}async function Jc(o){if(Mo)return console.info("AudioWorklet processors already initialized, skipping"),{success:!0,loadedPath:"already-initialized",timestamp:new Date().toISOString()};let e=null;for(const t of Zc)if(!ys.has(t))try{return await o.audioWorklet.addModule(t),ys.add(t),Mo=!0,console.info("AudioWorklet module loaded successfully from:",t),{success:!0,loadedPath:t,timestamp:new Date().toISOString()}}catch(n){e=n}try{const t=await Wc();return ys.has(t)||(await o.audioWorklet.addModule(t),ys.add(t),Mo=!0,console.info("AudioWorklet module loaded from Blob URL")),URL.revokeObjectURL(t),{success:!0,loadedPath:"blob-url",timestamp:new Date().toISOString()}}catch(t){console.error("Failed to load AudioWorklet from Blob URL:",t),e=new Error(`Failed to load AudioWorklet from all paths. Last error: ${e instanceof Error&&e.message||"Unknown error"}. Blob URL error: ${typeof t=="object"&&t&&"message"in t?t.message:String(t)}`)}throw e||new Error("Failed to load AudioWorklet from all paths")}var Fi,Fr,ve,ke,Dt$1,ut,Jn,Nr,Ns,Vu;class Bu{constructor(e={}){S(this,Ns),B(this,"nodeId"),B(this,"nodeType","audiograph"),S(this,Fi,!1),S(this,Fr,new Kr),S(this,ve,null),S(this,ke),S(this,Dt$1,new Map),S(this,ut,null),S(this,Jn,null),S(this,Nr),this.nodeId=Ct(this.nodeType),y(this,Nr,Ht(this.nodeId)),y(this,ve,e.audioContext||ct()),ne(i(this,ve),"Failed to get audio context",{nodeId:this.nodeId}),y(this,Fr,e.midiController||new Kr),y(this,ke,i(this,ve).createGain()),i(this,ke).gain.value=1,i(this,ke).connect(i(this,ve).destination)}async init(){if(this.initialized)return this;const e=await wt(()=>Vo());ne(!e.error,"Could not initialize audio context",e),await z(this,Ns,Vu).call(this,e.data);const t=e.data,n=await wt(()=>ou());ne(!n.error,"IndexedDB initialization failed",n);const r=await wt(()=>su());ne(!r.error,"Failed to fetch initial sample"),y(this,Jn,r.data);const s=await wt(()=>Jc(t));ne(!s.error,"Failed to register processors",s);const a=await wt(()=>Qa(t));return ne(!a.error,"Failed to create audio recorder",a),y(this,ut,a.data),await this.initMidiController()||console.warn("Midi initialization failed"),console.log("Audiolib initialized"),y(this,Fi,!0),this}get initialized(){return i(this,Fi)}async initMidiController(){const e=await wt(()=>i(this,Fr).initialize());return ne(!e.error,"Failed to initialize MIDI"),e.data}async createRecorder(e){ne(i(this,ve),"AudioContext must be initialized before creating Recorder");const t=await Qa(i(this,ve));return e&&t.connect(e),t}createSamplePlayer(e=i(this,ve),t=16,n){ne(e,"Audio context is not available",{nodeId:this.nodeId});let r=n||i(this,Jn);ne(r,"No audio buffer available for SamplePlayer",{providedSample:!!n,initSampleAvailable:!!i(this,Jn)});const s=Fc(r,t,e,i(this,Fr));return s.connect(i(this,ke)),i(this,Dt$1).set(s.nodeId,s),s}createKarplusStrongSynth(e=8,t=i(this,ve)){ne(t,"Audio context is not available",{nodeId:this.nodeId});const n=Nc(e,t);ne(n,"Failed to create Karplus Strong synth");const r=i(this,Dt$1).has(n.nodeId);return ne(!r,`Instrument with id: ${n.nodeId} already loaded`),n.connect(i(this,ke)),i(this,Dt$1).set(n.nodeId,n),n}async recordAudioSample(e){ne(i(this,ut),"Audio recorder not initialized");const t=e||this.getCurrentSamplePlayer();return t&&i(this,ut)&&i(this,ut).connect(t),await i(this,ut).start(),i(this,ut).stop()}getCurrentSamplePlayer(){for(const e of i(this,Dt$1).values())if(e instanceof Pu)return e;return null}get globalAudioRecorder(){return i(this,ut)}onMessage(e,t){return i(this,Nr).onMessage(e,t)}sendMessage(e,t){i(this,Nr).sendMessage(e,t)}connect(e,t,n){var r;if(e)i(this,ke).connect(e,t,n);else{const s=(r=i(this,ve))==null?void 0:r.destination;s&&i(this,ke).connect(s)}return this}disconnect(e){e?i(this,ke).disconnect(e):i(this,ke).disconnect()}add(e){return this.firstChildren.push(e),this}remove(e){const t=this.firstChildren.indexOf(e);return t>-1&&this.firstChildren.splice(t,1),this}get in(){return i(this,ke)}get out(){return i(this,ke)}get destination(){var e;return(e=i(this,ve))==null?void 0:e.destination}get firstChildren(){return Array.from(i(this,Dt$1).values())}async ensureAudioCtx(){const e=await wt(()=>Vo(),"Failed to ensure audio context");if(e.error)throw console.error("Could not ensure audio context:",e.error),e.error;return e.data}get audioContext(){return i(this,ve)||console.error("Audio context not initialized!"),i(this,ve)}get now(){return ct().currentTime}dispose(){var e,t;try{console.debug("Audiolib dispose called");for(const n of i(this,Dt$1).values())n.dispose();i(this,Dt$1).clear(),i(this,ke)&&(i(this,ke).disconnect(),y(this,ke,null)),me.close(),pn(this.nodeId),zl(),(e=i(this,ve))==null||e.close(),y(this,ve,null),(t=i(this,ut))==null||t.dispose(),y(this,ut,null),y(this,Jn,null)}catch(n){console.error(`Error during Audiolib disposal: ${n instanceof Error?n.message:String(n)}`)}}}Fi=new WeakMap,Fr=new WeakMap,ve=new WeakMap,ke=new WeakMap,Dt$1=new WeakMap,ut=new WeakMap,Jn=new WeakMap,Nr=new WeakMap,Ns=new WeakSet,Vu=async function(o){ne(o===i(this,ve),"Singleton globalAudioContext compromised",{expected:i(this,ve),received:o}),ne(o.audioWorklet,"AudioWorklet not available in this context",{context:o})};async function ch(o={}){const e=o.audioContext||ct(),t=o.midiController||new Kr,n=new Bu({audioContext:e,midiController:t});return o.autoInit&&await n.init(),n}let Oo=null;const hh=()=>(Oo||(Oo=new Bu),Oo);var Jt=Object.defineProperty,te=(o,e,t)=>e in o?Jt(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,st=(o,e,t)=>te(o,typeof e!="symbol"?e+"":e,t);let protoOf=Object.getPrototypeOf,changedStates,derivedStates,curDeps,curNewDerives,alwaysConnectedDom={isConnected:1},gcCycleInMs=1e3,statesToGc,propSetterCache={},objProto=protoOf(alwaysConnectedDom),funcProto=protoOf(protoOf),_undefined,addAndScheduleOnFirst=(o,e,t,n)=>(o??(setTimeout(t,n),new Set)).add(e),runAndCaptureDeps=(o,e,t)=>{let n=curDeps;curDeps=e;try{return o(t)}catch(r){return console.error(r),t}finally{curDeps=n}},keepConnected=o=>o.filter(e=>{var t;return(t=e._dom)==null?void 0:t.isConnected}),addStatesToGc=o=>statesToGc=addAndScheduleOnFirst(statesToGc,o,()=>{for(let e of statesToGc)e._bindings=keepConnected(e._bindings),e._listeners=keepConnected(e._listeners);statesToGc=_undefined},gcCycleInMs),stateProto={get val(){var o;return(o=curDeps==null?void 0:curDeps._getters)==null||o.add(this),this.rawVal},get oldVal(){var o;return(o=curDeps==null?void 0:curDeps._getters)==null||o.add(this),this._oldVal},set val(o){var e;(e=curDeps==null?void 0:curDeps._setters)==null||e.add(this),o!==this.rawVal&&(this.rawVal=o,this._bindings.length+this._listeners.length?(derivedStates==null||derivedStates.add(this),changedStates=addAndScheduleOnFirst(changedStates,this,updateDoms)):this._oldVal=o)}},state=o=>({__proto__:stateProto,rawVal:o,_oldVal:o,_bindings:[],_listeners:[]}),bind=(o,e)=>{let t={_getters:new Set,_setters:new Set},n={f:o},r=curNewDerives;curNewDerives=[];let s=runAndCaptureDeps(o,t,e);s=(s??document).nodeType?s:new Text(s);for(let a of t._getters)t._setters.has(a)||(addStatesToGc(a),a._bindings.push(n));for(let a of curNewDerives)a._dom=s;return curNewDerives=r,n._dom=s},derive=(o,e=state(),t)=>{let n={_getters:new Set,_setters:new Set},r={f:o,s:e};r._dom=t??(curNewDerives==null?void 0:curNewDerives.push(r))??alwaysConnectedDom,e.val=runAndCaptureDeps(o,n,e.rawVal);for(let s of n._getters)n._setters.has(s)||(addStatesToGc(s),s._listeners.push(r));return e},add=(o,...e)=>{for(let t of e.flat(1/0)){let n=protoOf(t??0),r=n===stateProto?bind(()=>t.val):n===funcProto?bind(t):t;r!=_undefined&&o.append(r)}return o},tag=(o,e,...t)=>{var n;let[{is:r,...s},...a]=protoOf(t[0]??0)===objProto?t:[{},...t],l=o?document.createElementNS(o,e,{is:r}):document.createElement(e,{is:r});for(let[c,h]of Object.entries(s)){let p=b=>b?Object.getOwnPropertyDescriptor(b,c)??p(protoOf(b)):_undefined,_=e+","+c,w=propSetterCache[_]??(propSetterCache[_]=((n=p(protoOf(l)))==null?void 0:n.set)??0),u=c.startsWith("on")?(b,k)=>{let E=c.slice(2);l.removeEventListener(E,k),l.addEventListener(E,b)}:w?w.bind(l):l.setAttribute.bind(l,c),P=protoOf(h??0);c.startsWith("on")||P===funcProto&&(h=derive(h),P=stateProto),P===stateProto?bind(()=>(u(h.val,h._oldVal),l)):u(h)}return add(l,a)},handler=o=>({get:(e,t)=>tag.bind(_undefined,o,t)}),update=(o,e)=>e?e!==o&&o.replaceWith(e):o.remove(),updateDoms=()=>{let o=0,e=[...changedStates].filter(n=>n.rawVal!==n._oldVal);do{derivedStates=new Set;for(let n of new Set(e.flatMap(r=>r._listeners=keepConnected(r._listeners))))derive(n.f,n.s,n._dom),n._dom=_undefined}while(++o<100&&(e=[...derivedStates]).length);let t=[...changedStates].filter(n=>n.rawVal!==n._oldVal);changedStates=_undefined;for(let n of new Set(t.flatMap(r=>r._bindings=keepConnected(r._bindings))))update(n._dom,bind(n.f,n._dom)),n._dom=_undefined;for(let n of t)n._oldVal=n.rawVal};const van={tags:new Proxy(o=>new Proxy(tag,handler(o)),handler()),hydrate:(o,e)=>update(o,bind(e,o)),add,state,derive};function define(o,e,t={mode:"open"}){window.customElements.define(o,class extends HTMLElement{constructor(){super(),this.a=[],this.p=new Map}setAttribute(n,r){super.setAttribute(n,r),this.a[n]&&(this.a[n].val=r)}connectedCallback(){let n;van.add(t?this.attachShadow(t):this,e({attr:(r,s)=>{var a;return(a=this.a)[r]??(a[r]=van.state(this.getAttribute(r)??s))},prop:(r,s)=>(this.p.has(r)||this.p.set(r,van.state(s)),this.p.get(r)),mount:r=>{let s=n;n=()=>{let a=s==null?void 0:s(),l=r();return()=>{a==null||a(),l==null||l()}}},$this:this})),this.d=n==null?void 0:n()}disconnectedCallback(){var n;(n=this.d)==null||n.call(this)}setProp(n,r){return this.p.has(n)?this.p.get(n).val=r:this.p.set(n,van.state(r)),this}getProp(n){return this.p.has(n)?this.p.get(n).val:void 0}})}const midiSvgRaw=`<?xml version="1.0" encoding="utf-8"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" role="img" xmlns="http://www.w3.org/2000/svg"><title>MIDI icon</title><path d="M21.775 7.517H24v8.966h-2.225zm-8.562 0h6.506c.66 0 1.045.57 1.045 1.247v6.607c0 .84-.35 1.112-1.112 1.112h-6.439v-5.696h2.225v3.505h3.135V9.54h-5.36zm-3.235 0h2.19v8.966h-2.19zM0 7.517h7.854c.66 0 1.045.57 1.045 1.247v7.72H6.708V9.774H5.427v6.708H3.438V9.775H2.191v6.708H0Z"/></svg>`,keysSvgRaw=`<?xml version="1.0" encoding="utf-8"?>\r
\r
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r
<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->\r
<svg version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \r
	 viewBox="0 0 512 512"  xml:space="preserve">\r
<style type="text/css">\r
	.st0{fill:#000000;}\r
</style>\r
<g>\r
	<path class="st0" d="M459.576,99.307H52.423C23.524,99.307,0,122.837,0,151.736v192.879c0,37.536,30.537,68.078,68.068,68.078\r
		h375.862c37.532,0,68.069-30.542,68.069-68.078V151.736C512,122.837,488.475,99.307,459.576,99.307z M485.515,344.615\r
		c0,22.934-18.655,41.589-41.584,41.589H68.068c-22.929,0-41.584-18.655-41.584-41.589V151.736\r
		c0-14.306,11.638-25.938,25.938-25.938h407.154c14.301,0,25.938,11.633,25.938,25.938V344.615z"/>\r
	<rect x="189.792" y="233.929" class="st0" width="44.138" height="44.142"/>\r
	<rect x="256.002" y="233.929" class="st0" width="44.134" height="44.142"/>\r
	<rect x="322.207" y="233.929" class="st0" width="44.138" height="44.142"/>\r
	<rect x="410.484" y="300.139" class="st0" width="44.134" height="44.134"/>\r
	<rect x="189.792" y="167.729" class="st0" width="44.138" height="44.134"/>\r
	<rect x="123.587" y="233.929" class="st0" width="44.138" height="44.142"/>\r
	<rect x="123.587" y="167.729" class="st0" width="44.138" height="44.134"/>\r
	<rect x="57.382" y="300.139" class="st0" width="44.134" height="44.134"/>\r
	<rect x="57.382" y="233.929" class="st0" width="44.134" height="44.142"/>\r
	<rect x="57.382" y="167.729" class="st0" width="44.134" height="44.134"/>\r
	<rect x="256.002" y="167.729" class="st0" width="44.134" height="44.134"/>\r
	<rect x="322.207" y="167.729" class="st0" width="44.138" height="44.134"/>\r
	<rect x="123.587" y="300.139" class="st0" width="264.825" height="44.134"/>\r
	<rect x="388.412" y="167.729" class="st0" width="66.205" height="110.343"/>\r
</g>\r
</svg>`,loopOnSvgRaw=`<?xml version="1.0" encoding="utf-8"?>\r
\r
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r
<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg width="800px" height="800px" viewBox="0 0 17 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r
	<path d="M1 9c0 2.206 1.711 4 3.813 4v1c-2.654 0-4.813-2.243-4.813-5s2.159-5 4.813-5h4.229l-1.646-1.646 0.707-0.707 2.854 2.853-2.853 2.854-0.708-0.708 1.647-1.646h-4.23c-2.102 0-3.813 1.794-3.813 4zM12.187 4v1c2.102 0 3.813 1.794 3.813 4s-1.711 4-3.813 4h-4.23l1.646-1.646-0.707-0.707-2.853 2.853 2.854 2.854 0.707-0.707-1.647-1.647h4.229c2.655 0 4.814-2.243 4.814-5s-2.159-5-4.813-5z" fill="#000000" />\r
</svg>`,loopOffSvgRaw=`<svg viewBox="0 0 17 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000">
<g id="SVGRepo_bgCarrier" stroke-width="0"></g>
<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
<g id="SVGRepo_iconCarrier"> 
<path d="M1 9c0 2.206 1.711 4 3.813 4v1c-2.654 0-4.813-2.243-4.813-5s2.159-5 4.813-5h4.229l-1.646-1.646 0.707-0.707 2.854 2.853-2.853 2.854-0.708-0.708 1.647-1.646h-4.23c-2.102 0-3.813 1.794-3.813 4zM12.187 4v1c2.102 0 3.813 1.794 3.813 4s-1.711 4-3.813 4h-4.23l1.646-1.646-0.707-0.707-2.853 2.853 2.854 2.854 0.707-0.707-1.647-1.647h4.229c2.655 0 4.814-2.243 4.814-5s-2.159-5-4.813-5z" fill="#000000"></path>
<!-- Diagonal line to indicate "off" state -->
<line x1="2" y1="15" x2="15" y2="2" stroke="#000000" stroke-width="1" stroke-linecap="round"></line>
</g>
</svg>
`,listeningSvgRaw=`<?xml version="1.0" encoding="utf-8"?>\r
<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->\r
<svg fill="#000000" height="800px" width="800px" version="1.1" id="Listening" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \r
	 viewBox="0 0 128 128" xml:space="preserve">\r
<path id="_x34__1_" d="M39.6,108.1c-8.8,0-16-7.2-16-16c0-2.2,1.8-4,4-4s4,1.8,4,4c0,4.4,3.6,8,8,8c2.8,0,5.4-1.5,6.9-3.9\r
	c0.6-1,1.4-2.8,2.3-4.7c1.7-3.8,3.6-8.1,6-11.2c1.9-2.5,4.7-5,7.4-7.5c2.7-2.5,5.8-5.4,6.8-7.2c2-3.5,3-7.4,3-11.4\r
	c0-12.7-10.3-23-23-23s-23,10.3-23,23c0,2.2-1.8,4-4,4s-4-1.8-4-4c0-17.1,13.9-31,31-31c17.1,0,31,13.9,31,31\r
	c0,5.4-1.4,10.7-4.1,15.4c-1.6,2.9-4.9,5.9-8.4,9.1c-2.4,2.3-5,4.6-6.5,6.5c-1.8,2.3-3.6,6.3-5,9.5c-1,2.2-1.8,4.1-2.7,5.6\r
	C50.5,105.1,45.2,108.1,39.6,108.1z"/>\r
<path id="_x33__2_" d="M34,79.6c-2.2,0-4-1.8-4-4s1.8-4,4-4c2,0,3.7-1.6,3.7-3.7c0-2-1.6-3.7-3.7-3.7c-2.2,0-4-1.8-4-4v-6\r
	c0-10.5,8.5-19,19-19s19,8.5,19,19c0,3.3-0.8,6.5-2.4,9.3c-0.1,0.1-0.1,0.2-0.2,0.3c-0.8,1.2-2.7,3-5.9,6l-1.2,1.1\r
	c-1.6,1.5-4.2,1.4-5.7-0.2c-1.5-1.6-1.4-4.2,0.2-5.7L54,64c2.6-2.4,4.2-3.9,4.7-4.6c0.8-1.6,1.3-3.4,1.3-5.2c0-6.1-4.9-11-11-11\r
	s-11,4.9-11,11v2.7c4.5,1.6,7.7,5.9,7.7,11C45.7,74.3,40.5,79.6,34,79.6z"/>\r
<path id="_x32__15_" d="M85,78.7c-0.6,0-1.2-0.2-1.7-0.5c-1.7-1-2.2-3.1-1.3-4.8c3.3-5.8,5.1-12.3,5.1-19c0-6.8-1.8-13.4-5.2-19.2\r
	c-1-1.7-0.4-3.8,1.2-4.8c1.7-1,3.8-0.4,4.8,1.2c4.1,6.9,6.2,14.8,6.2,22.8c0,7.9-2.1,15.6-6,22.5C87.4,78.1,86.2,78.7,85,78.7z"/>\r
<path id="_x31__17_" d="M95.9,90.1c-0.8,0-1.5-0.2-2.2-0.7c-1.8-1.2-2.3-3.7-1.1-5.6c5.9-8.7,9-18.8,9-29.4\r
	c0-10.6-3.2-20.9-9.2-29.6c-1.2-1.8-0.8-4.3,1-5.6c1.8-1.2,4.3-0.8,5.6,1c6.9,10.1,10.6,21.9,10.6,34.1c0,12.1-3.6,23.8-10.3,33.8\r
	C98.4,89.5,97.1,90.1,95.9,90.1z"/>\r
</svg>`,recordSvgRaw=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256">
  <rect width="256" height="256" fill="none" />
  <circle
    cx="128"
    cy="128"
    r="96"
    fill="none"
    stroke="currentColor"
    stroke-miterlimit="10"
    stroke-width="16"
  />
  <circle
    cx="128"
    cy="128"
    r="64"
    fill="none"
    stroke="currentColor"
    stroke-miterlimit="10"
    stroke-width="16"
  />
</svg>
`,stopSvgRaw=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><rect x="48" y="48" width="160" height="160" rx="8" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>
`,createIcons=()=>{const o={width:"2rem",height:"2rem"};return{midi:createSvgIcon(midiSvgRaw,o,"white","MIDI"),keys:createSvgIcon(keysSvgRaw,o,"white","Keyboard"),loopOn:createSvgIcon(loopOnSvgRaw,o,"white","Loop"),loopOff:createSvgIcon(loopOffSvgRaw,o,"white","Loop Off"),record:createSvgIcon(recordSvgRaw,o,"currentColor","Rec"),armed:createSvgIcon(listeningSvgRaw,o,"white","ARMED"),stop:createSvgIcon(stopSvgRaw,o,"currentColor","Stop")}};function createSvgIcon(o,e={width:"2rem",height:"2rem"},t="currentColor",n){try{const r=document.createElement("div");r.innerHTML=o;const s=r.querySelector("svg");if(s)return s.setAttribute("width",e.width),s.setAttribute("height",e.height),s.setAttribute("fill",t),s.style.verticalAlign="middle",t==="white"?s.style.filter="brightness(0) invert(1)":s.querySelectorAll("path, circle, rect, polygon, ellipse").forEach(a=>{a.setAttribute("fill",t)}),s;if(n){const a=document.createElement("span");return a.textContent=n,a.style.verticalAlign="middle",a}return""}catch(r){if(console.debug("Failed to create SVG icon:",r),n){const s=document.createElement("span");return s.textContent=n,s.style.verticalAlign="middle",s}return""}}const when=(o,e)=>o?e():null,{div:div$7,span,input,label:label$1}=van.tags,renderLabelContent=o=>{const e=typeof o=="function"?o():o;return Array.isArray(e)?div$7({style:"display: inline-flex; align-items: center;"},...e):e},createSlider=(o,e,t,n,r,s=!1,a="%",l=100)=>div$7({style:"margin-bottom: 20px;"},typeof o=="function"?()=>{const c=o();return typeof c=="string"?label$1(c+": "):div$7({style:"display: inline-block; margin-right: 5px;"},c)}:typeof o=="string"?label$1(o+": "):div$7({style:"display: inline-block; margin-right: 5px;"},o),input({type:"range",min:t,max:n,step:r,value:e,oninput:c=>e.val=parseFloat(c.target.value),style:"margin-left: 10px;",class:"interactive-element"}),when(s,()=>span({style:"margin-left: 10px;"},()=>a==="%"?Math.round(e.val*l)+a:e.val+a))),createCheckbox=(o,e,t)=>t?div$7({style:"display: flex; align-items: center; gap: 8px; cursor: pointer;",onclick:()=>e.val=!e.val,role:"checkbox","aria-checked":()=>e.val},()=>{const n=e.val?t.checked:t.unchecked;return typeof n=="string"?span({style:"font-size: 1.2rem; display: inline-flex; align-items: center;",class:"custom-checkbox-text"},n):div$7({style:"display: inline-flex; align-items: center;",class:"custom-checkbox"},n)},typeof o=="function"?()=>renderLabelContent(o()):renderLabelContent(o)):label$1({style:"display: flex; align-items: center; gap: 8px; cursor: pointer;"},input({type:"checkbox",checked:e,onchange:n=>e.val=n.target.checked}),typeof o=="function"?()=>renderLabelContent(o()):renderLabelContent(o)),{div:div$6}=van.tags,ExpandableHeader=(o,e,t)=>div$6({class:"expandable-header"},div$6({style:"display: flex; flex-direction: row; column-gap: 1rem; padding-right: 3rem;"},div$6({style:"cursor: pointer;",onclick:()=>e.val=e.val==="true"?"false":"true"},()=>`${e.val==="true"?"â¼":"â¶"} ${o}`),t)),locked="ð",unlocked="ð",UNICODES={locked,unlocked},{div:div$5}=van.tags,VolumeControl=o=>createSlider("Volume",o,0,1,.01),InputControls=(o,e,t,n)=>div$5({style:"display: flex; gap: 10px;"},createCheckbox(t,o),createCheckbox(n,e)),LoopHoldControls=(o,e,t,n)=>div$5({style:"display: flex; gap: 10px;"},createCheckbox(()=>o.val||e.val?n.loopOn:n.loopOff,e,{unchecked:UNICODES.unlocked,checked:UNICODES.locked}),createCheckbox("Hold",t,{unchecked:UNICODES.unlocked,checked:UNICODES.locked})),FilterControls=(o,e)=>div$5({class:"filter-controls",style:"display: flex; flex-direction: column; gap: 10px;"},createSlider("HighCut",o,20,2e4,1),createSlider("LowCut",e,20,2e4,1)),{div:div$4}=van.tags,KarplusSynthElement=o=>{let e;const t=o.attr("expanded","true"),n=van.state(.5),r=van.state(.001),s=van.state(.9),a=van.state(10),l=van.state(18e3),c=van.state(20),h=van.state(!0),p=van.state(!1),_=van.state("Not initialized"),w=b=>van.derive(()=>e&&b());o.mount(()=>((()=>{try{if(e=Nc(16),!e){console.warn("Failed to create Karplus-Strong synthesizer");return}e.connect(e.context.destination),Object.defineProperty(o.$this,"synth",{get:()=>e,configurable:!0}),w(()=>e.volume=n.val),w(()=>{e.setParameterValue("attack",r.val),e.setParameterValue("decay",s.val),e.setParameterValue("noiseTime",a.val)}),w(()=>{e.setLpfCutoff(l.val),e.setHpfCutoff(c.val)}),w(()=>h.val?e.enableKeyboard():e.disableKeyboard()),w(()=>p.val?e.enableMIDI():e.disableMIDI()),_.val="Ready"}catch(b){console.error("Failed to initialize Karplus-Strong synth:",b),_.val=`Error: ${b instanceof Error?b.message:String(b)}`}})(),()=>{delete o.$this.synth,e==null||e.dispose()}));const u=createIcons(),P="display: flex; flex-direction: column; max-width: 50vw; padding: 0.5rem;";return div$4({class:"karplus-synth",style:()=>P},ExpandableHeader("Karplus Synth",t),div$4({class:"controls",style:()=>t.val==="true"?"":"display: none"},div$4({class:"controls",style:()=>t.val==="true"?"":"display: none"},VolumeControl(n),createSlider("Attack",r,0,1,.01),createSlider("Decay",s,0,1,.01),createSlider("Thickness",a,1,100,1),FilterControls(l,c),div$4({style:"display: flex; gap: 10px; flex-wrap: wrap;"},InputControls(h,p,u.keys,u.midi)),div$4({style:"font-size: 0.8rem; color: #666; margin-top: 0.5rem;"},()=>`Status: ${_.val}`))))},defineKarplusSynth=(o="karplus-synth")=>{define(o,KarplusSynthElement,!1)};if(window.customElements){let styles=document.createElement("style");styles.innerHTML=`#webaudioctrl-context-menu {
  display: none;
  position: absolute;
  z-index: 10;
  padding: 0;
  width: 100px;
  color:#eee;
  background-color: #268;
  border: solid 1px #888;
  box-shadow: 1px 1px 2px #888;
  font-family: sans-serif;
  font-size: 11px;
  line-height:1.7em;
  text-align:center;
  cursor:pointer;
  color:#fff;
  list-style: none;
}
#webaudioctrl-context-menu.active {
  display: block;
}
.webaudioctrl-context-menu__item {
  display: block;
  margin: 0;
  padding: 0;
  color: #000;
  background-color:#eee;
  text-decoration: none;
}
.webaudioctrl-context-menu__title{
  font-weight:bold;
}
.webaudioctrl-context-menu__item:last-child {
  margin-bottom: 0;
}
.webaudioctrl-context-menu__item:hover {
  background-color: #b8b8b8;
}
`,document.head.appendChild(styles);let midimenu=document.createElement("ul");midimenu.id="webaudioctrl-context-menu",midimenu.innerHTML=`<li class="webaudioctrl-context-menu__title">MIDI Learn</li>
<li class="webaudioctrl-context-menu__item" id="webaudioctrl-context-menu-learn" onclick="webAudioControlsWidgetManager.contextMenuLearn()">Learn</li>
<li class="webaudioctrl-context-menu__item" onclick="webAudioControlsWidgetManager.contextMenuClear()">Clear</li>
<li class="webaudioctrl-context-menu__item" onclick="webAudioControlsWidgetManager.contextMenuClose()">Close</li>
`;let opt={useMidi:0,preserveMidiLearn:0,preserveValue:0,midilearn:0,mididump:0,outline:null,knobSrc:null,knobSprites:null,knobWidth:null,knobHeight:null,knobDiameter:null,knobColors:"#e00;#000;#fff",sliderSrc:null,sliderWidth:null,sliderHeight:null,sliderKnobSrc:null,sliderKnobWidth:null,sliderKnobHeight:null,sliderDitchlength:null,sliderColors:"#e00;#333;#fcc",switchWidth:null,switchHeight:null,switchDiameter:null,switchColors:"#e00;#000;#fcc",paramWidth:null,paramHeight:null,paramFontSize:9,paramColors:"#fff;#000",valuetip:0,xypadColors:"#e00;#000;#fcc"};window.WebAudioControlsOptions&&Object.assign(opt,window.WebAudioControlsOptions);class WebAudioControlsWidget extends HTMLElement{constructor(){super(),document.addEventListener("keydown",this.keydown.bind(this)),document.addEventListener("keyup",this.keyup.bind(this)),this.addEventListener("mousedown",this.pointerdown,{passive:!1}),this.addEventListener("touchstart",this.pointerdown,{passive:!1}),this.addEventListener("wheel",this.wheel,{passive:!1}),this.addEventListener("mouseover",this.pointerover),this.addEventListener("mouseout",this.pointerout),this.addEventListener("contextmenu",this.contextMenu),this.hover=this.drag=0,document.body.appendChild(midimenu),this.basestyle=`
.webaudioctrl-tooltip{
  display:inline-block;
  position:absolute;
  margin:0 -1000px;
  z-index: 999;
  background:#eee;
  color:#000;
  border:1px solid #666;
  border-radius:4px;
  padding:5px 10px;
  text-align:center;
  left:0; top:0;
  font-size:11px;
  opacity:0;
  visibility:hidden;
}
.webaudioctrl-tooltip:before{
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -8px;
  border: 8px solid transparent;
  border-top: 8px solid #666;
}
.webaudioctrl-tooltip:after{
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -6px;
  border: 6px solid transparent;
  border-top: 6px solid #eee;
}
`,this.onblur=()=>{this.elem.style.outline="none"},this.onfocus=()=>{switch(+this.outline){case null:case 0:this.elem.style.outline="none";break;case 1:this.elem.style.outline="1px solid #444";break;default:this.elem.style.outline=this.outline}}}sendEvent(e){let t;t=document.createEvent("HTMLEvents"),t.initEvent(e,!1,!0),this.dispatchEvent(t)}getAttr(e,t){let n=this.getAttribute(e);if(n==null)return t;switch(typeof t){case"number":return n=="true"?1:(n=+n,isNaN(n)?0:n)}return n}showtip(e){function t(s,a,l){switch(l){case"x":return(s|0).toString(16);case"X":return(s|0).toString(16).toUpperCase();case"d":return(s|0).toString();case"f":return parseFloat(s).toFixed(a);case"s":return s.toString()}return""}function n(s,a){let l=s.indexOf("%"),c=l+1;l<0&&(c=s.length);let h=[0,0],p=0,_=0,w="";if(s.indexOf("%s")>=0)return s.replace("%s",a);for(;c<s.length;++c){if("dfxXs".indexOf(s[c])>=0){p=s[c];break}s[c]=="."?_=1:h[_]=h[_]*10+parseInt(s[c])}return w=t(a,h[1],p),h[0]>0&&(w=("               "+w).slice(-h[0])),w=s.replace(/%.*[xXdfs]/,w),w}let r=this.tooltip;if((this.drag||this.hover)&&(this.valuetip&&(r==null?r="%s":r.indexOf("%")<0&&(r+=" : %s")),r)){this.ttframe.innerHTML=n(r,this.convValue),this.ttframe.style.display="inline-block",this.ttframe.style.width="auto",this.ttframe.style.height="auto",this.ttframe.style.transition="opacity 0.5s "+e+"s,visibility 0.5s "+e+"s",this.ttframe.style.opacity=.9,this.ttframe.style.visibility="visible";let s=this.getBoundingClientRect(),a=this.ttframe.getBoundingClientRect();document.documentElement.getBoundingClientRect(),this.ttframe.style.left=(s.width-a.width)*.5+1e3+"px",this.ttframe.style.top=-a.height-8+"px";return}this.ttframe.style.transition="opacity 0.1s "+e+"s,visibility 0.1s "+e+"s",this.ttframe.style.opacity=0,this.ttframe.style.visibility="hidden"}setupLabel(){this.labelpos=this.getAttr("labelpos","bottom 0px");const e=this.labelpos.split(" ");let t="";switch(e.length==3&&(t=`translate(${e[1]},${e[2]})`),this.label.style.position="absolute",e[0]){case"center":this.label.style.top="50%",this.label.style.left="50%",this.label.style.transform=`translate(-50%,-50%) ${t}`;break;case"right":this.label.style.top="50%",this.label.style.left="100%",this.label.style.transform=`translateY(-50%) ${t}`;break;case"left":this.label.style.top="50%",this.label.style.left="0%",this.label.style.transform=`translate(-100%,-50%) ${t}`;break;case"bottom":this.label.style.top="100%",this.label.style.left="50%",this.label.style.transform=`translateX(-50%) ${t}`;break;case"top":this.label.style.top="0%",this.label.style.left="50%",this.label.style.transform=`translate(-50%,-100%) ${t}`;break}}pointerover(e){this.hover=1,this.showtip(.6)}pointerout(e){this.hover=0,this.showtip(0)}contextMenu(e){window.webAudioControlsWidgetManager&&this.midilearn&&webAudioControlsWidgetManager.contextMenuOpen(e,this),e.preventDefault(),e.stopPropagation()}setMidiController(e,t){this.listeningToThisMidiController(e,t)||(this.midiController={channel:e,cc:t},console.log("Added mapping for channel="+e+" cc="+t+" tooltip="+this.tooltip))}listeningToThisMidiController(e,t){const n=this.midiController;return(n.channel===e||n.channel<0)&&n.cc===t}processMidiEvent(e){const t=e.data[0]&15,n=e.data[1];if(this.midiMode=="learn"&&(this.setMidiController(t,n),webAudioControlsWidgetManager.contextMenuClose(),this.midiMode="normal",webAudioControlsWidgetManager.preserveMidiLearn()),this.listeningToThisMidiController(t,n))if(this.tagName=="WEBAUDIO-SWITCH")switch(this.type){case"toggle":e.data[2]>=64&&this.setValue(1-this.value,!0);break;case"kick":this.setValue(e.data[2]>=64?1:0);break;case"radio":let r=document.querySelectorAll("webaudio-switch[type='radio'][group='"+this.group+"']");for(let s=0;s<r.length;++s)r[s]==this?r[s].setValue(1):r[s].setValue(0);break}else{const r=this.min+(this.max-this.min)*e.data[2]/127;this.setValue(r,!0)}}}try{customElements.define("webaudio-knob",class extends WebAudioControlsWidget{constructor(){super()}connectedCallback(){let root;if(this.attachShadow?root=this.attachShadow({mode:"open"}):root=this,root.innerHTML=`<style>
${this.basestyle}
:host{
  display:inline-block;
  margin:0;
  padding:0;
  cursor:pointer;
  font-family: sans-serif;
  font-size: 11px;
}
.webaudio-knob-body{
  display:inline-block;
  position:relative;
  margin:0;
  padding:0;
  vertical-align:bottom;
  white-space:pre;
}
</style>
<div class='webaudio-knob-body' tabindex='1' touch-action='none'><div class='webaudioctrl-tooltip'></div><div part="label" class="webaudioctrl-label"><slot></slot></div></div>
`,this.elem=root.childNodes[2],this.ttframe=this.elem.firstChild,this.label=this.ttframe.nextSibling,this.enable=this.getAttr("enable",1),this._src=this.getAttr("src",opt.knobSrc),this.hasOwnProperty("src")||Object.defineProperty(this,"src",{get:()=>this._src,set:o=>{this._src=o,this.setupImage()}}),this._value=this.getAttr("value",0),this.hasOwnProperty("value")||Object.defineProperty(this,"value",{get:()=>this._value,set:o=>{this._value=o,this.redraw()}}),this.defvalue=this.getAttr("defvalue",this._value),this._min=this.getAttr("min",0),this.hasOwnProperty("min")||Object.defineProperty(this,"min",{get:()=>this._min,set:o=>{this._min=+o,this.redraw()}}),this._max=this.getAttr("max",100),this.hasOwnProperty("max")||Object.defineProperty(this,"max",{get:()=>this._max,set:o=>{this._max=+o,this.redraw()}}),this._step=this.getAttr("step",1),this.hasOwnProperty("step")||Object.defineProperty(this,"step",{get:()=>this._step,set:o=>{this._step=+o,this.redraw()}}),this._sprites=this.getAttr("sprites",opt.knobSprites),this.hasOwnProperty("sprites")||Object.defineProperty(this,"sprites",{get:()=>this._sprites,set:o=>{this._sprites=o,this.setupImage()}}),this._width=this.getAttr("width",null),this.hasOwnProperty("width")||Object.defineProperty(this,"width",{get:()=>this._width,set:o=>{this._width=o,this.setupImage()}}),this._height=this.getAttr("height",null),this.hasOwnProperty("height")||Object.defineProperty(this,"height",{get:()=>this._height,set:o=>{this._height=o,this.setupImage()}}),this._diameter=this.getAttr("diameter",null),this.hasOwnProperty("diameter")||Object.defineProperty(this,"diameter",{get:()=>this._diameter,set:o=>{this._diameter=o,this.setupImage()}}),this._colors=this.getAttr("colors",opt.knobColors),this.hasOwnProperty("colors")||Object.defineProperty(this,"colors",{get:()=>this._colors,set:o=>{this._colors=o,this.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.setupLabel(),this.log=this.getAttr("log",0),this.sensitivity=this.getAttr("sensitivity",1),this.valuetip=this.getAttr("valuetip",opt.valuetip),this.tooltip=this.getAttr("tooltip",null),this.conv=this.getAttr("conv",null),this.conv){const x=this._value;this.convValue=eval(this.conv),typeof this.convValue=="function"&&(this.convValue=this.convValue(x))}else this.convValue=this._value;if(this.midilearn=this.getAttr("midilearn",opt.midilearn),this.midicc=this.getAttr("midicc",null),this.midiController={},this.midiMode="normal",this.midicc){let o=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,e=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(o,e)}if(this.midilearn&&this.id&&webAudioControlsWidgetManager&&webAudioControlsWidgetManager.midiLearnTable){const o=webAudioControlsWidgetManager.midiLearnTable;for(let e=0;e<o.length;++e)if(o[e].id==this.id){this.setMidiController(o[e].cc.channel,o[e].cc.cc);break}}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(let o=this.step;o<1;o*=10)++this.digits;this._setValue(this._value),this.coltab=["#e00","#000","#000"],window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this)}disconnectedCallback(){}setupImage(){if(this.kw=this._width||this._diameter||opt.knobWidth||opt.knobDiameter,this.kh=this._height||this._diameter||opt.knobHeight||opt.knobDiameter,this.src)this.img=new Image,this.img.onload=()=>{this.elem.style.backgroundImage="url("+this.src+")",this._sprites==null?this._sprites=this.img.height/this.img.width-1:this._sprites=+this._sprites,this.kw==null&&(this.kw=this.img.width),this.kh==null&&(this.kh=this.img.height/(this.sprites+1)),this.sprites?this.elem.style.backgroundSize=`${this.kw}px ${this.kh*(this.sprites+1)}px`:this.elem.style.backgroundSize="100% 100%",this.elem.style.width=this.kw+"px",this.elem.style.height=this.kh+"px",this.style.height=this.kh+"px",this.redraw()},this.img.src=this.src;else{this.colors&&(this.coltab=this.colors.split(";")),this.coltab||(this.coltab=["#e00","#000","#000"]);let o=`<svg xmlns="http://www.w3.org/2000/svg" width="64" height="6464" preserveAspectRatio="none">
<defs>
  <filter id="f1">
    <feGaussianBlur in="SourceGraphic" stdDeviation="0.8" />
  </filter>
  <radialGradient id="g1" cx="50%" cy="10%">
    <stop offset="0%" stop-color="${this.coltab[2]}"/>
    <stop offset="100%" stop-color="${this.coltab[1]}"/>
  </radialGradient>
  <linearGradient id="g2" x1="0%" y1="0%" x2="0%" y2="100%">
    <stop offset="0%" stop-color="#000" stop-opacity="0"/>
    <stop offset="100%" stop-color="#000" stop-opacity="0.3"/>
  </linearGradient>
  <g id="B">
    <circle cx="32" cy="32" r="31" fill="#000"/>
    <circle cx="32" cy="32" r="29" fill="url(#g1)"/>
    <circle cx="32" cy="32" r="29" fill="url(#g2)"/>
    <circle cx="32" cy="32" r="25" fill="${this.coltab[1]}" filter="url(#f1)"/>
    <circle cx="32" cy="32" r="29" fill="url(#g2)"/>
  </g>
  <line id="K" x1="32" y1="25" x2="32" y2="11" stroke-linecap="round" stroke-width="6" stroke="${this.coltab[0]}"/>
</defs>`;for(let e=0;e<101;++e)o+=`<use href="#B" y="${64*e}"/><use href="#K" y="${64*e}" transform="rotate(${(-135+270*e/101).toFixed(2)},32,${64*e+32})"/>`;o+="</svg>",this.elem.style.backgroundImage="url(data:image/svg+xml;base64,"+btoa(o)+")",this.kw==null&&(this.kw=64),this.kh==null&&(this.kh=64),this.elem.style.backgroundSize=`${this.kw}px ${this.kh*101}px`,this.elem.style.width=this.kw+"px",this.elem.style.height=this.kh+"px",this.style.height=this.kh+"px",this.fireflag=!0,this.redraw();return}}redraw(){let o;if(this.digits=0,this.step&&this.step<1)for(let n=this.step;n<1;n*=10)++this.digits;this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max),this.log?o=Math.log(this.value/this.min)/Math.log(this.max/this.min):o=(this.value-this.min)/(this.max-this.min);let e=this.elem.style,t=this.src?this.sprites:100;if(t>=1){let n=t*o|0;e.backgroundPosition="0px "+-n*this.kh+"px",e.transform="rotate(0deg)"}else{let n=270*(o-.5);e.backgroundPosition="0px 0px",e.transform="rotate("+n+"deg)"}}_setValue(v){if(this.step&&(v=Math.round((v-this.min)/this.step)*this.step+this.min),this._value=Math.min(this.max,Math.max(this.min,v)),this._value!=this.oldvalue){if(this.fireflag=!0,this.oldvalue=this._value,this.conv){const x=this._value;this.convValue=eval(this.conv),typeof this.convValue=="function"&&(this.convValue=this.convValue(x))}else this.convValue=this._value;return typeof this.convValue=="number"&&(this.convValue=this.convValue.toFixed(this.digits)),this.redraw(),this.showtip(0),1}return 0}setValue(o,e){this._setValue(o)&&e&&(this.sendEvent("input"),this.sendEvent("change"))}keydown(o){let e=this.step;switch(e==0&&(e=1),o.key){case"ArrowUp":this.setValue(this.value+e,!0);break;case"ArrowDown":this.setValue(this.value-e,!0);break;default:return}o.preventDefault(),o.stopPropagation()}wheel(o){if(this.enable){if(this.log){let e=Math.log(this.value/this.min)/Math.log(this.max/this.min),t=o.deltaY>0?-.01:.01;o.shiftKey||(t*=5),e+=t,this.setValue(this.min*Math.pow(this.max/this.min,e),!0)}else{let e=Math.max(this.step,(this.max-this.min)*.05);o.shiftKey&&(e=this.step?this.step:1),e=o.deltaY>0?-e:e,this.setValue(+this.value+e,!0)}o.preventDefault(),o.stopPropagation()}}pointerdown(o){if(!this.enable)return;let e=o;if(o.touches)e=o.changedTouches[0],this.identifier=e.identifier;else if(e.buttons!=1&&e.button!=0)return;this.elem.focus(),this.drag=1,this.showtip(0),this.oldvalue=this._value;let t=s=>{let a=s;if(s.touches){for(let c=0;c<s.touches.length;++c)if(s.touches[c].identifier==this.identifier){a=s.touches[c];break}}this.lastShift!==a.shiftKey&&(this.lastShift=a.shiftKey,this.startPosX=a.pageX,this.startPosY=a.pageY,this.startVal=this.value);let l=(this.startPosY-a.pageY-this.startPosX+a.pageX)*this.sensitivity;if(this.log){let c=Math.log(this.startVal/this.min)/Math.log(this.max/this.min);c+=l/((a.shiftKey?4:1)*128),c<0&&(c=0),c>1&&(c=1),this._setValue(this.min*Math.pow(this.max/this.min,c))}else this._setValue(this.min+((this.startVal+(this.max-this.min)*l/((a.shiftKey?4:1)*128)-this.min)/this.step|0)*this.step);return this.fireflag&&(this.sendEvent("input"),this.fireflag=!1),a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!1},n=s=>{let a=s;if(s.touches){for(let l=0;s.changedTouches[l].identifier!=this.identifier;)if(++l>=s.changedTouches.length)return}this.drag=0,this.showtip(0),this.startPosX=this.startPosY=null,window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t,{passive:!1}),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),window.removeEventListener("touchcancel",n),document.body.removeEventListener("touchstart",r,{passive:!1}),this.sendEvent("change")},r=s=>{s.preventDefault()};return e.ctrlKey||e.metaKey?this.setValue(this.defvalue,!0):(this.startPosX=e.pageX,this.startPosY=e.pageY,this.startVal=this.value,window.addEventListener("mousemove",t),window.addEventListener("touchmove",t,{passive:!1})),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),window.addEventListener("touchcancel",n),document.body.addEventListener("touchstart",r,{passive:!1}),o.preventDefault(),o.stopPropagation(),!1}})}catch(o){console.log("webaudio-knob already defined")}try{customElements.define("webaudio-slider",class extends WebAudioControlsWidget{constructor(){super()}connectedCallback(){let root;if(this.attachShadow?root=this.attachShadow({mode:"open"}):root=this,root.innerHTML=`<style>
${this.basestyle}
:host{
  display:inline-block;
  position:relative;
  margin:0;
  padding:0;
  font-family: sans-serif;
  font-size: 11px;
  cursor:pointer;
}
.webaudio-slider-body{
  display:inline-block;
  position:relative;
  margin:0;
  padding:0;
  vertical-align:bottom;
  white-space:pre;
}
.webaudio-slider-knob{
  display:inline-block;
  position:absolute;
  margin:0;
  padding:0;
}
</style>
<div class='webaudio-slider-body' tabindex='1' touch-action='none'><div class='webaudio-slider-knob' touch-action='none'></div><div class='webaudioctrl-tooltip'></div><div part="label" class="webaudioctrl-label"><slot></slot></div></div>
`,this.elem=root.childNodes[2],this.knob=this.elem.firstChild,this.ttframe=this.knob.nextSibling,this.label=this.ttframe.nextSibling,this.enable=this.getAttr("enable",1),this.tracking=this.getAttr("tracking","rel"),this._src=this.getAttr("src",opt.sliderSrc),this.hasOwnProperty("src")||Object.defineProperty(this,"src",{get:()=>this._src,set:o=>{this._src=o,this.setupImage()}}),this._knobsrc=this.getAttr("knobsrc",opt.sliderKnobSrc),this.hasOwnProperty("knobsrc")||Object.defineProperty(this,"knobsrc",{get:()=>this._knobsrc,set:o=>{this._knobsrc=o,this.setupImage()}}),this._value=this.getAttr("value",0),this.hasOwnProperty("value")||Object.defineProperty(this,"value",{get:()=>this._value,set:o=>{this._value=o,this.redraw()}}),this.defvalue=this.getAttr("defvalue",this._value),this._min=this.getAttr("min",0),this.hasOwnProperty("min")||Object.defineProperty(this,"min",{get:()=>this._min,set:o=>{this._min=o,this.redraw()}}),this._max=this.getAttr("max",100),this.hasOwnProperty("max")||Object.defineProperty(this,"max",{get:()=>this._max,set:o=>{this._max=o,this.redraw()}}),this._step=this.getAttr("step",1),this.hasOwnProperty("step")||Object.defineProperty(this,"step",{get:()=>this._step,set:o=>{this._step=o,this.redraw()}}),this._sprites=this.getAttr("sprites",0),this.hasOwnProperty("sprites")||Object.defineProperty(this,"sprites",{get:()=>this._sprites,set:o=>{this._sprites=o,this.setupImage()}}),this._direction=this.getAttr("direction",null),this.hasOwnProperty("direction")||Object.defineProperty(this,"direction",{get:()=>this._direction,set:o=>{this._direction=o,this.setupImage()}}),this.log=this.getAttr("log",0),this._width=this.getAttr("width",opt.sliderWidth),this.hasOwnProperty("width")||Object.defineProperty(this,"width",{get:()=>this._width,set:o=>{this._width=o,this.setupImage()}}),this._height=this.getAttr("height",opt.sliderHeight),this.hasOwnProperty("height")||Object.defineProperty(this,"height",{get:()=>this._height,set:o=>{this._height=o,this.setupImage()}}),this._knobwidth=this.getAttr("knobwidth",opt.sliderKnobWidth),this.hasOwnProperty("knobwidth")||Object.defineProperty(this,"knobwidth",{get:()=>this._knobwidth,set:o=>{this._knobwidth=o,this.setupImage()}}),this._knobheight=this.getAttr("knobheight",opt.sliderKnobHeight),this.hasOwnProperty("knobheight")||Object.defineProperty(this,"knobheight",{get:()=>this._knobheight,set:o=>{this._knobheight=o,this.setupImage()}}),this._ditchlength=this.getAttr("ditchlength",opt.sliderDitchlength),this.hasOwnProperty("ditchlength")||Object.defineProperty(this,"ditchlength",{get:()=>this._ditchlength,set:o=>{this._ditchlength=o,this.setupImage()}}),this._colors=this.getAttr("colors",opt.sliderColors),this.hasOwnProperty("colors")||Object.defineProperty(this,"colors",{get:()=>this._colors,set:o=>{this._colors=o,this.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.setupLabel(),this.sensitivity=this.getAttr("sensitivity",1),this.valuetip=this.getAttr("valuetip",opt.valuetip),this.tooltip=this.getAttr("tooltip",null),this.conv=this.getAttr("conv",null),this.conv){const x=this._value;this.convValue=eval(this.conv),typeof this.convValue=="function"&&(this.convValue=this.convValue(x))}else this.convValue=this._value;if(this.midilearn=this.getAttr("midilearn",opt.midilearn),this.midicc=this.getAttr("midicc",null),this.midiController={},this.midiMode="normal",this.midicc){let o=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,e=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(o,e)}if(this.midilearn&&this.id&&webAudioControlsWidgetManager&&webAudioControlsWidgetManager.midiLearnTable){const o=webAudioControlsWidgetManager.midiLearnTable;for(let e=0;e<o.length;++e)if(o[e].id==this.id){this.setMidiController(o[e].cc.channel,o[e].cc.cc);break}}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(let o=this.step;o<1;o*=10)++this.digits;this.fireflag=!0,window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this),this.elem.onclick=o=>{o.stopPropagation()}}disconnectedCallback(){document.removeEventListener("keydown",this.keydown),document.removeEventListener("keyup",this.keyup)}setupImage(){if(this.coltab=this.colors.split(";"),this.bodyimg=new Image,this.knobimg=new Image,this.srcurl=null,this.src==null||this.src==""){this.sw=+this._width,this.sh=+this.height,this._direction=="horz"?(this._width==null&&(this.sw=128),this._height==null&&(this.sh=24)):this._direction=="vert"?(this._width==null&&(this.sw=24),this._height==null&&(this.sh=128)):(this._width==null&&(this.sw=128),this._height==null&&(this.sh=24));const o=Math.min(this.sw,this.sh)*.5,e=`<svg xmlns="http://www.w3.org/2000/svg" width="${this.sw}" height="${this.sh}" preserveAspectRatio="none">
<defs>
  <filter id="f1">
    <feGaussianBlur in="SourceGraphic" stdDeviation="0.8" />
  </filter>
  <linearGradient id="g1" x1="0%" y1="0%" ${this.sw>this.sh?'x2="0%" y2="100%"':'x2="100%" y2="0%"'}>
    <stop offset="0%" stop-color="#000" stop-opacity="0"/>
    <stop offset="100%" stop-color="#000" stop-opacity="0.3"/>
  </linearGradient>
</defs>
<rect x="1" y="1" rx="${o}" ry="${o}" width="${this.sw-2}" height="${this.sh-2}" fill="#000"/>
<rect x="3" y="3" rx="${o}" ry="${o}" width="${this.sw-6}" height="${this.sh-6}" fill="${this.coltab[1]}" filter="url(#f1)"/>
<rect x="1" y="1" rx="${o}" ry="${o}" width="${this.sw-2}" height="${this.sh-2}" fill="url(#g1)"/>
</svg>`;this.srcurl="data:image/svg+xml;base64,"+btoa(e)}else this.srcurl=this.src;this.bodyimg.onload=()=>{if(this.src!=""&&(this.elem.style.backgroundImage="url("+this.srcurl+")"),this.sw=+this._width,this.sh=+this._height,this._width==null&&(this.sw=this.bodyimg.width),this._height==null&&(this.sh=this.bodyimg.height),this.dr==null&&(this.sw>this.sh?this.dr="horz":this.dr="vert"),this.kw=+this._knobwidth,this.kh=+this._knobheight,this._knobsrc==null){this._knobwidth==null&&(this.kw=Math.min(this.sw,this.sh)),this._knobheight==null&&(this.kh=Math.min(this.sw,this.sh));const o=Math.min(this.kw,this.kh)*.5,e=Math.max(1,this.kw-12),t=Math.max(1,this.kh-12),n=`<svg xmlns="http://www.w3.org/2000/svg" width="${this.kw}" height="${this.kh}" preserveAspectRatio="none">
<defs>
  <filter id="f1">
    <feGaussianBlur in="SourceGraphic" stdDeviation="0.8" />
  </filter>
  <linearGradient id="g1" x1="0%" y1="0%" x2="0%" y2="100%">
    <stop offset="0%" stop-color="${this.coltab[2]}"/>
    <stop offset="50%" stop-color="${this.coltab[0]}"/>
    <stop offset="100%" stop-color="${this.coltab[0]}" stop-opacity="0.5"/>
  </linearGradient>
  <linearGradient id="g2" x1="0%" y1="0%" x2="0%" y2="100%">
    <stop offset="0%" stop-color="${this.coltab[0]}"/>
    <stop offset="100%" stop-color="${this.coltab[0]}"/>
  </linearGradient>
  <linearGradient id="g3" x1="0%" y1="0%" x2="0%" y2="100%">
    <stop offset="0%" stop-color="#000" stop-opacity="0"/>
    <stop offset="100%" stop-color="#000" stop-opacity="0.3"/>
  </linearGradient>
</defs>
<rect x="2" y="2" width="${this.kw-4}" height="${this.kh-4}" rx="${o}" ry="${o}" fill="#000"/>
<rect x="3" y="3" width="${this.kw-6}" height="${this.kh-6}" rx="${o}" ry="${o}" fill="url(#g1)"/>
<rect x="6" y="6" width="${e}" height="${t}" rx="${o}" ry="${o}" fill="url(#g2)" filter="url(#f1)"/>
<rect x="3" y="3" width="${this.kw-6}" height="${this.kh-6}" rx="${o}" ry="${o}" fill="url(#g3)"/>
</svg>`;this.knobsrcurl="data:image/svg+xml;base64,"+btoa(n)}else this.knobsrcurl=this.knobsrc;this.knobimg.onload=()=>{this.knob.style.backgroundImage="url("+this.knobsrcurl+")",this._knobwidth==null&&(this.kw=this.knobimg.width),this._knobheight==null&&(this.kh=this.knobimg.height),this.dlen=this.ditchlength,this.dlen==null&&(this.dr=="horz"?this.dlen=this.sw-this.kw:this.dlen=this.sh-this.kh),this.knob.style.backgroundSize="100% 100%",this.knob.style.width=this.kw+"px",this.knob.style.height=this.kh+"px",this.elem.style.backgroundSize="100% 100%",this.elem.style.width=this.sw+"px",this.elem.style.height=this.sh+"px",this.redraw()},this.knobimg.src=this.knobsrcurl},this.bodyimg.src=this.srcurl}redraw(){let o;if(this.digits=0,this.step&&this.step<1)for(let t=this.step;t<1;t*=10)++this.digits;this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max),this.log?o=Math.log(this.value/this.min)/Math.log(this.max/this.min):o=(this.value-this.min)/(this.max-this.min);let e=this.knob.style;this.dr=="horz"?(e.top=(this.sh-this.kh)*.5+"px",e.left=(this.sw-this.kw-this.dlen)*.5+o*this.dlen+"px",this.sensex=1,this.sensey=0):(e.left=(this.sw-this.kw)*.5+"px",e.top=(this.sh-this.kh-this.dlen)*.5+(1-o)*this.dlen+"px",this.sensex=0,this.sensey=1)}_setValue(v){if(v=Math.round((v-this.min)/this.step)*this.step+this.min,this._value=Math.min(this.max,Math.max(this.min,v)),this._value!=this.oldvalue){if(this.oldvalue=this._value,this.fireflag=!0,this.conv){const x=this._value;this.convValue=eval(this.conv),typeof this.convValue=="function"&&(this.convValue=this.convValue(x))}else this.convValue=this._value;return typeof this.convValue=="number"&&(this.convValue=this.convValue.toFixed(this.digits)),this.redraw(),this.showtip(0),1}return 0}setValue(o,e){this._setValue(o)&&e&&(this.sendEvent("input"),this.sendEvent("change"))}keydown(o){let e=this.step;switch(e==0&&(e=1),o.key){case"ArrowUp":this.setValue(this.value+e,!0);break;case"ArrowDown":this.setValue(this.value-e,!0);break;default:return}o.preventDefault(),o.stopPropagation()}wheel(o){if(this.enable){if(this.log){let e=Math.log(this.value/this.min)/Math.log(this.max/this.min),t=o.deltaY>0?-.01:.01;o.shiftKey||(t*=5),e+=t,this.setValue(this.min*Math.pow(this.max/this.min,e),!0)}else{let e=Math.max(this.step,(this.max-this.min)*.05);o.shiftKey&&(e=this.step?this.step:1),e=o.deltaY>0?-e:e,this.setValue(+this.value+e,!0)}o.preventDefault(),o.stopPropagation()}}pointerdown(o){if(!this.enable)return;let e=o;if(o.touches)e=o.changedTouches[0],this.identifier=e.identifier;else if(e.buttons!=1&&e.button!=0)return;this.elem.focus(),this.drag=1,this.showtip(0);let t=s=>{let a=s;if(s.touches){for(let l=0;l<s.touches.length;++l)if(s.touches[l].identifier==this.identifier){a=s.touches[l];break}}if(this.lastShift!==a.shiftKey&&(this.lastShift=a.shiftKey,this.startPosX=a.pageX,this.startPosY=a.pageY,this.startVal=this.value),this.tracking=="abs"){const l=this.getBoundingClientRect();let c;this.dr=="horz"?c=Math.max(0,Math.min(1,(a.pageX-l.left-window.pageXOffset-this.kw*.5)/(this.width-this.kw))):c=1-Math.max(0,Math.min(1,(a.pageY-l.top-window.pageYOffset-this.kh*.5)/(this.height-this.kh))),this.log?this._setValue(this.min*Math.pow(this.max/this.min,c)):this._setValue(this.min+(this.max-this.min)*c)}else{let l=((this.startPosY-a.pageY)*this.sensey-(this.startPosX-a.pageX)*this.sensex)*this.sensitivity;if(this.log){let c=Math.log(this.startVal/this.min)/Math.log(this.max/this.min);c+=l/((a.shiftKey?4:1)*128),c<0&&(c=0),c>1&&(c=1),this._setValue(this.min*Math.pow(this.max/this.min,c))}else this._setValue(this.min+((this.startVal+(this.max-this.min)*l/((a.shiftKey?4:1)*this.dlen)-this.min)/this.step|0)*this.step)}return this.fireflag&&(this.sendEvent("input"),this.fireflag=!1),a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!1},n=s=>{let a=s;if(s.touches){for(let l=0;s.changedTouches[l].identifier!=this.identifier;)if(++l>=s.changedTouches.length)return}this.drag=0,this.showtip(0),this.startPosX=this.startPosY=null,window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t,{passive:!1}),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),window.removeEventListener("touchcancel",n),document.body.removeEventListener("touchstart",r,{passive:!1}),this.sendEvent("change")},r=s=>{s.preventDefault()};return e.touches&&(e=e.touches[0]),e.ctrlKey||e.metaKey?this.setValue(this.defvalue,!0):(this.startPosX=e.pageX,this.startPosY=e.pageY,this.startVal=this.value,window.addEventListener("mousemove",t),window.addEventListener("touchmove",t,{passive:!1}),t(o)),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),window.addEventListener("touchcancel",n),document.body.addEventListener("touchstart",r,{passive:!1}),e.preventDefault(),e.stopPropagation(),!1}})}catch(o){console.log("webaudio-slider already defined")}try{customElements.define("webaudio-switch",class extends WebAudioControlsWidget{constructor(){super()}connectedCallback(){let o;if(this.attachShadow?o=this.attachShadow({mode:"open"}):o=this,o.innerHTML=`<style>
${this.basestyle}
:host{
  display:inline-block;
  position:relative;
  margin:0;
  padding:0;
  font-family: sans-serif;
  font-size: 11px;
  cursor:pointer;
}
.webaudio-switch-body{
  display:inline-block;
  position:relative;
  margin:0;
  padding:0;
  vertical-align:bottom;
  white-space:pre;
}
.webaudioctrl-label{
  position:absolute;
  left:50%;
  top:50%;
}
</style>
<div class='webaudio-switch-body' tabindex='1' touch-action='none'><div class='webaudioctrl-tooltip'></div><div part="label" class="webaudioctrl-label"><slot></slot></div></div>
`,this.elem=o.childNodes[2],this.ttframe=this.elem.firstChild,this.label=this.ttframe.nextSibling,this.enable=this.getAttr("enable",1),this._src=this.getAttr("src",null),this.hasOwnProperty("src")||Object.defineProperty(this,"src",{get:()=>this._src,set:e=>{this._src=e,this.setupImage()}}),this._value=this.getAttr("value",0),this.hasOwnProperty("value")||Object.defineProperty(this,"value",{get:()=>this._value,set:e=>{this._value=e,this.redraw()}}),this.defvalue=this.getAttr("defvalue",this._value),this.type=this.getAttr("type","toggle"),this.group=this.getAttr("group",""),this._width=this.getAttr("width",null),this.hasOwnProperty("width")||Object.defineProperty(this,"width",{get:()=>this._width,set:e=>{this._width=e,this.setupImage()}}),this._height=this.getAttr("height",null),this.hasOwnProperty("height")||Object.defineProperty(this,"height",{get:()=>this._height,set:e=>{this._height=e,this.setupImage()}}),this._diameter=this.getAttr("diameter",null),this.hasOwnProperty("diameter")||Object.defineProperty(this,"diameter",{get:()=>this._diameter,set:e=>{this._diameter=e,this.setupImage()}}),this.invert=this.getAttr("invert",0),this._colors=this.getAttr("colors",opt.switchColors),this.hasOwnProperty("colors")||Object.defineProperty(this,"colors",{get:()=>this._colors,set:e=>{this._colors=e,this.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.setupLabel(),this.valuetip=0,this.tooltip=this.getAttr("tooltip",null),this.midilearn=this.getAttr("midilearn",opt.midilearn),this.midicc=this.getAttr("midicc",null),this.midiController={},this.midiMode="normal",this.midicc){let e=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,t=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(e,t)}if(this.midilearn&&this.id&&webAudioControlsWidgetManager&&webAudioControlsWidgetManager.midiLearnTable){const e=webAudioControlsWidgetManager.midiLearnTable;for(let t=0;t<e.length;++t)if(e[t].id==this.id){this.setMidiController(e[t].cc.channel,e[t].cc.cc);break}}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(let e=this.step;e<1;e*=10)++this.digits;window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this),this.elem.onclick=e=>{e.stopPropagation()}}disconnectedCallback(){}setupImage(){if(this.coltab=this.colors.split(";"),this.kw=this._width||this._diameter||opt.switchWidth||opt.switchDiameter,this.kh=this._height||this._diameter||opt.switchHeight||opt.switchDiameter,this.img=new Image,this.srcurl=null,this.src==null||this.src==""){this.kw==null&&(this.kw=32),this.kh==null&&(this.kh=32);const o=Math.min(this.kw,this.kh),e=this.kw,t=this.kh,n=`<svg xmlns="http://www.w3.org/2000/svg" width="${this.kw}" height="${this.kh*2}" preserveAspectRatio="none">
<defs>
<linearGradient id="g1" x1="0%" y1="0%" x2="0%" y2="100%">
  <stop offset="0%" stop-color="#000" stop-opacity="0"/>
  <stop offset="100%" stop-color="#000" stop-opacity="0.2"/>
</linearGradient>
<radialGradient id="g2" cx="50%" cy="30%">
    <stop offset="0%" stop-color="${this.coltab[2]}"/>
    <stop offset="100%" stop-color="${this.coltab[0]}"/>
  </radialGradient>
  <filter id="f1">
    <feGaussianBlur in="SourceGraphic" stdDeviation=".4" />
  </filter>
</defs>
<g id="p1">
  <rect x="${e*.075}" y="${t*.075}" width="${e*.85}" height="${t*.85}" rx="${o*.1}" ry="${o*.1}" fill="#000"/>
  <rect x="${e*.1}" y="${t*.1}" width="${e*.8}" height="${t*.8}" rx="${o*.1}" ry="${o*.1}" fill="${this.coltab[1]}"/>
</g>
<g id="p2">
  <circle cx="${e*.5}" cy="${t*.5}" r="${o*.35}" stroke="#000" stroke-width="${o*.03}" fill="${this.coltab[0]}" filter="url(#f1)"/>
  <circle cx="${e*.5}" cy="${t*.5}" r="${o*.27}" stroke="#000" stroke-width="${o*.03}" fill="#000" filter="url(#f1)"/>
  <rect x="${e*.075}" y="${t*.075}" width="${e*.85}" height="${t*.85}" rx="${o*.1}" ry="${o*.1}" fill="url(#g1)"/>
</g>
<use href="#p1" y="${t}"/>
<use href="#p2" y="${t}"/>
<circle cx="${e*.5}" cy="${t*1.5}" r="${o*.25}" fill="url(#g2)" filter="url(#f1)"/>
<circle cx="${e*.5}" cy="${t*1.5}" r="${o*.25}" fill="url(#g1)"/>
</svg>`;this.srcurl="data:image/svg+xml;base64,"+btoa(n)}else this.srcurl=this.src;this.img.onload=()=>{this.kw==null&&(this.kw=this.img.width),this.kh==null&&(this.kh=this.img.height*.5),this.elem.style.backgroundImage="url("+this.srcurl+")",this.elem.style.backgroundSize="100% 200%",this.elem.style.width=this.kw+"px",this.elem.style.height=this.kh+"px",this.redraw()},this.img.src=this.srcurl}redraw(){let o=this.elem.style;this.value^this.invert?o.backgroundPosition="0px -100%":o.backgroundPosition="0px 0px"}setValue(o,e){this.value=o,this.checked=!!o,this.value!=this.oldvalue&&(this.redraw(),this.showtip(0),e&&(this.sendEvent("input"),this.sendEvent("change")),this.oldvalue=this.value)}pointerdown(o){if(!this.enable)return;let e=o;if(o.touches)e=o.changedTouches[0],this.identifier=e.identifier;else if(e.buttons!=1&&e.button!=0)return;this.elem.focus(),this.drag=1,this.showtip(0);let t=s=>(s.preventDefault(),s.stopPropagation(),!1),n=s=>{this.drag=0,this.showtip(0),window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t,{passive:!1}),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),window.removeEventListener("touchcancel",n),document.body.removeEventListener("touchstart",r,{passive:!1}),this.type=="kick"&&(this.value=0,this.checked=!1,this.redraw(),this.sendEvent("change")),this.sendEvent("click"),s.preventDefault(),s.stopPropagation()},r=s=>{s.preventDefault()};switch(this.type){case"kick":this.setValue(1),this.sendEvent("change");break;case"toggle":e.ctrlKey||e.metaKey?this.value=defvalue:this.value=1-this.value,this.checked=!!this.value,this.sendEvent("change");break;case"radio":let s=document.querySelectorAll("webaudio-switch[type='radio'][group='"+this.group+"']");for(let a=0;a<s.length;++a)s[a]==this?s[a].setValue(1):s[a].setValue(0);this.sendEvent("change");break}return window.addEventListener("mouseup",n),window.addEventListener("touchend",n),window.addEventListener("touchcancel",n),document.body.addEventListener("touchstart",r,{passive:!1}),this.redraw(),o.preventDefault(),o.stopPropagation(),!1}})}catch(o){console.log("webaudio-switch already defined")}try{customElements.define("webaudio-param",class extends WebAudioControlsWidget{constructor(){super(),this.addEventListener("keydown",this.keydown),this.addEventListener("mousedown",this.pointerdown,{passive:!1}),this.addEventListener("touchstart",this.pointerdown,{passive:!1}),this.addEventListener("wheel",this.wheel),this.addEventListener("mouseover",this.pointerover),this.addEventListener("mouseout",this.pointerout),this.addEventListener("contextmenu",this.contextMenu)}connectedCallback(){let root;if(this.attachShadow?root=this.attachShadow({mode:"open"}):root=this,root.innerHTML=`<style>
${this.basestyle}
:host{
  display:inline-block;
  user-select:none;
  margin:0;
  padding:0;
  font-family: sans-serif;
  font-size: 8px;
  cursor:pointer;
  position:relative;
  vertical-align:baseline;
}
.webaudio-param-body{
  display:inline-block;
  position:relative;
  text-align:center;
  background:none;
  margin:0;
  padding:0;
  font-family:sans-serif;
  font-size:11px;
  vertical-align:bottom;
  border:none;
}
</style>
<input class='webaudio-param-body' value='0' tabindex='1' touch-action='none'/><div class='webaudioctrl-tooltip'></div>
`,this.elem=root.childNodes[2],this.ttframe=root.childNodes[3],this.enable=this.getAttr("enable",1),this._value=this.getAttr("value",0),this.hasOwnProperty("value")||Object.defineProperty(this,"value",{get:()=>this._value,set:o=>{this._value=o,this.redraw()}}),this.defvalue=this.getAttr("defvalue",0),this._fontsize=this.getAttr("fontsize",9),this.hasOwnProperty("fontsize")||Object.defineProperty(this,"fontsize",{get:()=>this._fontsize,set:o=>{this._fontsize=o,this.setupImage()}}),this._src=this.getAttr("src",opt.paramSrc),this.hasOwnProperty("src")||Object.defineProperty(this,"src",{get:()=>this._src,set:o=>{this._src=o,this.setupImage()}}),this.link=this.getAttr("link",""),this._width=this.getAttr("width",opt.paramWidth),this.hasOwnProperty("width")||Object.defineProperty(this,"width",{get:()=>this._width,set:o=>{this._width=o,this.setupImage()}}),this._height=this.getAttr("height",opt.paramHeight),this.hasOwnProperty("height")||Object.defineProperty(this,"height",{get:()=>this._height,set:o=>{this._height=o,this.setupImage()}}),this._colors=this.getAttr("colors",opt.paramColors),this.hasOwnProperty("colors")||Object.defineProperty(this,"colors",{get:()=>this._colors,set:o=>{this._colors=o,this.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.rconv=this.getAttr("rconv",null),this.midiController={},this.midiMode="normal",this.currentLink=null,this.midicc){let o=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,e=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(o,e)}this.setupImage(),window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this),this.fromLink=(o=>{this.setValue(o.target.convValue.toFixed(o.target.digits))}).bind(this),this.elem.onchange=()=>{if(!this.currentLink.target.conv||this.currentLink.target.conv&&this.rconv){let val=this.value=this.elem.value;if(this.rconv){let x=+this.elem.value;val=eval(this.rconv)}this.currentLink&&this.currentLink.target.setValue(val,!0)}}}disconnectedCallback(){}setupImage(){this.imgloaded=()=>{this.src!=""&&this.src!=null?(this.elem.style.backgroundImage="url("+this.src+")",this.elem.style.backgroundSize="100% 100%",this._width==null&&(this._width=this.img.width),this._height==null&&(this._height=this.img.height)):(this._width==null&&(this._width=32),this._height==null&&(this._height=20)),this.elem.style.width=this._width+"px",this.elem.style.height=this._height+"px",this.elem.style.fontSize=this.fontsize+"px";let o=document.getElementById(this.link);o&&typeof o.value<"u"&&(typeof o.convValue=="number"?this.setValue(o.convValue.toFixed(o.digits)):this.setValue(o.convValue),this.currentLink&&this.currentLink.removeEventListener("input",this.currentLink.func),this.currentLink={target:o,func:e=>{typeof o.convValue=="number"?this.setValue(o.convValue.toFixed(o.digits)):this.setValue(o.convValue)}},this.currentLink.target.addEventListener("input",this.currentLink.func)),this.redraw()},this.coltab=this.colors.split(";"),this.elem.style.color=this.coltab[0],this.img=new Image,this.img.onload=this.imgloaded.bind(),this.src==null?(this.elem.style.backgroundColor=this.coltab[1],this.imgloaded()):this.src==""?(this.elem.style.background="none",this.imgloaded()):this.img.src=this.src}redraw(){this.elem.value=this.value}setValue(o,e){if(this.value=o,this.value!=this.oldvalue){if(this.redraw(),this.showtip(0),e){let t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),this.dispatchEvent(t)}this.oldvalue=this.value}}pointerdown(o){if(!this.enable)return;let e=o;if(o.touches)e=o.touches[0];else if(e.buttons!=1&&e.button!=0)return;this.elem.focus(),this.redraw()}})}catch(o){console.log("webaudio-param already defined")}try{customElements.define("webaudio-keyboard",class extends WebAudioControlsWidget{constructor(){super()}connectedCallback(){let o;if(this.attachShadow?o=this.attachShadow({mode:"open"}):o=this,o.innerHTML=`<style>
${this.basestyle}
:host{
  display:inline-block;
  position:relative;
  margin:0;
  padding:0;
  font-family: sans-serif;
  font-size: 11px;
}
.webaudio-keyboard-body{
  display:inline-block;
  margin:0;
  padding:0;
  vertical-align:bottom;
}
</style>
<canvas class='webaudio-keyboard-body' tabindex='1' touch-action='none'></canvas><div class='webauioctrl-tooltip'></div>
`,this.elem=this.cv=o.childNodes[2],this.ttframe=o.childNodes[3],this.ctx=this.cv.getContext("2d"),this._values=[],this.enable=this.getAttr("enable",1),this._width=this.getAttr("width",480),this.hasOwnProperty("width")||Object.defineProperty(this,"width",{get:()=>this._width,set:e=>{this._width=e,this.setupImage()}}),this._height=this.getAttr("height",128),this.hasOwnProperty("height")||Object.defineProperty(this,"height",{get:()=>this._height,set:e=>{this._height=e,this.setupImage()}}),this._min=this.getAttr("min",0),this.hasOwnProperty("min")||Object.defineProperty(this,"min",{get:()=>this._min,set:e=>{this._min=+e,this.redraw()}}),this._keys=this.getAttr("keys",25),this.hasOwnProperty("keys")||Object.defineProperty(this,"keys",{get:()=>this._keys,set:e=>{this._keys=+e,this.setupImage()}}),this._colors=this.getAttr("colors","#222;#eee;#ccc;#333;#000;#e88;#c44;#c33;#800"),this.hasOwnProperty("colors")||Object.defineProperty(this,"colors",{get:()=>this._colors,set:e=>{this._colors=e,this.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.midilearn=this.getAttr("midilearn",0),this.midicc=this.getAttr("midicc",null),this.press=0,this.keycodes1=[90,83,88,68,67,86,71,66,72,78,74,77,188,76,190,187,191,226],this.keycodes2=[81,50,87,51,69,82,53,84,54,89,55,85,73,57,79,48,80,192,222,219],this.midiController={},this.midiMode="normal",this.midicc){let e=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,t=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(e,t)}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(let e=this.step;e<1;e*=10)++this.digits;window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this)}disconnectedCallback(){}setupImage(){this.cv.style.width=this.width+"px",this.cv.style.height=this.height+"px",this.bheight=this.height*.55,this.kp=[0,7/12,1,3*7/12,2,3,6*7/12,4,8*7/12,5,10*7/12,6],this.kf=[0,1,0,1,0,0,1,0,1,0,1,0],this.ko=[0,0,7*2/12-1,0,7*4/12-2,7*5/12-3,0,7*7/12-4,0,7*9/12-5,0,7*11/12-6],this.kn=[0,2,4,5,7,9,11],this.coltab=this.colors.split(";"),this.cv.width=this.width,this.cv.height=this.height,this.cv.style.width=this.width+"px",this.cv.style.height=this.height+"px",this.style.height=this.height+"px",this.cv.style.outline=this.outline?"":"none",this.bheight=this.height*.55,this.max=this.min+this.keys-1,this.dispvalues=[],this.valuesold=[],this.kf[this.min%12]&&--this.min,this.kf[this.max%12]&&++this.max,this.redraw()}redraw(){function o(s,a,l,c,h,p,_,w){if(w){let u=s.createLinearGradient(a,l,a+c,l);u.addColorStop(0,_),u.addColorStop(1,w),s.fillStyle=u}else s.fillStyle=_;s.beginPath(),s.moveTo(a,l),s.lineTo(a+c,l),s.lineTo(a+c,l+h-p),s.quadraticCurveTo(a+c,l+h,a+c-p,l+h),s.lineTo(a+p,l+h),s.quadraticCurveTo(a,l+h,a,l+h-p),s.lineTo(a,l),s.fill()}this.ctx.fillStyle=this.coltab[0],this.ctx.fillRect(0,0,this.width,this.height);let e=7*(this.min/12|0)+this.kp[this.min%12],t=7*(this.max/12|0)+this.kp[this.max%12]-e;this.wwidth=(this.width-1)/(t+1),this.bwidth=this.wwidth*7/12;let n=this.bheight,r=Math.min(8,this.wwidth*.2);for(let s=this.min,a=0;s<=this.max;++s)if(this.kf[s%12]==0){let l=this.wwidth*a+++1;this.dispvalues.indexOf(s)>=0?o(this.ctx,l,1,this.wwidth-1,this.height-2,r,this.coltab[5],this.coltab[6]):o(this.ctx,l,1,this.wwidth-1,this.height-2,r,this.coltab[1],this.coltab[2])}r=Math.min(8,this.bwidth*.3);for(let s=this.min;s<this.max;++s)if(this.kf[s%12]){let a=this.wwidth*this.ko[this.min%12]+this.bwidth*(s-this.min)+1;this.dispvalues.indexOf(s)>=0?o(this.ctx,a,1,this.bwidth,n,r,this.coltab[7],this.coltab[8]):o(this.ctx,a,1,this.bwidth,n,r,this.coltab[3],this.coltab[4]),this.ctx.strokeStyle=this.coltab[0],this.ctx.stroke()}}_setValue(o){return this.step&&(o=Math.round((o-this.min)/this.step)*this.step+this.min),this._value=Math.min(this.max,Math.max(this.min,o)),this._value!=this.oldvalue?(this.oldvalue=this._value,this.redraw(),this.showtip(0),1):0}setValue(o,e){this._setValue(o)&&e&&(this.sendEvent("input"),this.sendEvent("change"))}wheel(o){}keydown(o){let e=Math.floor((this.min+11)/12)*12,t=this.keycodes1.indexOf(o.keyCode);t<0&&(t=this.keycodes2.indexOf(o.keyCode),t>=0&&(t+=12)),t>=0&&(t+=e,this.currentKey!=t&&(this.currentKey=t,this.setdispvalues(1,t),this.sendEventFromKey(1,t),this.setNote(1,t)))}keyup(o){let e=Math.floor((this.min+11)/12)*12,t=this.keycodes1.indexOf(o.keyCode);t<0&&(t=this.keycodes2.indexOf(o.keyCode),t>=0&&(t+=12)),t>=0&&(t+=e,this.currentKey=-1,this.setdispvalues(0,t),this.sendEventFromKey(0,t),this.setNote(0,t))}pointerdown(o){this.cv.focus(),this.enable&&++this.press;let e=r=>{if(!this.enable)return;let s=this.getBoundingClientRect(),a=[],l;r.touches?l=r.targetTouches:this.press?l=[r]:l=[],l.length>0&&(this.drag=1);for(let c=0;c<l.length;++c){let h=l[c].clientX-s.left,p=l[c].clientY-s.top,_,w,u;p>=0&&p<this.height&&(p<this.bheight?(_=h-this.wwidth*this.ko[this.min%12],w=this.min+(_/this.bwidth|0)):(w=h/this.wwidth|0,u=this.kp[this.min%12],w+=u,w=this.min+(w/7|0)*12+this.kn[w%7]-this.kn[u%7]),w>=this.min&&w<=this.max&&a.push(w))}a.sort(),this.values=a,this.sendevent(),this.redraw()},t=r=>{this.enable&&(r.touches?this.press=r.touches.length:this.press=0,e(r),this.sendevent(),this.press==0&&(window.removeEventListener("mousemove",e),window.removeEventListener("touchmove",e,{passive:!1}),window.removeEventListener("mouseup",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t),document.body.removeEventListener("touchstart",n,{passive:!1})),this.redraw()),this.drag=0,r.preventDefault()},n=r=>{r.preventDefault()};window.addEventListener("mousemove",e),window.addEventListener("touchmove",e,{passive:!1}),window.addEventListener("mouseup",t),window.addEventListener("touchend",t),window.addEventListener("touchcancel",t),document.body.addEventListener("touchstart",n,{passive:!1}),e(o),o.preventDefault(),o.stopPropagation()}sendEventFromKey(o,e){let t=document.createEvent("HTMLEvents");t.initEvent("keyboard",!0,!0),t.note=[o,e],this.dispatchEvent(t)}sendevent(){let o=[];for(let e=0,t=this.valuesold.length;e<t;++e)this.values.indexOf(this.valuesold[e])<0&&o.push([0,this.valuesold[e]]);for(let e=0,t=this.values.length;e<t;++e)this.valuesold.indexOf(this.values[e])<0&&o.push([1,this.values[e]]);if(o.length){this.valuesold=this.values;for(let e=0;e<o.length;++e){this.setdispvalues(o[e][0],o[e][1]);let t=document.createEvent("HTMLEvents");t.initEvent("pointer",!0,!0),t.note=o[e],this.dispatchEvent(t)}}}setdispvalues(o,e){let t=this.dispvalues.indexOf(e);o?t<0&&this.dispvalues.push(e):t>=0&&this.dispvalues.splice(t,1)}setNote(o,e,t,n){const r=t&&n-t.currentTime;r>0?setTimeout(()=>{this.setNote(o,e)},r*1e3):(this.setdispvalues(o,e),this.redraw())}})}catch(o){console.log("webaudio-keyboard already defined")}class WebAudioControlsWidgetManager{constructor(){this.midiAccess=null,this.listOfWidgets=[],this.listOfExternalMidiListeners=[],this.updateWidgets(),opt.preserveMidiLearn?this.midiLearnTable=JSON.parse(localStorage.getItem("WebAudioControlsMidiLearn")):this.midiLearnTable=null,this.initWebAudioControls()}addWidget(e){this.listOfWidgets.push(e)}updateWidgets(){}initWebAudioControls(){navigator.requestMIDIAccess&&navigator.requestMIDIAccess().then(e=>{this.midiAccess=e,this.enableInputs()},e=>{console.log("MIDI not initialized - error encountered:"+e.code)})}enableInputs(){let e=this.midiAccess.inputs.values();console.log("Found "+this.midiAccess.inputs.size+" MIDI input(s)");for(let t=e.next();t&&!t.done;t=e.next())console.log("Connected input: "+t.value.name),t.value.onmidimessage=this.handleMIDIMessage.bind(this)}midiConnectionStateChange(e){console.log("connection: "+e.port.name+" "+e.port.connection+" "+e.port.state),enableInputs()}onMIDIStarted(e){this.midiAccess=e,e.onstatechange=this.midiConnectionStateChange,enableInputs(e)}addMidiListener(e){this.listOfExternalMidiListeners.push(e)}getCurrentConfigAsJSON(){return currentConfig.stringify()}handleMIDIMessage(e){if(this.listOfExternalMidiListeners.forEach(function(t){t(e)}),!((e.data[0]&240)==240||(e.data[0]&240)==176&&e.data[1]>=120)){for(let t of this.listOfWidgets)t.processMidiEvent&&t.processMidiEvent(e);opt.mididump&&console.log(e.data)}}contextMenuOpen(e,t){if(!this.midiAccess)return;let n=document.getElementById("webaudioctrl-context-menu");n.style.left=e.pageX+"px",n.style.top=e.pageY+"px",n.knob=t,n.classList.add("active"),n.knob.focus(),n.knob.addEventListener("keydown",this.contextMenuCloseByKey.bind(this))}contextMenuCloseByKey(e){e.keyCode==27&&this.contextMenuClose()}contextMenuClose(){let e=document.getElementById("webaudioctrl-context-menu");e.knob.removeEventListener("keydown",this.contextMenuCloseByKey),e.classList.remove("active");let t=document.getElementById("webaudioctrl-context-menu-learn");t.innerHTML="Learn",e.knob.midiMode="normal"}contextMenuLearn(){let e=document.getElementById("webaudioctrl-context-menu"),t=document.getElementById("webaudioctrl-context-menu-learn");t.innerHTML="Listening...",e.knob.midiMode="learn"}contextMenuClear(e){let t=document.getElementById("webaudioctrl-context-menu");t.knob.midiController={},this.contextMenuClose()}preserveMidiLearn(){if(!opt.preserveMidiLearn)return;const e=[];for(let n of this.listOfWidgets)n.id&&e.push({id:n.id,cc:n.midiController});const t=JSON.stringify(e);localStorage.setItem("WebAudioControlsMidiLearn",t)}}(window.UseWebAudioControlsMidi||opt.useMidi)&&(window.webAudioControlsWidgetManager=window.webAudioControlsMidiManager=new WebAudioControlsWidgetManager)}const registeredElements=new Set;function defineElement(o,e){registeredElements.has(o)||(customElements.define(o,e),registeredElements.add(o))}function _assertThisInitialized$1$1(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _inheritsLoose$1$1(o,e){o.prototype=Object.create(e.prototype),o.prototype.constructor=o,o.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _config$1={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_defaults$1={duration:.5,overwrite:!1,delay:0},_suppressOverwrites$1,_reverting$3,_context$1$1,_bigNum$3=1e8,_tinyNum$1=1/_bigNum$3,_2PI$1=Math.PI*2,_HALF_PI$1=_2PI$1/4,_gsID$1=0,_sqrt$2=Math.sqrt,_cos$1=Math.cos,_sin$1=Math.sin,_isString$1=function o(e){return typeof e=="string"},_isFunction$1$1=function o(e){return typeof e=="function"},_isNumber$1=function o(e){return typeof e=="number"},_isUndefined$2=function o(e){return typeof e>"u"},_isObject$1$1=function o(e){return typeof e=="object"},_isNotFalse$1=function o(e){return e!==!1},_windowExists$3=function o(){return typeof window<"u"},_isFuncOrString$1=function o(e){return _isFunction$1$1(e)||_isString$1(e)},_isTypedArray$1=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_isArray$1$1=Array.isArray,_strictNumExp$1=/(?:-?\.?\d|\.)+/gi,_numExp$3=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_numWithUnitExp$1=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_complexStringNumExp$1=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_relExp$1=/[+-]=-?[.\d]+/,_delimitedValueExp$1=/[^,'"\[\]\s]+/gi,_unitExp$1=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,_globalTimeline$1,_win$4,_coreInitted$3,_doc$3$1,_globals$1={},_installScope$1={},_coreReady$1,_install$1=function o(e){return(_installScope$1=_merge$1(e,_globals$1))&&gsap$4},_missingPlugin$1=function o(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},_warn$1=function o(e,t){return!t&&console.warn(e)},_addGlobal$1=function o(e,t){return e&&(_globals$1[e]=t)&&_installScope$1&&(_installScope$1[e]=t)||_globals$1},_emptyFunc$2=function o(){return 0},_startAtRevertConfig$1={suppressEvents:!0,isStart:!0,kill:!1},_revertConfigNoKill$1={suppressEvents:!0,kill:!1},_revertConfig$1={suppressEvents:!0},_reservedProps$1={},_lazyTweens$1=[],_lazyLookup$1={},_lastRenderedFrame$1,_plugins$1={},_effects$1={},_nextGCFrame$1=30,_harnessPlugins$1=[],_callbackNames$1="",_harness$1=function o(e){var t=e[0],n,r;if(_isObject$1$1(t)||_isFunction$1$1(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(r=_harnessPlugins$1.length;r--&&!_harnessPlugins$1[r].targetTest(t););n=_harnessPlugins$1[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new GSCache$1(e[r],n)))||e.splice(r,1);return e},_getCache$1=function o(e){return e._gsap||_harness$1(toArray$1(e))[0]._gsap},_getProperty$1=function o(e,t,n){return(n=e[t])&&_isFunction$1$1(n)?e[t]():_isUndefined$2(n)&&e.getAttribute&&e.getAttribute(t)||n},_forEachName$1=function o(e,t){return(e=e.split(",")).forEach(t)||e},_round$4=function o(e){return Math.round(e*1e5)/1e5||0},_roundPrecise$1=function o(e){return Math.round(e*1e7)/1e7||0},_parseRelative$1=function o(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+r:n==="-"?e-r:n==="*"?e*r:e/r},_arrayContainsAny$1=function o(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},_lazyRender$1=function o(){var e=_lazyTweens$1.length,t=_lazyTweens$1.slice(0),n,r;for(_lazyLookup$1={},_lazyTweens$1.length=0,n=0;n<e;n++)r=t[n],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},_isRevertWorthy$1=function o(e){return!!(e._initted||e._startAt||e.add)},_lazySafeRender$1=function o(e,t,n,r){_lazyTweens$1.length&&!_reverting$3&&_lazyRender$1(),e.render(t,n,!!(_reverting$3&&t<0&&_isRevertWorthy$1(e))),_lazyTweens$1.length&&!_reverting$3&&_lazyRender$1()},_numericIfPossible$1=function o(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(_delimitedValueExp$1).length<2?t:_isString$1(e)?e.trim():e},_passThrough$1=function o(e){return e},_setDefaults$1$1=function o(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},_setKeyframeDefaults$1=function o(e){return function(t,n){for(var r in n)r in t||r==="duration"&&e||r==="ease"||(t[r]=n[r])}},_merge$1=function o(e,t){for(var n in t)e[n]=t[n];return e},_mergeDeep$1=function o(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=_isObject$1$1(t[n])?o(e[n]||(e[n]={}),t[n]):t[n]);return e},_copyExcluding$1=function o(e,t){var n={},r;for(r in e)r in t||(n[r]=e[r]);return n},_inheritDefaults$1=function o(e){var t=e.parent||_globalTimeline$1,n=e.keyframes?_setKeyframeDefaults$1(_isArray$1$1(e.keyframes)):_setDefaults$1$1;if(_isNotFalse$1(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},_arraysMatch$1=function o(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0},_addLinkedListItem$1=function o(e,t,n,r,s){var a=e[r],l;if(s)for(l=t[s];a&&a[s]>l;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},_removeLinkedListItem$1=function o(e,t,n,r){n===void 0&&(n="_first"),r===void 0&&(r="_last");var s=t._prev,a=t._next;s?s._next=a:e[n]===t&&(e[n]=a),a?a._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},_removeFromParent$1=function o(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},_uncache$1=function o(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},_recacheAncestors$1=function o(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},_rewindStartAt$1=function o(e,t,n,r){return e._startAt&&(_reverting$3?e._startAt.revert(_revertConfigNoKill$1):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},_hasNoPausedAncestors$1=function o(e){return!e||e._ts&&o(e.parent)},_elapsedCycleDuration$1=function o(e){return e._repeat?_animationCycle$1(e._tTime,e=e.duration()+e._rDelay)*e:0},_animationCycle$1=function o(e,t){var n=Math.floor(e=_roundPrecise$1(e/t));return e&&n===e?n-1:n},_parentToChildTotalTime$1=function o(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},_setEnd$1=function o(e){return e._end=_roundPrecise$1(e._start+(e._tDur/Math.abs(e._ts||e._rts||_tinyNum$1)||0))},_alignPlayhead$1=function o(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=_roundPrecise$1(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),_setEnd$1(e),n._dirty||_uncache$1(n,e)),e},_postAddChecks$1=function o(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=_parentToChildTotalTime$1(e.rawTime(),t),(!t._dur||_clamp$1(0,t.totalDuration(),n)-t._tTime>_tinyNum$1)&&t.render(n,!0)),_uncache$1(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},_addToTimeline$1=function o(e,t,n,r){return t.parent&&_removeFromParent$1(t),t._start=_roundPrecise$1((_isNumber$1(n)?n:n||e!==_globalTimeline$1?_parsePosition$1(e,n,t):e._time)+t._delay),t._end=_roundPrecise$1(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),_addLinkedListItem$1(e,t,"_first","_last",e._sort?"_start":0),_isFromOrFromStart$1(t)||(e._recent=t),r||_postAddChecks$1(e,t),e._ts<0&&_alignPlayhead$1(e,e._tTime),e},_scrollTrigger$1=function o(e,t){return(_globals$1.ScrollTrigger||_missingPlugin$1("scrollTrigger",t))&&_globals$1.ScrollTrigger.create(t,e)},_attemptInitTween$1=function o(e,t,n,r,s){if(_initTween$1(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!_reverting$3&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&_lastRenderedFrame$1!==_ticker$1.frame)return _lazyTweens$1.push(e),e._lazy=[s,r],1},_parentPlayheadIsBeforeStart$1=function o(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||o(t))},_isFromOrFromStart$1=function o(e){var t=e.data;return t==="isFromStart"||t==="isStart"},_renderZeroDurationTween$1=function o(e,t,n,r){var s=e.ratio,a=t<0||!t&&(!e._start&&_parentPlayheadIsBeforeStart$1(e)&&!(!e._initted&&_isFromOrFromStart$1(e))||(e._ts<0||e._dp._ts<0)&&!_isFromOrFromStart$1(e))?0:1,l=e._rDelay,c=0,h,p,_;if(l&&e._repeat&&(c=_clamp$1(0,e._tDur,t),p=_animationCycle$1(c,l),e._yoyo&&p&1&&(a=1-a),p!==_animationCycle$1(e._tTime,l)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||_reverting$3||r||e._zTime===_tinyNum$1||!t&&e._zTime){if(!e._initted&&_attemptInitTween$1(e,t,r,n,c))return;for(_=e._zTime,e._zTime=t||(n?_tinyNum$1:0),n||(n=t&&!_),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,h=e._pt;h;)h.r(a,h.d),h=h._next;t<0&&_rewindStartAt$1(e,t,n,!0),e._onUpdate&&!n&&_callback$1(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&_callback$1(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&_removeFromParent$1(e,1),!n&&!_reverting$3&&(_callback$1(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},_findNextPauseTween$1=function o(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},_setDuration$1=function o(e,t,n,r){var s=e._repeat,a=_roundPrecise$1(t)||0,l=e._tTime/e._tDur;return l&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:_roundPrecise$1(a*(s+1)+e._rDelay*s):a,l>0&&!r&&_alignPlayhead$1(e,e._tTime=e._tDur*l),e.parent&&_setEnd$1(e),n||_uncache$1(e.parent,e),e},_onUpdateTotalDuration$1=function o(e){return e instanceof Timeline$1?_uncache$1(e):_setDuration$1(e,e._dur)},_zeroPosition$1={_start:0,endTime:_emptyFunc$2,totalDuration:_emptyFunc$2},_parsePosition$1=function o(e,t,n){var r=e.labels,s=e._recent||_zeroPosition$1,a=e.duration()>=_bigNum$3?s.endTime(!1):e._dur,l,c,h;return _isString$1(t)&&(isNaN(t)||t in r)?(c=t.charAt(0),h=t.substr(-1)==="%",l=t.indexOf("="),c==="<"||c===">"?(l>=0&&(t=t.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(l<0?s:n).totalDuration()/100:1)):l<0?(t in r||(r[t]=a),r[t]):(c=parseFloat(t.charAt(l-1)+t.substr(l+1)),h&&n&&(c=c/100*(_isArray$1$1(n)?n[0]:n).totalDuration()),l>1?o(e,t.substr(0,l-1),n)+c:a+c)):t==null?a:+t},_createTweenType$1=function o(e,t,n){var r=_isNumber$1(t[1]),s=(r?2:1)+(e<2?0:1),a=t[s],l,c;if(r&&(a.duration=t[1]),a.parent=n,e){for(l=a,c=n;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=_isNotFalse$1(c.vars.inherit)&&c.parent;a.immediateRender=_isNotFalse$1(l.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new Tween$1(t[0],a,t[s+1])},_conditionalReturn$1=function o(e,t){return e||e===0?t(e):t},_clamp$1=function o(e,t,n){return n<e?e:n>t?t:n},getUnit$1=function o(e,t){return!_isString$1(e)||!(t=_unitExp$1.exec(e))?"":t[1]},clamp$1=function o(e,t,n){return _conditionalReturn$1(n,function(r){return _clamp$1(e,t,r)})},_slice$1=[].slice,_isArrayLike$1=function o(e,t){return e&&_isObject$1$1(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&_isObject$1$1(e[0]))&&!e.nodeType&&e!==_win$4},_flatten$1=function o(e,t,n){return n===void 0&&(n=[]),e.forEach(function(r){var s;return _isString$1(r)&&!t||_isArrayLike$1(r,1)?(s=n).push.apply(s,toArray$1(r)):n.push(r)})||n},toArray$1=function o(e,t,n){return _context$1$1&&!t&&_context$1$1.selector?_context$1$1.selector(e):_isString$1(e)&&!n&&(_coreInitted$3||!_wake$1())?_slice$1.call((t||_doc$3$1).querySelectorAll(e),0):_isArray$1$1(e)?_flatten$1(e,n):_isArrayLike$1(e)?_slice$1.call(e,0):e?[e]:[]},selector$1=function o(e){return e=toArray$1(e)[0]||_warn$1("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return toArray$1(t,n.querySelectorAll?n:n===e?_warn$1("Invalid scope")||_doc$3$1.createElement("div"):e)}},shuffle$1=function o(e){return e.sort(function(){return .5-Math.random()})},distribute$1=function o(e){if(_isFunction$1$1(e))return e;var t=_isObject$1$1(e)?e:{each:e},n=_parseEase$1(t.ease),r=t.from||0,s=parseFloat(t.base)||0,a={},l=r>0&&r<1,c=isNaN(r)||l,h=t.axis,p=r,_=r;return _isString$1(r)?p=_={center:.5,edges:.5,end:1}[r]||0:!l&&c&&(p=r[0],_=r[1]),function(w,u,P){var b=(P||t).length,k=a[b],E,R,L,C,M,N,F,I,V;if(!k){if(V=t.grid==="auto"?0:(t.grid||[1,_bigNum$3])[1],!V){for(F=-1e8;F<(F=P[V++].getBoundingClientRect().left)&&V<b;);V<b&&V--}for(k=a[b]=[],E=c?Math.min(V,b)*p-.5:r%V,R=V===_bigNum$3?0:c?b*_/V-.5:r/V|0,F=0,I=_bigNum$3,N=0;N<b;N++)L=N%V-E,C=R-(N/V|0),k[N]=M=h?Math.abs(h==="y"?C:L):_sqrt$2(L*L+C*C),M>F&&(F=M),M<I&&(I=M);r==="random"&&shuffle$1(k),k.max=F-I,k.min=I,k.v=b=(parseFloat(t.amount)||parseFloat(t.each)*(V>b?b-1:h?h==="y"?b/V:V:Math.max(V,b/V))||0)*(r==="edges"?-1:1),k.b=b<0?s-b:s,k.u=getUnit$1(t.amount||t.each)||0,n=n&&b<0?_invertEase$1(n):n}return b=(k[w]-k.min)/k.max||0,_roundPrecise$1(k.b+(n?n(b):b)*k.v)+k.u}},_roundModifier$1=function o(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=_roundPrecise$1(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(_isNumber$1(n)?0:getUnit$1(n))}},snap$1=function o(e,t){var n=_isArray$1$1(e),r,s;return!n&&_isObject$1$1(e)&&(r=n=e.radius||_bigNum$3,e.values?(e=toArray$1(e.values),(s=!_isNumber$1(e[0]))&&(r*=r)):e=_roundModifier$1(e.increment)),_conditionalReturn$1(t,n?_isFunction$1$1(e)?function(a){return s=e(a),Math.abs(s-a)<=r?s:a}:function(a){for(var l=parseFloat(s?a.x:a),c=parseFloat(s?a.y:0),h=_bigNum$3,p=0,_=e.length,w,u;_--;)s?(w=e[_].x-l,u=e[_].y-c,w=w*w+u*u):w=Math.abs(e[_]-l),w<h&&(h=w,p=_);return p=!r||h<=r?e[p]:a,s||p===a||_isNumber$1(a)?p:p+getUnit$1(a)}:_roundModifier$1(e))},random$1=function o(e,t,n,r){return _conditionalReturn$1(_isArray$1$1(e)?!t:n===!0?!!(n=0):!r,function(){return _isArray$1$1(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*r)/r})},pipe$1=function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduce(function(s,a){return a(s)},r)}},unitize$1=function o(e,t){return function(n){return e(parseFloat(n))+(t||getUnit$1(n))}},normalize$1=function o(e,t,n){return mapRange$1(e,t,0,1,n)},_wrapArray$1=function o(e,t,n){return _conditionalReturn$1(n,function(r){return e[~~t(r)]})},wrap$1=function o(e,t,n){var r=t-e;return _isArray$1$1(e)?_wrapArray$1(e,o(0,e.length),t):_conditionalReturn$1(n,function(s){return(r+(s-e)%r)%r+e})},wrapYoyo$1=function o(e,t,n){var r=t-e,s=r*2;return _isArray$1$1(e)?_wrapArray$1(e,o(0,e.length-1),t):_conditionalReturn$1(n,function(a){return a=(s+(a-e)%s)%s||0,e+(a>r?s-a:a)})},_replaceRandom$1=function o(e){for(var t=0,n="",r,s,a,l;~(r=e.indexOf("random(",t));)a=e.indexOf(")",r),l=e.charAt(r+7)==="[",s=e.substr(r+7,a-r-7).match(l?_delimitedValueExp$1:_strictNumExp$1),n+=e.substr(t,r-t)+random$1(l?s:+s[0],l?0:+s[1],+s[2]||1e-5),t=a+1;return n+e.substr(t,e.length-t)},mapRange$1=function o(e,t,n,r,s){var a=t-e,l=r-n;return _conditionalReturn$1(s,function(c){return n+((c-e)/a*l||0)})},interpolate$1=function o(e,t,n,r){var s=isNaN(e+t)?0:function(u){return(1-u)*e+u*t};if(!s){var a=_isString$1(e),l={},c,h,p,_,w;if(n===!0&&(r=1)&&(n=null),a)e={p:e},t={p:t};else if(_isArray$1$1(e)&&!_isArray$1$1(t)){for(p=[],_=e.length,w=_-2,h=1;h<_;h++)p.push(o(e[h-1],e[h]));_--,s=function(u){u*=_;var P=Math.min(w,~~u);return p[P](u-P)},n=t}else r||(e=_merge$1(_isArray$1$1(e)?[]:{},e));if(!p){for(c in t)_addPropTween$1.call(l,e,c,"get",t[c]);s=function(u){return _renderPropTweens$1(u,l)||(a?e.p:e)}}}return _conditionalReturn$1(n,s)},_getLabelInDirection$1=function o(e,t,n){var r=e.labels,s=_bigNum$3,a,l,c;for(a in r)l=r[a]-t,l<0==!!n&&l&&s>(l=Math.abs(l))&&(c=a,s=l);return c},_callback$1=function o(e,t,n){var r=e.vars,s=r[t],a=_context$1$1,l=e._ctx,c,h,p;if(s)return c=r[t+"Params"],h=r.callbackScope||e,n&&_lazyTweens$1.length&&_lazyRender$1(),l&&(_context$1$1=l),p=c?s.apply(h,c):s.call(h),_context$1$1=a,p},_interrupt$1=function o(e){return _removeFromParent$1(e),e.scrollTrigger&&e.scrollTrigger.kill(!!_reverting$3),e.progress()<1&&_callback$1(e,"onInterrupt"),e},_quickTween$1,_registerPluginQueue$1=[],_createPlugin$1=function o(e){if(e)if(e=!e.name&&e.default||e,_windowExists$3()||e.headless){var t=e.name,n=_isFunction$1$1(e),r=t&&!n&&e.init?function(){this._props=[]}:e,s={init:_emptyFunc$2,render:_renderPropTweens$1,add:_addPropTween$1,kill:_killPropTweensOf$1,modifier:_addPluginModifier$1,rawVars:0},a={targetTest:0,get:0,getSetter:_getSetter$1,aliases:{},register:0};if(_wake$1(),e!==r){if(_plugins$1[t])return;_setDefaults$1$1(r,_setDefaults$1$1(_copyExcluding$1(e,s),a)),_merge$1(r.prototype,_merge$1(s,_copyExcluding$1(e,a))),_plugins$1[r.prop=t]=r,e.targetTest&&(_harnessPlugins$1.push(r),_reservedProps$1[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}_addGlobal$1(t,r),e.register&&e.register(gsap$4,r,PropTween$1)}else _registerPluginQueue$1.push(e)},_255$1=255,_colorLookup$1={aqua:[0,_255$1,_255$1],lime:[0,_255$1,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_255$1],navy:[0,0,128],white:[_255$1,_255$1,_255$1],olive:[128,128,0],yellow:[_255$1,_255$1,0],orange:[_255$1,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_255$1,0,0],pink:[_255$1,192,203],cyan:[0,_255$1,_255$1],transparent:[_255$1,_255$1,_255$1,0]},_hue$1=function o(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*_255$1+.5|0},splitColor$1=function o(e,t,n){var r=e?_isNumber$1(e)?[e>>16,e>>8&_255$1,e&_255$1]:0:_colorLookup$1.black,s,a,l,c,h,p,_,w,u,P;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),_colorLookup$1[e])r=_colorLookup$1[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),l=e.charAt(3),e="#"+s+s+a+a+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&_255$1,r&_255$1,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&_255$1,e&_255$1]}else if(e.substr(0,3)==="hsl"){if(r=P=e.match(_strictNumExp$1),!t)c=+r[0]%360/360,h=+r[1]/100,p=+r[2]/100,a=p<=.5?p*(h+1):p+h-p*h,s=p*2-a,r.length>3&&(r[3]*=1),r[0]=_hue$1(c+1/3,s,a),r[1]=_hue$1(c,s,a),r[2]=_hue$1(c-1/3,s,a);else if(~e.indexOf("="))return r=e.match(_numExp$3),n&&r.length<4&&(r[3]=1),r}else r=e.match(_strictNumExp$1)||_colorLookup$1.transparent;r=r.map(Number)}return t&&!P&&(s=r[0]/_255$1,a=r[1]/_255$1,l=r[2]/_255$1,_=Math.max(s,a,l),w=Math.min(s,a,l),p=(_+w)/2,_===w?c=h=0:(u=_-w,h=p>.5?u/(2-_-w):u/(_+w),c=_===s?(a-l)/u+(a<l?6:0):_===a?(l-s)/u+2:(s-a)/u+4,c*=60),r[0]=~~(c+.5),r[1]=~~(h*100+.5),r[2]=~~(p*100+.5)),n&&r.length<4&&(r[3]=1),r},_colorOrderData$1=function o(e){var t=[],n=[],r=-1;return e.split(_colorExp$1).forEach(function(s){var a=s.match(_numWithUnitExp$1)||[];t.push.apply(t,a),n.push(r+=a.length+1)}),t.c=n,t},_formatColors$1=function o(e,t,n){var r="",s=(e+r).match(_colorExp$1),a=t?"hsla(":"rgba(",l=0,c,h,p,_;if(!s)return e;if(s=s.map(function(w){return(w=splitColor$1(w,t,1))&&a+(t?w[0]+","+w[1]+"%,"+w[2]+"%,"+w[3]:w.join(","))+")"}),n&&(p=_colorOrderData$1(e),c=n.c,c.join(r)!==p.c.join(r)))for(h=e.replace(_colorExp$1,"1").split(_numWithUnitExp$1),_=h.length-1;l<_;l++)r+=h[l]+(~c.indexOf(l)?s.shift()||a+"0,0,0,0)":(p.length?p:s.length?s:n).shift());if(!h)for(h=e.split(_colorExp$1),_=h.length-1;l<_;l++)r+=h[l]+s[l];return r+h[_]},_colorExp$1=function(){var o="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in _colorLookup$1)o+="|"+e+"\\b";return new RegExp(o+")","gi")}(),_hslExp$1=/hsl[a]?\(/,_colorStringFilter$1=function o(e){var t=e.join(" "),n;if(_colorExp$1.lastIndex=0,_colorExp$1.test(t))return n=_hslExp$1.test(t),e[1]=_formatColors$1(e[1],n),e[0]=_formatColors$1(e[0],n,_colorOrderData$1(e[1])),!0},_tickerActive$1,_ticker$1=function(){var o=Date.now,e=500,t=33,n=o(),r=n,s=1e3/240,a=s,l=[],c,h,p,_,w,u,P=function b(k){var E=o()-r,R=k===!0,L,C,M,N;if((E>e||E<0)&&(n+=E-t),r+=E,M=r-n,L=M-a,(L>0||R)&&(N=++_.frame,w=M-_.time*1e3,_.time=M=M/1e3,a+=L+(L>=s?4:s-L),C=1),R||(c=h(b)),C)for(u=0;u<l.length;u++)l[u](M,w,N,k)};return _={time:0,frame:0,tick:function(){P(!0)},deltaRatio:function(b){return w/(1e3/(b||60))},wake:function(){_coreReady$1&&(!_coreInitted$3&&_windowExists$3()&&(_win$4=_coreInitted$3=window,_doc$3$1=_win$4.document||{},_globals$1.gsap=gsap$4,(_win$4.gsapVersions||(_win$4.gsapVersions=[])).push(gsap$4.version),_install$1(_installScope$1||_win$4.GreenSockGlobals||!_win$4.gsap&&_win$4||{}),_registerPluginQueue$1.forEach(_createPlugin$1)),p=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&_.sleep(),h=p||function(b){return setTimeout(b,a-_.time*1e3+1|0)},_tickerActive$1=1,P(2))},sleep:function(){(p?cancelAnimationFrame:clearTimeout)(c),_tickerActive$1=0,h=_emptyFunc$2},lagSmoothing:function(b,k){e=b||1/0,t=Math.min(k||33,e)},fps:function(b){s=1e3/(b||240),a=_.time*1e3+s},add:function(b,k,E){var R=k?function(L,C,M,N){b(L,C,M,N),_.remove(R)}:b;return _.remove(b),l[E?"unshift":"push"](R),_wake$1(),R},remove:function(b,k){~(k=l.indexOf(b))&&l.splice(k,1)&&u>=k&&u--},_listeners:l},_}(),_wake$1=function o(){return!_tickerActive$1&&_ticker$1.wake()},_easeMap$1={},_customEaseExp$1=/^[\d.\-M][\d.\-,\s]/,_quotesExp$1=/["']/g,_parseObjectInString$1=function o(e){for(var t={},n=e.substr(1,e.length-3).split(":"),r=n[0],s=1,a=n.length,l,c,h;s<a;s++)c=n[s],l=s!==a-1?c.lastIndexOf(","):c.length,h=c.substr(0,l),t[r]=isNaN(h)?h.replace(_quotesExp$1,"").trim():+h,r=c.substr(l+1).trim();return t},_valueInParentheses$1=function o(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)},_configEaseFromString$1=function o(e){var t=(e+"").split("("),n=_easeMap$1[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[_parseObjectInString$1(t[1])]:_valueInParentheses$1(e).split(",").map(_numericIfPossible$1)):_easeMap$1._CE&&_customEaseExp$1.test(e)?_easeMap$1._CE("",e):n},_invertEase$1=function o(e){return function(t){return 1-e(1-t)}},_propagateYoyoEase$1=function o(e,t){for(var n=e._first,r;n;)n instanceof Timeline$1?o(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?o(n.timeline,t):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=t)),n=n._next},_parseEase$1=function o(e,t){return e&&(_isFunction$1$1(e)?e:_easeMap$1[e]||_configEaseFromString$1(e))||t},_insertEase$1=function o(e,t,n,r){n===void 0&&(n=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:r},a;return _forEachName$1(e,function(l){_easeMap$1[l]=_globals$1[l]=s,_easeMap$1[a=l.toLowerCase()]=n;for(var c in s)_easeMap$1[a+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=_easeMap$1[l+"."+c]=s[c]}),s},_easeInOutFromOut$1=function o(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},_configElastic$1=function o(e,t,n){var r=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),a=s/_2PI$1*(Math.asin(1/r)||0),l=function(h){return h===1?1:r*Math.pow(2,-10*h)*_sin$1((h-a)*s)+1},c=e==="out"?l:e==="in"?function(h){return 1-l(1-h)}:_easeInOutFromOut$1(l);return s=_2PI$1/s,c.config=function(h,p){return o(e,h,p)},c},_configBack$1=function o(e,t){t===void 0&&(t=1.70158);var n=function(s){return s?--s*s*((t+1)*s+t)+1:0},r=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:_easeInOutFromOut$1(n);return r.config=function(s){return o(e,s)},r};_forEachName$1("Linear,Quad,Cubic,Quart,Quint,Strong",function(o,e){var t=e<5?e+1:e;_insertEase$1(o+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});_easeMap$1.Linear.easeNone=_easeMap$1.none=_easeMap$1.Linear.easeIn;_insertEase$1("Elastic",_configElastic$1("in"),_configElastic$1("out"),_configElastic$1());(function(o,e){var t=1/e,n=2*t,r=2.5*t,s=function(a){return a<t?o*a*a:a<n?o*Math.pow(a-1.5/e,2)+.75:a<r?o*(a-=2.25/e)*a+.9375:o*Math.pow(a-2.625/e,2)+.984375};_insertEase$1("Bounce",function(a){return 1-s(1-a)},s)})(7.5625,2.75);_insertEase$1("Expo",function(o){return Math.pow(2,10*(o-1))*o+o*o*o*o*o*o*(1-o)});_insertEase$1("Circ",function(o){return-(_sqrt$2(1-o*o)-1)});_insertEase$1("Sine",function(o){return o===1?1:-_cos$1(o*_HALF_PI$1)+1});_insertEase$1("Back",_configBack$1("in"),_configBack$1("out"),_configBack$1());_easeMap$1.SteppedEase=_easeMap$1.steps=_globals$1.SteppedEase={config:function o(e,t){e===void 0&&(e=1);var n=1/e,r=e+(t?0:1),s=t?1:0,a=1-_tinyNum$1;return function(l){return((r*_clamp$1(0,a,l)|0)+s)*n}}};_defaults$1.ease=_easeMap$1["quad.out"];_forEachName$1("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(o){return _callbackNames$1+=o+","+o+"Params,"});var GSCache$1=function o(e,t){this.id=_gsID$1++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:_getProperty$1,this.set=t?t.getSetter:_getSetter$1},Animation$1=function(){function o(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,_setDuration$1(this,+t.duration,1,1),this.data=t.data,_context$1$1&&(this._ctx=_context$1$1,_context$1$1.data.push(this)),_tickerActive$1||_ticker$1.wake()}var e=o.prototype;return e.delay=function(t){return t||t===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,_setDuration$1(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,n){if(_wake$1(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(_alignPlayhead$1(this,t),!r._dp||r.parent||_postAddChecks$1(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&_addToTimeline$1(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===_tinyNum$1||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),_lazySafeRender$1(this,t,n)),this},e.time=function(t,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+_elapsedCycleDuration$1(this))%(this._dur+this._rDelay)||(t?this._dur:0),n):this._time},e.totalProgress=function(t,n){return arguments.length?this.totalTime(this.totalDuration()*t,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(t,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-t:t)+_elapsedCycleDuration$1(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,n){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*r,n):this._repeat?_animationCycle$1(this._tTime,r)+1:1},e.timeScale=function(t,n){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===t)return this;var r=this.parent&&this._ts?_parentToChildTotalTime$1(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-1e-8?0:this._rts,this.totalTime(_clamp$1(-Math.abs(this._delay),this.totalDuration(),r),n!==!1),_setEnd$1(this),_recacheAncestors$1(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_wake$1(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==_tinyNum$1&&(this._tTime-=_tinyNum$1)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&_addToTimeline$1(n,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(_isNotFalse$1(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var n=this.parent||this._dp;return n?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_parentToChildTotalTime$1(n.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){t===void 0&&(t=_revertConfig$1);var n=_reverting$3;return _reverting$3=t,_isRevertWorthy$1(this)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),this.data!=="nested"&&t.kill!==!1&&this.kill(),_reverting$3=n,this},e.globalTime=function(t){for(var n=this,r=arguments.length?t:n.rawTime();n;)r=n._start+r/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(t):r},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,_onUpdateTotalDuration$1(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var n=this._time;return this._rDelay=t,_onUpdateTotalDuration$1(this),n?this.time(n):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,n){return this.totalTime(_parsePosition$1(this,t),_isNotFalse$1(n))},e.restart=function(t,n){return this.play().totalTime(t?-this._delay:0,_isNotFalse$1(n)),this._dur||(this._zTime=-1e-8),this},e.play=function(t,n){return t!=null&&this.seek(t,n),this.reversed(!1).paused(!1)},e.reverse=function(t,n){return t!=null&&this.seek(t||this.totalDuration(),n),this.reversed(!0).paused(!1)},e.pause=function(t,n){return t!=null&&this.seek(t,n),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t=this.parent||this._dp,n=this._start,r;return!!(!t||this._ts&&this._initted&&t.isActive()&&(r=t.rawTime(!0))>=n&&r<this.endTime(!0)-_tinyNum$1)},e.eventCallback=function(t,n,r){var s=this.vars;return arguments.length>1?(n?(s[t]=n,r&&(s[t+"Params"]=r),t==="onUpdate"&&(this._onUpdate=n)):delete s[t],this):s[t]},e.then=function(t){var n=this;return new Promise(function(r){var s=_isFunction$1$1(t)?t:_passThrough$1,a=function(){var l=n.then;n.then=null,_isFunction$1$1(s)&&(s=s(n))&&(s.then||s===n)&&(n.then=l),r(s),n.then=l};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?a():n._prom=a})},e.kill=function(){_interrupt$1(this)},o}();_setDefaults$1$1(Animation$1.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Timeline$1=function(o){_inheritsLoose$1$1(e,o);function e(n,r){var s;return n===void 0&&(n={}),s=o.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=_isNotFalse$1(n.sortChildren),_globalTimeline$1&&_addToTimeline$1(n.parent||_globalTimeline$1,_assertThisInitialized$1$1(s),r),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&_scrollTrigger$1(_assertThisInitialized$1$1(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(n,r,s){return _createTweenType$1(0,arguments,this),this},t.from=function(n,r,s){return _createTweenType$1(1,arguments,this),this},t.fromTo=function(n,r,s,a){return _createTweenType$1(2,arguments,this),this},t.set=function(n,r,s){return r.duration=0,r.parent=this,_inheritDefaults$1(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new Tween$1(n,r,_parsePosition$1(this,s),1),this},t.call=function(n,r,s){return _addToTimeline$1(this,Tween$1.delayedCall(0,n,r),s)},t.staggerTo=function(n,r,s,a,l,c,h){return s.duration=r,s.stagger=s.stagger||a,s.onComplete=c,s.onCompleteParams=h,s.parent=this,new Tween$1(n,s,_parsePosition$1(this,l)),this},t.staggerFrom=function(n,r,s,a,l,c,h){return s.runBackwards=1,_inheritDefaults$1(s).immediateRender=_isNotFalse$1(s.immediateRender),this.staggerTo(n,r,s,a,l,c,h)},t.staggerFromTo=function(n,r,s,a,l,c,h,p){return a.startAt=s,_inheritDefaults$1(a).immediateRender=_isNotFalse$1(a.immediateRender),this.staggerTo(n,r,a,l,c,h,p)},t.render=function(n,r,s){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,h=n<=0?0:_roundPrecise$1(n),p=this._zTime<0!=n<0&&(this._initted||!c),_,w,u,P,b,k,E,R,L,C,M,N;if(this!==_globalTimeline$1&&h>l&&n>=0&&(h=l),h!==this._tTime||s||p){if(a!==this._time&&c&&(h+=this._time-a,n+=this._time-a),_=h,L=this._start,R=this._ts,k=!R,p&&(c||(a=this._zTime),(n||!r)&&(this._zTime=n)),this._repeat){if(M=this._yoyo,b=c+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(b*100+n,r,s);if(_=_roundPrecise$1(h%b),h===l?(P=this._repeat,_=c):(C=_roundPrecise$1(h/b),P=~~C,P&&P===C&&(_=c,P--),_>c&&(_=c)),C=_animationCycle$1(this._tTime,b),!a&&this._tTime&&C!==P&&this._tTime-C*b-this._dur<=0&&(C=P),M&&P&1&&(_=c-_,N=1),P!==C&&!this._lock){var F=M&&C&1,I=F===(M&&P&1);if(P<C&&(F=!F),a=F?0:h%c?c:h,this._lock=1,this.render(a||(N?0:_roundPrecise$1(P*b)),r,!c)._lock=0,this._tTime=h,!r&&this.parent&&_callback$1(this,"onRepeat"),this.vars.repeatRefresh&&!N&&(this.invalidate()._lock=1),a&&a!==this._time||k!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,I&&(this._lock=2,a=F?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!N&&this.invalidate()),this._lock=0,!this._ts&&!k)return this;_propagateYoyoEase$1(this,N)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(E=_findNextPauseTween$1(this,_roundPrecise$1(a),_roundPrecise$1(_)),E&&(h-=_-(_=E._start))),this._tTime=h,this._time=_,this._act=!R,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,a=0),!a&&h&&!r&&!C&&(_callback$1(this,"onStart"),this._tTime!==h))return this;if(_>=a&&n>=0)for(w=this._first;w;){if(u=w._next,(w._act||_>=w._start)&&w._ts&&E!==w){if(w.parent!==this)return this.render(n,r,s);if(w.render(w._ts>0?(_-w._start)*w._ts:(w._dirty?w.totalDuration():w._tDur)+(_-w._start)*w._ts,r,s),_!==this._time||!this._ts&&!k){E=0,u&&(h+=this._zTime=-1e-8);break}}w=u}else{w=this._last;for(var V=n<0?n:_;w;){if(u=w._prev,(w._act||V<=w._end)&&w._ts&&E!==w){if(w.parent!==this)return this.render(n,r,s);if(w.render(w._ts>0?(V-w._start)*w._ts:(w._dirty?w.totalDuration():w._tDur)+(V-w._start)*w._ts,r,s||_reverting$3&&_isRevertWorthy$1(w)),_!==this._time||!this._ts&&!k){E=0,u&&(h+=this._zTime=V?-1e-8:_tinyNum$1);break}}w=u}}if(E&&!r&&(this.pause(),E.render(_>=a?0:-1e-8)._zTime=_>=a?1:-1,this._ts))return this._start=L,_setEnd$1(this),this.render(n,r,s);this._onUpdate&&!r&&_callback$1(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&a)&&(L===this._start||Math.abs(R)!==Math.abs(this._ts))&&(this._lock||((n||!c)&&(h===l&&this._ts>0||!h&&this._ts<0)&&_removeFromParent$1(this,1),!r&&!(n<0&&!a)&&(h||a||!l)&&(_callback$1(this,h===l&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(n,r){var s=this;if(_isNumber$1(r)||(r=_parsePosition$1(this,r,n)),!(n instanceof Animation$1)){if(_isArray$1$1(n))return n.forEach(function(a){return s.add(a,r)}),this;if(_isString$1(n))return this.addLabel(n,r);if(_isFunction$1$1(n))n=Tween$1.delayedCall(0,n);else return this}return this!==n?_addToTimeline$1(this,n,r):this},t.getChildren=function(n,r,s,a){n===void 0&&(n=!0),r===void 0&&(r=!0),s===void 0&&(s=!0),a===void 0&&(a=-1e8);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Tween$1?r&&l.push(c):(s&&l.push(c),n&&l.push.apply(l,c.getChildren(!0,r,s)))),c=c._next;return l},t.getById=function(n){for(var r=this.getChildren(1,1,1),s=r.length;s--;)if(r[s].vars.id===n)return r[s]},t.remove=function(n){return _isString$1(n)?this.removeLabel(n):_isFunction$1$1(n)?this.killTweensOf(n):(n.parent===this&&_removeLinkedListItem$1(this,n),n===this._recent&&(this._recent=this._last),_uncache$1(this))},t.totalTime=function(n,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_roundPrecise$1(_ticker$1.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),o.prototype.totalTime.call(this,n,r),this._forcing=0,this):this._tTime},t.addLabel=function(n,r){return this.labels[n]=_parsePosition$1(this,r),this},t.removeLabel=function(n){return delete this.labels[n],this},t.addPause=function(n,r,s){var a=Tween$1.delayedCall(0,r||_emptyFunc$2,s);return a.data="isPause",this._hasPause=1,_addToTimeline$1(this,a,_parsePosition$1(this,n))},t.removePause=function(n){var r=this._first;for(n=_parsePosition$1(this,n);r;)r._start===n&&r.data==="isPause"&&_removeFromParent$1(r),r=r._next},t.killTweensOf=function(n,r,s){for(var a=this.getTweensOf(n,s),l=a.length;l--;)_overwritingTween$1!==a[l]&&a[l].kill(n,r);return this},t.getTweensOf=function(n,r){for(var s=[],a=toArray$1(n),l=this._first,c=_isNumber$1(r),h;l;)l instanceof Tween$1?_arrayContainsAny$1(l._targets,a)&&(c?(!_overwritingTween$1||l._initted&&l._ts)&&l.globalTime(0)<=r&&l.globalTime(l.totalDuration())>r:!r||l.isActive())&&s.push(l):(h=l.getTweensOf(a,r)).length&&s.push.apply(s,h),l=l._next;return s},t.tweenTo=function(n,r){r=r||{};var s=this,a=_parsePosition$1(s,n),l=r,c=l.startAt,h=l.onStart,p=l.onStartParams,_=l.immediateRender,w,u=Tween$1.to(s,_setDefaults$1$1({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:r.duration||Math.abs((a-(c&&"time"in c?c.time:s._time))/s.timeScale())||_tinyNum$1,onStart:function(){if(s.pause(),!w){var P=r.duration||Math.abs((a-(c&&"time"in c?c.time:s._time))/s.timeScale());u._dur!==P&&_setDuration$1(u,P,0,1).render(u._time,!0,!0),w=1}h&&h.apply(u,p||[])}},r));return _?u.render(0):u},t.tweenFromTo=function(n,r,s){return this.tweenTo(r,_setDefaults$1$1({startAt:{time:_parsePosition$1(this,n)}},s))},t.recent=function(){return this._recent},t.nextLabel=function(n){return n===void 0&&(n=this._time),_getLabelInDirection$1(this,_parsePosition$1(this,n))},t.previousLabel=function(n){return n===void 0&&(n=this._time),_getLabelInDirection$1(this,_parsePosition$1(this,n),1)},t.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+_tinyNum$1)},t.shiftChildren=function(n,r,s){s===void 0&&(s=0);for(var a=this._first,l=this.labels,c;a;)a._start>=s&&(a._start+=n,a._end+=n),a=a._next;if(r)for(c in l)l[c]>=s&&(l[c]+=n);return _uncache$1(this)},t.invalidate=function(n){var r=this._first;for(this._lock=0;r;)r.invalidate(n),r=r._next;return o.prototype.invalidate.call(this,n)},t.clear=function(n){n===void 0&&(n=!0);for(var r=this._first,s;r;)s=r._next,this.remove(r),r=s;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),_uncache$1(this)},t.totalDuration=function(n){var r=0,s=this,a=s._last,l=_bigNum$3,c,h,p;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-n:n));if(s._dirty){for(p=s.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>l&&s._sort&&a._ts&&!s._lock?(s._lock=1,_addToTimeline$1(s,a,h-a._delay,1)._lock=0):l=h,h<0&&a._ts&&(r-=h,(!p&&!s._dp||p&&p.smoothChildTiming)&&(s._start+=h/s._ts,s._time-=h,s._tTime-=h),s.shiftChildren(-h,!1,-1/0),l=0),a._end>r&&a._ts&&(r=a._end),a=c;_setDuration$1(s,s===_globalTimeline$1&&s._time>r?s._time:r,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(n){if(_globalTimeline$1._ts&&(_lazySafeRender$1(_globalTimeline$1,_parentToChildTotalTime$1(n,_globalTimeline$1)),_lastRenderedFrame$1=_ticker$1.frame),_ticker$1.frame>=_nextGCFrame$1){_nextGCFrame$1+=_config$1.autoSleep||120;var r=_globalTimeline$1._first;if((!r||!r._ts)&&_config$1.autoSleep&&_ticker$1._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||_ticker$1.sleep()}}},e}(Animation$1);_setDefaults$1$1(Timeline$1.prototype,{_lock:0,_hasPause:0,_forcing:0});var _addComplexStringPropTween$1=function o(e,t,n,r,s,a,l){var c=new PropTween$1(this._pt,e,t,0,1,_renderComplexString$1,null,s),h=0,p=0,_,w,u,P,b,k,E,R;for(c.b=n,c.e=r,n+="",r+="",(E=~r.indexOf("random("))&&(r=_replaceRandom$1(r)),a&&(R=[n,r],a(R,e,t),n=R[0],r=R[1]),w=n.match(_complexStringNumExp$1)||[];_=_complexStringNumExp$1.exec(r);)P=_[0],b=r.substring(h,_.index),u?u=(u+1)%5:b.substr(-5)==="rgba("&&(u=1),P!==w[p++]&&(k=parseFloat(w[p-1])||0,c._pt={_next:c._pt,p:b||p===1?b:",",s:k,c:P.charAt(1)==="="?_parseRelative$1(k,P)-k:parseFloat(P)-k,m:u&&u<4?Math.round:0},h=_complexStringNumExp$1.lastIndex);return c.c=h<r.length?r.substring(h,r.length):"",c.fp=l,(_relExp$1.test(r)||E)&&(c.e=0),this._pt=c,c},_addPropTween$1=function o(e,t,n,r,s,a,l,c,h,p){_isFunction$1$1(r)&&(r=r(s||0,e,a));var _=e[t],w=n!=="get"?n:_isFunction$1$1(_)?h?e[t.indexOf("set")||!_isFunction$1$1(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():_,u=_isFunction$1$1(_)?h?_setterFuncWithParam$1:_setterFunc$1:_setterPlain$1,P;if(_isString$1(r)&&(~r.indexOf("random(")&&(r=_replaceRandom$1(r)),r.charAt(1)==="="&&(P=_parseRelative$1(w,r)+(getUnit$1(w)||0),(P||P===0)&&(r=P))),!p||w!==r||_forceAllPropTweens$1)return!isNaN(w*r)&&r!==""?(P=new PropTween$1(this._pt,e,t,+w||0,r-(w||0),typeof _=="boolean"?_renderBoolean$1:_renderPlain$1,0,u),h&&(P.fp=h),l&&P.modifier(l,this,e),this._pt=P):(!_&&!(t in e)&&_missingPlugin$1(t,r),_addComplexStringPropTween$1.call(this,e,t,w,r,u,c||_config$1.stringFilter,h))},_processVars$1=function o(e,t,n,r,s){if(_isFunction$1$1(e)&&(e=_parseFuncOrString$1(e,s,t,n,r)),!_isObject$1$1(e)||e.style&&e.nodeType||_isArray$1$1(e)||_isTypedArray$1(e))return _isString$1(e)?_parseFuncOrString$1(e,s,t,n,r):e;var a={},l;for(l in e)a[l]=_parseFuncOrString$1(e[l],s,t,n,r);return a},_checkPlugin$1=function o(e,t,n,r,s,a){var l,c,h,p;if(_plugins$1[e]&&(l=new _plugins$1[e]).init(s,l.rawVars?t[e]:_processVars$1(t[e],r,s,a,n),n,r,a)!==!1&&(n._pt=c=new PropTween$1(n._pt,s,e,0,1,l.render,l,0,l.priority),n!==_quickTween$1))for(h=n._ptLookup[n._targets.indexOf(s)],p=l._props.length;p--;)h[l._props[p]]=c;return l},_overwritingTween$1,_forceAllPropTweens$1,_initTween$1=function o(e,t,n){var r=e.vars,s=r.ease,a=r.startAt,l=r.immediateRender,c=r.lazy,h=r.onUpdate,p=r.runBackwards,_=r.yoyoEase,w=r.keyframes,u=r.autoRevert,P=e._dur,b=e._startAt,k=e._targets,E=e.parent,R=E&&E.data==="nested"?E.vars.targets:k,L=e._overwrite==="auto"&&!_suppressOverwrites$1,C=e.timeline,M,N,F,I,V,Ie,le,Ae,se,Wt,Rt,Ve,_t;if(C&&(!w||!s)&&(s="none"),e._ease=_parseEase$1(s,_defaults$1.ease),e._yEase=_?_invertEase$1(_parseEase$1(_===!0?s:_,_defaults$1.ease)):0,_&&e._yoyo&&!e._repeat&&(_=e._yEase,e._yEase=e._ease,e._ease=_),e._from=!C&&!!r.runBackwards,!C||w&&!r.stagger){if(Ae=k[0]?_getCache$1(k[0]).harness:0,Ve=Ae&&r[Ae.prop],M=_copyExcluding$1(r,_reservedProps$1),b&&(b._zTime<0&&b.progress(1),t<0&&p&&l&&!u?b.render(-1,!0):b.revert(p&&P?_revertConfigNoKill$1:_startAtRevertConfig$1),b._lazy=0),a){if(_removeFromParent$1(e._startAt=Tween$1.set(k,_setDefaults$1$1({data:"isStart",overwrite:!1,parent:E,immediateRender:!0,lazy:!b&&_isNotFalse$1(c),startAt:null,delay:0,onUpdate:h&&function(){return _callback$1(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(_reverting$3||!l&&!u)&&e._startAt.revert(_revertConfigNoKill$1),l&&P&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(p&&P&&!b){if(t&&(l=!1),F=_setDefaults$1$1({overwrite:!1,data:"isFromStart",lazy:l&&!b&&_isNotFalse$1(c),immediateRender:l,stagger:0,parent:E},M),Ve&&(F[Ae.prop]=Ve),_removeFromParent$1(e._startAt=Tween$1.set(k,F)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(_reverting$3?e._startAt.revert(_revertConfigNoKill$1):e._startAt.render(-1,!0)),e._zTime=t,!l)o(e._startAt,_tinyNum$1,_tinyNum$1);else if(!t)return}for(e._pt=e._ptCache=0,c=P&&_isNotFalse$1(c)||c&&!P,N=0;N<k.length;N++){if(V=k[N],le=V._gsap||_harness$1(k)[N]._gsap,e._ptLookup[N]=Wt={},_lazyLookup$1[le.id]&&_lazyTweens$1.length&&_lazyRender$1(),Rt=R===k?N:R.indexOf(V),Ae&&(se=new Ae).init(V,Ve||M,e,Rt,R)!==!1&&(e._pt=I=new PropTween$1(e._pt,V,se.name,0,1,se.render,se,0,se.priority),se._props.forEach(function($i){Wt[$i]=I}),se.priority&&(Ie=1)),!Ae||Ve)for(F in M)_plugins$1[F]&&(se=_checkPlugin$1(F,M,e,Rt,V,R))?se.priority&&(Ie=1):Wt[F]=I=_addPropTween$1.call(e,V,F,"get",M[F],Rt,R,0,r.stringFilter);e._op&&e._op[N]&&e.kill(V,e._op[N]),L&&e._pt&&(_overwritingTween$1=e,_globalTimeline$1.killTweensOf(V,Wt,e.globalTime(t)),_t=!e.parent,_overwritingTween$1=0),e._pt&&c&&(_lazyLookup$1[le.id]=1)}Ie&&_sortPropTweensByPriority$1(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!_t,w&&t<=0&&C.render(_bigNum$3,!0,!0)},_updatePropTweens$1=function o(e,t,n,r,s,a,l,c){var h=(e._pt&&e._ptCache||(e._ptCache={}))[t],p,_,w,u;if(!h)for(h=e._ptCache[t]=[],w=e._ptLookup,u=e._targets.length;u--;){if(p=w[u][t],p&&p.d&&p.d._pt)for(p=p.d._pt;p&&p.p!==t&&p.fp!==t;)p=p._next;if(!p)return _forceAllPropTweens$1=1,e.vars[t]="+=0",_initTween$1(e,l),_forceAllPropTweens$1=0,c?_warn$1(t+" not eligible for reset"):1;h.push(p)}for(u=h.length;u--;)_=h[u],p=_._pt||_,p.s=(r||r===0)&&!s?r:p.s+(r||0)+a*p.c,p.c=n-p.s,_.e&&(_.e=_round$4(n)+getUnit$1(_.e)),_.b&&(_.b=p.s+getUnit$1(_.b))},_addAliasesToVars$1=function o(e,t){var n=e[0]?_getCache$1(e[0]).harness:0,r=n&&n.aliases,s,a,l,c;if(!r)return t;s=_merge$1({},t);for(a in r)if(a in s)for(c=r[a].split(","),l=c.length;l--;)s[c[l]]=s[a];return s},_parseKeyframe$1=function o(e,t,n,r){var s=t.ease||r||"power1.inOut",a,l;if(_isArray$1$1(t))l=n[e]||(n[e]=[]),t.forEach(function(c,h){return l.push({t:h/(t.length-1)*100,v:c,e:s})});else for(a in t)l=n[a]||(n[a]=[]),a==="ease"||l.push({t:parseFloat(e),v:t[a],e:s})},_parseFuncOrString$1=function o(e,t,n,r,s){return _isFunction$1$1(e)?e.call(t,n,r,s):_isString$1(e)&&~e.indexOf("random(")?_replaceRandom$1(e):e},_staggerTweenProps$1=_callbackNames$1+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",_staggerPropsToSkip$1={};_forEachName$1(_staggerTweenProps$1+",id,stagger,delay,duration,paused,scrollTrigger",function(o){return _staggerPropsToSkip$1[o]=1});var Tween$1=function(o){_inheritsLoose$1$1(e,o);function e(n,r,s,a){var l;typeof r=="number"&&(s.duration=r,r=s,s=null),l=o.call(this,a?r:_inheritDefaults$1(r))||this;var c=l.vars,h=c.duration,p=c.delay,_=c.immediateRender,w=c.stagger,u=c.overwrite,P=c.keyframes,b=c.defaults,k=c.scrollTrigger,E=c.yoyoEase,R=r.parent||_globalTimeline$1,L=(_isArray$1$1(n)||_isTypedArray$1(n)?_isNumber$1(n[0]):"length"in r)?[n]:toArray$1(n),C,M,N,F,I,V,Ie,le;if(l._targets=L.length?_harness$1(L):_warn$1("GSAP target "+n+" not found. https://gsap.com",!_config$1.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=u,P||w||_isFuncOrString$1(h)||_isFuncOrString$1(p)){if(r=l.vars,C=l.timeline=new Timeline$1({data:"nested",defaults:b||{},targets:R&&R.data==="nested"?R.vars.targets:L}),C.kill(),C.parent=C._dp=_assertThisInitialized$1$1(l),C._start=0,w||_isFuncOrString$1(h)||_isFuncOrString$1(p)){if(F=L.length,Ie=w&&distribute$1(w),_isObject$1$1(w))for(I in w)~_staggerTweenProps$1.indexOf(I)&&(le||(le={}),le[I]=w[I]);for(M=0;M<F;M++)N=_copyExcluding$1(r,_staggerPropsToSkip$1),N.stagger=0,E&&(N.yoyoEase=E),le&&_merge$1(N,le),V=L[M],N.duration=+_parseFuncOrString$1(h,_assertThisInitialized$1$1(l),M,V,L),N.delay=(+_parseFuncOrString$1(p,_assertThisInitialized$1$1(l),M,V,L)||0)-l._delay,!w&&F===1&&N.delay&&(l._delay=p=N.delay,l._start+=p,N.delay=0),C.to(V,N,Ie?Ie(M,V,L):0),C._ease=_easeMap$1.none;C.duration()?h=p=0:l.timeline=0}else if(P){_inheritDefaults$1(_setDefaults$1$1(C.vars.defaults,{ease:"none"})),C._ease=_parseEase$1(P.ease||r.ease||"none");var Ae=0,se,Wt,Rt;if(_isArray$1$1(P))P.forEach(function(Ve){return C.to(L,Ve,">")}),C.duration();else{N={};for(I in P)I==="ease"||I==="easeEach"||_parseKeyframe$1(I,P[I],N,P.easeEach);for(I in N)for(se=N[I].sort(function(Ve,_t){return Ve.t-_t.t}),Ae=0,M=0;M<se.length;M++)Wt=se[M],Rt={ease:Wt.e,duration:(Wt.t-(M?se[M-1].t:0))/100*h},Rt[I]=Wt.v,C.to(L,Rt,Ae),Ae+=Rt.duration;C.duration()<h&&C.to({},{duration:h-C.duration()})}}h||l.duration(h=C.duration())}else l.timeline=0;return u===!0&&!_suppressOverwrites$1&&(_overwritingTween$1=_assertThisInitialized$1$1(l),_globalTimeline$1.killTweensOf(L),_overwritingTween$1=0),_addToTimeline$1(R,_assertThisInitialized$1$1(l),s),r.reversed&&l.reverse(),r.paused&&l.paused(!0),(_||!h&&!P&&l._start===_roundPrecise$1(R._time)&&_isNotFalse$1(_)&&_hasNoPausedAncestors$1(_assertThisInitialized$1$1(l))&&R.data!=="nested")&&(l._tTime=-1e-8,l.render(Math.max(0,-p)||0)),k&&_scrollTrigger$1(_assertThisInitialized$1$1(l),k),l}var t=e.prototype;return t.render=function(n,r,s){var a=this._time,l=this._tDur,c=this._dur,h=n<0,p=n>l-_tinyNum$1&&!h?l:n<_tinyNum$1?0:n,_,w,u,P,b,k,E,R,L;if(!c)_renderZeroDurationTween$1(this,n,r,s);else if(p!==this._tTime||!n||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(_=p,R=this.timeline,this._repeat){if(P=c+this._rDelay,this._repeat<-1&&h)return this.totalTime(P*100+n,r,s);if(_=_roundPrecise$1(p%P),p===l?(u=this._repeat,_=c):(b=_roundPrecise$1(p/P),u=~~b,u&&u===b?(_=c,u--):_>c&&(_=c)),k=this._yoyo&&u&1,k&&(L=this._yEase,_=c-_),b=_animationCycle$1(this._tTime,P),_===a&&!s&&this._initted&&u===b)return this._tTime=p,this;u!==b&&(R&&this._yEase&&_propagateYoyoEase$1(R,k),this.vars.repeatRefresh&&!k&&!this._lock&&_!==P&&this._initted&&(this._lock=s=1,this.render(_roundPrecise$1(P*u),!0).invalidate()._lock=0))}if(!this._initted){if(_attemptInitTween$1(this,h?n:_,s,r,p))return this._tTime=0,this;if(a!==this._time&&!(s&&this.vars.repeatRefresh&&u!==b))return this;if(c!==this._dur)return this.render(n,r,s)}if(this._tTime=p,this._time=_,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=E=(L||this._ease)(_/c),this._from&&(this.ratio=E=1-E),!a&&p&&!r&&!b&&(_callback$1(this,"onStart"),this._tTime!==p))return this;for(w=this._pt;w;)w.r(E,w.d),w=w._next;R&&R.render(n<0?n:R._dur*R._ease(_/this._dur),r,s)||this._startAt&&(this._zTime=n),this._onUpdate&&!r&&(h&&_rewindStartAt$1(this,n,r,s),_callback$1(this,"onUpdate")),this._repeat&&u!==b&&this.vars.onRepeat&&!r&&this.parent&&_callback$1(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(h&&!this._onUpdate&&_rewindStartAt$1(this,n,!0,!0),(n||!c)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&_removeFromParent$1(this,1),!r&&!(h&&!a)&&(p||a||k)&&(_callback$1(this,p===l?"onComplete":"onReverseComplete",!0),this._prom&&!(p<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),o.prototype.invalidate.call(this,n)},t.resetTo=function(n,r,s,a,l){_tickerActive$1||_ticker$1.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||_initTween$1(this,c),h=this._ease(c/this._dur),_updatePropTweens$1(this,n,r,s,a,h,c,l)?this.resetTo(n,r,s,a,1):(_alignPlayhead$1(this,0),this.parent||_addLinkedListItem$1(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(n,r){if(r===void 0&&(r="all"),!n&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?_interrupt$1(this):this.scrollTrigger&&this.scrollTrigger.kill(!!_reverting$3),this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(n,r,_overwritingTween$1&&_overwritingTween$1.vars.overwrite!==!0)._first||_interrupt$1(this),this.parent&&s!==this.timeline.totalDuration()&&_setDuration$1(this,this._dur*this.timeline._tDur/s,0,1),this}var a=this._targets,l=n?toArray$1(n):a,c=this._ptLookup,h=this._pt,p,_,w,u,P,b,k;if((!r||r==="all")&&_arraysMatch$1(a,l))return r==="all"&&(this._pt=0),_interrupt$1(this);for(p=this._op=this._op||[],r!=="all"&&(_isString$1(r)&&(P={},_forEachName$1(r,function(E){return P[E]=1}),r=P),r=_addAliasesToVars$1(a,r)),k=a.length;k--;)if(~l.indexOf(a[k])){_=c[k],r==="all"?(p[k]=r,u=_,w={}):(w=p[k]=p[k]||{},u=r);for(P in u)b=_&&_[P],b&&((!("kill"in b.d)||b.d.kill(P)===!0)&&_removeLinkedListItem$1(this,b,"_pt"),delete _[P]),w!=="all"&&(w[P]=1)}return this._initted&&!this._pt&&h&&_interrupt$1(this),this},e.to=function(n,r){return new e(n,r,arguments[2])},e.from=function(n,r){return _createTweenType$1(1,arguments)},e.delayedCall=function(n,r,s,a){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:r,onReverseComplete:r,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:a})},e.fromTo=function(n,r,s){return _createTweenType$1(2,arguments)},e.set=function(n,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(n,r)},e.killTweensOf=function(n,r,s){return _globalTimeline$1.killTweensOf(n,r,s)},e}(Animation$1);_setDefaults$1$1(Tween$1.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});_forEachName$1("staggerTo,staggerFrom,staggerFromTo",function(o){Tween$1[o]=function(){var e=new Timeline$1,t=_slice$1.call(arguments,0);return t.splice(o==="staggerFromTo"?5:4,0,0),e[o].apply(e,t)}});var _setterPlain$1=function o(e,t,n){return e[t]=n},_setterFunc$1=function o(e,t,n){return e[t](n)},_setterFuncWithParam$1=function o(e,t,n,r){return e[t](r.fp,n)},_setterAttribute$1=function o(e,t,n){return e.setAttribute(t,n)},_getSetter$1=function o(e,t){return _isFunction$1$1(e[t])?_setterFunc$1:_isUndefined$2(e[t])&&e.setAttribute?_setterAttribute$1:_setterPlain$1},_renderPlain$1=function o(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},_renderBoolean$1=function o(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},_renderComplexString$1=function o(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},_renderPropTweens$1=function o(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},_addPluginModifier$1=function o(e,t,n,r){for(var s=this._pt,a;s;)a=s._next,s.p===r&&s.modifier(e,t,n),s=a},_killPropTweensOf$1=function o(e){for(var t=this._pt,n,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?_removeLinkedListItem$1(this,t,"_pt"):t.dep||(n=1),t=r;return!n},_setterWithModifier$1=function o(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},_sortPropTweensByPriority$1=function o(e){for(var t=e._pt,n,r,s,a;t;){for(n=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:a)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:a=t,t=n}e._pt=s},PropTween$1=function(){function o(t,n,r,s,a,l,c,h,p){this.t=n,this.s=s,this.c=a,this.p=r,this.r=l||_renderPlain$1,this.d=c||this,this.set=h||_setterPlain$1,this.pr=p||0,this._next=t,t&&(t._prev=this)}var e=o.prototype;return e.modifier=function(t,n,r){this.mSet=this.mSet||this.set,this.set=_setterWithModifier$1,this.m=t,this.mt=r,this.tween=n},o}();_forEachName$1(_callbackNames$1+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(o){return _reservedProps$1[o]=1});_globals$1.TweenMax=_globals$1.TweenLite=Tween$1;_globals$1.TimelineLite=_globals$1.TimelineMax=Timeline$1;_globalTimeline$1=new Timeline$1({sortChildren:!1,defaults:_defaults$1,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});_config$1.stringFilter=_colorStringFilter$1;var _media$1=[],_listeners$1={},_emptyArray$1=[],_lastMediaTime$1=0,_contextID$1=0,_dispatch$1=function o(e){return(_listeners$1[e]||_emptyArray$1).map(function(t){return t()})},_onMediaChange$1=function o(){var e=Date.now(),t=[];e-_lastMediaTime$1>2&&(_dispatch$1("matchMediaInit"),_media$1.forEach(function(n){var r=n.queries,s=n.conditions,a,l,c,h;for(l in r)a=_win$4.matchMedia(r[l]).matches,a&&(c=1),a!==s[l]&&(s[l]=a,h=1);h&&(n.revert(),c&&t.push(n))}),_dispatch$1("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(r){return n.add(null,r)})}),_lastMediaTime$1=e,_dispatch$1("matchMedia"))},Context$1=function(){function o(t,n){this.selector=n&&selector$1(n),this.data=[],this._r=[],this.isReverted=!1,this.id=_contextID$1++,t&&this.add(t)}var e=o.prototype;return e.add=function(t,n,r){_isFunction$1$1(t)&&(r=n,n=t,t=_isFunction$1$1);var s=this,a=function(){var l=_context$1$1,c=s.selector,h;return l&&l!==s&&l.data.push(s),r&&(s.selector=selector$1(r)),_context$1$1=s,h=n.apply(s,arguments),_isFunction$1$1(h)&&s._r.push(h),_context$1$1=l,s.selector=c,s.isReverted=!1,h};return s.last=a,t===_isFunction$1$1?a(s,function(l){return s.add(null,l)}):t?s[t]=a:a},e.ignore=function(t){var n=_context$1$1;_context$1$1=null,t(this),_context$1$1=n},e.getTweens=function(){var t=[];return this.data.forEach(function(n){return n instanceof o?t.push.apply(t,n.getTweens()):n instanceof Tween$1&&!(n.parent&&n.parent.data==="nested")&&t.push(n)}),t},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,n){var r=this;if(t?function(){for(var a=r.getTweens(),l=r.data.length,c;l--;)c=r.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(h){return a.splice(a.indexOf(h),1)}));for(a.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,p){return p.g-h.g||-1/0}).forEach(function(h){return h.t.revert(t)}),l=r.data.length;l--;)c=r.data[l],c instanceof Timeline$1?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof Tween$1)&&c.revert&&c.revert(t);r._r.forEach(function(h){return h(t,r)}),r.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),n)for(var s=_media$1.length;s--;)_media$1[s].id===this.id&&_media$1.splice(s,1)},e.revert=function(t){this.kill(t||{})},o}(),MatchMedia$1=function(){function o(t){this.contexts=[],this.scope=t,_context$1$1&&_context$1$1.data.push(this)}var e=o.prototype;return e.add=function(t,n,r){_isObject$1$1(t)||(t={matches:t});var s=new Context$1(0,r||this.scope),a=s.conditions={},l,c,h;_context$1$1&&!s.selector&&(s.selector=_context$1$1.selector),this.contexts.push(s),n=s.add("onMatch",n),s.queries=t;for(c in t)c==="all"?h=1:(l=_win$4.matchMedia(t[c]),l&&(_media$1.indexOf(s)<0&&_media$1.push(s),(a[c]=l.matches)&&(h=1),l.addListener?l.addListener(_onMediaChange$1):l.addEventListener("change",_onMediaChange$1)));return h&&n(s,function(p){return s.add(null,p)}),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach(function(n){return n.kill(t,!0)})},o}(),_gsap$1={registerPlugin:function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(r){return _createPlugin$1(r)})},timeline:function o(e){return new Timeline$1(e)},getTweensOf:function o(e,t){return _globalTimeline$1.getTweensOf(e,t)},getProperty:function o(e,t,n,r){_isString$1(e)&&(e=toArray$1(e)[0]);var s=_getCache$1(e||{}).get,a=n?_passThrough$1:_numericIfPossible$1;return n==="native"&&(n=""),e&&(t?a((_plugins$1[t]&&_plugins$1[t].get||s)(e,t,n,r)):function(l,c,h){return a((_plugins$1[l]&&_plugins$1[l].get||s)(e,l,c,h))})},quickSetter:function o(e,t,n){if(e=toArray$1(e),e.length>1){var r=e.map(function(p){return gsap$4.quickSetter(p,t,n)}),s=r.length;return function(p){for(var _=s;_--;)r[_](p)}}e=e[0]||{};var a=_plugins$1[t],l=_getCache$1(e),c=l.harness&&(l.harness.aliases||{})[t]||t,h=a?function(p){var _=new a;_quickTween$1._pt=0,_.init(e,n?p+n:p,_quickTween$1,0,[e]),_.render(1,_),_quickTween$1._pt&&_renderPropTweens$1(1,_quickTween$1)}:l.set(e,c);return a?h:function(p){return h(e,c,n?p+n:p,l,1)}},quickTo:function o(e,t,n){var r,s=gsap$4.to(e,_setDefaults$1$1((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),a=function(l,c,h){return s.resetTo(t,l,c,h)};return a.tween=s,a},isTweening:function o(e){return _globalTimeline$1.getTweensOf(e,!0).length>0},defaults:function o(e){return e&&e.ease&&(e.ease=_parseEase$1(e.ease,_defaults$1.ease)),_mergeDeep$1(_defaults$1,e||{})},config:function o(e){return _mergeDeep$1(_config$1,e||{})},registerEffect:function o(e){var t=e.name,n=e.effect,r=e.plugins,s=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach(function(l){return l&&!_plugins$1[l]&&!_globals$1[l]&&_warn$1(t+" effect requires "+l+" plugin.")}),_effects$1[t]=function(l,c,h){return n(toArray$1(l),_setDefaults$1$1(c||{},s),h)},a&&(Timeline$1.prototype[t]=function(l,c,h){return this.add(_effects$1[t](l,_isObject$1$1(c)?c:(h=c)&&{},this),h)})},registerEase:function o(e,t){_easeMap$1[e]=_parseEase$1(t)},parseEase:function o(e,t){return arguments.length?_parseEase$1(e,t):_easeMap$1},getById:function o(e){return _globalTimeline$1.getById(e)},exportRoot:function o(e,t){e===void 0&&(e={});var n=new Timeline$1(e),r,s;for(n.smoothChildTiming=_isNotFalse$1(e.smoothChildTiming),_globalTimeline$1.remove(n),n._dp=0,n._time=n._tTime=_globalTimeline$1._time,r=_globalTimeline$1._first;r;)s=r._next,(t||!(!r._dur&&r instanceof Tween$1&&r.vars.onComplete===r._targets[0]))&&_addToTimeline$1(n,r,r._start-r._delay),r=s;return _addToTimeline$1(_globalTimeline$1,n,0),n},context:function o(e,t){return e?new Context$1(e,t):_context$1$1},matchMedia:function o(e){return new MatchMedia$1(e)},matchMediaRefresh:function o(){return _media$1.forEach(function(e){var t=e.conditions,n,r;for(r in t)t[r]&&(t[r]=!1,n=1);n&&e.revert()})||_onMediaChange$1()},addEventListener:function o(e,t){var n=_listeners$1[e]||(_listeners$1[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function o(e,t){var n=_listeners$1[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:wrap$1,wrapYoyo:wrapYoyo$1,distribute:distribute$1,random:random$1,snap:snap$1,normalize:normalize$1,getUnit:getUnit$1,clamp:clamp$1,splitColor:splitColor$1,toArray:toArray$1,selector:selector$1,mapRange:mapRange$1,pipe:pipe$1,unitize:unitize$1,interpolate:interpolate$1,shuffle:shuffle$1},install:_install$1,effects:_effects$1,ticker:_ticker$1,updateRoot:Timeline$1.updateRoot,plugins:_plugins$1,globalTimeline:_globalTimeline$1,core:{PropTween:PropTween$1,globals:_addGlobal$1,Tween:Tween$1,Timeline:Timeline$1,Animation:Animation$1,getCache:_getCache$1,_removeLinkedListItem:_removeLinkedListItem$1,reverting:function o(){return _reverting$3},context:function o(e){return e&&_context$1$1&&(_context$1$1.data.push(e),e._ctx=_context$1$1),_context$1$1},suppressOverwrites:function o(e){return _suppressOverwrites$1=e}}};_forEachName$1("to,from,fromTo,delayedCall,set,killTweensOf",function(o){return _gsap$1[o]=Tween$1[o]});_ticker$1.add(Timeline$1.updateRoot);_quickTween$1=_gsap$1.to({},{duration:0});var _getPluginPropTween$1=function o(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},_addModifiers$1=function o(e,t){var n=e._targets,r,s,a;for(r in t)for(s=n.length;s--;)a=e._ptLookup[s][r],a&&(a=a.d)&&(a._pt&&(a=_getPluginPropTween$1(a,r)),a&&a.modifier&&a.modifier(t[r],e,n[s],r))},_buildModifierPlugin$1=function o(e,t){return{name:e,headless:1,rawVars:1,init:function(n,r,s){s._onInit=function(a){var l,c;if(_isString$1(r)&&(l={},_forEachName$1(r,function(h){return l[h]=1}),r=l),t){l={};for(c in r)l[c]=t(r[c]);r=l}_addModifiers$1(a,r)}}}},gsap$4=_gsap$1.registerPlugin({name:"attr",init:function o(e,t,n,r,s){var a,l,c;this.tween=n;for(a in t)c=e.getAttribute(a)||"",l=this.add(e,"setAttribute",(c||0)+"",t[a],r,s,0,0,a),l.op=a,l.b=c,this._props.push(a)},render:function o(e,t){for(var n=t._pt;n;)_reverting$3?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function o(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},_buildModifierPlugin$1("roundProps",_roundModifier$1),_buildModifierPlugin$1("modifiers"),_buildModifierPlugin$1("snap",snap$1))||_gsap$1;Tween$1.version=Timeline$1.version=gsap$4.version="3.13.0";_coreReady$1=1;_windowExists$3()&&_wake$1();_easeMap$1.Power0;_easeMap$1.Power1;_easeMap$1.Power2;_easeMap$1.Power3;_easeMap$1.Power4;_easeMap$1.Linear;_easeMap$1.Quad;_easeMap$1.Cubic;_easeMap$1.Quart;_easeMap$1.Quint;_easeMap$1.Strong;_easeMap$1.Elastic;_easeMap$1.Back;_easeMap$1.SteppedEase;_easeMap$1.Bounce;_easeMap$1.Sine;_easeMap$1.Expo;_easeMap$1.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _win$3$1,_doc$2$1,_docElement$2$1,_pluginInitted$1,_tempDiv$1$1,_recentSetterPlugin$1,_reverting$2,_windowExists$2$1=function o(){return typeof window<"u"},_transformProps$1={},_RAD2DEG$2=180/Math.PI,_DEG2RAD$2=Math.PI/180,_atan2$1=Math.atan2,_bigNum$2$1=1e8,_capsExp$1=/([A-Z])/g,_horizontalExp$1=/(left|right|width|margin|padding|x)/i,_complexExp$1=/[\s,\(]\S/,_propertyAliases$1={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_renderCSSProp$1=function o(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},_renderPropWithEnd$1=function o(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},_renderCSSPropWithBeginning$1=function o(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},_renderRoundedCSSProp$1=function o(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},_renderNonTweeningValue$1=function o(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},_renderNonTweeningValueOnlyAtEnd$1=function o(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},_setterCSSStyle$1=function o(e,t,n){return e.style[t]=n},_setterCSSProp$1=function o(e,t,n){return e.style.setProperty(t,n)},_setterTransform$1=function o(e,t,n){return e._gsap[t]=n},_setterScale$1=function o(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},_setterScaleWithRender$1=function o(e,t,n,r,s){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(s,a)},_setterTransformWithRender$1=function o(e,t,n,r,s){var a=e._gsap;a[t]=n,a.renderTransform(s,a)},_transformProp$2$1="transform",_transformOriginProp$2$1=_transformProp$2$1+"Origin",_saveStyle$1=function o(e,t){var n=this,r=this.target,s=r.style,a=r._gsap;if(e in _transformProps$1&&s){if(this.tfm=this.tfm||{},e!=="transform")e=_propertyAliases$1[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return n.tfm[l]=_get$1(r,l)}):this.tfm[e]=a.x?a[e]:_get$1(r,e),e===_transformOriginProp$2$1&&(this.tfm.zOrigin=a.zOrigin);else return _propertyAliases$1.transform.split(",").forEach(function(l){return o.call(n,l,t)});if(this.props.indexOf(_transformProp$2$1)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(_transformOriginProp$2$1,t,"")),e=_transformProp$2$1}(s||t)&&this.props.push(e,t,s[e])},_removeIndependentTransforms$1=function o(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},_revertStyle$1=function o(){var e=this.props,t=this.target,n=t.style,r=t._gsap,s,a;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(_capsExp$1,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=_reverting$2(),(!s||!s.isStart)&&!n[_transformProp$2$1]&&(_removeIndependentTransforms$1(n),r.zOrigin&&n[_transformOriginProp$2$1]&&(n[_transformOriginProp$2$1]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},_getStyleSaver$3=function o(e,t){var n={target:e,props:[],revert:_revertStyle$1,save:_saveStyle$1};return e._gsap||gsap$4.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return n.save(r)}),n},_supports3D$1$1,_createElement$1$1=function o(e,t){var n=_doc$2$1.createElementNS?_doc$2$1.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):_doc$2$1.createElement(e);return n&&n.style?n:_doc$2$1.createElement(e)},_getComputedProperty$1=function o(e,t,n){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(_capsExp$1,"-$1").toLowerCase())||r.getPropertyValue(t)||!n&&o(e,_checkPropPrefix$1(t)||t,1)||""},_prefixes$1="O,Moz,ms,Ms,Webkit".split(","),_checkPropPrefix$1=function o(e,t,n){var r=t||_tempDiv$1$1,s=r.style,a=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(_prefixes$1[a]+e in s););return a<0?null:(a===3?"ms":a>=0?_prefixes$1[a]:"")+e},_initCore$3=function o(){_windowExists$2$1()&&window.document&&(_win$3$1=window,_doc$2$1=_win$3$1.document,_docElement$2$1=_doc$2$1.documentElement,_tempDiv$1$1=_createElement$1$1("div")||{style:{}},_createElement$1$1("div"),_transformProp$2$1=_checkPropPrefix$1(_transformProp$2$1),_transformOriginProp$2$1=_transformProp$2$1+"Origin",_tempDiv$1$1.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_supports3D$1$1=!!_checkPropPrefix$1("perspective"),_reverting$2=gsap$4.core.reverting,_pluginInitted$1=1)},_getReparentedCloneBBox$1=function o(e){var t=e.ownerSVGElement,n=_createElement$1$1("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),s;r.style.display="block",n.appendChild(r),_docElement$2$1.appendChild(n);try{s=r.getBBox()}catch{}return n.removeChild(r),_docElement$2$1.removeChild(n),s},_getAttributeFallbacks$1=function o(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},_getBBox$1=function o(e){var t,n;try{t=e.getBBox()}catch{t=_getReparentedCloneBBox$1(e),n=1}return t&&(t.width||t.height)||n||(t=_getReparentedCloneBBox$1(e)),t&&!t.width&&!t.x&&!t.y?{x:+_getAttributeFallbacks$1(e,["x","cx","x1"])||0,y:+_getAttributeFallbacks$1(e,["y","cy","y1"])||0,width:0,height:0}:t},_isSVG$1=function o(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&_getBBox$1(e))},_removeProperty$1=function o(e,t){if(t){var n=e.style,r;t in _transformProps$1&&t!==_transformOriginProp$2$1&&(t=_transformProp$2$1),n.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(r==="--"?t:t.replace(_capsExp$1,"-$1").toLowerCase())):n.removeAttribute(t)}},_addNonTweeningPT$1=function o(e,t,n,r,s,a){var l=new PropTween$1(e._pt,t,n,0,1,a?_renderNonTweeningValueOnlyAtEnd$1:_renderNonTweeningValue$1);return e._pt=l,l.b=r,l.e=s,e._props.push(n),l},_nonConvertibleUnits$1={deg:1,rad:1,turn:1},_nonStandardLayouts$1={grid:1,flex:1},_convertToUnit$1=function o(e,t,n,r){var s=parseFloat(n)||0,a=(n+"").trim().substr((s+"").length)||"px",l=_tempDiv$1$1.style,c=_horizontalExp$1.test(t),h=e.tagName.toLowerCase()==="svg",p=(h?"client":"offset")+(c?"Width":"Height"),_=100,w=r==="px",u=r==="%",P,b,k,E;if(r===a||!s||_nonConvertibleUnits$1[r]||_nonConvertibleUnits$1[a])return s;if(a!=="px"&&!w&&(s=o(e,t,n,"px")),E=e.getCTM&&_isSVG$1(e),(u||a==="%")&&(_transformProps$1[t]||~t.indexOf("adius")))return P=E?e.getBBox()[c?"width":"height"]:e[p],_round$4(u?s/P*_:s/100*P);if(l[c?"width":"height"]=_+(w?a:r),b=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!h?e:e.parentNode,E&&(b=(e.ownerSVGElement||{}).parentNode),(!b||b===_doc$2$1||!b.appendChild)&&(b=_doc$2$1.body),k=b._gsap,k&&u&&k.width&&c&&k.time===_ticker$1.time&&!k.uncache)return _round$4(s/k.width*_);if(u&&(t==="height"||t==="width")){var R=e.style[t];e.style[t]=_+r,P=e[p],R?e.style[t]=R:_removeProperty$1(e,t)}else(u||a==="%")&&!_nonStandardLayouts$1[_getComputedProperty$1(b,"display")]&&(l.position=_getComputedProperty$1(e,"position")),b===e&&(l.position="static"),b.appendChild(_tempDiv$1$1),P=_tempDiv$1$1[p],b.removeChild(_tempDiv$1$1),l.position="absolute";return c&&u&&(k=_getCache$1(b),k.time=_ticker$1.time,k.width=b[p]),_round$4(w?P*s/_:P&&s?_/P*s:0)},_get$1=function o(e,t,n,r){var s;return _pluginInitted$1||_initCore$3(),t in _propertyAliases$1&&t!=="transform"&&(t=_propertyAliases$1[t],~t.indexOf(",")&&(t=t.split(",")[0])),_transformProps$1[t]&&t!=="transform"?(s=_parseTransform$1(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:_firstTwoOnly$1(_getComputedProperty$1(e,_transformOriginProp$2$1))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=_specialProps$1[t]&&_specialProps$1[t](e,t,n)||_getComputedProperty$1(e,t)||_getProperty$1(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?_convertToUnit$1(e,t,s,n)+n:s},_tweenComplexCSSString$1=function o(e,t,n,r){if(!n||n==="none"){var s=_checkPropPrefix$1(t,e,1),a=s&&_getComputedProperty$1(e,s,1);a&&a!==n?(t=s,n=a):t==="borderColor"&&(n=_getComputedProperty$1(e,"borderTopColor"))}var l=new PropTween$1(this._pt,e.style,t,0,1,_renderComplexString$1),c=0,h=0,p,_,w,u,P,b,k,E,R,L,C,M;if(l.b=n,l.e=r,n+="",r+="",r.substring(0,6)==="var(--"&&(r=_getComputedProperty$1(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(b=e.style[t],e.style[t]=r,r=_getComputedProperty$1(e,t)||r,b?e.style[t]=b:_removeProperty$1(e,t)),p=[n,r],_colorStringFilter$1(p),n=p[0],r=p[1],w=n.match(_numWithUnitExp$1)||[],M=r.match(_numWithUnitExp$1)||[],M.length){for(;_=_numWithUnitExp$1.exec(r);)k=_[0],R=r.substring(c,_.index),P?P=(P+1)%5:(R.substr(-5)==="rgba("||R.substr(-5)==="hsla(")&&(P=1),k!==(b=w[h++]||"")&&(u=parseFloat(b)||0,C=b.substr((u+"").length),k.charAt(1)==="="&&(k=_parseRelative$1(u,k)+C),E=parseFloat(k),L=k.substr((E+"").length),c=_numWithUnitExp$1.lastIndex-L.length,L||(L=L||_config$1.units[t]||C,c===r.length&&(r+=L,l.e+=L)),C!==L&&(u=_convertToUnit$1(e,t,b,L)||0),l._pt={_next:l._pt,p:R||h===1?R:",",s:u,c:E-u,m:P&&P<4||t==="zIndex"?Math.round:0});l.c=c<r.length?r.substring(c,r.length):""}else l.r=t==="display"&&r==="none"?_renderNonTweeningValueOnlyAtEnd$1:_renderNonTweeningValue$1;return _relExp$1.test(r)&&(l.e=0),this._pt=l,l},_keywordToPercent$1={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_convertKeywordsToPercentages$1=function o(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return(n==="top"||n==="bottom"||r==="left"||r==="right")&&(e=n,n=r,r=e),t[0]=_keywordToPercent$1[n]||n,t[1]=_keywordToPercent$1[r]||r,t.join(" ")},_renderClearProps$1=function o(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,r=n.style,s=t.u,a=n._gsap,l,c,h;if(s==="all"||s===!0)r.cssText="",c=1;else for(s=s.split(","),h=s.length;--h>-1;)l=s[h],_transformProps$1[l]&&(c=1,l=l==="transformOrigin"?_transformOriginProp$2$1:_transformProp$2$1),_removeProperty$1(n,l);c&&(_removeProperty$1(n,_transformProp$2$1),a&&(a.svg&&n.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",_parseTransform$1(n,1),a.uncache=1,_removeIndependentTransforms$1(r)))}},_specialProps$1={clearProps:function o(e,t,n,r,s){if(s.data!=="isFromStart"){var a=e._pt=new PropTween$1(e._pt,t,n,0,0,_renderClearProps$1);return a.u=r,a.pr=-10,a.tween=s,e._props.push(n),1}}},_identity2DMatrix$1=[1,0,0,1,0,0],_rotationalProperties$1={},_isNullTransform$1=function o(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},_getComputedTransformMatrixAsArray$1=function o(e){var t=_getComputedProperty$1(e,_transformProp$2$1);return _isNullTransform$1(t)?_identity2DMatrix$1:t.substr(7).match(_numExp$3).map(_round$4)},_getMatrix$1=function o(e,t){var n=e._gsap||_getCache$1(e),r=e.style,s=_getComputedTransformMatrixAsArray$1(e),a,l,c,h;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?_identity2DMatrix$1:s):(s===_identity2DMatrix$1&&!e.offsetParent&&e!==_docElement$2$1&&!n.svg&&(c=r.display,r.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,l=e.nextElementSibling,_docElement$2$1.appendChild(e)),s=_getComputedTransformMatrixAsArray$1(e),c?r.display=c:_removeProperty$1(e,"display"),h&&(l?a.insertBefore(e,l):a?a.appendChild(e):_docElement$2$1.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},_applySVGOrigin$1=function o(e,t,n,r,s,a){var l=e._gsap,c=s||_getMatrix$1(e,!0),h=l.xOrigin||0,p=l.yOrigin||0,_=l.xOffset||0,w=l.yOffset||0,u=c[0],P=c[1],b=c[2],k=c[3],E=c[4],R=c[5],L=t.split(" "),C=parseFloat(L[0])||0,M=parseFloat(L[1])||0,N,F,I,V;n?c!==_identity2DMatrix$1&&(F=u*k-P*b)&&(I=C*(k/F)+M*(-b/F)+(b*R-k*E)/F,V=C*(-P/F)+M*(u/F)-(u*R-P*E)/F,C=I,M=V):(N=_getBBox$1(e),C=N.x+(~L[0].indexOf("%")?C/100*N.width:C),M=N.y+(~(L[1]||L[0]).indexOf("%")?M/100*N.height:M)),r||r!==!1&&l.smooth?(E=C-h,R=M-p,l.xOffset=_+(E*u+R*b)-E,l.yOffset=w+(E*P+R*k)-R):l.xOffset=l.yOffset=0,l.xOrigin=C,l.yOrigin=M,l.smooth=!!r,l.origin=t,l.originIsAbsolute=!!n,e.style[_transformOriginProp$2$1]="0px 0px",a&&(_addNonTweeningPT$1(a,l,"xOrigin",h,C),_addNonTweeningPT$1(a,l,"yOrigin",p,M),_addNonTweeningPT$1(a,l,"xOffset",_,l.xOffset),_addNonTweeningPT$1(a,l,"yOffset",w,l.yOffset)),e.setAttribute("data-svg-origin",C+" "+M)},_parseTransform$1=function o(e,t){var n=e._gsap||new GSCache$1(e);if("x"in n&&!t&&!n.uncache)return n;var r=e.style,s=n.scaleX<0,a="px",l="deg",c=getComputedStyle(e),h=_getComputedProperty$1(e,_transformOriginProp$2$1)||"0",p,_,w,u,P,b,k,E,R,L,C,M,N,F,I,V,Ie,le,Ae,se,Wt,Rt,Ve,_t,$i,mn,At,je,Me,Ye,Fe,zi;return p=_=w=b=k=E=R=L=C=0,u=P=1,n.svg=!!(e.getCTM&&_isSVG$1(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(r[_transformProp$2$1]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[_transformProp$2$1]!=="none"?c[_transformProp$2$1]:"")),r.scale=r.rotate=r.translate="none"),F=_getMatrix$1(e,n.svg),n.svg&&(n.uncache?($i=e.getBBox(),h=n.xOrigin-$i.x+"px "+(n.yOrigin-$i.y)+"px",_t=""):_t=!t&&e.getAttribute("data-svg-origin"),_applySVGOrigin$1(e,_t||h,!!_t||n.originIsAbsolute,n.smooth!==!1,F)),M=n.xOrigin||0,N=n.yOrigin||0,F!==_identity2DMatrix$1&&(le=F[0],Ae=F[1],se=F[2],Wt=F[3],p=Rt=F[4],_=Ve=F[5],F.length===6?(u=Math.sqrt(le*le+Ae*Ae),P=Math.sqrt(Wt*Wt+se*se),b=le||Ae?_atan2$1(Ae,le)*_RAD2DEG$2:0,R=se||Wt?_atan2$1(se,Wt)*_RAD2DEG$2+b:0,R&&(P*=Math.abs(Math.cos(R*_DEG2RAD$2))),n.svg&&(p-=M-(M*le+N*se),_-=N-(M*Ae+N*Wt))):(zi=F[6],Ye=F[7],At=F[8],je=F[9],Me=F[10],Fe=F[11],p=F[12],_=F[13],w=F[14],I=_atan2$1(zi,Me),k=I*_RAD2DEG$2,I&&(V=Math.cos(-I),Ie=Math.sin(-I),_t=Rt*V+At*Ie,$i=Ve*V+je*Ie,mn=zi*V+Me*Ie,At=Rt*-Ie+At*V,je=Ve*-Ie+je*V,Me=zi*-Ie+Me*V,Fe=Ye*-Ie+Fe*V,Rt=_t,Ve=$i,zi=mn),I=_atan2$1(-se,Me),E=I*_RAD2DEG$2,I&&(V=Math.cos(-I),Ie=Math.sin(-I),_t=le*V-At*Ie,$i=Ae*V-je*Ie,mn=se*V-Me*Ie,Fe=Wt*Ie+Fe*V,le=_t,Ae=$i,se=mn),I=_atan2$1(Ae,le),b=I*_RAD2DEG$2,I&&(V=Math.cos(I),Ie=Math.sin(I),_t=le*V+Ae*Ie,$i=Rt*V+Ve*Ie,Ae=Ae*V-le*Ie,Ve=Ve*V-Rt*Ie,le=_t,Rt=$i),k&&Math.abs(k)+Math.abs(b)>359.9&&(k=b=0,E=180-E),u=_round$4(Math.sqrt(le*le+Ae*Ae+se*se)),P=_round$4(Math.sqrt(Ve*Ve+zi*zi)),I=_atan2$1(Rt,Ve),R=Math.abs(I)>2e-4?I*_RAD2DEG$2:0,C=Fe?1/(Fe<0?-Fe:Fe):0),n.svg&&(_t=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!_isNullTransform$1(_getComputedProperty$1(e,_transformProp$2$1)),_t&&e.setAttribute("transform",_t))),Math.abs(R)>90&&Math.abs(R)<270&&(s?(u*=-1,R+=b<=0?180:-180,b+=b<=0?180:-180):(P*=-1,R+=R<=0?180:-180)),t=t||n.uncache,n.x=p-((n.xPercent=p&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-p)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+a,n.y=_-((n.yPercent=_&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-_)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+a,n.z=w+a,n.scaleX=_round$4(u),n.scaleY=_round$4(P),n.rotation=_round$4(b)+l,n.rotationX=_round$4(k)+l,n.rotationY=_round$4(E)+l,n.skewX=R+l,n.skewY=L+l,n.transformPerspective=C+a,(n.zOrigin=parseFloat(h.split(" ")[2])||!t&&n.zOrigin||0)&&(r[_transformOriginProp$2$1]=_firstTwoOnly$1(h)),n.xOffset=n.yOffset=0,n.force3D=_config$1.force3D,n.renderTransform=n.svg?_renderSVGTransforms$1:_supports3D$1$1?_renderCSSTransforms$1:_renderNon3DTransforms$1,n.uncache=0,n},_firstTwoOnly$1=function o(e){return(e=e.split(" "))[0]+" "+e[1]},_addPxTranslate$1=function o(e,t,n){var r=getUnit$1(t);return _round$4(parseFloat(t)+parseFloat(_convertToUnit$1(e,"x",n+"px",r)))+r},_renderNon3DTransforms$1=function o(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,_renderCSSTransforms$1(e,t)},_zeroDeg$1="0deg",_zeroPx$1="0px",_endParenthesis$1=") ",_renderCSSTransforms$1=function o(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,a=n.x,l=n.y,c=n.z,h=n.rotation,p=n.rotationY,_=n.rotationX,w=n.skewX,u=n.skewY,P=n.scaleX,b=n.scaleY,k=n.transformPerspective,E=n.force3D,R=n.target,L=n.zOrigin,C="",M=E==="auto"&&e&&e!==1||E===!0;if(L&&(_!==_zeroDeg$1||p!==_zeroDeg$1)){var N=parseFloat(p)*_DEG2RAD$2,F=Math.sin(N),I=Math.cos(N),V;N=parseFloat(_)*_DEG2RAD$2,V=Math.cos(N),a=_addPxTranslate$1(R,a,F*V*-L),l=_addPxTranslate$1(R,l,-Math.sin(N)*-L),c=_addPxTranslate$1(R,c,I*V*-L+L)}k!==_zeroPx$1&&(C+="perspective("+k+_endParenthesis$1),(r||s)&&(C+="translate("+r+"%, "+s+"%) "),(M||a!==_zeroPx$1||l!==_zeroPx$1||c!==_zeroPx$1)&&(C+=c!==_zeroPx$1||M?"translate3d("+a+", "+l+", "+c+") ":"translate("+a+", "+l+_endParenthesis$1),h!==_zeroDeg$1&&(C+="rotate("+h+_endParenthesis$1),p!==_zeroDeg$1&&(C+="rotateY("+p+_endParenthesis$1),_!==_zeroDeg$1&&(C+="rotateX("+_+_endParenthesis$1),(w!==_zeroDeg$1||u!==_zeroDeg$1)&&(C+="skew("+w+", "+u+_endParenthesis$1),(P!==1||b!==1)&&(C+="scale("+P+", "+b+_endParenthesis$1),R.style[_transformProp$2$1]=C||"translate(0, 0)"},_renderSVGTransforms$1=function o(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,a=n.x,l=n.y,c=n.rotation,h=n.skewX,p=n.skewY,_=n.scaleX,w=n.scaleY,u=n.target,P=n.xOrigin,b=n.yOrigin,k=n.xOffset,E=n.yOffset,R=n.forceCSS,L=parseFloat(a),C=parseFloat(l),M,N,F,I,V;c=parseFloat(c),h=parseFloat(h),p=parseFloat(p),p&&(p=parseFloat(p),h+=p,c+=p),c||h?(c*=_DEG2RAD$2,h*=_DEG2RAD$2,M=Math.cos(c)*_,N=Math.sin(c)*_,F=Math.sin(c-h)*-w,I=Math.cos(c-h)*w,h&&(p*=_DEG2RAD$2,V=Math.tan(h-p),V=Math.sqrt(1+V*V),F*=V,I*=V,p&&(V=Math.tan(p),V=Math.sqrt(1+V*V),M*=V,N*=V)),M=_round$4(M),N=_round$4(N),F=_round$4(F),I=_round$4(I)):(M=_,I=w,N=F=0),(L&&!~(a+"").indexOf("px")||C&&!~(l+"").indexOf("px"))&&(L=_convertToUnit$1(u,"x",a,"px"),C=_convertToUnit$1(u,"y",l,"px")),(P||b||k||E)&&(L=_round$4(L+P-(P*M+b*F)+k),C=_round$4(C+b-(P*N+b*I)+E)),(r||s)&&(V=u.getBBox(),L=_round$4(L+r/100*V.width),C=_round$4(C+s/100*V.height)),V="matrix("+M+","+N+","+F+","+I+","+L+","+C+")",u.setAttribute("transform",V),R&&(u.style[_transformProp$2$1]=V)},_addRotationalPropTween$1=function o(e,t,n,r,s){var a=360,l=_isString$1(s),c=parseFloat(s)*(l&&~s.indexOf("rad")?_RAD2DEG$2:1),h=c-r,p=r+h+"deg",_,w;return l&&(_=s.split("_")[1],_==="short"&&(h%=a,h!==h%(a/2)&&(h+=h<0?a:-360)),_==="cw"&&h<0?h=(h+a*_bigNum$2$1)%a-~~(h/a)*a:_==="ccw"&&h>0&&(h=(h-a*_bigNum$2$1)%a-~~(h/a)*a)),e._pt=w=new PropTween$1(e._pt,t,n,r,h,_renderPropWithEnd$1),w.e=p,w.u="deg",e._props.push(n),w},_assign$1=function o(e,t){for(var n in t)e[n]=t[n];return e},_addRawTransformPTs$1=function o(e,t,n){var r=_assign$1({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",a=n.style,l,c,h,p,_,w,u,P;r.svg?(h=n.getAttribute("transform"),n.setAttribute("transform",""),a[_transformProp$2$1]=t,l=_parseTransform$1(n,1),_removeProperty$1(n,_transformProp$2$1),n.setAttribute("transform",h)):(h=getComputedStyle(n)[_transformProp$2$1],a[_transformProp$2$1]=t,l=_parseTransform$1(n,1),a[_transformProp$2$1]=h);for(c in _transformProps$1)h=r[c],p=l[c],h!==p&&s.indexOf(c)<0&&(u=getUnit$1(h),P=getUnit$1(p),_=u!==P?_convertToUnit$1(n,c,h,P):parseFloat(h),w=parseFloat(p),e._pt=new PropTween$1(e._pt,l,c,_,w-_,_renderCSSProp$1),e._pt.u=P||0,e._props.push(c));_assign$1(l,r)};_forEachName$1("padding,margin,Width,Radius",function(o,e){var t="Top",n="Right",r="Bottom",s="Left",a=(e<3?[t,n,r,s]:[t+s,t+n,r+n,r+s]).map(function(l){return e<2?o+l:"border"+l+o});_specialProps$1[e>1?"border"+o:o]=function(l,c,h,p,_){var w,u;if(arguments.length<4)return w=a.map(function(P){return _get$1(l,P,h)}),u=w.join(" "),u.split(w[0]).length===5?w[0]:u;w=(p+"").split(" "),u={},a.forEach(function(P,b){return u[P]=w[b]=w[b]||w[(b-1)/2|0]}),l.init(c,u,_)}});var CSSPlugin$1={name:"css",register:_initCore$3,targetTest:function o(e){return e.style&&e.nodeType},init:function o(e,t,n,r,s){var a=this._props,l=e.style,c=n.vars.startAt,h,p,_,w,u,P,b,k,E,R,L,C,M,N,F,I;_pluginInitted$1||_initCore$3(),this.styles=this.styles||_getStyleSaver$3(e),I=this.styles.props,this.tween=n;for(b in t)if(b!=="autoRound"&&(p=t[b],!(_plugins$1[b]&&_checkPlugin$1(b,t,n,r,e,s)))){if(u=typeof p,P=_specialProps$1[b],u==="function"&&(p=p.call(n,r,e,s),u=typeof p),u==="string"&&~p.indexOf("random(")&&(p=_replaceRandom$1(p)),P)P(this,e,b,p,n)&&(F=1);else if(b.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(b)+"").trim(),p+="",_colorExp$1.lastIndex=0,_colorExp$1.test(h)||(k=getUnit$1(h),E=getUnit$1(p)),E?k!==E&&(h=_convertToUnit$1(e,b,h,E)+E):k&&(p+=k),this.add(l,"setProperty",h,p,r,s,0,0,b),a.push(b),I.push(b,0,l[b]);else if(u!=="undefined"){if(c&&b in c?(h=typeof c[b]=="function"?c[b].call(n,r,e,s):c[b],_isString$1(h)&&~h.indexOf("random(")&&(h=_replaceRandom$1(h)),getUnit$1(h+"")||h==="auto"||(h+=_config$1.units[b]||getUnit$1(_get$1(e,b))||""),(h+"").charAt(1)==="="&&(h=_get$1(e,b))):h=_get$1(e,b),w=parseFloat(h),R=u==="string"&&p.charAt(1)==="="&&p.substr(0,2),R&&(p=p.substr(2)),_=parseFloat(p),b in _propertyAliases$1&&(b==="autoAlpha"&&(w===1&&_get$1(e,"visibility")==="hidden"&&_&&(w=0),I.push("visibility",0,l.visibility),_addNonTweeningPT$1(this,l,"visibility",w?"inherit":"hidden",_?"inherit":"hidden",!_)),b!=="scale"&&b!=="transform"&&(b=_propertyAliases$1[b],~b.indexOf(",")&&(b=b.split(",")[0]))),L=b in _transformProps$1,L){if(this.styles.save(b),u==="string"&&p.substring(0,6)==="var(--"&&(p=_getComputedProperty$1(e,p.substring(4,p.indexOf(")"))),_=parseFloat(p)),C||(M=e._gsap,M.renderTransform&&!t.parseTransform||_parseTransform$1(e,t.parseTransform),N=t.smoothOrigin!==!1&&M.smooth,C=this._pt=new PropTween$1(this._pt,l,_transformProp$2$1,0,1,M.renderTransform,M,0,-1),C.dep=1),b==="scale")this._pt=new PropTween$1(this._pt,M,"scaleY",M.scaleY,(R?_parseRelative$1(M.scaleY,R+_):_)-M.scaleY||0,_renderCSSProp$1),this._pt.u=0,a.push("scaleY",b),b+="X";else if(b==="transformOrigin"){I.push(_transformOriginProp$2$1,0,l[_transformOriginProp$2$1]),p=_convertKeywordsToPercentages$1(p),M.svg?_applySVGOrigin$1(e,p,0,N,0,this):(E=parseFloat(p.split(" ")[2])||0,E!==M.zOrigin&&_addNonTweeningPT$1(this,M,"zOrigin",M.zOrigin,E),_addNonTweeningPT$1(this,l,b,_firstTwoOnly$1(h),_firstTwoOnly$1(p)));continue}else if(b==="svgOrigin"){_applySVGOrigin$1(e,p,1,N,0,this);continue}else if(b in _rotationalProperties$1){_addRotationalPropTween$1(this,M,b,w,R?_parseRelative$1(w,R+p):p);continue}else if(b==="smoothOrigin"){_addNonTweeningPT$1(this,M,"smooth",M.smooth,p);continue}else if(b==="force3D"){M[b]=p;continue}else if(b==="transform"){_addRawTransformPTs$1(this,p,e);continue}}else b in l||(b=_checkPropPrefix$1(b)||b);if(L||(_||_===0)&&(w||w===0)&&!_complexExp$1.test(p)&&b in l)k=(h+"").substr((w+"").length),_||(_=0),E=getUnit$1(p)||(b in _config$1.units?_config$1.units[b]:k),k!==E&&(w=_convertToUnit$1(e,b,h,E)),this._pt=new PropTween$1(this._pt,L?M:l,b,w,(R?_parseRelative$1(w,R+_):_)-w,!L&&(E==="px"||b==="zIndex")&&t.autoRound!==!1?_renderRoundedCSSProp$1:_renderCSSProp$1),this._pt.u=E||0,k!==E&&E!=="%"&&(this._pt.b=h,this._pt.r=_renderCSSPropWithBeginning$1);else if(b in l)_tweenComplexCSSString$1.call(this,e,b,h,R?R+p:p);else if(b in e)this.add(e,b,h||e[b],R?R+p:p,r,s);else if(b!=="parseTransform"){_missingPlugin$1(b,p);continue}L||(b in l?I.push(b,0,l[b]):typeof e[b]=="function"?I.push(b,2,e[b]()):I.push(b,1,h||e[b])),a.push(b)}}F&&_sortPropTweensByPriority$1(this)},render:function o(e,t){if(t.tween._time||!_reverting$2())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:_get$1,aliases:_propertyAliases$1,getSetter:function o(e,t,n){var r=_propertyAliases$1[t];return r&&r.indexOf(",")<0&&(t=r),t in _transformProps$1&&t!==_transformOriginProp$2$1&&(e._gsap.x||_get$1(e,"x"))?n&&_recentSetterPlugin$1===n?t==="scale"?_setterScale$1:_setterTransform$1:(_recentSetterPlugin$1=n||{})&&(t==="scale"?_setterScaleWithRender$1:_setterTransformWithRender$1):e.style&&!_isUndefined$2(e.style[t])?_setterCSSStyle$1:~t.indexOf("-")?_setterCSSProp$1:_getSetter$1(e,t)},core:{_removeProperty:_removeProperty$1,_getMatrix:_getMatrix$1}};gsap$4.utils.checkPrefix=_checkPropPrefix$1;gsap$4.core.getStyleSaver=_getStyleSaver$3;(function(o,e,t,n){var r=_forEachName$1(o+","+e+","+t,function(s){_transformProps$1[s]=1});_forEachName$1(e,function(s){_config$1.units[s]="deg",_rotationalProperties$1[s]=1}),_propertyAliases$1[r[13]]=o+","+e,_forEachName$1(n,function(s){var a=s.split(":");_propertyAliases$1[a[1]]=r[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");_forEachName$1("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(o){_config$1.units[o]="px"});gsap$4.registerPlugin(CSSPlugin$1);var gsapWithCSS$1=gsap$4.registerPlugin(CSSPlugin$1)||gsap$4;gsapWithCSS$1.core.Tween;/*!
 * matrix 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _doc$1$1,_win$2$1,_docElement$1$1,_body$1$1,_divContainer$1,_svgContainer$1,_identityMatrix$1$1,_gEl$1,_transformProp$1$1="transform",_transformOriginProp$1$1=_transformProp$1$1+"Origin",_hasOffsetBug$1,_setDoc$1=function o(e){var t=e.ownerDocument||e;for(!(_transformProp$1$1 in e.style)&&("msTransform"in e.style)&&(_transformProp$1$1="msTransform",_transformOriginProp$1$1=_transformProp$1$1+"Origin");t.parentNode&&(t=t.parentNode););if(_win$2$1=window,_identityMatrix$1$1=new Matrix2D$1,t){_doc$1$1=t,_docElement$1$1=t.documentElement,_body$1$1=t.body,_gEl$1=_doc$1$1.createElementNS("http://www.w3.org/2000/svg","g"),_gEl$1.style.transform="none";var n=t.createElement("div"),r=t.createElement("div"),s=t&&(t.body||t.firstElementChild);s&&s.appendChild&&(s.appendChild(n),n.appendChild(r),n.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),_hasOffsetBug$1=r.offsetParent!==n,s.removeChild(n))}return t},_forceNonZeroScale$1=function o(e){for(var t,n;e&&e!==_body$1$1;)n=e._gsap,n&&n.uncache&&n.get(e,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),t?t.push(n):t=[n]),e=e.parentNode;return t},_svgTemps$1=[],_divTemps$1=[],_getDocScrollTop$1$1=function o(){return _win$2$1.pageYOffset||_doc$1$1.scrollTop||_docElement$1$1.scrollTop||_body$1$1.scrollTop||0},_getDocScrollLeft$1$1=function o(){return _win$2$1.pageXOffset||_doc$1$1.scrollLeft||_docElement$1$1.scrollLeft||_body$1$1.scrollLeft||0},_svgOwner$1=function o(e){return e.ownerSVGElement||((e.tagName+"").toLowerCase()==="svg"?e:null)},_isFixed$1$1=function o(e){if(_win$2$1.getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return o(e)},_createSibling$1=function o(e,t){if(e.parentNode&&(_doc$1$1||_setDoc$1(e))){var n=_svgOwner$1(e),r=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",s=n?t?"rect":"g":"div",a=t!==2?0:100,l=t===3?100:0,c="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",h=_doc$1$1.createElementNS?_doc$1$1.createElementNS(r.replace(/^https/,"http"),s):_doc$1$1.createElement(s);return t&&(n?(_svgContainer$1||(_svgContainer$1=o(e)),h.setAttribute("width",.01),h.setAttribute("height",.01),h.setAttribute("transform","translate("+a+","+l+")"),_svgContainer$1.appendChild(h)):(_divContainer$1||(_divContainer$1=o(e),_divContainer$1.style.cssText=c),h.style.cssText=c+"width:0.1px;height:0.1px;top:"+l+"px;left:"+a+"px",_divContainer$1.appendChild(h))),h}throw"Need document and parent."},_consolidate$1=function o(e){for(var t=new Matrix2D$1,n=0;n<e.numberOfItems;n++)t.multiply(e.getItem(n).matrix);return t},_getCTM$1=function o(e){var t=e.getCTM(),n;return t||(n=e.style[_transformProp$1$1],e.style[_transformProp$1$1]="none",e.appendChild(_gEl$1),t=_gEl$1.getCTM(),e.removeChild(_gEl$1),n?e.style[_transformProp$1$1]=n:e.style.removeProperty(_transformProp$1$1.replace(/([A-Z])/g,"-$1").toLowerCase())),t||_identityMatrix$1$1.clone()},_placeSiblings$1=function o(e,t){var n=_svgOwner$1(e),r=e===n,s=n?_svgTemps$1:_divTemps$1,a=e.parentNode,l=a&&!n&&a.shadowRoot&&a.shadowRoot.appendChild?a.shadowRoot:a,c,h,p,_,w,u;if(e===_win$2$1)return e;if(s.length||s.push(_createSibling$1(e,1),_createSibling$1(e,2),_createSibling$1(e,3)),c=n?_svgContainer$1:_divContainer$1,n)r?(p=_getCTM$1(e),_=-p.e/p.a,w=-p.f/p.d,h=_identityMatrix$1$1):e.getBBox?(p=e.getBBox(),h=e.transform?e.transform.baseVal:{},h=h.numberOfItems?h.numberOfItems>1?_consolidate$1(h):h.getItem(0).matrix:_identityMatrix$1$1,_=h.a*p.x+h.c*p.y,w=h.b*p.x+h.d*p.y):(h=new Matrix2D$1,_=w=0),t&&e.tagName.toLowerCase()==="g"&&(_=w=0),(r?n:a).appendChild(c),c.setAttribute("transform","matrix("+h.a+","+h.b+","+h.c+","+h.d+","+(h.e+_)+","+(h.f+w)+")");else{if(_=w=0,_hasOffsetBug$1)for(h=e.offsetParent,p=e;p&&(p=p.parentNode)&&p!==h&&p.parentNode;)(_win$2$1.getComputedStyle(p)[_transformProp$1$1]+"").length>4&&(_=p.offsetLeft,w=p.offsetTop,p=0);if(u=_win$2$1.getComputedStyle(e),u.position!=="absolute"&&u.position!=="fixed")for(h=e.offsetParent;a&&a!==h;)_+=a.scrollLeft||0,w+=a.scrollTop||0,a=a.parentNode;p=c.style,p.top=e.offsetTop-w+"px",p.left=e.offsetLeft-_+"px",p[_transformProp$1$1]=u[_transformProp$1$1],p[_transformOriginProp$1$1]=u[_transformOriginProp$1$1],p.position=u.position==="fixed"?"fixed":"absolute",l.appendChild(c)}return c},_setMatrix$1=function o(e,t,n,r,s,a,l){return e.a=t,e.b=n,e.c=r,e.d=s,e.e=a,e.f=l,e},Matrix2D$1=function(){function o(t,n,r,s,a,l){t===void 0&&(t=1),n===void 0&&(n=0),r===void 0&&(r=0),s===void 0&&(s=1),a===void 0&&(a=0),l===void 0&&(l=0),_setMatrix$1(this,t,n,r,s,a,l)}var e=o.prototype;return e.inverse=function(){var t=this.a,n=this.b,r=this.c,s=this.d,a=this.e,l=this.f,c=t*s-n*r||1e-10;return _setMatrix$1(this,s/c,-n/c,-r/c,t/c,(r*l-s*a)/c,-(t*l-n*a)/c)},e.multiply=function(t){var n=this.a,r=this.b,s=this.c,a=this.d,l=this.e,c=this.f,h=t.a,p=t.c,_=t.b,w=t.d,u=t.e,P=t.f;return _setMatrix$1(this,h*n+_*s,h*r+_*a,p*n+w*s,p*r+w*a,l+u*n+P*s,c+u*r+P*a)},e.clone=function(){return new o(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(t){var n=this.a,r=this.b,s=this.c,a=this.d,l=this.e,c=this.f;return n===t.a&&r===t.b&&s===t.c&&a===t.d&&l===t.e&&c===t.f},e.apply=function(t,n){n===void 0&&(n={});var r=t.x,s=t.y,a=this.a,l=this.b,c=this.c,h=this.d,p=this.e,_=this.f;return n.x=r*a+s*c+p||0,n.y=r*l+s*h+_||0,n},o}();function getGlobalMatrix$1(o,e,t,n){if(!o||!o.parentNode||(_doc$1$1||_setDoc$1(o)).documentElement===o)return new Matrix2D$1;var r=_forceNonZeroScale$1(o),s=_svgOwner$1(o),a=s?_svgTemps$1:_divTemps$1,l=_placeSiblings$1(o,t),c=a[0].getBoundingClientRect(),h=a[1].getBoundingClientRect(),p=a[2].getBoundingClientRect(),_=l.parentNode,w=!n&&_isFixed$1$1(o),u=new Matrix2D$1((h.left-c.left)/100,(h.top-c.top)/100,(p.left-c.left)/100,(p.top-c.top)/100,c.left+(w?0:_getDocScrollLeft$1$1()),c.top+(w?0:_getDocScrollTop$1$1()));if(_.removeChild(l),r)for(c=r.length;c--;)h=r[c],h.scaleX=h.scaleY=0,h.renderTransform(1,h);return e?u.inverse():u}function _assertThisInitialized$2(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _inheritsLoose$2(o,e){o.prototype=Object.create(e.prototype),o.prototype.constructor=o,o.__proto__=e}var gsap$3,_win$1$1,_doc$4,_docElement$3,_body$2,_tempDiv$2,_placeholderDiv$1,_coreInitted$2,_checkPrefix$1,_toArray$2,_supportsPassive$1,_isTouchDevice$1,_touchEventLookup$1,_isMultiTouching$1,_isAndroid$1,InertiaPlugin$1,_defaultCursor$1,_supportsPointer$1,_context$2,_getStyleSaver$2,_dragCount$1=0,_windowExists$1$1=function o(){return typeof window<"u"},_getGSAP$3=function o(){return gsap$3||_windowExists$1$1()&&(gsap$3=window.gsap)&&gsap$3.registerPlugin&&gsap$3},_isFunction$2=function o(e){return typeof e=="function"},_isObject$2=function o(e){return typeof e=="object"},_isUndefined$1$1=function o(e){return typeof e>"u"},_emptyFunc$1$1=function o(){return!1},_transformProp$3="transform",_transformOriginProp$3="transformOrigin",_round$3=function o(e){return Math.round(e*1e4)/1e4},_isArray$2=Array.isArray,_createElement$2=function o(e,t){var n=_doc$4.createElementNS?_doc$4.createElementNS("http://www.w3.org/1999/xhtml".replace(/^https/,"http"),e):_doc$4.createElement(e);return n.style?n:_doc$4.createElement(e)},_RAD2DEG$1$1=180/Math.PI,_bigNum$1$1=1e20,_identityMatrix$2=new Matrix2D$1,_getTime$1=Date.now||function(){return new Date().getTime()},_renderQueue$1=[],_lookup$1={},_lookupCount$1=0,_clickableTagExp$1=/^(?:a|input|textarea|button|select)$/i,_lastDragTime$1=0,_temp1$1={},_windowProxy$1={},_copy$1=function o(e,t){var n={},r;for(r in e)n[r]=t?e[r]*t:e[r];return n},_extend$1=function o(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},_setTouchActionForAllDescendants$1=function o(e,t){for(var n=e.length,r;n--;)t?e[n].style.touchAction=t:e[n].style.removeProperty("touch-action"),r=e[n].children,r&&r.length&&o(r,t)},_renderQueueTick$1=function o(){return _renderQueue$1.forEach(function(e){return e()})},_addToRenderQueue$1=function o(e){_renderQueue$1.push(e),_renderQueue$1.length===1&&gsap$3.ticker.add(_renderQueueTick$1)},_renderQueueTimeout$1=function o(){return!_renderQueue$1.length&&gsap$3.ticker.remove(_renderQueueTick$1)},_removeFromRenderQueue$1=function o(e){for(var t=_renderQueue$1.length;t--;)_renderQueue$1[t]===e&&_renderQueue$1.splice(t,1);gsap$3.to(_renderQueueTimeout$1,{overwrite:!0,delay:15,duration:0,onComplete:_renderQueueTimeout$1,data:"_draggable"})},_setDefaults$2=function o(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},_addListener$1=function o(e,t,n,r){if(e.addEventListener){var s=_touchEventLookup$1[t];r=r||(_supportsPassive$1?{passive:!1}:null),e.addEventListener(s||t,n,r),s&&t!==s&&e.addEventListener(t,n,r)}},_removeListener$1=function o(e,t,n,r){if(e.removeEventListener){var s=_touchEventLookup$1[t];e.removeEventListener(s||t,n,r),s&&t!==s&&e.removeEventListener(t,n,r)}},_preventDefault$1=function o(e){e.preventDefault&&e.preventDefault(),e.preventManipulation&&e.preventManipulation()},_hasTouchID$1=function o(e,t){for(var n=e.length;n--;)if(e[n].identifier===t)return!0},_onMultiTouchDocumentEnd$1=function o(e){_isMultiTouching$1=e.touches&&_dragCount$1<e.touches.length,_removeListener$1(e.target,"touchend",o)},_onMultiTouchDocument$1=function o(e){_isMultiTouching$1=e.touches&&_dragCount$1<e.touches.length,_addListener$1(e.target,"touchend",_onMultiTouchDocumentEnd$1)},_getDocScrollTop$2=function o(e){return _win$1$1.pageYOffset||e.scrollTop||e.documentElement.scrollTop||e.body.scrollTop||0},_getDocScrollLeft$2=function o(e){return _win$1$1.pageXOffset||e.scrollLeft||e.documentElement.scrollLeft||e.body.scrollLeft||0},_addScrollListener$1=function o(e,t){_addListener$1(e,"scroll",t),_isRoot$1(e.parentNode)||o(e.parentNode,t)},_removeScrollListener$1=function o(e,t){_removeListener$1(e,"scroll",t),_isRoot$1(e.parentNode)||o(e.parentNode,t)},_isRoot$1=function o(e){return!e||e===_docElement$3||e.nodeType===9||e===_doc$4.body||e===_win$1$1||!e.nodeType||!e.parentNode},_getMaxScroll$1=function o(e,t){var n=t==="x"?"Width":"Height",r="scroll"+n,s="client"+n;return Math.max(0,_isRoot$1(e)?Math.max(_docElement$3[r],_body$2[r])-(_win$1$1["inner"+n]||_docElement$3[s]||_body$2[s]):e[r]-e[s])},_recordMaxScrolls$1=function o(e,t){var n=_getMaxScroll$1(e,"x"),r=_getMaxScroll$1(e,"y");_isRoot$1(e)?e=_windowProxy$1:o(e.parentNode,t),e._gsMaxScrollX=n,e._gsMaxScrollY=r,t||(e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0)},_setStyle$1=function o(e,t,n){var r=e.style;r&&(_isUndefined$1$1(r[t])&&(t=_checkPrefix$1(t,e)||t),n==null?r.removeProperty&&r.removeProperty(t.replace(/([A-Z])/g,"-$1").toLowerCase()):r[t]=n)},_getComputedStyle$1=function o(e){return _win$1$1.getComputedStyle(e instanceof Element?e:e.host||(e.parentNode||{}).host||e)},_tempRect$1={},_parseRect$1=function o(e){if(e===_win$1$1)return _tempRect$1.left=_tempRect$1.top=0,_tempRect$1.width=_tempRect$1.right=_docElement$3.clientWidth||e.innerWidth||_body$2.clientWidth||0,_tempRect$1.height=_tempRect$1.bottom=(e.innerHeight||0)-20<_docElement$3.clientHeight?_docElement$3.clientHeight:e.innerHeight||_body$2.clientHeight||0,_tempRect$1;var t=e.ownerDocument||_doc$4,n=_isUndefined$1$1(e.pageX)?!e.nodeType&&!_isUndefined$1$1(e.left)&&!_isUndefined$1$1(e.top)?e:_toArray$2(e)[0].getBoundingClientRect():{left:e.pageX-_getDocScrollLeft$2(t),top:e.pageY-_getDocScrollTop$2(t),right:e.pageX-_getDocScrollLeft$2(t)+1,bottom:e.pageY-_getDocScrollTop$2(t)+1};return _isUndefined$1$1(n.right)&&!_isUndefined$1$1(n.width)?(n.right=n.left+n.width,n.bottom=n.top+n.height):_isUndefined$1$1(n.width)&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n},_dispatchEvent$1=function o(e,t,n){var r=e.vars,s=r[n],a=e._listeners[t],l;return _isFunction$2(s)&&(l=s.apply(r.callbackScope||e,r[n+"Params"]||[e.pointerEvent])),a&&e.dispatchEvent(t)===!1&&(l=!1),l},_getBounds$1=function o(e,t){var n=_toArray$2(e)[0],r,s,a;return!n.nodeType&&n!==_win$1$1?_isUndefined$1$1(e.left)?(s=e.min||e.minX||e.minRotation||0,r=e.min||e.minY||0,{left:s,top:r,width:(e.max||e.maxX||e.maxRotation||0)-s,height:(e.max||e.maxY||0)-r}):(a={x:0,y:0},{left:e.left-a.x,top:e.top-a.y,width:e.width,height:e.height}):_getElementBounds$1(n,t)},_point1$1={},_getElementBounds$1=function o(e,t){t=_toArray$2(t)[0];var n=e.getBBox&&e.ownerSVGElement,r=e.ownerDocument||_doc$4,s,a,l,c,h,p,_,w,u,P,b,k,E;if(e===_win$1$1)l=_getDocScrollTop$2(r),s=_getDocScrollLeft$2(r),a=s+(r.documentElement.clientWidth||e.innerWidth||r.body.clientWidth||0),c=l+((e.innerHeight||0)-20<r.documentElement.clientHeight?r.documentElement.clientHeight:e.innerHeight||r.body.clientHeight||0);else{if(t===_win$1$1||_isUndefined$1$1(t))return e.getBoundingClientRect();s=l=0,n?(P=e.getBBox(),b=P.width,k=P.height):(e.viewBox&&(P=e.viewBox.baseVal)&&(s=P.x||0,l=P.y||0,b=P.width,k=P.height),b||(E=_getComputedStyle$1(e),P=E.boxSizing==="border-box",b=(parseFloat(E.width)||e.clientWidth||0)+(P?0:parseFloat(E.borderLeftWidth)+parseFloat(E.borderRightWidth)),k=(parseFloat(E.height)||e.clientHeight||0)+(P?0:parseFloat(E.borderTopWidth)+parseFloat(E.borderBottomWidth)))),a=b,c=k}return e===t?{left:s,top:l,width:a-s,height:c-l}:(h=getGlobalMatrix$1(t,!0).multiply(getGlobalMatrix$1(e)),p=h.apply({x:s,y:l}),_=h.apply({x:a,y:l}),w=h.apply({x:a,y:c}),u=h.apply({x:s,y:c}),s=Math.min(p.x,_.x,w.x,u.x),l=Math.min(p.y,_.y,w.y,u.y),{left:s,top:l,width:Math.max(p.x,_.x,w.x,u.x)-s,height:Math.max(p.y,_.y,w.y,u.y)-l})},_parseInertia$1=function o(e,t,n,r,s,a){var l={},c,h,p;if(t)if(s!==1&&t instanceof Array){if(l.end=c=[],p=t.length,_isObject$2(t[0]))for(h=0;h<p;h++)c[h]=_copy$1(t[h],s);else for(h=0;h<p;h++)c[h]=t[h]*s;n+=1.1,r-=1.1}else _isFunction$2(t)?l.end=function(_){var w=t.call(e,_),u,P;if(s!==1)if(_isObject$2(w)){u={};for(P in w)u[P]=w[P]*s;w=u}else w*=s;return w}:l.end=t;return(n||n===0)&&(l.max=n),(r||r===0)&&(l.min=r),a&&(l.velocity=0),l},_isClickable$1=function o(e){var t;return!e||!e.getAttribute||e===_body$2?!1:(t=e.getAttribute("data-clickable"))==="true"||t!=="false"&&(_clickableTagExp$1.test(e.nodeName+"")||e.getAttribute("contentEditable")==="true")?!0:o(e.parentNode)},_setSelectable$1=function o(e,t){for(var n=e.length,r;n--;)r=e[n],r.ondragstart=r.onselectstart=t?null:_emptyFunc$1$1,gsap$3.set(r,{lazy:!0,userSelect:t?"text":"none"})},_isFixed$2=function o(e){if(_getComputedStyle$1(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return o(e)},_supports3D$2,_addPaddingBR$1,ScrollProxy$1=function o(e,t){e=gsap$3.utils.toArray(e)[0],t=t||{};var n=document.createElement("div"),r=n.style,s=e.firstChild,a=0,l=0,c=e.scrollTop,h=e.scrollLeft,p=e.scrollWidth,_=e.scrollHeight,w=0,u=0,P=0,b,k,E,R,L,C;_supports3D$2&&t.force3D!==!1?(L="translate3d(",C="px,0px)"):_transformProp$3&&(L="translate(",C="px)"),this.scrollTop=function(M,N){if(!arguments.length)return-this.top();this.top(-M,N)},this.scrollLeft=function(M,N){if(!arguments.length)return-this.left();this.left(-M,N)},this.left=function(M,N){if(!arguments.length)return-(e.scrollLeft+l);var F=e.scrollLeft-h,I=l;if((F>2||F<-2)&&!N){h=e.scrollLeft,gsap$3.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-h),t.onKill&&t.onKill();return}M=-M,M<0?(l=M-.5|0,M=0):M>u?(l=M-u|0,M=u):l=0,(l||I)&&(this._skip||(r[_transformProp$3]=L+-l+"px,"+-a+C),l+w>=0&&(r.paddingRight=l+w+"px")),e.scrollLeft=M|0,h=e.scrollLeft},this.top=function(M,N){if(!arguments.length)return-(e.scrollTop+a);var F=e.scrollTop-c,I=a;if((F>2||F<-2)&&!N){c=e.scrollTop,gsap$3.killTweensOf(this,{top:1,scrollTop:1}),this.top(-c),t.onKill&&t.onKill();return}M=-M,M<0?(a=M-.5|0,M=0):M>P?(a=M-P|0,M=P):a=0,(a||I)&&(this._skip||(r[_transformProp$3]=L+-l+"px,"+-a+C)),e.scrollTop=M|0,c=e.scrollTop},this.maxScrollTop=function(){return P},this.maxScrollLeft=function(){return u},this.disable=function(){for(s=n.firstChild;s;)R=s.nextSibling,e.appendChild(s),s=R;e===n.parentNode&&e.removeChild(n)},this.enable=function(){if(s=e.firstChild,s!==n){for(;s;)R=s.nextSibling,n.appendChild(s),s=R;e.appendChild(n),this.calibrate()}},this.calibrate=function(M){var N=e.clientWidth===b,F,I,V;c=e.scrollTop,h=e.scrollLeft,!(N&&e.clientHeight===k&&n.offsetHeight===E&&p===e.scrollWidth&&_===e.scrollHeight&&!M)&&((a||l)&&(I=this.left(),V=this.top(),this.left(-e.scrollLeft),this.top(-e.scrollTop)),F=_getComputedStyle$1(e),(!N||M)&&(r.display="block",r.width="auto",r.paddingRight="0px",w=Math.max(0,e.scrollWidth-e.clientWidth),w&&(w+=parseFloat(F.paddingLeft)+(_addPaddingBR$1?parseFloat(F.paddingRight):0))),r.display="inline-block",r.position="relative",r.overflow="visible",r.verticalAlign="top",r.boxSizing="content-box",r.width="100%",r.paddingRight=w+"px",_addPaddingBR$1&&(r.paddingBottom=F.paddingBottom),b=e.clientWidth,k=e.clientHeight,p=e.scrollWidth,_=e.scrollHeight,u=e.scrollWidth-b,P=e.scrollHeight-k,E=n.offsetHeight,r.display="block",(I||V)&&(this.left(I),this.top(V)))},this.content=n,this.element=e,this._skip=!1,this.enable()},_initCore$2=function o(e){if(_windowExists$1$1()&&document.body){var t=window&&window.navigator;_win$1$1=window,_doc$4=document,_docElement$3=_doc$4.documentElement,_body$2=_doc$4.body,_tempDiv$2=_createElement$2("div"),_supportsPointer$1=!!window.PointerEvent,_placeholderDiv$1=_createElement$2("div"),_placeholderDiv$1.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",_defaultCursor$1=_placeholderDiv$1.style.cursor==="grab"?"grab":"move",_isAndroid$1=t&&t.userAgent.toLowerCase().indexOf("android")!==-1,_isTouchDevice$1="ontouchstart"in _docElement$3&&"orientation"in _win$1$1||t&&(t.MaxTouchPoints>0||t.msMaxTouchPoints>0),_addPaddingBR$1=function(){var n=_createElement$2("div"),r=_createElement$2("div"),s=r.style,a=_body$2,l;return s.display="inline-block",s.position="relative",n.style.cssText="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",n.appendChild(r),a.appendChild(n),l=r.offsetHeight+18>n.scrollHeight,a.removeChild(n),l}(),_touchEventLookup$1=function(n){for(var r=n.split(","),s=("onpointerdown"in _tempDiv$2?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in _tempDiv$2?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":n).split(","),a={},l=4;--l>-1;)a[r[l]]=s[l],a[s[l]]=r[l];try{_docElement$3.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){_supportsPassive$1=1}}))}catch{}return a}("touchstart,touchmove,touchend,touchcancel"),_addListener$1(_doc$4,"touchcancel",_emptyFunc$1$1),_addListener$1(_win$1$1,"touchmove",_emptyFunc$1$1),_body$2&&_body$2.addEventListener("touchstart",_emptyFunc$1$1),_addListener$1(_doc$4,"contextmenu",function(){for(var n in _lookup$1)_lookup$1[n].isPressed&&_lookup$1[n].endDrag()}),gsap$3=_coreInitted$2=_getGSAP$3()}gsap$3?(InertiaPlugin$1=gsap$3.plugins.inertia,_context$2=gsap$3.core.context||function(){},_checkPrefix$1=gsap$3.utils.checkPrefix,_transformProp$3=_checkPrefix$1(_transformProp$3),_transformOriginProp$3=_checkPrefix$1(_transformOriginProp$3),_toArray$2=gsap$3.utils.toArray,_getStyleSaver$2=gsap$3.core.getStyleSaver,_supports3D$2=!!_checkPrefix$1("perspective")):e&&console.warn("Please gsap.registerPlugin(Draggable)")},EventDispatcher$1=function(){function o(t){this._listeners={},this.target=t||this}var e=o.prototype;return e.addEventListener=function(t,n){var r=this._listeners[t]||(this._listeners[t]=[]);~r.indexOf(n)||r.push(n)},e.removeEventListener=function(t,n){var r=this._listeners[t],s=r&&r.indexOf(n);s>=0&&r.splice(s,1)},e.dispatchEvent=function(t){var n=this,r;return(this._listeners[t]||[]).forEach(function(s){return s.call(n,{type:t,target:n.target})===!1&&(r=!1)}),r},o}(),Draggable$1=function(o){_inheritsLoose$2(e,o);function e(t,n){var r;r=o.call(this)||this,_coreInitted$2||_initCore$2(1),t=_toArray$2(t)[0],r.styles=_getStyleSaver$2&&_getStyleSaver$2(t,"transform,left,top"),InertiaPlugin$1||(InertiaPlugin$1=gsap$3.plugins.inertia),r.vars=n=_copy$1(n||{}),r.target=t,r.x=r.y=r.rotation=0,r.dragResistance=parseFloat(n.dragResistance)||0,r.edgeResistance=isNaN(n.edgeResistance)?1:parseFloat(n.edgeResistance)||0,r.lockAxis=n.lockAxis,r.autoScroll=n.autoScroll||0,r.lockedAxis=null,r.allowEventDefault=!!n.allowEventDefault,gsap$3.getProperty(t,"x");var s=(n.type||"x,y").toLowerCase(),a=~s.indexOf("x")||~s.indexOf("y"),l=s.indexOf("rotation")!==-1,c=l?"rotation":a?"x":"left",h=a?"y":"top",p=!!(~s.indexOf("x")||~s.indexOf("left")||s==="scroll"),_=!!(~s.indexOf("y")||~s.indexOf("top")||s==="scroll"),w=n.minimumMovement||2,u=_assertThisInitialized$2(r),P=_toArray$2(n.trigger||n.handle||t),b={},k=0,E=!1,R=n.autoScrollMarginTop||40,L=n.autoScrollMarginRight||40,C=n.autoScrollMarginBottom||40,M=n.autoScrollMarginLeft||40,N=n.clickableTest||_isClickable$1,F=0,I=t._gsap||gsap$3.core.getCache(t),V=_isFixed$2(t),Ie=function(K,D){return parseFloat(I.get(t,K,D))},le=t.ownerDocument||_doc$4,Ae,se,Wt,Rt,Ve,_t,$i,mn,At,je,Me,Ye,Fe,zi,Gi,An,Wi,_i,tn,kn,Ui,rr,Hi,Zt,_s,wn,xn,is,qr,sr,gn,Xr,Gr,Qr=function(K){return _preventDefault$1(K),K.stopImmediatePropagation&&K.stopImmediatePropagation(),!1},yn=function K(D){if(u.autoScroll&&u.isDragging&&(E||Wi)){var U=t,G=u.autoScroll*15,X,de,Ee,fe,De,ti,Xt,Li;for(E=!1,_windowProxy$1.scrollTop=_win$1$1.pageYOffset!=null?_win$1$1.pageYOffset:le.documentElement.scrollTop!=null?le.documentElement.scrollTop:le.body.scrollTop,_windowProxy$1.scrollLeft=_win$1$1.pageXOffset!=null?_win$1$1.pageXOffset:le.documentElement.scrollLeft!=null?le.documentElement.scrollLeft:le.body.scrollLeft,fe=u.pointerX-_windowProxy$1.scrollLeft,De=u.pointerY-_windowProxy$1.scrollTop;U&&!de;)de=_isRoot$1(U.parentNode),X=de?_windowProxy$1:U.parentNode,Ee=de?{bottom:Math.max(_docElement$3.clientHeight,_win$1$1.innerHeight||0),right:Math.max(_docElement$3.clientWidth,_win$1$1.innerWidth||0),left:0,top:0}:X.getBoundingClientRect(),ti=Xt=0,_&&(Li=X._gsMaxScrollY-X.scrollTop,Li<0?Xt=Li:De>Ee.bottom-C&&Li?(E=!0,Xt=Math.min(Li,G*(1-Math.max(0,Ee.bottom-De)/C)|0)):De<Ee.top+R&&X.scrollTop&&(E=!0,Xt=-Math.min(X.scrollTop,G*(1-Math.max(0,De-Ee.top)/R)|0)),Xt&&(X.scrollTop+=Xt)),p&&(Li=X._gsMaxScrollX-X.scrollLeft,Li<0?ti=Li:fe>Ee.right-L&&Li?(E=!0,ti=Math.min(Li,G*(1-Math.max(0,Ee.right-fe)/L)|0)):fe<Ee.left+M&&X.scrollLeft&&(E=!0,ti=-Math.min(X.scrollLeft,G*(1-Math.max(0,fe-Ee.left)/M)|0)),ti&&(X.scrollLeft+=ti)),de&&(ti||Xt)&&(_win$1$1.scrollTo(X.scrollLeft,X.scrollTop),yt(u.pointerX+ti,u.pointerY+Xt)),U=X}if(Wi){var Ki=u.x,Zi=u.y;l?(u.deltaX=Ki-parseFloat(I.rotation),u.rotation=Ki,I.rotation=Ki+"deg",I.renderTransform(1,I)):se?(_&&(u.deltaY=Zi-se.top(),se.top(Zi)),p&&(u.deltaX=Ki-se.left(),se.left(Ki))):a?(_&&(u.deltaY=Zi-parseFloat(I.y),I.y=Zi+"px"),p&&(u.deltaX=Ki-parseFloat(I.x),I.x=Ki+"px"),I.renderTransform(1,I)):(_&&(u.deltaY=Zi-parseFloat(t.style.top||0),t.style.top=Zi+"px"),p&&(u.deltaX=Ki-parseFloat(t.style.left||0),t.style.left=Ki+"px")),mn&&!D&&!is&&(is=!0,_dispatchEvent$1(u,"drag","onDrag")===!1&&(p&&(u.x-=u.deltaX),_&&(u.y-=u.deltaY),K(!0)),is=!1)}Wi=!1},Sn=function(K,D){var U=u.x,G=u.y,X,de;t._gsap||(I=gsap$3.core.getCache(t)),I.uncache&&gsap$3.getProperty(t,"x"),a?(u.x=parseFloat(I.x),u.y=parseFloat(I.y)):l?u.x=u.rotation=parseFloat(I.rotation):se?(u.y=se.top(),u.x=se.left()):(u.y=parseFloat(t.style.top||(de=_getComputedStyle$1(t))&&de.top)||0,u.x=parseFloat(t.style.left||(de||{}).left)||0),(tn||kn||Ui)&&!D&&(u.isDragging||u.isThrowing)&&(Ui&&(_temp1$1.x=u.x,_temp1$1.y=u.y,X=Ui(_temp1$1),X.x!==u.x&&(u.x=X.x,Wi=!0),X.y!==u.y&&(u.y=X.y,Wi=!0)),tn&&(X=tn(u.x),X!==u.x&&(u.x=X,l&&(u.rotation=X),Wi=!0)),kn&&(X=kn(u.y),X!==u.y&&(u.y=X),Wi=!0)),Wi&&yn(!0),K||(u.deltaX=u.x-U,u.deltaY=u.y-G,_dispatchEvent$1(u,"throwupdate","onThrowUpdate"))},Hr=function(K,D,U,G){return D==null&&(D=-1e20),U==null&&(U=_bigNum$1$1),_isFunction$2(K)?function(X){var de=u.isPressed?1-u.edgeResistance:1;return K.call(u,(X>U?U+(X-U)*de:X<D?D+(X-D)*de:X)*G)*G}:_isArray$2(K)?function(X){for(var de=K.length,Ee=0,fe=_bigNum$1$1,De,ti;--de>-1;)De=K[de],ti=De-X,ti<0&&(ti=-ti),ti<fe&&De>=D&&De<=U&&(Ee=de,fe=ti);return K[Ee]}:isNaN(K)?function(X){return X}:function(){return K*G}},ns=function(K,D,U,G,X,de,Ee){return de=de&&de<_bigNum$1$1?de*de:_bigNum$1$1,_isFunction$2(K)?function(fe){var De=u.isPressed?1-u.edgeResistance:1,ti=fe.x,Xt=fe.y,Li,Ki,Zi;return fe.x=ti=ti>U?U+(ti-U)*De:ti<D?D+(ti-D)*De:ti,fe.y=Xt=Xt>X?X+(Xt-X)*De:Xt<G?G+(Xt-G)*De:Xt,Li=K.call(u,fe),Li!==fe&&(fe.x=Li.x,fe.y=Li.y),Ee!==1&&(fe.x*=Ee,fe.y*=Ee),de<_bigNum$1$1&&(Ki=fe.x-ti,Zi=fe.y-Xt,Ki*Ki+Zi*Zi>de&&(fe.x=ti,fe.y=Xt)),fe}:_isArray$2(K)?function(fe){for(var De=K.length,ti=0,Xt=_bigNum$1$1,Li,Ki,Zi,rn;--De>-1;)Zi=K[De],Li=Zi.x-fe.x,Ki=Zi.y-fe.y,rn=Li*Li+Ki*Ki,rn<Xt&&(ti=De,Xt=rn);return Xt<=de?K[ti]:fe}:function(fe){return fe}},Zr=function(){var K,D,U,G;$i=!1,se?(se.calibrate(),u.minX=Me=-se.maxScrollLeft(),u.minY=Fe=-se.maxScrollTop(),u.maxX=je=u.maxY=Ye=0,$i=!0):n.bounds&&(K=_getBounds$1(n.bounds,t.parentNode),l?(u.minX=Me=K.left,u.maxX=je=K.left+K.width,u.minY=Fe=u.maxY=Ye=0):!_isUndefined$1$1(n.bounds.maxX)||!_isUndefined$1$1(n.bounds.maxY)?(K=n.bounds,u.minX=Me=K.minX,u.minY=Fe=K.minY,u.maxX=je=K.maxX,u.maxY=Ye=K.maxY):(D=_getBounds$1(t,t.parentNode),u.minX=Me=Math.round(Ie(c,"px")+K.left-D.left),u.minY=Fe=Math.round(Ie(h,"px")+K.top-D.top),u.maxX=je=Math.round(Me+(K.width-D.width)),u.maxY=Ye=Math.round(Fe+(K.height-D.height))),Me>je&&(u.minX=je,u.maxX=je=Me,Me=u.minX),Fe>Ye&&(u.minY=Ye,u.maxY=Ye=Fe,Fe=u.minY),l&&(u.minRotation=Me,u.maxRotation=je),$i=!0),n.liveSnap&&(U=n.liveSnap===!0?n.snap||{}:n.liveSnap,G=_isArray$2(U)||_isFunction$2(U),l?(tn=Hr(G?U:U.rotation,Me,je,1),kn=null):U.points?Ui=ns(G?U:U.points,Me,je,Fe,Ye,U.radius,se?-1:1):(p&&(tn=Hr(G?U:U.x||U.left||U.scrollLeft,Me,je,se?-1:1)),_&&(kn=Hr(G?U:U.y||U.top||U.scrollTop,Fe,Ye,se?-1:1))))},us=function(){u.isThrowing=!1,_dispatchEvent$1(u,"throwcomplete","onThrowComplete")},Jr=function(){u.isThrowing=!1},Wr=function(K,D){var U,G,X,de;K&&InertiaPlugin$1?(K===!0&&(U=n.snap||n.liveSnap||{},G=_isArray$2(U)||_isFunction$2(U),K={resistance:(n.throwResistance||n.resistance||1e3)/(l?10:1)},l?K.rotation=_parseInertia$1(u,G?U:U.rotation,je,Me,1,D):(p&&(K[c]=_parseInertia$1(u,G?U:U.points||U.x||U.left,je,Me,se?-1:1,D||u.lockedAxis==="x")),_&&(K[h]=_parseInertia$1(u,G?U:U.points||U.y||U.top,Ye,Fe,se?-1:1,D||u.lockedAxis==="y")),(U.points||_isArray$2(U)&&_isObject$2(U[0]))&&(K.linkedProps=c+","+h,K.radius=U.radius))),u.isThrowing=!0,de=isNaN(n.overshootTolerance)?n.edgeResistance===1?0:1-u.edgeResistance+.2:n.overshootTolerance,K.duration||(K.duration={max:Math.max(n.minDuration||0,"maxDuration"in n?n.maxDuration:2),min:isNaN(n.minDuration)?de===0||_isObject$2(K)&&K.resistance>1e3?0:.5:n.minDuration,overshoot:de}),u.tween=X=gsap$3.to(se||t,{inertia:K,data:"_draggable",inherit:!1,onComplete:us,onInterrupt:Jr,onUpdate:n.fastMode?_dispatchEvent$1:Sn,onUpdateParams:n.fastMode?[u,"onthrowupdate","onThrowUpdate"]:U&&U.radius?[!1,!0]:[]}),n.fastMode||(se&&(se._skip=!0),X.render(1e9,!0,!0),Sn(!0,!0),u.endX=u.x,u.endY=u.y,l&&(u.endRotation=u.x),X.play(0),Sn(!0,!0),se&&(se._skip=!1))):$i&&u.applyBounds()},rs=function(K){var D=Zt,U;Zt=getGlobalMatrix$1(t.parentNode,!0),K&&u.isPressed&&!Zt.equals(D||new Matrix2D$1)&&(U=D.inverse().apply({x:Wt,y:Rt}),Zt.apply(U,U),Wt=U.x,Rt=U.y),Zt.equals(_identityMatrix$2)&&(Zt=null)},ir=function(){var K=1-u.edgeResistance,D=V?_getDocScrollLeft$2(le):0,U=V?_getDocScrollTop$2(le):0,G,X,de;a&&(I.x=Ie(c,"px")+"px",I.y=Ie(h,"px")+"px",I.renderTransform()),rs(!1),_point1$1.x=u.pointerX-D,_point1$1.y=u.pointerY-U,Zt&&Zt.apply(_point1$1,_point1$1),Wt=_point1$1.x,Rt=_point1$1.y,Wi&&(yt(u.pointerX,u.pointerY),yn(!0)),Xr=getGlobalMatrix$1(t),se?(Zr(),_t=se.top(),Ve=se.left()):(Vt()?(Sn(!0,!0),Zr()):u.applyBounds(),l?(G=t.ownerSVGElement?[I.xOrigin-t.getBBox().x,I.yOrigin-t.getBBox().y]:(_getComputedStyle$1(t)[_transformOriginProp$3]||"0 0").split(" "),An=u.rotationOrigin=getGlobalMatrix$1(t).apply({x:parseFloat(G[0])||0,y:parseFloat(G[1])||0}),Sn(!0,!0),X=u.pointerX-An.x-D,de=An.y-u.pointerY+U,Ve=u.x,_t=u.y=Math.atan2(de,X)*_RAD2DEG$1$1):(_t=Ie(h,"px"),Ve=Ie(c,"px"))),$i&&K&&(Ve>je?Ve=je+(Ve-je)/K:Ve<Me&&(Ve=Me-(Me-Ve)/K),l||(_t>Ye?_t=Ye+(_t-Ye)/K:_t<Fe&&(_t=Fe-(Fe-_t)/K))),u.startX=Ve=_round$3(Ve),u.startY=_t=_round$3(_t)},Vt=function(){return u.tween&&u.tween.isActive()},ss=function(){_placeholderDiv$1.parentNode&&!Vt()&&!u.isDragging&&_placeholderDiv$1.parentNode.removeChild(_placeholderDiv$1)},tr=function(K,D){var U;if(!Ae||u.isPressed||!K||(K.type==="mousedown"||K.type==="pointerdown")&&!D&&_getTime$1()-F<30&&_touchEventLookup$1[u.pointerEvent.type]){gn&&K&&Ae&&_preventDefault$1(K);return}if(_s=Vt(),Gr=!1,u.pointerEvent=K,_touchEventLookup$1[K.type]?(Hi=~K.type.indexOf("touch")?K.currentTarget||K.target:le,_addListener$1(Hi,"touchend",bn),_addListener$1(Hi,"touchmove",er),_addListener$1(Hi,"touchcancel",bn),_addListener$1(le,"touchstart",_onMultiTouchDocument$1)):(Hi=null,_addListener$1(le,"mousemove",er)),xn=null,(!_supportsPointer$1||!Hi)&&(_addListener$1(le,"mouseup",bn),K&&K.target&&_addListener$1(K.target,"mouseup",bn)),rr=N.call(u,K.target)&&n.dragClickables===!1&&!D,rr){_addListener$1(K.target,"change",bn),_dispatchEvent$1(u,"pressInit","onPressInit"),_dispatchEvent$1(u,"press","onPress"),_setSelectable$1(P,!0),gn=!1;return}if(wn=!Hi||p===_||u.vars.allowNativeTouchScrolling===!1||u.vars.allowContextMenu&&K&&(K.ctrlKey||K.which>2)?!1:p?"y":"x",gn=!wn&&!u.allowEventDefault,gn&&(_preventDefault$1(K),_addListener$1(_win$1$1,"touchforcechange",_preventDefault$1)),K.changedTouches?(K=zi=K.changedTouches[0],Gi=K.identifier):K.pointerId?Gi=K.pointerId:zi=Gi=null,_dragCount$1++,_addToRenderQueue$1(yn),Rt=u.pointerY=K.pageY,Wt=u.pointerX=K.pageX,_dispatchEvent$1(u,"pressInit","onPressInit"),(wn||u.autoScroll)&&_recordMaxScrolls$1(t.parentNode),t.parentNode&&u.autoScroll&&!se&&!l&&t.parentNode._gsMaxScrollX&&!_placeholderDiv$1.parentNode&&!t.getBBox&&(_placeholderDiv$1.style.width=t.parentNode.scrollWidth+"px",t.parentNode.appendChild(_placeholderDiv$1)),ir(),u.tween&&u.tween.kill(),u.isThrowing=!1,gsap$3.killTweensOf(se||t,b,!0),se&&gsap$3.killTweensOf(t,{scrollTo:1},!0),u.tween=u.lockedAxis=null,(n.zIndexBoost||!l&&!se&&n.zIndexBoost!==!1)&&(t.style.zIndex=e.zIndex++),u.isPressed=!0,mn=!!(n.onDrag||u._listeners.drag),At=!!(n.onMove||u._listeners.move),n.cursor!==!1||n.activeCursor)for(U=P.length;--U>-1;)gsap$3.set(P[U],{cursor:n.activeCursor||n.cursor||(_defaultCursor$1==="grab"?"grabbing":_defaultCursor$1)});_dispatchEvent$1(u,"press","onPress")},er=function(K){var D=K,U,G,X,de,Ee,fe;if(!Ae||_isMultiTouching$1||!u.isPressed||!K){gn&&K&&Ae&&_preventDefault$1(K);return}if(u.pointerEvent=K,U=K.changedTouches,U){if(K=U[0],K!==zi&&K.identifier!==Gi){for(de=U.length;--de>-1&&(K=U[de]).identifier!==Gi&&K.target!==t;);if(de<0)return}}else if(K.pointerId&&Gi&&K.pointerId!==Gi)return;if(Hi&&wn&&!xn&&(_point1$1.x=K.pageX-(V?_getDocScrollLeft$2(le):0),_point1$1.y=K.pageY-(V?_getDocScrollTop$2(le):0),Zt&&Zt.apply(_point1$1,_point1$1),G=_point1$1.x,X=_point1$1.y,Ee=Math.abs(G-Wt),fe=Math.abs(X-Rt),(Ee!==fe&&(Ee>w||fe>w)||_isAndroid$1&&wn===xn)&&(xn=Ee>fe&&p?"x":"y",wn&&xn!==wn&&_addListener$1(_win$1$1,"touchforcechange",_preventDefault$1),u.vars.lockAxisOnTouchScroll!==!1&&p&&_&&(u.lockedAxis=xn==="x"?"y":"x",_isFunction$2(u.vars.onLockAxis)&&u.vars.onLockAxis.call(u,D)),_isAndroid$1&&wn===xn))){bn(D);return}!u.allowEventDefault&&(!wn||xn&&wn!==xn)&&D.cancelable!==!1?(_preventDefault$1(D),gn=!0):gn&&(gn=!1),u.autoScroll&&(E=!0),yt(K.pageX,K.pageY,At)},yt=function(K,D,U){var G=1-u.dragResistance,X=1-u.edgeResistance,de=u.pointerX,Ee=u.pointerY,fe=_t,De=u.x,ti=u.y,Xt=u.endX,Li=u.endY,Ki=u.endRotation,Zi=Wi,rn,vn,Ji,ji,$n,Tn;u.pointerX=K,u.pointerY=D,V&&(K-=_getDocScrollLeft$2(le),D-=_getDocScrollTop$2(le)),l?(ji=Math.atan2(An.y-D,K-An.x)*_RAD2DEG$1$1,$n=u.y-ji,$n>180?(_t-=360,u.y=ji):$n<-180&&(_t+=360,u.y=ji),u.x!==Ve||Math.max(Math.abs(Wt-K),Math.abs(Rt-D))>w?(u.y=ji,Ji=Ve+(_t-ji)*G):Ji=Ve):(Zt&&(Tn=K*Zt.a+D*Zt.c+Zt.e,D=K*Zt.b+D*Zt.d+Zt.f,K=Tn),vn=D-Rt,rn=K-Wt,vn<w&&vn>-w&&(vn=0),rn<w&&rn>-w&&(rn=0),(u.lockAxis||u.lockedAxis)&&(rn||vn)&&(Tn=u.lockedAxis,Tn||(u.lockedAxis=Tn=p&&Math.abs(rn)>Math.abs(vn)?"y":_?"x":null,Tn&&_isFunction$2(u.vars.onLockAxis)&&u.vars.onLockAxis.call(u,u.pointerEvent)),Tn==="y"?vn=0:Tn==="x"&&(rn=0)),Ji=_round$3(Ve+rn*G),ji=_round$3(_t+vn*G)),(tn||kn||Ui)&&(u.x!==Ji||u.y!==ji&&!l)&&(Ui&&(_temp1$1.x=Ji,_temp1$1.y=ji,Tn=Ui(_temp1$1),Ji=_round$3(Tn.x),ji=_round$3(Tn.y)),tn&&(Ji=_round$3(tn(Ji))),kn&&(ji=_round$3(kn(ji)))),$i&&(Ji>je?Ji=je+Math.round((Ji-je)*X):Ji<Me&&(Ji=Me+Math.round((Ji-Me)*X)),l||(ji>Ye?ji=Math.round(Ye+(ji-Ye)*X):ji<Fe&&(ji=Math.round(Fe+(ji-Fe)*X)))),(u.x!==Ji||u.y!==ji&&!l)&&(l?(u.endRotation=u.x=u.endX=Ji,Wi=!0):(_&&(u.y=u.endY=ji,Wi=!0),p&&(u.x=u.endX=Ji,Wi=!0)),!U||_dispatchEvent$1(u,"move","onMove")!==!1?!u.isDragging&&u.isPressed&&(u.isDragging=Gr=!0,_dispatchEvent$1(u,"dragstart","onDragStart")):(u.pointerX=de,u.pointerY=Ee,_t=fe,u.x=De,u.y=ti,u.endX=Xt,u.endY=Li,u.endRotation=Ki,Wi=Zi))},bn=function K(D,U){if(!Ae||!u.isPressed||D&&Gi!=null&&!U&&(D.pointerId&&D.pointerId!==Gi&&D.target!==t||D.changedTouches&&!_hasTouchID$1(D.changedTouches,Gi))){gn&&D&&Ae&&_preventDefault$1(D);return}u.isPressed=!1;var G=D,X=u.isDragging,de=u.vars.allowContextMenu&&D&&(D.ctrlKey||D.which>2),Ee=gsap$3.delayedCall(.001,ss),fe,De,ti,Xt,Li;if(Hi?(_removeListener$1(Hi,"touchend",K),_removeListener$1(Hi,"touchmove",er),_removeListener$1(Hi,"touchcancel",K),_removeListener$1(le,"touchstart",_onMultiTouchDocument$1)):_removeListener$1(le,"mousemove",er),_removeListener$1(_win$1$1,"touchforcechange",_preventDefault$1),(!_supportsPointer$1||!Hi)&&(_removeListener$1(le,"mouseup",K),D&&D.target&&_removeListener$1(D.target,"mouseup",K)),Wi=!1,X&&(k=_lastDragTime$1=_getTime$1(),u.isDragging=!1),_removeFromRenderQueue$1(yn),rr&&!de){D&&(_removeListener$1(D.target,"change",K),u.pointerEvent=G),_setSelectable$1(P,!1),_dispatchEvent$1(u,"release","onRelease"),_dispatchEvent$1(u,"click","onClick"),rr=!1;return}for(De=P.length;--De>-1;)_setStyle$1(P[De],"cursor",n.cursor||(n.cursor!==!1?_defaultCursor$1:null));if(_dragCount$1--,D){if(fe=D.changedTouches,fe&&(D=fe[0],D!==zi&&D.identifier!==Gi)){for(De=fe.length;--De>-1&&(D=fe[De]).identifier!==Gi&&D.target!==t;);if(De<0&&!U)return}u.pointerEvent=G,u.pointerX=D.pageX,u.pointerY=D.pageY}return de&&G?(_preventDefault$1(G),gn=!0,_dispatchEvent$1(u,"release","onRelease")):G&&!X?(gn=!1,_s&&(n.snap||n.bounds)&&Wr(n.inertia||n.throwProps),_dispatchEvent$1(u,"release","onRelease"),(!_isAndroid$1||G.type!=="touchmove")&&G.type.indexOf("cancel")===-1&&(_dispatchEvent$1(u,"click","onClick"),_getTime$1()-F<300&&_dispatchEvent$1(u,"doubleclick","onDoubleClick"),Xt=G.target||t,F=_getTime$1(),Li=function(){F!==qr&&u.enabled()&&!u.isPressed&&!G.defaultPrevented&&(Xt.click?Xt.click():le.createEvent&&(ti=le.createEvent("MouseEvents"),ti.initMouseEvent("click",!0,!0,_win$1$1,1,u.pointerEvent.screenX,u.pointerEvent.screenY,u.pointerX,u.pointerY,!1,!1,!1,!1,0,null),Xt.dispatchEvent(ti)))},!_isAndroid$1&&!G.defaultPrevented&&gsap$3.delayedCall(.05,Li))):(Wr(n.inertia||n.throwProps),!u.allowEventDefault&&G&&(n.dragClickables!==!1||!N.call(u,G.target))&&X&&(!wn||xn&&wn===xn)&&G.cancelable!==!1?(gn=!0,_preventDefault$1(G)):gn=!1,_dispatchEvent$1(u,"release","onRelease")),Vt()&&Ee.duration(u.tween.duration()),X&&_dispatchEvent$1(u,"dragend","onDragEnd"),!0},Ur=function(K){if(K&&u.isDragging&&!se){var D=K.target||t.parentNode,U=D.scrollLeft-D._gsScrollX,G=D.scrollTop-D._gsScrollY;(U||G)&&(Zt?(Wt-=U*Zt.a+G*Zt.c,Rt-=G*Zt.d+U*Zt.b):(Wt-=U,Rt-=G),D._gsScrollX+=U,D._gsScrollY+=G,yt(u.pointerX,u.pointerY))}},os=function(K){var D=_getTime$1(),U=D-F<100,G=D-k<50,X=U&&qr===F,de=u.pointerEvent&&u.pointerEvent.defaultPrevented,Ee=U&&sr===F,fe=K.isTrusted||K.isTrusted==null&&U&&X;if((X||G&&u.vars.suppressClickOnDrag!==!1)&&K.stopImmediatePropagation&&K.stopImmediatePropagation(),U&&!(u.pointerEvent&&u.pointerEvent.defaultPrevented)&&(!X||fe&&!Ee)){fe&&X&&(sr=F),qr=F;return}(u.isPressed||G||U)&&(!fe||!K.detail||!U||de)&&_preventDefault$1(K),!U&&!G&&!Gr&&(K&&K.target&&(u.pointerEvent=K),_dispatchEvent$1(u,"click","onClick"))},cs=function(K){return Zt?{x:K.x*Zt.a+K.y*Zt.c+Zt.e,y:K.x*Zt.b+K.y*Zt.d+Zt.f}:{x:K.x,y:K.y}};return _i=e.get(t),_i&&_i.kill(),r.startDrag=function(K,D){var U,G,X,de;tr(K||u.pointerEvent,!0),D&&!u.hitTest(K||u.pointerEvent)&&(U=_parseRect$1(K||u.pointerEvent),G=_parseRect$1(t),X=cs({x:U.left+U.width/2,y:U.top+U.height/2}),de=cs({x:G.left+G.width/2,y:G.top+G.height/2}),Wt-=X.x-de.x,Rt-=X.y-de.y),u.isDragging||(u.isDragging=Gr=!0,_dispatchEvent$1(u,"dragstart","onDragStart"))},r.drag=er,r.endDrag=function(K){return bn(K||u.pointerEvent,!0)},r.timeSinceDrag=function(){return u.isDragging?0:(_getTime$1()-k)/1e3},r.timeSinceClick=function(){return(_getTime$1()-F)/1e3},r.hitTest=function(K,D){return e.hitTest(u.target,K,D)},r.getDirection=function(K,D){var U=K==="velocity"&&InertiaPlugin$1?K:_isObject$2(K)&&!l?"element":"start",G,X,de,Ee,fe,De;return U==="element"&&(fe=_parseRect$1(u.target),De=_parseRect$1(K)),G=U==="start"?u.x-Ve:U==="velocity"?InertiaPlugin$1.getVelocity(t,c):fe.left+fe.width/2-(De.left+De.width/2),l?G<0?"counter-clockwise":"clockwise":(D=D||2,X=U==="start"?u.y-_t:U==="velocity"?InertiaPlugin$1.getVelocity(t,h):fe.top+fe.height/2-(De.top+De.height/2),de=Math.abs(G/X),Ee=de<1/D?"":G<0?"left":"right",de<D&&(Ee!==""&&(Ee+="-"),Ee+=X<0?"up":"down"),Ee)},r.applyBounds=function(K,D){var U,G,X,de,Ee,fe;if(K&&n.bounds!==K)return n.bounds=K,u.update(!0,D);if(Sn(!0),Zr(),$i&&!Vt()){if(U=u.x,G=u.y,U>je?U=je:U<Me&&(U=Me),G>Ye?G=Ye:G<Fe&&(G=Fe),(u.x!==U||u.y!==G)&&(X=!0,u.x=u.endX=U,l?u.endRotation=U:u.y=u.endY=G,Wi=!0,yn(!0),u.autoScroll&&!u.isDragging))for(_recordMaxScrolls$1(t.parentNode),de=t,_windowProxy$1.scrollTop=_win$1$1.pageYOffset!=null?_win$1$1.pageYOffset:le.documentElement.scrollTop!=null?le.documentElement.scrollTop:le.body.scrollTop,_windowProxy$1.scrollLeft=_win$1$1.pageXOffset!=null?_win$1$1.pageXOffset:le.documentElement.scrollLeft!=null?le.documentElement.scrollLeft:le.body.scrollLeft;de&&!fe;)fe=_isRoot$1(de.parentNode),Ee=fe?_windowProxy$1:de.parentNode,_&&Ee.scrollTop>Ee._gsMaxScrollY&&(Ee.scrollTop=Ee._gsMaxScrollY),p&&Ee.scrollLeft>Ee._gsMaxScrollX&&(Ee.scrollLeft=Ee._gsMaxScrollX),de=Ee;u.isThrowing&&(X||u.endX>je||u.endX<Me||u.endY>Ye||u.endY<Fe)&&Wr(n.inertia||n.throwProps,X)}return u},r.update=function(K,D,U){if(D&&u.isPressed){var G=getGlobalMatrix$1(t),X=Xr.apply({x:u.x-Ve,y:u.y-_t}),de=getGlobalMatrix$1(t.parentNode,!0);de.apply({x:G.e-X.x,y:G.f-X.y},X),u.x-=X.x-de.e,u.y-=X.y-de.f,yn(!0),ir()}var Ee=u.x,fe=u.y;return rs(!D),K?u.applyBounds():(Wi&&U&&yn(!0),Sn(!0)),D&&(yt(u.pointerX,u.pointerY),Wi&&yn(!0)),u.isPressed&&!D&&(p&&Math.abs(Ee-u.x)>.01||_&&Math.abs(fe-u.y)>.01&&!l)&&ir(),u.autoScroll&&(_recordMaxScrolls$1(t.parentNode,u.isDragging),E=u.isDragging,yn(!0),_removeScrollListener$1(t,Ur),_addScrollListener$1(t,Ur)),u},r.enable=function(K){var D={lazy:!0},U,G,X;if(n.cursor!==!1&&(D.cursor=n.cursor||_defaultCursor$1),gsap$3.utils.checkPrefix("touchCallout")&&(D.touchCallout="none"),K!=="soft"){for(_setTouchActionForAllDescendants$1(P,p===_?"none":n.allowNativeTouchScrolling&&t.scrollHeight===t.clientHeight==(t.scrollWidth===t.clientHeight)||n.allowEventDefault?"manipulation":p?"pan-y":"pan-x"),G=P.length;--G>-1;)X=P[G],_supportsPointer$1||_addListener$1(X,"mousedown",tr),_addListener$1(X,"touchstart",tr),_addListener$1(X,"click",os,!0),gsap$3.set(X,D),X.getBBox&&X.ownerSVGElement&&p!==_&&gsap$3.set(X.ownerSVGElement,{touchAction:n.allowNativeTouchScrolling||n.allowEventDefault?"manipulation":p?"pan-y":"pan-x"}),n.allowContextMenu||_addListener$1(X,"contextmenu",Qr);_setSelectable$1(P,!1)}return _addScrollListener$1(t,Ur),Ae=!0,InertiaPlugin$1&&K!=="soft"&&InertiaPlugin$1.track(se||t,a?"x,y":l?"rotation":"top,left"),t._gsDragID=U=t._gsDragID||"d"+_lookupCount$1++,_lookup$1[U]=u,se&&(se.enable(),se.element._gsDragID=U),(n.bounds||l)&&ir(),n.bounds&&u.applyBounds(),u},r.disable=function(K){for(var D=u.isDragging,U=P.length,G;--U>-1;)_setStyle$1(P[U],"cursor",null);if(K!=="soft"){for(_setTouchActionForAllDescendants$1(P,null),U=P.length;--U>-1;)G=P[U],_setStyle$1(G,"touchCallout",null),_removeListener$1(G,"mousedown",tr),_removeListener$1(G,"touchstart",tr),_removeListener$1(G,"click",os,!0),_removeListener$1(G,"contextmenu",Qr);_setSelectable$1(P,!0),Hi&&(_removeListener$1(Hi,"touchcancel",bn),_removeListener$1(Hi,"touchend",bn),_removeListener$1(Hi,"touchmove",er)),_removeListener$1(le,"mouseup",bn),_removeListener$1(le,"mousemove",er)}return _removeScrollListener$1(t,Ur),Ae=!1,InertiaPlugin$1&&K!=="soft"&&(InertiaPlugin$1.untrack(se||t,a?"x,y":l?"rotation":"top,left"),u.tween&&u.tween.kill()),se&&se.disable(),_removeFromRenderQueue$1(yn),u.isDragging=u.isPressed=rr=!1,D&&_dispatchEvent$1(u,"dragend","onDragEnd"),u},r.enabled=function(K,D){return arguments.length?K?u.enable(D):u.disable(D):Ae},r.kill=function(){return u.isThrowing=!1,u.tween&&u.tween.kill(),u.disable(),gsap$3.set(P,{clearProps:"userSelect"}),delete _lookup$1[t._gsDragID],u},r.revert=function(){this.kill(),this.styles&&this.styles.revert()},~s.indexOf("scroll")&&(se=r.scrollProxy=new ScrollProxy$1(t,_extend$1({onKill:function(){u.isPressed&&bn(null)}},n)),t.style.overflowY=_&&!_isTouchDevice$1?"auto":"hidden",t.style.overflowX=p&&!_isTouchDevice$1?"auto":"hidden",t=se.content),l?b.rotation=1:(p&&(b[c]=1),_&&(b[h]=1)),I.force3D="force3D"in n?n.force3D:!0,_context$2(_assertThisInitialized$2(r)),r.enable(),r}return e.register=function(t){gsap$3=t,_initCore$2()},e.create=function(t,n){return _coreInitted$2||_initCore$2(!0),_toArray$2(t).map(function(r){return new e(r,n)})},e.get=function(t){return _lookup$1[(_toArray$2(t)[0]||{})._gsDragID]},e.timeSinceDrag=function(){return(_getTime$1()-_lastDragTime$1)/1e3},e.hitTest=function(t,n,r){if(t===n)return!1;var s=_parseRect$1(t),a=_parseRect$1(n),l=s.top,c=s.left,h=s.right,p=s.bottom,_=s.width,w=s.height,u=a.left>h||a.right<c||a.top>p||a.bottom<l,P,b,k;return u||!r?!u:(k=(r+"").indexOf("%")!==-1,r=parseFloat(r)||0,P={left:Math.max(c,a.left),top:Math.max(l,a.top)},P.width=Math.min(h,a.right)-P.left,P.height=Math.min(p,a.bottom)-P.top,P.width<0||P.height<0?!1:k?(r*=.01,b=P.width*P.height,b>=_*w*r||b>=a.width*a.height*r):P.width>r&&P.height>r)},e}(EventDispatcher$1);_setDefaults$2(Draggable$1.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1});Draggable$1.zIndex=1e3;Draggable$1.version="3.13.0";_getGSAP$3()&&gsap$3.registerPlugin(Draggable$1);class SliderGSAP extends HTMLElement{constructor(){super(),st(this,"svg"),st(this,"thumbs"),st(this,"track"),st(this,"minValue",0),st(this,"maxValue",1),st(this,"positionsPixels"),st(this,"sliderMinPx",10),st(this,"sliderMaxPx",210),st(this,"sliderWidthPx",200),st(this,"snapToEdges",gsapWithCSS$1.utils.snap({values:[0,1],radius:.001})),st(this,"norm",gsapWithCSS$1.utils.mapRange(this.sliderMinPx,this.sliderMaxPx,0,1)),st(this,"isShiftDragging",!1),st(this,"dragStartPositions",[]),this.positionsPixels=[10,210]}connectedCallback(){this.innerHTML=`
      <style>
        .slider-container {
          position: relative;
          width: 220px;
          height: 20px;
          margin: 20px auto;
        }

        .slider-svg {
          width: 100%;
          height: 100%;
          overflow: visible;
        }

        .slider-thumb {
          cursor: pointer;
          fill: #2196f3;
          stroke: #fff;
          stroke-width: 2;
        }

        .slider-thumb:hover {
          fill: #1976d2;
        }

        .slider-track {
          stroke: #ddd;
          stroke-width: 4;
          stroke-linecap: round;
        }

        .output-values {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 10px;
          padding: 5px;
          background:rgb(100, 100, 100);
          border: 1px solid #ddd;
          border-radius: 4px;

          margin: 5px 0;
          margin-top: 10px;
          font-family: Arial, sans-serif;
          font-size: 14px;
        }
      </style>
      
      <div class="slider-container">
        <svg class="slider-svg" viewBox="0 0 220 20">
          <line class="slider-track" x1="10" y1="10" x2="210" y2="10"></line>
            <circle class="slider-thumb" r="8" cx="0" cy="10" data-thumb="0"></circle>
            <circle class="slider-thumb" r="8" cx="0" cy="10" data-thumb="1"></circle>
        </svg>
      </div>

      <!--
      <div class="output-values">
        <span>Thumb:</span>
        <span>%</span>
        <span>First:</span>
        <span id="value-0">${this.positionsPixels[0].toFixed(2)}</span>
        <span>Second:</span>
        <span id="value-1">${this.positionsPixels[1].toFixed(2)}</span>
      </div>
        -->
    `,this.svg=this.querySelector(".slider-svg"),this.track=this.querySelector(".slider-track"),this.thumbs=Array.from(this.querySelectorAll(".slider-thumb")),this.initializeGSAP(),this.updateThumbs()}valueToNormalized(e){return(e-this.minValue)/(this.maxValue-this.minValue)}normalizedToValue(e){return this.minValue+e*(this.maxValue-this.minValue)}normalizedToPixels(e){return this.sliderMinPx+e*this.sliderWidthPx}pixelsToNormalized(e){return(e-this.sliderMinPx)/this.sliderWidthPx}initializeGSAP(){if(typeof gsapWithCSS$1>"u"){console.error("GSAP is not loaded");return}gsapWithCSS$1.registerPlugin(Draggable$1),gsapWithCSS$1.set(this.thumbs[0],{x:this.positionsPixels[0]}),gsapWithCSS$1.set(this.thumbs[1],{x:this.positionsPixels[1]}),this.thumbs.forEach((e,t)=>{Draggable$1.create(e,{type:"x",bounds:{minX:this.sliderMinPx,maxX:this.sliderMaxPx},onDrag:()=>this.onDrag(t),onPress:n=>this.onPress(n,t),onThrowUpdate:()=>this.onDrag(t),throwProps:!0})})}onPress(e,t){this.isShiftDragging=e.shiftKey,this.isShiftDragging&&(this.dragStartPositions=[gsapWithCSS$1.getProperty(this.thumbs[0],"x"),gsapWithCSS$1.getProperty(this.thumbs[1],"x")])}onDrag(e){let t=gsapWithCSS$1.getProperty(this.thumbs[0],"x"),n=gsapWithCSS$1.getProperty(this.thumbs[1],"x");if(this.isShiftDragging){const r=(e===0?t:n)-this.dragStartPositions[e],s=this.dragStartPositions[0]+r,a=this.dragStartPositions[1]+r,l=Math.max(this.sliderMinPx,Math.min(this.sliderMaxPx,s)),c=Math.max(this.sliderMinPx,Math.min(this.sliderMaxPx,a));gsapWithCSS$1.set(this.thumbs[0],{x:l}),gsapWithCSS$1.set(this.thumbs[1],{x:c}),this.positionsPixels[0]=l,this.positionsPixels[1]=c}else t>n-2&&(e===0?t=n-2:n=t+2,gsapWithCSS$1.set(this.thumbs[e],{x:e===0?t:n})),this.positionsPixels[0]=t,this.positionsPixels[1]=n;this.dispatchChangeEvent()}dispatchChangeEvent(){const e=this.pixelsToNormalized(this.positionsPixels[0]),t=this.pixelsToNormalized(this.positionsPixels[1]),n=this.normalizedToValue(e),r=this.normalizedToValue(t);this.dispatchEvent(new CustomEvent("range-change",{detail:{min:n,max:r,isShiftDragging:this.isShiftDragging,minNormalized:e,maxNormalized:t}}))}updateThumbs(){typeof gsapWithCSS$1>"u"||(this.thumbs.forEach((e,t)=>{gsapWithCSS$1.to(e,{x:this.positionsPixels[t],duration:.3,ease:"power2.out"})}),this.dispatchChangeEvent())}refreshDisplay(){this.thumbs.forEach((e,t)=>{const n=this.querySelector(`#value-${t}`);n&&(n.textContent=this.positionsPixels[t].toFixed(0))})}setRange(e,t){this.minValue=e,this.maxValue=t,this.updateThumbs()}setPosition(e,t){if(e>=0&&e<this.positionsPixels.length){const n=this.valueToNormalized(t);this.positionsPixels[e]=this.normalizedToPixels(n),this.updateThumbs()}}getPosition(e){const t=this.pixelsToNormalized(this.positionsPixels[e]);return this.normalizedToValue(t)}getPositionsInPx(){return[...this.positionsPixels]}}customElements.define("slider-gsap",SliderGSAP);const{div:div$3,label}=van.tags,createSliderGSAP=(o,e,t,n,r)=>{const s=van.tags["slider-gsap"]({}),a=(r==null?void 0:r.rawVal)??.5;return setTimeout(()=>{s.setRange(n.min,n.max),s.setPosition(0,e.rawVal),s.setPosition(1,t.rawVal)},0),s.addEventListener("range-change",l=>{e.val=l.detail.min,t.val=l.detail.max,r!==void 0&&(r.val=l.detail.isShiftDragging?0:a)}),{container:div$3({style:"margin-bottom: 10px; display: flex; align-items: center; gap: 8px;"},label(()=>o+":"),s),sliderElement:s}};gsapWithCSS$1.registerPlugin(Draggable$1);const Dt=class Aa extends HTMLElement{constructor(){super(),st(this,"knobElement"),st(this,"indicatorElement"),st(this,"pathElement"),st(this,"gsapDraggable"),st(this,"config",{minValue:0,maxValue:100,defaultValue:0,minRotation:-170,maxRotation:170,snapIncrement:.01,curve:1,disabled:!1,borderStyle:"currentState"}),st(this,"currentValue",0),st(this,"currentRotation",0),st(this,"rotationToValue"),st(this,"valueToRotation")}static get observedAttributes(){return["min-value","max-value","default-value","min-rotation","max-rotation","snap-increment","value","disabled","width","height","border-style","curve"]}connectedCallback(){this.injectGlobalStyles(),this.createUtilityFunctions(),this.render(),setTimeout(()=>{this.createDraggable(),this.setValue(this.config.defaultValue||this.config.minValue)},0)}disconnectedCallback(){this.cleanup()}attributeChangedCallback(e,t,n){if(t!==n){if(e==="max-value"||e==="min-value"){const r=this.config.minValue,s=this.config.maxValue;this.updateConfigFromAttributes(),this.updateBorder();let a;e==="max-value"?a=gsapWithCSS$1.utils.mapRange(r,parseFloat(t),this.config.minValue,this.config.maxValue,this.currentValue):a=gsapWithCSS$1.utils.mapRange(parseFloat(t),s,this.config.minValue,this.config.maxValue,this.currentValue),this.createUtilityFunctions(),this.setValue(a);return}if(this.updateConfigFromAttributes(),this.updateBorder(),e==="width"||e==="height"||e==="border-style")return;if(e==="curve"){this.createUtilityFunctions(),this.setValue(this.currentValue);return}this.gsapDraggable&&this.reinitialize()}}injectGlobalStyles(){if(Aa.stylesInjected)return;const e=document.createElement("style");e.id="knob-element-styles",e.textContent=`
      knob-element {
        display: inline-block;
        --knob-size: 120px;
        --knob-bg: inherit;  /* or currentColor ? linear-gradient(145deg, #2d2d2d, #1a1a1a); */
        --knob-border: rgb(234, 234, 234);
        --knob-indicator-color: var(--knob-border); 

       min-height: 30px;
       min-width: 30px;
      }
      
      knob-element[disabled] {
        opacity: 0.5;
        pointer-events: none;
      }
      
      knob-element .knob-container {
        position: relative;
        width: var(--knob-size);
        height: var(--knob-size);
      }

      knob-element .knob-border-svg {
        position: absolute;
        top: 0;
        left: 0;
        pointer-events: none;
      }
      
      knob-element .knob {
        position: relative;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        position: relative;
        cursor: grab;
        transition: transform 0.1s ease;
      }
      
      knob-element .knob:hover {
        transform: scale(1.05);
      }
      
      knob-element .knob:active {
        cursor: grabbing;
        transform: scale(0.95);
      }
      
      knob-element .center-dot {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 4px;
        height: 4px;
        background: var(--knob-indicator-color);
        border-radius: 50%;
      }
    `,document.head.appendChild(e),Aa.stylesInjected=!0}updateConfigFromAttributes(){const e=(t,n)=>{const r=this.getAttribute(t);return r!==null?parseFloat(r):n};this.config={minValue:e("min-value",0),maxValue:e("max-value",100),defaultValue:e("default-value",0),minRotation:e("min-rotation",-150),maxRotation:e("max-rotation",150),snapIncrement:e("snap-increment",1),disabled:this.hasAttribute("disabled"),curve:e("curve",1),borderStyle:this.getAttribute("border-style")||"currentState"},this.updateDimensions()}updateDimensions(){const e=this.getAttribute("width"),t=this.getAttribute("height");if(e||t){const n=e||t||"120";this.style.setProperty("--knob-size",`${n}px`)}}render(){this.innerHTML=`
    <div class="knob-container">
      <!-- SVG border (doesn't rotate) -->
      <svg class="knob-border-svg" width="100%" height="100%" viewBox="0 0 100 100">
          <path class="knob-border" 
                fill="none" 
                stroke="var(--knob-border)" 
                stroke-width="4" 
                d="M50,50Z"/>
      </svg>
      
      <!-- Rotating knob content -->
      <div class="knob">
        <div class="knob-indicator"></div>
        <div class="center-dot"></div>
      </div>
    </div>
  `,this.knobElement=this.querySelector(".knob"),this.indicatorElement=this.querySelector(".knob-indicator"),this.pathElement=this.querySelector(".knob-border")}reinitialize(){this.cleanup(),this.createUtilityFunctions(),this.createDraggable(),this.setValue(this.config.defaultValue||this.config.minValue)}cleanup(){this.gsapDraggable&&this.gsapDraggable.kill()}createUtilityFunctions(){const e=this.config.curve||1;this.rotationToValue=t=>{const n=gsapWithCSS$1.utils.mapRange(this.config.minRotation,this.config.maxRotation,0,1)(t),r=Math.pow(n,e);return gsapWithCSS$1.utils.mapRange(0,1,this.config.minValue,this.config.maxValue)(r)},this.valueToRotation=t=>{const n=gsapWithCSS$1.utils.mapRange(this.config.minValue,this.config.maxValue,0,1)(t),r=Math.pow(n,1/e);return gsapWithCSS$1.utils.mapRange(0,1,this.config.minRotation,this.config.maxRotation)(r)}}createDraggable(){if(this.config.disabled)return;const e="pointerLockElement"in document&&"requestPointerLock"in HTMLElement.prototype;e||console.info("KnobElement: Pointer lock not supported");let t=0,n=0,r;this.gsapDraggable=Draggable$1.create(this.knobElement,{type:"y",inertia:!1,overshootTolerance:0,bounds:{minRotation:this.config.minRotation,maxRotation:this.config.maxRotation},onPress:()=>{t=this.currentRotation,n=0,e&&(this.knobElement.requestPointerLock(),r=s=>{if(document.pointerLockElement===this.knobElement){n+=s.movementY;const a=t-n*4;this.currentRotation=gsapWithCSS$1.utils.clamp(this.config.minRotation,this.config.maxRotation,a),gsapWithCSS$1.set(this.knobElement,{y:0,rotation:this.currentRotation,duration:0});const l=this.rotationToValue(this.currentRotation);this.currentValue=l,this.updateBorder(),this.dispatchChangeEvent()}},document.addEventListener("mousemove",r))},onDrag:()=>{if(!e){const s=t-this.gsapDraggable.y*4;this.currentRotation=gsapWithCSS$1.utils.clamp(this.config.minRotation,this.config.maxRotation,s),gsapWithCSS$1.set(this.knobElement,{rotation:this.currentRotation,y:0}),this.currentValue=this.rotationToValue(this.currentRotation),this.updateBorder(),this.dispatchChangeEvent()}},onRelease:()=>{e&&(document.exitPointerLock(),r&&document.removeEventListener("mousemove",r))}})[0]}updateBorder(){if(this.pathElement)if((this.getAttribute("border-style")||"currentState")==="currentState"){const e=(this.config.minRotation-90)*Math.PI/180,t=(this.currentRotation-90)*Math.PI/180,n=48*Math.cos(e)+50,r=48*Math.sin(e)+50,s=48*Math.cos(t)+50,a=48*Math.sin(t)+50,l=this.currentRotation-this.config.minRotation,c=Math.abs(l)>180?1:0,h=`M50,50 L${n},${r} A48,48,0,${c},1,${s},${a} Z`;this.pathElement.setAttribute("d",h)}else this.pathElement.setAttribute("d","M50,2 A48,48,0,1,1,49.9,2 Z")}dispatchChangeEvent(){const e=gsapWithCSS$1.utils.mapRange(this.config.minValue,this.config.maxValue,0,100)(this.currentValue),t=new CustomEvent("knob-change",{detail:{value:this.currentValue,rotation:this.currentRotation,percentage:e},bubbles:!0});this.dispatchEvent(t)}setValue(e,t=!1,n){!this.valueToRotation||!this.knobElement||!this.pathElement||(this.currentValue=gsapWithCSS$1.utils.clamp(this.config.minValue,this.config.maxValue,e),this.currentRotation=this.valueToRotation(this.currentValue),t?gsapWithCSS$1.to(this.knobElement,{rotation:this.currentRotation,duration:(n==null?void 0:n.duration)??.3,ease:(n==null?void 0:n.ease)||"power2.out"}):gsapWithCSS$1.set(this.knobElement,{rotation:this.currentRotation}),this.updateBorder(),this.dispatchChangeEvent())}getValue(){return this.currentValue}setCurve(e){this.config.curve=e,this.createUtilityFunctions(),this.setValue(this.currentValue)}getCurve(){return this.config.curve||1}setDisabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}isDisabled(){return this.hasAttribute("disabled")}getPercentage(){return gsapWithCSS$1.utils.mapRange(this.config.minValue,this.config.maxValue,0,100)(this.currentValue)}get disabled(){return this.isDisabled()}set disabled(e){this.setDisabled(e)}};st(Dt,"stylesInjected",!1);let KnobElement=Dt;const SampleControls=(o,e,t,n,r,s)=>{const a=e.rawVal;let l=e.rawVal-o.rawVal;const{div:c}=van.tags;defineElement("knob-element",KnobElement);const h=van.state(a);let p=van.state(0);const{container:_}=createSliderGSAP("Trim",o,h,{min:0,max:s.rawVal},t),w=document.createElement("knob-element");w.setAttribute("min-value","0"),w.setAttribute("max-value",l.toString()),w.setAttribute("snap-increment","0.0001"),w.setAttribute("width","45"),w.setAttribute("height","45"),w.setAttribute("default-value","0"),w.setAttribute("curve","0.1"),w.style.marginTop="10px",w.className="cranker",w.addEventListener("knob-change",P=>{if(!w)return;const b=P.detail;p.val=b.value});const u=van.derive(()=>{const P=h.val-o.val;return Math.max(P,.001)});return van.derive(()=>{w.setAttribute("max-value",u.val.toString())}),van.derive(()=>{e.val=Math.max(o.rawVal+.001,h.val-p.val)}),c({style:"display: flex; flex-direction: column;"},c({style:"display: flex; place-items: center; column-gap: 0.5rem; margin-top: 10px;"},_,w))},{div:div$2,button:button$2}=van.tags,FileOperations=(o,e,t,n,r,s)=>{const a="padding: 0.2rem 0.5rem; margin: 0.1rem 0; cursor: pointer";return div$2({style:"display: flex; gap: 10px; margin-bottom: 1rem;"},button$2({style:a,onclick:n},"Upload"),button$2({style:a,onclick:()=>t.val==="Recording"||t.val==="Armed"?s():r()},()=>t.val))};/*!
 * paths 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _svgPathExp=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,_numbersExp=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,_scientific=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,_selectorExp=/(^[#\.][a-z]|[a-y][a-z])/i,_DEG2RAD$1=Math.PI/180,_RAD2DEG$3=180/Math.PI,_sin$2=Math.sin,_cos$2=Math.cos,_abs=Math.abs,_sqrt$1=Math.sqrt,_atan2$2=Math.atan2,_largeNum=1e8,_isString$2=function o(e){return typeof e=="string"},_isNumber$2=function o(e){return typeof e=="number"},_isUndefined$3=function o(e){return typeof e>"u"},_temp={},_temp2={},_roundingNum=1e5,_wrapProgress=function o(e){return Math.round((e+_largeNum)%1*_roundingNum)/_roundingNum||(e<0?0:1)},_round$2=function o(e){return Math.round(e*_roundingNum)/_roundingNum||0},_roundPrecise$2=function o(e){return Math.round(e*1e10)/1e10||0},_splitSegment=function o(e,t,n,r){var s=e[t],a=r===1?6:subdivideSegment(s,n,r);if((a||!r)&&a+n+2<s.length)return e.splice(t,0,s.slice(0,n+a+2)),s.splice(0,n+a),1},_getSampleIndex=function o(e,t,n){var r=e.length,s=~~(n*r);if(e[s]>t){for(;--s&&e[s]>t;);s<0&&(s=0)}else for(;e[++s]<t&&s<r;);return s<r?s:r-1},_reverseRawPath=function o(e,t){var n=e.length;for(e.reverse();n--;)e[n].reversed||reverseSegment(e[n])},_copyMetaData=function o(e,t){return t.totalLength=e.totalLength,e.samples?(t.samples=e.samples.slice(0),t.lookup=e.lookup.slice(0),t.minLength=e.minLength,t.resolution=e.resolution):e.totalPoints&&(t.totalPoints=e.totalPoints),t},_appendOrMerge=function o(e,t){var n=e.length,r=e[n-1]||[],s=r.length;n&&t[0]===r[s-2]&&t[1]===r[s-1]&&(t=r.concat(t.slice(2)),n--),e[n]=t};function getRawPath(o){o=_isString$2(o)&&_selectorExp.test(o)&&document.querySelector(o)||o;var e=o.getAttribute?o:0,t;return e&&(o=o.getAttribute("d"))?(e._gsPath||(e._gsPath={}),t=e._gsPath[o],t&&!t._dirty?t:e._gsPath[o]=stringToRawPath(o)):o?_isString$2(o)?stringToRawPath(o):_isNumber$2(o[0])?[o]:o:console.warn("Expecting a <path> element or an SVG path data string")}function copyRawPath(o){for(var e=[],t=0;t<o.length;t++)e[t]=_copyMetaData(o[t],o[t].slice(0));return _copyMetaData(o,e)}function reverseSegment(o){var e=0,t;for(o.reverse();e<o.length;e+=2)t=o[e],o[e]=o[e+1],o[e+1]=t;o.reversed=!o.reversed}var _createPath=function o(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path"),r=[].slice.call(e.attributes),s=r.length,a;for(t=","+t+",";--s>-1;)a=r[s].nodeName.toLowerCase(),t.indexOf(","+a+",")<0&&n.setAttributeNS(null,a,r[s].nodeValue);return n},_typeAttrs={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"},_attrToObj=function o(e,t){for(var n=t?t.split(","):[],r={},s=n.length;--s>-1;)r[n[s]]=+e.getAttribute(n[s])||0;return r};function convertToPath(o,e){var t=o.tagName.toLowerCase(),n=.552284749831,r,s,a,l,c,h,p,_,w,u,P,b,k,E,R,L,C,M,N,F,I,V;return t==="path"||!o.getBBox?o:(h=_createPath(o,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),V=_attrToObj(o,_typeAttrs[t]),t==="rect"?(l=V.rx,c=V.ry||l,s=V.x,a=V.y,u=V.width-l*2,P=V.height-c*2,l||c?(b=s+l*(1-n),k=s+l,E=k+u,R=E+l*n,L=E+l,C=a+c*(1-n),M=a+c,N=M+P,F=N+c*n,I=N+c,r="M"+L+","+M+" V"+N+" C"+[L,F,R,I,E,I,E-(E-k)/3,I,k+(E-k)/3,I,k,I,b,I,s,F,s,N,s,N-(N-M)/3,s,M+(N-M)/3,s,M,s,C,b,a,k,a,k+(E-k)/3,a,E-(E-k)/3,a,E,a,R,a,L,C,L,M].join(",")+"z"):r="M"+(s+u)+","+a+" v"+P+" h"+-u+" v"+-P+" h"+u+"z"):t==="circle"||t==="ellipse"?(t==="circle"?(l=c=V.r,_=l*n):(l=V.rx,c=V.ry,_=c*n),s=V.cx,a=V.cy,p=l*n,r="M"+(s+l)+","+a+" C"+[s+l,a+_,s+p,a+c,s,a+c,s-p,a+c,s-l,a+_,s-l,a,s-l,a-_,s-p,a-c,s,a-c,s+p,a-c,s+l,a-_,s+l,a].join(",")+"z"):t==="line"?r="M"+V.x1+","+V.y1+" L"+V.x2+","+V.y2:(t==="polyline"||t==="polygon")&&(w=(o.getAttribute("points")+"").match(_numbersExp)||[],s=w.shift(),a=w.shift(),r="M"+s+","+a+" L"+w.join(","),t==="polygon"&&(r+=","+s+","+a+"z")),h.setAttribute("d",rawPathToString(h._gsRawPath=stringToRawPath(r))),e&&o.parentNode&&(o.parentNode.insertBefore(h,o),o.parentNode.removeChild(o)),h)}function getRotationAtBezierT(o,e,t){var n=o[e],r=o[e+2],s=o[e+4],a;return n+=(r-n)*t,r+=(s-r)*t,n+=(r-n)*t,a=r+(s+(o[e+6]-s)*t-r)*t-n,n=o[e+1],r=o[e+3],s=o[e+5],n+=(r-n)*t,r+=(s-r)*t,n+=(r-n)*t,_round$2(_atan2$2(r+(s+(o[e+7]-s)*t-r)*t-n,a)*_RAD2DEG$3)}function sliceRawPath(o,e,t){t=_isUndefined$3(t)?1:_roundPrecise$2(t)||0,e=_roundPrecise$2(e)||0;var n=Math.max(0,~~(_abs(t-e)-1e-8)),r=copyRawPath(o);if(e>t&&(e=1-e,t=1-t,_reverseRawPath(r),r.totalLength=0),e<0||t<0){var s=Math.abs(~~Math.min(e,t))+1;e+=s,t+=s}r.totalLength||cacheRawPathMeasurements(r);var a=t>1,l=getProgressData(r,e,_temp,!0),c=getProgressData(r,t,_temp2),h=c.segment,p=l.segment,_=c.segIndex,w=l.segIndex,u=c.i,P=l.i,b=w===_,k=u===P&&b,E,R,L,C,M,N,F,I;if(a||n){for(E=_<w||b&&u<P||k&&c.t<l.t,_splitSegment(r,w,P,l.t)&&(w++,E||(_++,k?(c.t=(c.t-l.t)/(1-l.t),u=0):b&&(u-=P))),Math.abs(1-(t-e))<1e-5?_=w-1:!c.t&&_?_--:_splitSegment(r,_,u,c.t)&&E&&w++,l.t===1&&(w=(w+1)%r.length),M=[],N=r.length,F=1+N*n,I=w,F+=(N-w+_)%N,C=0;C<F;C++)_appendOrMerge(M,r[I++%N]);r=M}else if(L=c.t===1?6:subdivideSegment(h,u,c.t),e!==t)for(R=subdivideSegment(p,P,k?l.t/c.t:l.t),b&&(L+=R),h.splice(u+L+2),(R||P)&&p.splice(0,P+R),C=r.length;C--;)(C<w||C>_)&&r.splice(C,1);else h.angle=getRotationAtBezierT(h,u+L,0),u+=L,l=h[u],c=h[u+1],h.length=h.totalLength=0,h.totalPoints=r.totalPoints=8,h.push(l,c,l,c,l,c,l,c);return r.totalLength=0,r}function measureSegment(o,e,t){e=e||0,o.samples||(o.samples=[],o.lookup=[]);var n=~~o.resolution||12,r=1/n,s=o.length,a=o[e],l=o[e+1],c=e?e/6*n:0,h=o.samples,p=o.lookup,_=(e?o.minLength:_largeNum)||_largeNum,w=h[c+t*n-1],u=e?h[c-1]:0,P,b,k,E,R,L,C,M,N,F,I,V,Ie,le,Ae,se,Wt;for(h.length=p.length=0,b=e+2;b<s;b+=6){if(k=o[b+4]-a,E=o[b+2]-a,R=o[b]-a,M=o[b+5]-l,N=o[b+3]-l,F=o[b+1]-l,L=C=I=V=0,_abs(k)<.01&&_abs(M)<.01&&_abs(R)+_abs(F)<.01)o.length>8&&(o.splice(b,6),b-=6,s-=6);else for(P=1;P<=n;P++)le=r*P,Ie=1-le,L=C-(C=(le*le*k+3*Ie*(le*E+Ie*R))*le),I=V-(V=(le*le*M+3*Ie*(le*N+Ie*F))*le),se=_sqrt$1(I*I+L*L),se<_&&(_=se),u+=se,h[c++]=u;a+=k,l+=M}if(w)for(w-=u;c<h.length;c++)h[c]+=w;if(h.length&&_){if(o.totalLength=Wt=h[h.length-1]||0,o.minLength=_,Wt/_<9999)for(se=Ae=0,P=0;P<Wt;P+=_)p[se++]=h[Ae]<P?++Ae:Ae}else o.totalLength=h[0]=0;return e?u-h[e/2-1]:u}function cacheRawPathMeasurements(o,e){var t,n,r;for(r=t=n=0;r<o.length;r++)o[r].resolution=~~e||12,n+=o[r].length,t+=measureSegment(o[r]);return o.totalPoints=n,o.totalLength=t,o}function subdivideSegment(o,e,t){if(t<=0||t>=1)return 0;var n=o[e],r=o[e+1],s=o[e+2],a=o[e+3],l=o[e+4],c=o[e+5],h=o[e+6],p=o[e+7],_=n+(s-n)*t,w=s+(l-s)*t,u=r+(a-r)*t,P=a+(c-a)*t,b=_+(w-_)*t,k=u+(P-u)*t,E=l+(h-l)*t,R=c+(p-c)*t;return w+=(E-w)*t,P+=(R-P)*t,o.splice(e+2,4,_round$2(_),_round$2(u),_round$2(b),_round$2(k),_round$2(b+(w-b)*t),_round$2(k+(P-k)*t),_round$2(w),_round$2(P),_round$2(E),_round$2(R)),o.samples&&o.samples.splice(e/6*o.resolution|0,0,0,0,0,0,0,0),6}function getProgressData(o,e,t,n){t=t||{},o.totalLength||cacheRawPathMeasurements(o),(e<0||e>1)&&(e=_wrapProgress(e));var r=0,s=o[0],a,l,c,h,p,_,w;if(!e)w=_=r=0,s=o[0];else if(e===1)w=1,r=o.length-1,s=o[r],_=s.length-8;else{if(o.length>1){for(c=o.totalLength*e,p=_=0;(p+=o[_++].totalLength)<c;)r=_;s=o[r],h=p-s.totalLength,e=(c-h)/(p-h)||0}a=s.samples,l=s.resolution,c=s.totalLength*e,_=s.lookup.length?s.lookup[~~(c/s.minLength)]||0:_getSampleIndex(a,c,e),h=_?a[_-1]:0,p=a[_],p<c&&(h=p,p=a[++_]),w=1/l*((c-h)/(p-h)+_%l),_=~~(_/l)*6,n&&w===1&&(_+6<s.length?(_+=6,w=0):r+1<o.length&&(_=w=0,s=o[++r]))}return t.t=w,t.i=_,t.path=o,t.segment=s,t.segIndex=r,t}function getPositionOnPath(o,e,t,n){var r=o[0],s=n||{},a,l,c,h,p,_,w,u,P;if((e<0||e>1)&&(e=_wrapProgress(e)),r.lookup||cacheRawPathMeasurements(o),o.length>1){for(c=o.totalLength*e,p=_=0;(p+=o[_++].totalLength)<c;)r=o[_];h=p-r.totalLength,e=(c-h)/(p-h)||0}return a=r.samples,l=r.resolution,c=r.totalLength*e,_=r.lookup.length?r.lookup[e<1?~~(c/r.minLength):r.lookup.length-1]||0:_getSampleIndex(a,c,e),h=_?a[_-1]:0,p=a[_],p<c&&(h=p,p=a[++_]),w=1/l*((c-h)/(p-h)+_%l)||0,P=1-w,_=~~(_/l)*6,u=r[_],s.x=_round$2((w*w*(r[_+6]-u)+3*P*(w*(r[_+4]-u)+P*(r[_+2]-u)))*w+u),s.y=_round$2((w*w*(r[_+7]-(u=r[_+1]))+3*P*(w*(r[_+5]-u)+P*(r[_+3]-u)))*w+u),t&&(s.angle=r.totalLength?getRotationAtBezierT(r,_,w>=1?1-1e-9:w||1e-9):r.angle||0),s}function transformRawPath(o,e,t,n,r,s,a){for(var l=o.length,c,h,p,_,w;--l>-1;)for(c=o[l],h=c.length,p=0;p<h;p+=2)_=c[p],w=c[p+1],c[p]=_*e+w*n+s,c[p+1]=_*t+w*r+a;return o._dirty=1,o}function arcToSegment(o,e,t,n,r,s,a,l,c){if(!(o===l&&e===c)){t=_abs(t),n=_abs(n);var h=r%360*_DEG2RAD$1,p=_cos$2(h),_=_sin$2(h),w=Math.PI,u=w*2,P=(o-l)/2,b=(e-c)/2,k=p*P+_*b,E=-_*P+p*b,R=k*k,L=E*E,C=R/(t*t)+L/(n*n);C>1&&(t=_sqrt$1(C)*t,n=_sqrt$1(C)*n);var M=t*t,N=n*n,F=(M*N-M*L-N*R)/(M*L+N*R);F<0&&(F=0);var I=(s===a?-1:1)*_sqrt$1(F),V=I*(t*E/n),Ie=I*-(n*k/t),le=(o+l)/2,Ae=(e+c)/2,se=le+(p*V-_*Ie),Wt=Ae+(_*V+p*Ie),Rt=(k-V)/t,Ve=(E-Ie)/n,_t=(-k-V)/t,$i=(-E-Ie)/n,mn=Rt*Rt+Ve*Ve,At=(Ve<0?-1:1)*Math.acos(Rt/_sqrt$1(mn)),je=(Rt*$i-Ve*_t<0?-1:1)*Math.acos((Rt*_t+Ve*$i)/_sqrt$1(mn*(_t*_t+$i*$i)));isNaN(je)&&(je=w),!a&&je>0?je-=u:a&&je<0&&(je+=u),At%=u,je%=u;var Me=Math.ceil(_abs(je)/(u/4)),Ye=[],Fe=je/Me,zi=4/3*_sin$2(Fe/2)/(1+_cos$2(Fe/2)),Gi=p*t,An=_*t,Wi=_*-n,_i=p*n,tn;for(tn=0;tn<Me;tn++)r=At+tn*Fe,k=_cos$2(r),E=_sin$2(r),Rt=_cos$2(r+=Fe),Ve=_sin$2(r),Ye.push(k-zi*E,E+zi*k,Rt+zi*Ve,Ve-zi*Rt,Rt,Ve);for(tn=0;tn<Ye.length;tn+=2)k=Ye[tn],E=Ye[tn+1],Ye[tn]=k*Gi+E*Wi+se,Ye[tn+1]=k*An+E*_i+Wt;return Ye[tn-2]=l,Ye[tn-1]=c,Ye}}function stringToRawPath(o){var e=(o+"").replace(_scientific,function(V){var Ie=+V;return Ie<1e-4&&Ie>-1e-4?0:Ie}).match(_svgPathExp)||[],t=[],n=0,r=0,s=2/3,a=e.length,l=0,c="ERROR: malformed path: "+o,h,p,_,w,u,P,b,k,E,R,L,C,M,N,F,I=function(V,Ie,le,Ae){R=(le-V)/3,L=(Ae-Ie)/3,b.push(V+R,Ie+L,le-R,Ae-L,le,Ae)};if(!o||!isNaN(e[0])||isNaN(e[1]))return console.log(c),t;for(h=0;h<a;h++)if(M=u,isNaN(e[h])?(u=e[h].toUpperCase(),P=u!==e[h]):h--,_=+e[h+1],w=+e[h+2],P&&(_+=n,w+=r),h||(k=_,E=w),u==="M")b&&(b.length<8?t.length-=1:l+=b.length),n=k=_,r=E=w,b=[_,w],t.push(b),h+=2,u="L";else if(u==="C")b||(b=[0,0]),P||(n=r=0),b.push(_,w,n+e[h+3]*1,r+e[h+4]*1,n+=e[h+5]*1,r+=e[h+6]*1),h+=6;else if(u==="S")R=n,L=r,(M==="C"||M==="S")&&(R+=n-b[b.length-4],L+=r-b[b.length-3]),P||(n=r=0),b.push(R,L,_,w,n+=e[h+3]*1,r+=e[h+4]*1),h+=4;else if(u==="Q")R=n+(_-n)*s,L=r+(w-r)*s,P||(n=r=0),n+=e[h+3]*1,r+=e[h+4]*1,b.push(R,L,n+(_-n)*s,r+(w-r)*s,n,r),h+=4;else if(u==="T")R=n-b[b.length-4],L=r-b[b.length-3],b.push(n+R,r+L,_+(n+R*1.5-_)*s,w+(r+L*1.5-w)*s,n=_,r=w),h+=2;else if(u==="H")I(n,r,n=_,r),h+=1;else if(u==="V")I(n,r,n,r=_+(P?r-n:0)),h+=1;else if(u==="L"||u==="Z")u==="Z"&&(_=k,w=E,b.closed=!0),(u==="L"||_abs(n-_)>.5||_abs(r-w)>.5)&&(I(n,r,_,w),u==="L"&&(h+=2)),n=_,r=w;else if(u==="A"){if(N=e[h+4],F=e[h+5],R=e[h+6],L=e[h+7],p=7,N.length>1&&(N.length<3?(L=R,R=F,p--):(L=F,R=N.substr(2),p-=2),F=N.charAt(1),N=N.charAt(0)),C=arcToSegment(n,r,+e[h+1],+e[h+2],+e[h+3],+N,+F,(P?n:0)+R*1,(P?r:0)+L*1),h+=p,C)for(p=0;p<C.length;p++)b.push(C[p]);n=b[b.length-2],r=b[b.length-1]}else console.log(c);return h=b.length,h<6?(t.pop(),h=0):b[0]===b[h-2]&&b[1]===b[h-1]&&(b.closed=!0),t.totalPoints=l+h,t}function flatPointsToSegment(o,e){e===void 0&&(e=1);for(var t=o[0],n=0,r=[t,n],s=2;s<o.length;s+=2)r.push(t,n,o[s],n=(o[s]-t)*e/2,t=o[s],-n);return r}function pointsToSegment(o,e){_abs(o[0]-o[2])<1e-4&&_abs(o[1]-o[3])<1e-4&&(o=o.slice(2));var t=o.length-2,n=+o[0],r=+o[1],s=+o[2],a=+o[3],l=[n,r,n,r],c=s-n,h=a-r,p=Math.abs(o[t]-n)<.001&&Math.abs(o[t+1]-r)<.001,_,w,u,P,b,k,E,R,L,C,M,N,F,I,V;for(p&&(o.push(s,a),s=n,a=r,n=o[t-2],r=o[t-1],o.unshift(n,r),t+=4),e=e||e===0?+e:1,u=2;u<t;u+=2)_=n,w=r,n=s,r=a,s=+o[u+2],a=+o[u+3],!(n===s&&r===a)&&(P=c,b=h,c=s-n,h=a-r,k=_sqrt$1(P*P+b*b),E=_sqrt$1(c*c+h*h),R=_sqrt$1(Math.pow(c/E+P/k,2)+Math.pow(h/E+b/k,2)),L=(k+E)*e*.25/R,C=n-(n-_)*(k?L/k:0),M=n+(s-n)*(E?L/E:0),N=n-(C+((M-C)*(k*3/(k+E)+.5)/4||0)),F=r-(r-w)*(k?L/k:0),I=r+(a-r)*(E?L/E:0),V=r-(F+((I-F)*(k*3/(k+E)+.5)/4||0)),(n!==_||r!==w)&&l.push(_round$2(C+N),_round$2(F+V),_round$2(n),_round$2(r),_round$2(M+N),_round$2(I+V)));return n!==s||r!==a||l.length<4?l.push(_round$2(s),_round$2(a),_round$2(s),_round$2(a)):l.length-=2,l.length===2?l.push(n,r,n,r,n,r):p&&(l.splice(0,6),l.length=l.length-6),l}function rawPathToString(o){_isNumber$2(o[0])&&(o=[o]);var e="",t=o.length,n,r,s,a;for(r=0;r<t;r++){for(a=o[r],e+="M"+_round$2(a[0])+","+_round$2(a[1])+" C",n=a.length,s=2;s<n;s++)e+=_round$2(a[s++])+","+_round$2(a[s++])+" "+_round$2(a[s++])+","+_round$2(a[s++])+" "+_round$2(a[s++])+","+_round$2(a[s])+" ";a.closed&&(e+="z")}return e}/*!
 * CustomEase 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var gsap$2,_coreInitted$1$1,_getGSAP$2=function o(){return gsap$2||typeof window<"u"&&(gsap$2=window.gsap)&&gsap$2.registerPlugin&&gsap$2},_initCore$1$1=function o(){gsap$2=_getGSAP$2(),gsap$2?(gsap$2.registerEase("_CE",CustomEase.create),_coreInitted$1$1=1):console.warn("Please gsap.registerPlugin(CustomEase)")},_bigNum$4=1e20,_round$1$1=function o(e){return~~(e*1e3+(e<0?-.5:.5))/1e3},_numExp$2=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/gi,_needsParsingExp=/[cLlsSaAhHvVtTqQ]/g,_findMinimum=function o(e){var t=e.length,n=_bigNum$4,r;for(r=1;r<t;r+=6)+e[r]<n&&(n=+e[r]);return n},_normalize=function o(e,t,n){!n&&n!==0&&(n=Math.max(+e[e.length-1],+e[1]));var r=+e[0]*-1,s=-n,a=e.length,l=1/(+e[a-2]+r),c=-t||(Math.abs(+e[a-1]-+e[1])<.01*(+e[a-2]-+e[0])?_findMinimum(e)+s:+e[a-1]+s),h;for(c?c=1/c:c=-l,h=0;h<a;h+=2)e[h]=(+e[h]+r)*l,e[h+1]=(+e[h+1]+s)*c},_bezierToPoints=function o(e,t,n,r,s,a,l,c,h,p,_){var w=(e+n)/2,u=(t+r)/2,P=(n+s)/2,b=(r+a)/2,k=(s+l)/2,E=(a+c)/2,R=(w+P)/2,L=(u+b)/2,C=(P+k)/2,M=(b+E)/2,N=(R+C)/2,F=(L+M)/2,I=l-e,V=c-t,Ie=Math.abs((n-l)*V-(r-c)*I),le=Math.abs((s-l)*V-(a-c)*I),Ae;return p||(p=[{x:e,y:t},{x:l,y:c}],_=1),p.splice(_||p.length-1,0,{x:N,y:F}),(Ie+le)*(Ie+le)>h*(I*I+V*V)&&(Ae=p.length,o(e,t,w,u,R,L,N,F,h,p,_),o(N,F,C,M,k,E,l,c,h,p,_+1+(p.length-Ae))),p},CustomEase=function(){function o(t,n,r){_coreInitted$1$1||_initCore$1$1(),this.id=t,this.setData(n,r)}var e=o.prototype;return e.setData=function(t,n){n=n||{},t=t||"0,0,1,1";var r=t.match(_numExp$2),s=1,a=[],l=[],c=n.precision||1,h=c<=1,p,_,w,u,P,b,k,E,R;if(this.data=t,(_needsParsingExp.test(t)||~t.indexOf("M")&&t.indexOf("C")<0)&&(r=stringToRawPath(t)[0]),p=r.length,p===4)r.unshift(0,0),r.push(1,1),p=8;else if((p-2)%6)throw"Invalid CustomEase";for((+r[0]!=0||+r[p-2]!=1)&&_normalize(r,n.height,n.originY),this.segment=r,u=2;u<p;u+=6)_={x:+r[u-2],y:+r[u-1]},w={x:+r[u+4],y:+r[u+5]},a.push(_,w),_bezierToPoints(_.x,_.y,+r[u],+r[u+1],+r[u+2],+r[u+3],w.x,w.y,1/(c*2e5),a,a.length-1);for(p=a.length,u=0;u<p;u++)k=a[u],E=a[u-1]||k,(k.x>E.x||E.y!==k.y&&E.x===k.x||k===E)&&k.x<=1?(E.cx=k.x-E.x,E.cy=k.y-E.y,E.n=k,E.nx=k.x,h&&u>1&&Math.abs(E.cy/E.cx-a[u-2].cy/a[u-2].cx)>2&&(h=0),E.cx<s&&(E.cx?s=E.cx:(E.cx=.001,u===p-1&&(E.x-=.001,s=Math.min(s,.001),h=0)))):(a.splice(u--,1),p--);if(p=1/s+1|0,P=1/p,b=0,k=a[0],h){for(u=0;u<p;u++)R=u*P,k.nx<R&&(k=a[++b]),_=k.y+(R-k.x)/k.cx*k.cy,l[u]={x:R,cx:P,y:_,cy:0,nx:9},u&&(l[u-1].cy=_-l[u-1].y);b=a[a.length-1],l[p-1].cy=b.y-_,l[p-1].cx=b.x-l[l.length-1].x}else{for(u=0;u<p;u++)k.nx<u*P&&(k=a[++b]),l[u]=k;b<a.length-1&&(l[u-1]=a[a.length-2])}return this.ease=function(L){var C=l[L*p|0]||l[p-1];return C.nx<L&&(C=C.n),C.y+(L-C.x)/C.cx*C.cy},this.ease.custom=this,this.id&&gsap$2&&gsap$2.registerEase(this.id,this.ease),this},e.getSVGData=function(t){return o.getSVGData(this,t)},o.create=function(t,n,r){return new o(t,n,r).ease},o.register=function(t){gsap$2=t,_initCore$1$1()},o.get=function(t){return gsap$2.parseEase(t)},o.getSVGData=function(t,n){n=n||{};var r=n.width||100,s=n.height||100,a=n.x||0,l=(n.y||0)+s,c=gsap$2.utils.toArray(n.path)[0],h,p,_,w,u,P,b,k,E,R;if(n.invert&&(s=-s,l=0),typeof t=="string"&&(t=gsap$2.parseEase(t)),t.custom&&(t=t.custom),t instanceof o)h=rawPathToString(transformRawPath([t.segment],r,0,0,-s,a,l));else{for(h=[a,l],b=Math.max(5,(n.precision||1)*200),w=1/b,b+=2,k=5/b,E=_round$1$1(a+w*r),R=_round$1$1(l+t(w)*-s),p=(R-l)/(E-a),_=2;_<b;_++)u=_round$1$1(a+_*w*r),P=_round$1$1(l+t(_*w)*-s),(Math.abs((P-R)/(u-E)-p)>k||_===b-1)&&(h.push(E,R),p=(P-R)/(u-E)),E=u,R=P;h="M"+h.join(",")}return c&&c.setAttribute("d",h),h},o}();CustomEase.version="3.13.0";CustomEase.headless=!0;_getGSAP$2()&&gsap$2.registerPlugin(CustomEase);/*!
 * MotionPathPlugin 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _xProps="x,translateX,left,marginLeft,xPercent".split(","),_yProps="y,translateY,top,marginTop,yPercent".split(","),_DEG2RAD$3=Math.PI/180,gsap$1$1,PropTween$2,_getUnit,_toArray$1,_getStyleSaver$1$1,_reverting$1$1,_getGSAP$1=function o(){return gsap$1$1||typeof window<"u"&&(gsap$1$1=window.gsap)&&gsap$1$1.registerPlugin&&gsap$1$1},_populateSegmentFromArray=function o(e,t,n,r){for(var s=t.length,a=r===2?0:r,l=0;l<s;l++)e[a]=parseFloat(t[l][n]),r===2&&(e[a+1]=0),a+=2;return e},_getPropNum=function o(e,t,n){return parseFloat(e._gsap.get(e,t,n||"px"))||0},_relativize=function o(e){var t=e[0],n=e[1],r;for(r=2;r<e.length;r+=2)t=e[r]+=t,n=e[r+1]+=n},_segmentToRawPath=function o(e,t,n,r,s,a,l,c,h){if(l.type==="cubic")t=[t];else{l.fromCurrent!==!1&&t.unshift(_getPropNum(n,r,c),s?_getPropNum(n,s,h):0),l.relative&&_relativize(t);var p=s?pointsToSegment:flatPointsToSegment;t=[p(t,l.curviness)]}return t=a(_align(t,n,l)),_addDimensionalPropTween(e,n,r,t,"x",c),s&&_addDimensionalPropTween(e,n,s,t,"y",h),cacheRawPathMeasurements(t,l.resolution||(l.curviness===0?20:12))},_emptyFunc$3=function o(e){return e},_numExp$1=/[-+\.]*\d+\.?(?:e-|e\+)?\d*/g,_originToPoint=function o(e,t,n){var r=getGlobalMatrix$1(e),s=0,a=0,l;return(e.tagName+"").toLowerCase()==="svg"?(l=e.viewBox.baseVal,l.width||(l={width:+e.getAttribute("width"),height:+e.getAttribute("height")})):l=t&&e.getBBox&&e.getBBox(),t&&t!=="auto"&&(s=t.push?t[0]*(l?l.width:e.offsetWidth||0):t.x,a=t.push?t[1]*(l?l.height:e.offsetHeight||0):t.y),n.apply(s||a?r.apply({x:s,y:a}):{x:r.e,y:r.f})},_getAlignMatrix=function o(e,t,n,r){var s=getGlobalMatrix$1(e.parentNode,!0,!0),a=s.clone().multiply(getGlobalMatrix$1(t)),l=_originToPoint(e,n,s),c=_originToPoint(t,r,s),h=c.x,p=c.y,_;return a.e=a.f=0,r==="auto"&&t.getTotalLength&&t.tagName.toLowerCase()==="path"&&(_=t.getAttribute("d").match(_numExp$1)||[],_=a.apply({x:+_[0],y:+_[1]}),h+=_.x,p+=_.y),_&&(_=a.apply(t.getBBox()),h-=_.x,p-=_.y),a.e=h-l.x,a.f=p-l.y,a},_align=function o(e,t,n){var r=n.align,s=n.matrix,a=n.offsetX,l=n.offsetY,c=n.alignOrigin,h=e[0][0],p=e[0][1],_=_getPropNum(t,"x"),w=_getPropNum(t,"y"),u,P,b;return!e||!e.length?getRawPath("M0,0L0,0"):(r&&(r==="self"||(u=_toArray$1(r)[0]||t)===t?transformRawPath(e,1,0,0,1,_-h,w-p):(c&&c[2]!==!1?gsap$1$1.set(t,{transformOrigin:c[0]*100+"% "+c[1]*100+"%"}):c=[_getPropNum(t,"xPercent")/-100,_getPropNum(t,"yPercent")/-100],P=_getAlignMatrix(t,u,c,"auto"),b=P.apply({x:h,y:p}),transformRawPath(e,P.a,P.b,P.c,P.d,_+P.e-(b.x-P.e),w+P.f-(b.y-P.f)))),s?transformRawPath(e,s.a,s.b,s.c,s.d,s.e,s.f):(a||l)&&transformRawPath(e,1,0,0,1,a||0,l||0),e)},_addDimensionalPropTween=function o(e,t,n,r,s,a){var l=t._gsap,c=l.harness,h=c&&c.aliases&&c.aliases[n],p=h&&h.indexOf(",")<0?h:n,_=e._pt=new PropTween$2(e._pt,t,p,0,0,_emptyFunc$3,0,l.set(t,p,e));_.u=_getUnit(l.get(t,p,a))||0,_.path=r,_.pp=s,e._props.push(p)},_sliceModifier=function o(e,t){return function(n){return e||t!==1?sliceRawPath(n,e,t):n}},MotionPathPlugin={version:"3.13.0",name:"motionPath",register:function o(e,t,n){gsap$1$1=e,_getUnit=gsap$1$1.utils.getUnit,_toArray$1=gsap$1$1.utils.toArray,_getStyleSaver$1$1=gsap$1$1.core.getStyleSaver,_reverting$1$1=gsap$1$1.core.reverting||function(){},PropTween$2=n},init:function o(e,t,n){if(!gsap$1$1)return console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),!1;(!(typeof t=="object"&&!t.style)||!t.path)&&(t={path:t});var r=[],s=t,a=s.path,l=s.autoRotate,c=s.unitX,h=s.unitY,p=s.x,_=s.y,w=a[0],u=_sliceModifier(t.start,"end"in t?t.end:1),P,b;if(this.rawPaths=r,this.target=e,this.tween=n,this.styles=_getStyleSaver$1$1&&_getStyleSaver$1$1(e,"transform"),(this.rotate=l||l===0)&&(this.rOffset=parseFloat(l)||0,this.radians=!!t.useRadians,this.rProp=t.rotation||"rotation",this.rSet=e._gsap.set(e,this.rProp,this),this.ru=_getUnit(e._gsap.get(e,this.rProp))||0),Array.isArray(a)&&!("closed"in a)&&typeof w!="number"){for(b in w)!p&&~_xProps.indexOf(b)?p=b:!_&&~_yProps.indexOf(b)&&(_=b);p&&_?r.push(_segmentToRawPath(this,_populateSegmentFromArray(_populateSegmentFromArray([],a,p,0),a,_,1),e,p,_,u,t,c||_getUnit(a[0][p]),h||_getUnit(a[0][_]))):p=_=0;for(b in w)b!==p&&b!==_&&r.push(_segmentToRawPath(this,_populateSegmentFromArray([],a,b,2),e,b,0,u,t,_getUnit(a[0][b])))}else P=u(_align(getRawPath(t.path),e,t)),cacheRawPathMeasurements(P,t.resolution),r.push(P),_addDimensionalPropTween(this,e,t.x||"x",P,"x",t.unitX||"px"),_addDimensionalPropTween(this,e,t.y||"y",P,"y",t.unitY||"px");n.vars.immediateRender&&this.render(n.progress(),this)},render:function o(e,t){var n=t.rawPaths,r=n.length,s=t._pt;if(t.tween._time||!_reverting$1$1()){for(e>1?e=1:e<0&&(e=0);r--;)getPositionOnPath(n[r],e,!r&&t.rotate,n[r]);for(;s;)s.set(s.t,s.p,s.path[s.pp]+s.u,s.d,e),s=s._next;t.rotate&&t.rSet(t.target,t.rProp,n[0].angle*(t.radians?_DEG2RAD$3:1)+t.rOffset+t.ru,t,e)}else t.styles.revert()},getLength:function o(e){return cacheRawPathMeasurements(getRawPath(e)).totalLength},sliceRawPath,getRawPath,pointsToSegment,stringToRawPath,rawPathToString,transformRawPath,getGlobalMatrix:getGlobalMatrix$1,getPositionOnPath,cacheRawPathMeasurements,convertToPath:function o(e,t){return _toArray$1(e).map(function(n){return convertToPath(n,t!==!1)})},convertCoordinates:function o(e,t,n){var r=getGlobalMatrix$1(t,!0,!0).multiply(getGlobalMatrix$1(e));return n?r.apply(n):r},getAlignMatrix:_getAlignMatrix,getRelativePosition:function o(e,t,n,r){var s=_getAlignMatrix(e,t,n,r);return{x:s.e,y:s.f}},arrayToRawPath:function o(e,t){t=t||{};var n=_populateSegmentFromArray(_populateSegmentFromArray([],e,t.x||"x",0),e,t.y||"y",1);return t.relative&&_relativize(n),[t.type==="cubic"?n:pointsToSegment(n,t.curviness)]}};_getGSAP$1()&&gsap$1$1.registerPlugin(MotionPathPlugin);/*!
 * DrawSVGPlugin 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var gsap$5,_toArray$3,_win$5,_isEdge,_coreInitted$4,_warned,_getStyleSaver$4,_reverting$4,_windowExists$4=function o(){return typeof window<"u"},_getGSAP$4=function o(){return gsap$5||_windowExists$4()&&(gsap$5=window.gsap)&&gsap$5.registerPlugin&&gsap$5},_numExp$4=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,_types={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]},_round$5=function o(e){return Math.round(e*1e4)/1e4},_parseNum=function o(e){return parseFloat(e)||0},_parseSingleVal=function o(e,t){var n=_parseNum(e);return~e.indexOf("%")?n/100*t:n},_getAttributeAsNumber=function o(e,t){return _parseNum(e.getAttribute(t))},_sqrt$3=Math.sqrt,_getDistance=function o(e,t,n,r,s,a){return _sqrt$3(Math.pow((_parseNum(n)-_parseNum(e))*s,2)+Math.pow((_parseNum(r)-_parseNum(t))*a,2))},_warn$2=function o(e){return console.warn(e)},_hasNonScalingStroke=function o(e){return e.getAttribute("vector-effect")==="non-scaling-stroke"},_bonusValidated=1,_parse=function o(e,t,n){var r=e.indexOf(" "),s,a;return r<0?(s=n!==void 0?n+"":e,a=e):(s=e.substr(0,r),a=e.substr(r+1)),s=_parseSingleVal(s,t),a=_parseSingleVal(a,t),s>a?[a,s]:[s,a]},_getLength=function o(e){if(e=_toArray$3(e)[0],!e)return 0;var t=e.tagName.toLowerCase(),n=e.style,r=1,s=1,a,l,c,h,p,_,w;_hasNonScalingStroke(e)&&(s=e.getScreenCTM(),r=_sqrt$3(s.a*s.a+s.b*s.b),s=_sqrt$3(s.d*s.d+s.c*s.c));try{l=e.getBBox()}catch{_warn$2("Some browsers won't measure invisible elements (like display:none or masks inside defs).")}var u=l||{x:0,y:0,width:0,height:0},P=u.x,b=u.y,k=u.width,E=u.height;if((!l||!k&&!E)&&_types[t]&&(k=_getAttributeAsNumber(e,_types[t][0]),E=_getAttributeAsNumber(e,_types[t][1]),t!=="rect"&&t!=="line"&&(k*=2,E*=2),t==="line"&&(P=_getAttributeAsNumber(e,"x1"),b=_getAttributeAsNumber(e,"y1"),k=Math.abs(k-P),E=Math.abs(E-b))),t==="path")h=n.strokeDasharray,n.strokeDasharray="none",a=e.getTotalLength()||0,_round$5(r)!==_round$5(s)&&!_warned&&(_warned=1)&&_warn$2("Warning: <path> length cannot be measured when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."),a*=(r+s)/2,n.strokeDasharray=h;else if(t==="rect")a=k*2*r+E*2*s;else if(t==="line")a=_getDistance(P,b,P+k,b+E,r,s);else if(t==="polyline"||t==="polygon")for(c=e.getAttribute("points").match(_numExp$4)||[],t==="polygon"&&c.push(c[0],c[1]),a=0,p=2;p<c.length;p+=2)a+=_getDistance(c[p-2],c[p-1],c[p],c[p+1],r,s)||0;else(t==="circle"||t==="ellipse")&&(_=k/2*r,w=E/2*s,a=Math.PI*(3*(_+w)-_sqrt$3((3*_+w)*(_+3*w))));return a||0},_getPosition=function o(e,t){if(e=_toArray$3(e)[0],!e)return[0,0];t||(t=_getLength(e)+1);var n=_win$5.getComputedStyle(e),r=n.strokeDasharray||"",s=_parseNum(n.strokeDashoffset),a=r.indexOf(",");return a<0&&(a=r.indexOf(" ")),r=a<0?t:_parseNum(r.substr(0,a)),r>t&&(r=t),[-s||0,r-s||0]},_initCore$4=function o(){_windowExists$4()&&(_win$5=window,_coreInitted$4=gsap$5=_getGSAP$4(),_toArray$3=gsap$5.utils.toArray,_getStyleSaver$4=gsap$5.core.getStyleSaver,_reverting$4=gsap$5.core.reverting||function(){},_isEdge=((_win$5.navigator||{}).userAgent||"").indexOf("Edge")!==-1)},DrawSVGPlugin={version:"3.13.0",name:"drawSVG",register:function o(e){gsap$5=e,_initCore$4()},init:function o(e,t,n,r,s){if(!e.getBBox)return!1;_coreInitted$4||_initCore$4();var a=_getLength(e),l,c,h;return this.styles=_getStyleSaver$4&&_getStyleSaver$4(e,"strokeDashoffset,strokeDasharray,strokeMiterlimit"),this.tween=n,this._style=e.style,this._target=e,t+""=="true"?t="0 100%":t?(t+"").indexOf(" ")===-1&&(t="0 "+t):t="0 0",l=_getPosition(e,a),c=_parse(t,a,l[0]),this._length=_round$5(a),this._dash=_round$5(l[1]-l[0]),this._offset=_round$5(-l[0]),this._dashPT=this.add(this,"_dash",this._dash,_round$5(c[1]-c[0]),0,0,0,0,0,1),this._offsetPT=this.add(this,"_offset",this._offset,_round$5(-c[0]),0,0,0,0,0,1),_isEdge&&(h=_win$5.getComputedStyle(e),h.strokeLinecap!==h.strokeLinejoin&&(c=_parseNum(h.strokeMiterlimit),this.add(e.style,"strokeMiterlimit",c,c+.01))),this._live=_hasNonScalingStroke(e)||~(t+"").indexOf("live"),this._nowrap=~(t+"").indexOf("nowrap"),this._props.push("drawSVG"),_bonusValidated},render:function o(e,t){if(t.tween._time||!_reverting$4()){var n=t._pt,r=t._style,s,a,l,c;if(n){for(t._live&&(s=_getLength(t._target),s!==t._length&&(a=s/t._length,t._length=s,t._offsetPT&&(t._offsetPT.s*=a,t._offsetPT.c*=a),t._dashPT?(t._dashPT.s*=a,t._dashPT.c*=a):t._dash*=a));n;)n.r(e,n.d),n=n._next;l=t._dash||e&&e!==1&&1e-4||0,s=t._length-l+.1,c=t._offset,l&&c&&l+Math.abs(c%t._length)>t._length-.05&&(c+=c<0?.005:-.005)&&(s+=.005),r.strokeDashoffset=l?c:c+.001,r.strokeDasharray=s<.1?"none":l?l+"px,"+(t._nowrap?999999:s)+"px":"0px, 999999px"}}else t.styles.revert()},getLength:_getLength,getPosition:_getPosition};_getGSAP$4()&&gsap$5.registerPlugin(DrawSVGPlugin);var gsapWithCSS$2=gsap$4.registerPlugin(CSSPlugin$1)||gsap$4;gsapWithCSS$2.core.Tween;const TimeScaleKnob=o=>{const{onTimeScaleChange:e,envelopeType:t,minValue:n=.1,maxValue:r=10,defaultValue:s=1,snapIncrement:a=1,width:l=45,height:c=45}=o;defineElement("knob-element",KnobElement);const h=document.createElement("knob-element");return h.setAttribute("min-value",n.toString()),h.setAttribute("max-value",r.toString()),h.setAttribute("snap-increment",a.toString()),h.setAttribute("width",l.toString()),h.setAttribute("height",c.toString()),h.setAttribute("default-value",s.toString()),h.style.marginTop="10px",h.className="envelope-time-scale-knob",h.title=`Time scale (${n}x - ${r}x)`,h.addEventListener("knob-change",p=>{const _=p.detail;e(t,_.value)}),h},LabeledTimeScaleKnob=o=>{const{label:e="Time Scale"}=o,t=document.createElement("div");t.style.cssText=`
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    font-size: 12px;
    color: #ccc;
  `;const n=document.createElement("div");n.textContent=e,n.style.textAlign="center";const r=TimeScaleKnob(o),s=document.createElement("div");return s.textContent=`${o.defaultValue||1}x`,s.style.cssText=`
    font-size: 10px;
    color: #999;
    text-align: center;
    min-width: 30px;
  `,r.addEventListener("knob-change",a=>{const l=a.detail;s.textContent=`${l.value.toFixed(1)}x`}),t.appendChild(n),t.appendChild(r),t.appendChild(s),t},secondsToScreenX=(o,e,t)=>o/e*t,screenXToSeconds=(o,e,t)=>o/e*t,screenYToValue=(o,e)=>Math.max(0,Math.min(1,1-o/e)),applySnapping=(o,e,t)=>{if(!e)return o;const n=e.find(r=>Math.abs(r-o)<t);return n!==void 0?n:o},{button:button$1}=van.tags,EnvToggleButtons=(o,e,t)=>{const n=button$1({style:()=>`
      position: absolute; 
      top: 4px; 
      right: 4px; 
      width: 16px; 
      height: 16px; 
      border: none; 
      border-radius: 50%; 
      cursor: pointer; 
      z-index: 10;
      background: ${o.val?"#4ade80":"#666"};
    `,title:()=>o.val?"Disable envelope":"Enable envelope",onclick:()=>o.val=!o.val}),r=button$1({style:()=>`
      position: absolute; 
      top: 4px; 
      right: 24px; 
      width: 16px; 
      height: 16px; 
      border: none; 
      border-radius: 50%; 
      cursor: pointer; 
      z-index: 10;
      background: ${e.val&&o.val?"#ff6b6b":"#666"};
    `,title:()=>e.val?"Disable looping":"Enable looping",onclick:()=>e.val=!e.val}),s=button$1({style:()=>`
      position: absolute; 
      top: 4px; 
      right: 44px;  
      width: 16px; 
      height: 16px; 
      border: none; 
      border-radius: 50%; 
      cursor: pointer; 
      z-index: 10;
      background: ${t.val&&o.val?"#336bcc":"#666"};
    `,title:()=>t.val?"Disable sync":"Enable sync",onclick:()=>t.val=!t.val});return{enabledToggle:n,loopToggle:r,syncToggle:s}},{g,line}=van.tags("http://www.w3.org/2000/svg"),createEnvelopeGrid=(o,e)=>{const t=Array.from({length:6},(r,s)=>{const a=s/5*o;return line({x1:a,y1:0,x2:a,y2:e,stroke:"#333","stroke-width":1})}),n=Array.from({length:6},(r,s)=>{const a=s/5*e;return line({x1:0,y1:a,x2:o,y2:a,stroke:"#333","stroke-width":1})});return g({class:"envelope-grid"},...t,...n)},getWaveformSVGData=(o,e,t)=>{if(!o.length)return"";const n=o.getChannelData(0),r=Math.ceil(n.length/e);let s="";for(let a=0;a<e;a++){const l=a*r,c=(1-((n[l]||0)+1)/2)*t;s+=(a===0?"M":"L")+`${a},${c} `}return s};function generateMidiNoteColors(o="none",e=[20,80],t=!0){const n={};for(let r=0;r<=127;r++){const s=r%12*30,a=t?85:70,l=e[0]+r%12/11*(e[1]-e[0]),c=(1-Math.abs(2*l/100-1))*a/100,h=c*(1-Math.abs(s/60%2-1)),p=l/100-c/2;let _=0,w=0,u=0;s<60?(_=c,w=h):s<120?(_=h,w=c):s<180?(w=c,u=h):s<240?(w=h,u=c):s<300?(_=h,u=c):(_=c,u=h),o==="r"?_=0:o==="g"?w=0:o==="b"&&(u=0);const P=b=>Math.round(Math.max(0,Math.min(255,(b+p)*255))).toString(16).padStart(2,"0");if(t){let[b,k,E]=[_+p,w+p,u+p];const R=Math.max(e[0]/100*.8,.3);if(Math.max(b,k,E)<R){const L=R/Math.max(b,k,E);b*=L,k*=L,E*=L}n[r]=`#${Math.round(b*255).toString(16).padStart(2,"0")}${Math.round(k*255).toString(16).padStart(2,"0")}${Math.round(E*255).toString(16).padStart(2,"0")}`}else n[r]=`#${P(_)}${P(w)}${P(u)}`}return n}gsapWithCSS$2.registerPlugin(MotionPathPlugin,CustomEase);const createSimplePlayheads=(o,e,t,n,r,s=400,a=200)=>{const l=new Map,c=new Map,h=generateMidiNoteColors("none",[40,90],!0),p=a/2,_=(b,k)=>{const E=document.createElementNS("http://www.w3.org/2000/svg","circle");return E.setAttribute("r","5"),E.setAttribute("fill",h[k]),E.setAttribute("stroke","#fff"),E.setAttribute("stroke-width","2"),E.style.pointerEvents="none",E},w=n.onMessage(`${r}:trigger`,b=>{if(!b.voiceId)return;const{voiceId:k,midiNote:E=60,duration:R,sustainEnabled:L}=b;P(k);const C=_(k,E);o.appendChild(C),c.set(k,C),gsapWithCSS$2.set(C,{x:0,y:p});const M=gsapWithCSS$2.timeline();if(L&&t.sustainPointIndex!==null){const N=t.points[t.sustainPointIndex].time/t.fullDuration*s;M.to(C,{x:N,duration:R,ease:"none",onComplete:()=>{M.pause()}}),t.points[t.releasePointIndex].time/t.fullDuration*s,M.to(C,{x:s,r:5,duration:t.releaseTime,ease:"none",onComplete:()=>{P(k)}})}else M.to(C,{x:s,duration:R,ease:"none",onComplete:()=>{P(k)}});l.set(k,M)}),u=n.onMessage(`${r}:release`,b=>{if(!b.voiceId)return;const k=l.get(b.voiceId),E=c.get(b.voiceId);if(k&&E){gsapWithCSS$2.set(E,{opacity:.75});const R=t.points[t.releasePointIndex].time/t.fullDuration*s;gsapWithCSS$2.set(E,{x:R}),k.kill();const L=gsapWithCSS$2.timeline();L.to(E,{x:s,opacity:.1,duration:b.remainingDuration,ease:"none",onComplete:()=>P(b.voiceId)}),l.set(b.voiceId,L)}}),P=b=>{const k=l.get(b),E=c.get(b);k&&(k.kill(),l.delete(b)),E&&E.parentNode===o&&(o.removeChild(E),c.delete(b))};return{cleanup:()=>{w(),u(),[...l.keys()].forEach(P)}}};gsapWithCSS$2.registerPlugin(MotionPathPlugin,DrawSVGPlugin,CustomEase);const{div:div$1}=van.tags,{svg,path}=van.tags("http://www.w3.org/2000/svg"),EnvelopeSVG=(o,e,t="100%",n="120px",r={y:[0]},s=.025,a=!0)=>{if(!o.getEnvelope(e).points.length)return{element:div$1({style:`width: ${t}; height: ${n}; background: #1a1a1a; border: 1px solid #444; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: #666;`},"No envelope data"),drawWaveform:()=>{},cleanup:()=>{}};const l=o.getEnvelope(e),c=e,[h,p]=l.valueRange,_=400,w=200;let u,P,b,k=null;const E=van.state(l.isEnabled),R=van.state(l.loopEnabled),L=van.state(l.syncedToPlaybackRate),C=van.state(null),M=van.state(!1);let N={};const F=new Set,I=()=>{if(!P)return;F.forEach(clearTimeout),F.clear(),P.replaceChildren();const At=l.points;At.forEach((je,Me)=>{const Ye=document.createElementNS("http://www.w3.org/2000/svg","circle");Ye.setAttribute("cx",secondsToScreenX(je.time,l.fullDuration,_).toString()),Ye.setAttribute("cy",((1-je.value)*w).toString()),Ye.setAttribute("r","4");let Fe=C.val===Me?"#ff6b6b":l.isEnabled?"#4ade80":"#666";(Me===0||Me===At.length-1)&&(Fe=l.isEnabled?"#ff9500":"#666",Ye.setAttribute("r","6")),Me===l.sustainPointIndex&&(Fe=l.isEnabled?"#ff2211":"#666",Ye.setAttribute("r","6")),Me===l.releasePointIndex&&(Fe=l.isEnabled?"#2196f3":"#666",Ye.setAttribute("r","6")),Ye.setAttribute("fill",Fe),Ye.setAttribute("stroke","#fff"),Ye.setAttribute("stroke-width","1"),Ye.style.cursor="pointer",Ye.style.zIndex="999",(Me===0||Me===At.length-1)&&(Ye.setAttribute("fill",l.isEnabled?"#ff9500":"#666"),Ye.setAttribute("r","6")),Me===l.sustainPointIndex&&(Ye.setAttribute("fill",l.isEnabled?"#ff2211":"#666"),Ye.setAttribute("r","6"));let zi;Ye.addEventListener("mousedown",Gi=>{if(!l.isEnabled)return;if(Gi.altKey){Gi.preventDefault(),Me===l.sustainPointIndex?o.setEnvelopeSustainPoint(e,null):o.setEnvelopeSustainPoint(e,Me),I(),se();return}if(Gi.metaKey){Gi.preventDefault(),Me===l.releasePointIndex&&l.sustainPointIndex?o.setEnvelopeReleasePoint(e,l.sustainPointIndex):o.setEnvelopeReleasePoint(e,Me),I(),se();return}const An=(N[Me]||0)+1;if(N={...N,[Me]:An},M.val=!0,C.val=Me,clearTimeout(zi),An===1)zi=setTimeout(()=>{N={...N,[Me]:0},F.delete(zi)},200),F.add(zi);else if(An===2){if(M.val=!1,Me>0&&Me<At.length-1){const Wi=l.sustainPointIndex;o.deleteEnvelopePoint(c,Me),Me===Wi?o.setEnvelopeSustainPoint(e,null):Wi&&Me<Wi&&o.setEnvelopeSustainPoint(e,Wi-1),I(),se()}N={...N,[Me]:0}}Gi.preventDefault()}),P.appendChild(Ye)})};u=svg({viewBox:`0 0 ${_} ${w}`,preserveAspectRatio:"none",style:`width: ${t}; height: ${n}; background: #1a1a1a; border: 1px solid #444; border-radius: 4px;`});const V=EnvToggleButtons(E,R,L);van.derive(()=>{E.val?o.enableEnvelope(c):E.val||o.disableEnvelope(c)}),van.derive(()=>o.setEnvelopeLoop(c,R.val)),van.derive(()=>o.setEnvelopeSync(c,L.val));const Ie=div$1({style:`position: relative; display: inline-block; width: ${t}; height: ${n}; `},V.enabledToggle,V.loopToggle,V.syncToggle);Ie.appendChild(u);const le=LabeledTimeScaleKnob({onTimeScaleChange:o.setEnvelopeTimeScale,envelopeType:c,minValue:1,maxValue:20,defaultValue:1,snapIncrement:.01,label:"Speed"});Ie.appendChild(le);const Ae=createEnvelopeGrid(_,w),se=()=>{b.setAttribute("d",l.data.getSVGPath(_,w,l.fullDuration))};b=path({id:"envelope-path",fill:"none",stroke:()=>E.val?"#4ade80":"#666","stroke-width":2}),se(),P=document.createElementNS("http://www.w3.org/2000/svg","g"),P.setAttribute("class","control-points");const Wt=createSimplePlayheads(u,P,l,o,c,_,w);function Rt(At){k&&k.parentNode===u&&(u.removeChild(k),k=null);const je=getWaveformSVGData(At,_,w);k=path({id:"waveform-path",d:je.trim(),fill:"none",stroke:()=>E.val?"#3467bc":"#333","stroke-width":1,style:"z-index: -999; pointer-events: none; ","pointer-events":"none"}),u.insertBefore(k,P)}const Ve=At=>{if(l.isEnabled&&M.val&&C.val!==null){const je=l.points,Me=C.val===0,Ye=C.val===je.length-1,Fe=u.getBoundingClientRect();let zi=screenXToSeconds(At.clientX-Fe.left,Fe.width,l.fullDuration),Gi=screenYToValue(At.clientY-Fe.top,Fe.height);Gi=applySnapping(Gi,r.y,s),Me?zi=0:Ye?zi=l.fullDuration:zi=applySnapping(zi,r.x,s),o.updateEnvelopePoint(c,C.val,zi,Gi),I(),se()}},_t=()=>{l.isEnabled&&(M.val=!1,C.val=null,I())},$i=()=>{l.isEnabled&&(M.val=!1,C.val=null,I())},mn=At=>{if(!l.isEnabled||(At.stopPropagation(),M.val))return;const je=u.getBoundingClientRect(),Me=screenXToSeconds(At.clientX-je.left,je.width,l.fullDuration),Ye=screenYToValue(At.clientY-je.top,je.height);o.addEnvelopePoint(c,Me,Ye),I(),se()};return u.addEventListener("mousemove",Ve),u.addEventListener("mouseup",_t),u.addEventListener("mouseleave",$i),u.addEventListener("dblclick",mn),u.appendChild(Ae),u.appendChild(b),u.appendChild(P),I(),{element:Ie,drawWaveform:Rt,cleanup:()=>{Wt.cleanup(),F.forEach(clearTimeout),k&&k.parentNode===u&&u.removeChild(k)}}},{div:div$8,button:button$3}=van.tags,SamplerElement=o=>{let e=null,t=null;const n=o.attr("expanded","true"),r=van.state(.75),s=van.state(null),a=van.state(null),l=van.state(null),c=van.state(0),h=van.state(0),p=van.state(.5),_=van.state(0),w=van.state(0),u=van.state(0),P=van.state(!0),b=van.state(!1),k=van.state(!1);van.state(!1);const E=van.state(!1),R=van.state(!1),L=createIcons(),C=van.state("amp-env"),M=van.state({width:"100%",height:"200px"});let N=null,F=null,I=null;const V=()=>{e&&(N&&N.cleanup(),F&&F.cleanup(),I&&I.cleanup(),s.val=e.getEnvelope("amp-env"),l.val=e.getEnvelope("filter-env"),a.val=e.getEnvelope("pitch-env"),N=EnvelopeSVG(e,"amp-env",M.val.width,M.val.height),F=EnvelopeSVG(e,"filter-env",M.val.width,M.val.height),I=EnvelopeSVG(e,"pitch-env",M.val.width,M.val.height))},Ie=At=>{N==null||N.drawWaveform(At),F==null||F.drawWaveform(At),I==null||I.drawWaveform(At)},le=van.state("Record"),Ae=van.state("Not initialized"),se=At=>van.derive(()=>e&&At());o.mount(()=>{const At=async()=>{try{const Me=hh();Me.initialized||await Me.init();const Ye=parseInt(o.attr("polyphony","16").val);if(e=Me.createSamplePlayer(void 0,Ye),console.log("polyphony",Ye),!e.initialized){console.warn("Failed to create sample player"),Ae.val="Failed to initialize";return}van.derive(()=>{e&&c.val!==e.loopStart&&(p.val===0?e.scrollLoopPoints(c.val,h.val):e.setLoopStart(c.val,p.val))}),van.derive(()=>{e&&p.val!==0&&h.val!==e.loopEnd&&e.setLoopEnd(h.val,p.val)}),se(()=>{e==null||e.setSampleStartPoint(_.val)}),se(()=>{e!=null&&e.isLoaded&&(e==null||e.setSampleEndPoint(w.val))}),se(()=>{(e==null?void 0:e.volume)!==void 0&&(e.volume=r.val)}),se(()=>P.val?e==null?void 0:e.enableKeyboard():e==null?void 0:e.disableKeyboard()),se(()=>b.val?e==null?void 0:e.enableMIDI():e==null?void 0:e.disableMIDI()),se(()=>{e==null||e.setHoldLocked(R.val)}),se(()=>{e==null||e.setLoopLocked(E.val)}),e.onMessage("sample:loaded",Fe=>Rt(Fe.durationSeconds)),e.onMessage("voice:stopped",Fe=>{}),e.onMessage("sample:pitch-detected",Fe=>{Ae.val=`Sample Pitch Detected -> ${Fe.pitch}`}),document.addEventListener("keydown",Fe=>{if(Fe.code==="CapsLock"){const zi=Fe.getModifierState("CapsLock");zi!==k.val&&!E.val&&(k.val=zi,Ae.val=zi?"Loop Enabled":"Loop disabled")}}),document.addEventListener("keyup",Fe=>{if(Fe.code==="CapsLock"){const zi=Fe.getModifierState("CapsLock");zi!==k.val&&!E.val&&(k.val=zi,Ae.val=zi?"Loop Enabled":"Loop disabled")}}),Ae.val="Ready"}catch(Me){console.error("Failed to initialize sampler:",Me),Ae.val=`Error: ${Me instanceof Error?Me.message:String(Me)}`}},je=document.querySelector(".keyboard-section");return je&&je.appendChild($i),At(),()=>{e==null||e.dispose()}});const Wt=async()=>{if(!e){Ae.val="Sampler not initialized";return}try{const At=document.createElement("input");At.type="file",At.accept="audio/*",At.onchange=async je=>{const Me=je.target.files;if(Me&&Me.length>0){const Ye=Me[0];Ae.val=`Loading: ${Ye.name}...`;try{if(!e)return;const Fe=await Ye.arrayBuffer();if(!Fe){console.warn("Failed to retrieve uploaded arrayBuffer");return}const zi=(await e.loadSample(Fe)).duration;await new Promise(Gi=>setTimeout(Gi,0)),zi>0&&(u.val=zi,Ae.val=`Loaded: ${Ye.name}`)}catch(Fe){console.error("Failed to load sample:",Fe),Ae.val=`Error loading: ${Fe instanceof Error?Fe.message:String(Fe)}`}}},At.click()}catch(At){console.error("Failed to load sample:",At),Ae.val=`Error: ${At instanceof Error?At.message:String(At)}`}};function Rt(At){const je=e==null?void 0:e.audiobuffer;u.val=At,V(),je instanceof AudioBuffer&&Ie(je),Ae.val=`All voices loaded. Sample Duration: ${At.toFixed(3)}`}const Ve=async()=>{if(!(!e||le.val==="Recording"))try{const At=await hh().createRecorder();if(!At){Ae.val="Failed to create recorder";return}if(t=At,!t)return;t.connect(e),await t.start({useThreshold:!0,startThreshold:-30,autoStop:!0,stopThreshold:-40,silenceTimeoutMs:1e3}),le.val="Armed",Ae.val="Listening...",t.onMessage("record:armed",()=>{le.val="Armed",Ae.val="Listening..."}),t.onMessage("record:start",()=>{le.val="Recording",Ae.val="Recording..."}),t.onMessage("record:cancelled",()=>{le.val="Record",Ae.val="Recording cancelled"}),t.onMessage("record:stop",()=>{le.val="Record",Ae.val="Recording completed"})}catch(At){console.error("Failed to start recording:",At),Ae.val=`Recording error: ${At instanceof Error?At.message:String(At)}`,le.val="Record"}},_t=async()=>{if(t)try{le.val="Record",await(t==null?void 0:t.stop()),le.val="Record",Ae.val="Recording stopped"}catch(At){console.error("Failed to stop recording:",At),Ae.val=`Stop error: ${At instanceof Error?At.message:String(At)}`}},$i=document.createElement("webaudio-keyboard");$i.setAttribute("width","300"),$i.setAttribute("height","60"),$i.setAttribute("min","37"),$i.setAttribute("keys","31"),$i.addEventListener("pointer",At=>{const[je,Me]=At.note;je===1?e==null||e.play(Me):e==null||e.release(Me)});const mn="display: flex; flex-direction: column; max-width: 50vw; padding: 1rem;";return div$8({class:"sampler-element",style:()=>mn},ExpandableHeader("Sampler",n,FileOperations(e,Ae,le,Wt,Ve,_t)),div$8({class:"controls",style:()=>n.val==="true"?"":"display: none; padding: 0.5rem;"},VolumeControl(r),()=>s.val&&a.val&&l.val&&u.val?div$8({style:"margin: 10px 0;"},div$8({style:"display: flex; column-gap: 0.5rem; margin-left: 0.5rem;"},button$3({style:()=>"cursor: pointer; font-size: 0.9rem; margin-bottom: 5px; padding: 0.5rem;",onclick:()=>C.val="amp-env"},"Amp Env"),button$3({style:()=>"cursor: pointer; font-size: 0.9rem; margin-bottom: 5px; padding: 0.5rem;",onclick:()=>C.val="filter-env"},"Filter Env"),button$3({style:()=>"cursor: pointer; font-size: 0.9rem; margin-bottom: 5px; padding: 0.5rem;",onclick:()=>C.val="pitch-env"},"Pitch Env")),div$8({style:()=>`position: relative;  height: ${M.val.height}; width: ${M.val.width};`},()=>N?div$8({style:()=>`position: absolute; padding: 0.5rem; visibility: ${C.val==="amp-env"?"visible":"hidden"}`},N.element):div$8(),()=>F?div$8({style:()=>`position: absolute; padding: 0.5rem; visibility: ${C.val==="filter-env"?"visible":"hidden"}`},F.element):div$8(),()=>I?div$8({style:()=>`position: absolute; padding: 0.5rem; visibility: ${C.val==="pitch-env"?"visible":"hidden"}`},I.element):div$8())):div$8(),()=>u.val&&SampleControls(c,h,p,_,w,u),div$8({style:"display: flex; gap: 10px; flex-wrap: wrap;"},InputControls(P,b,L.keys,L.midi),LoopHoldControls(k,E,R,L)),div$8({class:"keyboard-section",style:"width: 30vw; height: 10vh; margin: 1rem 0;"}),div$8({style:"font-size: 0.8rem; color: #666; margin-top: 0.5rem;"},()=>`Status: ${Ae.val}`)))},defineSampler=(o="sampler-element")=>{define(o,SamplerElement,!1)},initAudiolib=async()=>await ch({autoInit:!0}).then(()=>{defineSampler("sampler-element"),defineKarplusSynth("karplus-synth-element")}).catch(o=>console.error(`main.js, Create audiolib error: ${o}`));function _assertThisInitialized$1(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _inheritsLoose$1(o,e){o.prototype=Object.create(e.prototype),o.prototype.constructor=o,o.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _config={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_defaults={duration:.5,overwrite:!1,delay:0},_suppressOverwrites,_reverting$1,_context$1,_bigNum$2=1e8,_tinyNum=1/_bigNum$2,_2PI=Math.PI*2,_HALF_PI=_2PI/4,_gsID=0,_sqrt=Math.sqrt,_cos=Math.cos,_sin=Math.sin,_isString=function o(e){return typeof e=="string"},_isFunction$1=function o(e){return typeof e=="function"},_isNumber=function o(e){return typeof e=="number"},_isUndefined$1=function o(e){return typeof e>"u"},_isObject$1=function o(e){return typeof e=="object"},_isNotFalse=function o(e){return e!==!1},_windowExists$2=function o(){return typeof window<"u"},_isFuncOrString=function o(e){return _isFunction$1(e)||_isString(e)},_isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_isArray$1=Array.isArray,_strictNumExp=/(?:-?\.?\d|\.)+/gi,_numExp=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_numWithUnitExp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_complexStringNumExp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_relExp=/[+-]=-?[.\d]+/,_delimitedValueExp=/[^,'"\[\]\s]+/gi,_unitExp=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,_globalTimeline,_win$3,_coreInitted$1,_doc$3,_globals={},_installScope={},_coreReady,_install=function o(e){return(_installScope=_merge(e,_globals))&&gsap$1},_missingPlugin=function o(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},_warn=function o(e,t){return!t&&console.warn(e)},_addGlobal=function o(e,t){return e&&(_globals[e]=t)&&_installScope&&(_installScope[e]=t)||_globals},_emptyFunc$1=function o(){return 0},_startAtRevertConfig={suppressEvents:!0,isStart:!0,kill:!1},_revertConfigNoKill={suppressEvents:!0,kill:!1},_revertConfig={suppressEvents:!0},_reservedProps={},_lazyTweens=[],_lazyLookup={},_lastRenderedFrame,_plugins={},_effects={},_nextGCFrame=30,_harnessPlugins=[],_callbackNames="",_harness=function o(e){var t=e[0],n,r;if(_isObject$1(t)||_isFunction$1(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(r=_harnessPlugins.length;r--&&!_harnessPlugins[r].targetTest(t););n=_harnessPlugins[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new GSCache(e[r],n)))||e.splice(r,1);return e},_getCache=function o(e){return e._gsap||_harness(toArray(e))[0]._gsap},_getProperty=function o(e,t,n){return(n=e[t])&&_isFunction$1(n)?e[t]():_isUndefined$1(n)&&e.getAttribute&&e.getAttribute(t)||n},_forEachName=function o(e,t){return(e=e.split(",")).forEach(t)||e},_round$1=function o(e){return Math.round(e*1e5)/1e5||0},_roundPrecise=function o(e){return Math.round(e*1e7)/1e7||0},_parseRelative=function o(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+r:n==="-"?e-r:n==="*"?e*r:e/r},_arrayContainsAny=function o(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},_lazyRender=function o(){var e=_lazyTweens.length,t=_lazyTweens.slice(0),n,r;for(_lazyLookup={},_lazyTweens.length=0,n=0;n<e;n++)r=t[n],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},_isRevertWorthy=function o(e){return!!(e._initted||e._startAt||e.add)},_lazySafeRender=function o(e,t,n,r){_lazyTweens.length&&!_reverting$1&&_lazyRender(),e.render(t,n,!!(_reverting$1&&t<0&&_isRevertWorthy(e))),_lazyTweens.length&&!_reverting$1&&_lazyRender()},_numericIfPossible=function o(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(_delimitedValueExp).length<2?t:_isString(e)?e.trim():e},_passThrough=function o(e){return e},_setDefaults$1=function o(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},_setKeyframeDefaults=function o(e){return function(t,n){for(var r in n)r in t||r==="duration"&&e||r==="ease"||(t[r]=n[r])}},_merge=function o(e,t){for(var n in t)e[n]=t[n];return e},_mergeDeep=function o(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=_isObject$1(t[n])?o(e[n]||(e[n]={}),t[n]):t[n]);return e},_copyExcluding=function o(e,t){var n={},r;for(r in e)r in t||(n[r]=e[r]);return n},_inheritDefaults=function o(e){var t=e.parent||_globalTimeline,n=e.keyframes?_setKeyframeDefaults(_isArray$1(e.keyframes)):_setDefaults$1;if(_isNotFalse(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},_arraysMatch=function o(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0},_addLinkedListItem=function o(e,t,n,r,s){var a=e[r],l;if(s)for(l=t[s];a&&a[s]>l;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},_removeLinkedListItem=function o(e,t,n,r){n===void 0&&(n="_first"),r===void 0&&(r="_last");var s=t._prev,a=t._next;s?s._next=a:e[n]===t&&(e[n]=a),a?a._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},_removeFromParent=function o(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},_uncache=function o(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},_recacheAncestors=function o(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},_rewindStartAt=function o(e,t,n,r){return e._startAt&&(_reverting$1?e._startAt.revert(_revertConfigNoKill):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},_hasNoPausedAncestors=function o(e){return!e||e._ts&&o(e.parent)},_elapsedCycleDuration=function o(e){return e._repeat?_animationCycle(e._tTime,e=e.duration()+e._rDelay)*e:0},_animationCycle=function o(e,t){var n=Math.floor(e=_roundPrecise(e/t));return e&&n===e?n-1:n},_parentToChildTotalTime=function o(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},_setEnd=function o(e){return e._end=_roundPrecise(e._start+(e._tDur/Math.abs(e._ts||e._rts||_tinyNum)||0))},_alignPlayhead=function o(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=_roundPrecise(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),_setEnd(e),n._dirty||_uncache(n,e)),e},_postAddChecks=function o(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=_parentToChildTotalTime(e.rawTime(),t),(!t._dur||_clamp(0,t.totalDuration(),n)-t._tTime>_tinyNum)&&t.render(n,!0)),_uncache(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},_addToTimeline=function o(e,t,n,r){return t.parent&&_removeFromParent(t),t._start=_roundPrecise((_isNumber(n)?n:n||e!==_globalTimeline?_parsePosition(e,n,t):e._time)+t._delay),t._end=_roundPrecise(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),_addLinkedListItem(e,t,"_first","_last",e._sort?"_start":0),_isFromOrFromStart(t)||(e._recent=t),r||_postAddChecks(e,t),e._ts<0&&_alignPlayhead(e,e._tTime),e},_scrollTrigger=function o(e,t){return(_globals.ScrollTrigger||_missingPlugin("scrollTrigger",t))&&_globals.ScrollTrigger.create(t,e)},_attemptInitTween=function o(e,t,n,r,s){if(_initTween(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!_reverting$1&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&_lastRenderedFrame!==_ticker.frame)return _lazyTweens.push(e),e._lazy=[s,r],1},_parentPlayheadIsBeforeStart=function o(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||o(t))},_isFromOrFromStart=function o(e){var t=e.data;return t==="isFromStart"||t==="isStart"},_renderZeroDurationTween=function o(e,t,n,r){var s=e.ratio,a=t<0||!t&&(!e._start&&_parentPlayheadIsBeforeStart(e)&&!(!e._initted&&_isFromOrFromStart(e))||(e._ts<0||e._dp._ts<0)&&!_isFromOrFromStart(e))?0:1,l=e._rDelay,c=0,h,p,_;if(l&&e._repeat&&(c=_clamp(0,e._tDur,t),p=_animationCycle(c,l),e._yoyo&&p&1&&(a=1-a),p!==_animationCycle(e._tTime,l)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||_reverting$1||r||e._zTime===_tinyNum||!t&&e._zTime){if(!e._initted&&_attemptInitTween(e,t,r,n,c))return;for(_=e._zTime,e._zTime=t||(n?_tinyNum:0),n||(n=t&&!_),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,h=e._pt;h;)h.r(a,h.d),h=h._next;t<0&&_rewindStartAt(e,t,n,!0),e._onUpdate&&!n&&_callback(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&_callback(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&_removeFromParent(e,1),!n&&!_reverting$1&&(_callback(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},_findNextPauseTween=function o(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},_setDuration=function o(e,t,n,r){var s=e._repeat,a=_roundPrecise(t)||0,l=e._tTime/e._tDur;return l&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:_roundPrecise(a*(s+1)+e._rDelay*s):a,l>0&&!r&&_alignPlayhead(e,e._tTime=e._tDur*l),e.parent&&_setEnd(e),n||_uncache(e.parent,e),e},_onUpdateTotalDuration=function o(e){return e instanceof Timeline?_uncache(e):_setDuration(e,e._dur)},_zeroPosition={_start:0,endTime:_emptyFunc$1,totalDuration:_emptyFunc$1},_parsePosition=function o(e,t,n){var r=e.labels,s=e._recent||_zeroPosition,a=e.duration()>=_bigNum$2?s.endTime(!1):e._dur,l,c,h;return _isString(t)&&(isNaN(t)||t in r)?(c=t.charAt(0),h=t.substr(-1)==="%",l=t.indexOf("="),c==="<"||c===">"?(l>=0&&(t=t.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(l<0?s:n).totalDuration()/100:1)):l<0?(t in r||(r[t]=a),r[t]):(c=parseFloat(t.charAt(l-1)+t.substr(l+1)),h&&n&&(c=c/100*(_isArray$1(n)?n[0]:n).totalDuration()),l>1?o(e,t.substr(0,l-1),n)+c:a+c)):t==null?a:+t},_createTweenType=function o(e,t,n){var r=_isNumber(t[1]),s=(r?2:1)+(e<2?0:1),a=t[s],l,c;if(r&&(a.duration=t[1]),a.parent=n,e){for(l=a,c=n;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=_isNotFalse(c.vars.inherit)&&c.parent;a.immediateRender=_isNotFalse(l.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new Tween(t[0],a,t[s+1])},_conditionalReturn=function o(e,t){return e||e===0?t(e):t},_clamp=function o(e,t,n){return n<e?e:n>t?t:n},getUnit=function o(e,t){return!_isString(e)||!(t=_unitExp.exec(e))?"":t[1]},clamp=function o(e,t,n){return _conditionalReturn(n,function(r){return _clamp(e,t,r)})},_slice=[].slice,_isArrayLike=function o(e,t){return e&&_isObject$1(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&_isObject$1(e[0]))&&!e.nodeType&&e!==_win$3},_flatten=function o(e,t,n){return n===void 0&&(n=[]),e.forEach(function(r){var s;return _isString(r)&&!t||_isArrayLike(r,1)?(s=n).push.apply(s,toArray(r)):n.push(r)})||n},toArray=function o(e,t,n){return _context$1&&!t&&_context$1.selector?_context$1.selector(e):_isString(e)&&!n&&(_coreInitted$1||!_wake())?_slice.call((t||_doc$3).querySelectorAll(e),0):_isArray$1(e)?_flatten(e,n):_isArrayLike(e)?_slice.call(e,0):e?[e]:[]},selector=function o(e){return e=toArray(e)[0]||_warn("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return toArray(t,n.querySelectorAll?n:n===e?_warn("Invalid scope")||_doc$3.createElement("div"):e)}},shuffle=function o(e){return e.sort(function(){return .5-Math.random()})},distribute=function o(e){if(_isFunction$1(e))return e;var t=_isObject$1(e)?e:{each:e},n=_parseEase(t.ease),r=t.from||0,s=parseFloat(t.base)||0,a={},l=r>0&&r<1,c=isNaN(r)||l,h=t.axis,p=r,_=r;return _isString(r)?p=_={center:.5,edges:.5,end:1}[r]||0:!l&&c&&(p=r[0],_=r[1]),function(w,u,P){var b=(P||t).length,k=a[b],E,R,L,C,M,N,F,I,V;if(!k){if(V=t.grid==="auto"?0:(t.grid||[1,_bigNum$2])[1],!V){for(F=-1e8;F<(F=P[V++].getBoundingClientRect().left)&&V<b;);V<b&&V--}for(k=a[b]=[],E=c?Math.min(V,b)*p-.5:r%V,R=V===_bigNum$2?0:c?b*_/V-.5:r/V|0,F=0,I=_bigNum$2,N=0;N<b;N++)L=N%V-E,C=R-(N/V|0),k[N]=M=h?Math.abs(h==="y"?C:L):_sqrt(L*L+C*C),M>F&&(F=M),M<I&&(I=M);r==="random"&&shuffle(k),k.max=F-I,k.min=I,k.v=b=(parseFloat(t.amount)||parseFloat(t.each)*(V>b?b-1:h?h==="y"?b/V:V:Math.max(V,b/V))||0)*(r==="edges"?-1:1),k.b=b<0?s-b:s,k.u=getUnit(t.amount||t.each)||0,n=n&&b<0?_invertEase(n):n}return b=(k[w]-k.min)/k.max||0,_roundPrecise(k.b+(n?n(b):b)*k.v)+k.u}},_roundModifier=function o(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=_roundPrecise(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(_isNumber(n)?0:getUnit(n))}},snap=function o(e,t){var n=_isArray$1(e),r,s;return!n&&_isObject$1(e)&&(r=n=e.radius||_bigNum$2,e.values?(e=toArray(e.values),(s=!_isNumber(e[0]))&&(r*=r)):e=_roundModifier(e.increment)),_conditionalReturn(t,n?_isFunction$1(e)?function(a){return s=e(a),Math.abs(s-a)<=r?s:a}:function(a){for(var l=parseFloat(s?a.x:a),c=parseFloat(s?a.y:0),h=_bigNum$2,p=0,_=e.length,w,u;_--;)s?(w=e[_].x-l,u=e[_].y-c,w=w*w+u*u):w=Math.abs(e[_]-l),w<h&&(h=w,p=_);return p=!r||h<=r?e[p]:a,s||p===a||_isNumber(a)?p:p+getUnit(a)}:_roundModifier(e))},random=function o(e,t,n,r){return _conditionalReturn(_isArray$1(e)?!t:n===!0?!!(n=0):!r,function(){return _isArray$1(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*r)/r})},pipe=function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduce(function(s,a){return a(s)},r)}},unitize=function o(e,t){return function(n){return e(parseFloat(n))+(t||getUnit(n))}},normalize=function o(e,t,n){return mapRange(e,t,0,1,n)},_wrapArray=function o(e,t,n){return _conditionalReturn(n,function(r){return e[~~t(r)]})},wrap=function o(e,t,n){var r=t-e;return _isArray$1(e)?_wrapArray(e,o(0,e.length),t):_conditionalReturn(n,function(s){return(r+(s-e)%r)%r+e})},wrapYoyo=function o(e,t,n){var r=t-e,s=r*2;return _isArray$1(e)?_wrapArray(e,o(0,e.length-1),t):_conditionalReturn(n,function(a){return a=(s+(a-e)%s)%s||0,e+(a>r?s-a:a)})},_replaceRandom=function o(e){for(var t=0,n="",r,s,a,l;~(r=e.indexOf("random(",t));)a=e.indexOf(")",r),l=e.charAt(r+7)==="[",s=e.substr(r+7,a-r-7).match(l?_delimitedValueExp:_strictNumExp),n+=e.substr(t,r-t)+random(l?s:+s[0],l?0:+s[1],+s[2]||1e-5),t=a+1;return n+e.substr(t,e.length-t)},mapRange=function o(e,t,n,r,s){var a=t-e,l=r-n;return _conditionalReturn(s,function(c){return n+((c-e)/a*l||0)})},interpolate=function o(e,t,n,r){var s=isNaN(e+t)?0:function(u){return(1-u)*e+u*t};if(!s){var a=_isString(e),l={},c,h,p,_,w;if(n===!0&&(r=1)&&(n=null),a)e={p:e},t={p:t};else if(_isArray$1(e)&&!_isArray$1(t)){for(p=[],_=e.length,w=_-2,h=1;h<_;h++)p.push(o(e[h-1],e[h]));_--,s=function(P){P*=_;var b=Math.min(w,~~P);return p[b](P-b)},n=t}else r||(e=_merge(_isArray$1(e)?[]:{},e));if(!p){for(c in t)_addPropTween.call(l,e,c,"get",t[c]);s=function(P){return _renderPropTweens(P,l)||(a?e.p:e)}}}return _conditionalReturn(n,s)},_getLabelInDirection=function o(e,t,n){var r=e.labels,s=_bigNum$2,a,l,c;for(a in r)l=r[a]-t,l<0==!!n&&l&&s>(l=Math.abs(l))&&(c=a,s=l);return c},_callback=function o(e,t,n){var r=e.vars,s=r[t],a=_context$1,l=e._ctx,c,h,p;if(s)return c=r[t+"Params"],h=r.callbackScope||e,n&&_lazyTweens.length&&_lazyRender(),l&&(_context$1=l),p=c?s.apply(h,c):s.call(h),_context$1=a,p},_interrupt=function o(e){return _removeFromParent(e),e.scrollTrigger&&e.scrollTrigger.kill(!!_reverting$1),e.progress()<1&&_callback(e,"onInterrupt"),e},_quickTween,_registerPluginQueue=[],_createPlugin=function o(e){if(e)if(e=!e.name&&e.default||e,_windowExists$2()||e.headless){var t=e.name,n=_isFunction$1(e),r=t&&!n&&e.init?function(){this._props=[]}:e,s={init:_emptyFunc$1,render:_renderPropTweens,add:_addPropTween,kill:_killPropTweensOf,modifier:_addPluginModifier,rawVars:0},a={targetTest:0,get:0,getSetter:_getSetter,aliases:{},register:0};if(_wake(),e!==r){if(_plugins[t])return;_setDefaults$1(r,_setDefaults$1(_copyExcluding(e,s),a)),_merge(r.prototype,_merge(s,_copyExcluding(e,a))),_plugins[r.prop=t]=r,e.targetTest&&(_harnessPlugins.push(r),_reservedProps[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}_addGlobal(t,r),e.register&&e.register(gsap$1,r,PropTween)}else _registerPluginQueue.push(e)},_255=255,_colorLookup={aqua:[0,_255,_255],lime:[0,_255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_255],navy:[0,0,128],white:[_255,_255,_255],olive:[128,128,0],yellow:[_255,_255,0],orange:[_255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_255,0,0],pink:[_255,192,203],cyan:[0,_255,_255],transparent:[_255,_255,_255,0]},_hue=function o(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*_255+.5|0},splitColor=function o(e,t,n){var r=e?_isNumber(e)?[e>>16,e>>8&_255,e&_255]:0:_colorLookup.black,s,a,l,c,h,p,_,w,u,P;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),_colorLookup[e])r=_colorLookup[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),l=e.charAt(3),e="#"+s+s+a+a+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&_255,r&_255,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&_255,e&_255]}else if(e.substr(0,3)==="hsl"){if(r=P=e.match(_strictNumExp),!t)c=+r[0]%360/360,h=+r[1]/100,p=+r[2]/100,a=p<=.5?p*(h+1):p+h-p*h,s=p*2-a,r.length>3&&(r[3]*=1),r[0]=_hue(c+1/3,s,a),r[1]=_hue(c,s,a),r[2]=_hue(c-1/3,s,a);else if(~e.indexOf("="))return r=e.match(_numExp),n&&r.length<4&&(r[3]=1),r}else r=e.match(_strictNumExp)||_colorLookup.transparent;r=r.map(Number)}return t&&!P&&(s=r[0]/_255,a=r[1]/_255,l=r[2]/_255,_=Math.max(s,a,l),w=Math.min(s,a,l),p=(_+w)/2,_===w?c=h=0:(u=_-w,h=p>.5?u/(2-_-w):u/(_+w),c=_===s?(a-l)/u+(a<l?6:0):_===a?(l-s)/u+2:(s-a)/u+4,c*=60),r[0]=~~(c+.5),r[1]=~~(h*100+.5),r[2]=~~(p*100+.5)),n&&r.length<4&&(r[3]=1),r},_colorOrderData=function o(e){var t=[],n=[],r=-1;return e.split(_colorExp).forEach(function(s){var a=s.match(_numWithUnitExp)||[];t.push.apply(t,a),n.push(r+=a.length+1)}),t.c=n,t},_formatColors=function o(e,t,n){var r="",s=(e+r).match(_colorExp),a=t?"hsla(":"rgba(",l=0,c,h,p,_;if(!s)return e;if(s=s.map(function(w){return(w=splitColor(w,t,1))&&a+(t?w[0]+","+w[1]+"%,"+w[2]+"%,"+w[3]:w.join(","))+")"}),n&&(p=_colorOrderData(e),c=n.c,c.join(r)!==p.c.join(r)))for(h=e.replace(_colorExp,"1").split(_numWithUnitExp),_=h.length-1;l<_;l++)r+=h[l]+(~c.indexOf(l)?s.shift()||a+"0,0,0,0)":(p.length?p:s.length?s:n).shift());if(!h)for(h=e.split(_colorExp),_=h.length-1;l<_;l++)r+=h[l]+s[l];return r+h[_]},_colorExp=function(){var o="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in _colorLookup)o+="|"+e+"\\b";return new RegExp(o+")","gi")}(),_hslExp=/hsl[a]?\(/,_colorStringFilter=function o(e){var t=e.join(" "),n;if(_colorExp.lastIndex=0,_colorExp.test(t))return n=_hslExp.test(t),e[1]=_formatColors(e[1],n),e[0]=_formatColors(e[0],n,_colorOrderData(e[1])),!0},_tickerActive,_ticker=function(){var o=Date.now,e=500,t=33,n=o(),r=n,s=1e3/240,a=s,l=[],c,h,p,_,w,u,P=function b(k){var E=o()-r,R=k===!0,L,C,M,N;if((E>e||E<0)&&(n+=E-t),r+=E,M=r-n,L=M-a,(L>0||R)&&(N=++_.frame,w=M-_.time*1e3,_.time=M=M/1e3,a+=L+(L>=s?4:s-L),C=1),R||(c=h(b)),C)for(u=0;u<l.length;u++)l[u](M,w,N,k)};return _={time:0,frame:0,tick:function(){P(!0)},deltaRatio:function(k){return w/(1e3/(k||60))},wake:function(){_coreReady&&(!_coreInitted$1&&_windowExists$2()&&(_win$3=_coreInitted$1=window,_doc$3=_win$3.document||{},_globals.gsap=gsap$1,(_win$3.gsapVersions||(_win$3.gsapVersions=[])).push(gsap$1.version),_install(_installScope||_win$3.GreenSockGlobals||!_win$3.gsap&&_win$3||{}),_registerPluginQueue.forEach(_createPlugin)),p=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&_.sleep(),h=p||function(k){return setTimeout(k,a-_.time*1e3+1|0)},_tickerActive=1,P(2))},sleep:function(){(p?cancelAnimationFrame:clearTimeout)(c),_tickerActive=0,h=_emptyFunc$1},lagSmoothing:function(k,E){e=k||1/0,t=Math.min(E||33,e)},fps:function(k){s=1e3/(k||240),a=_.time*1e3+s},add:function(k,E,R){var L=E?function(C,M,N,F){k(C,M,N,F),_.remove(L)}:k;return _.remove(k),l[R?"unshift":"push"](L),_wake(),L},remove:function(k,E){~(E=l.indexOf(k))&&l.splice(E,1)&&u>=E&&u--},_listeners:l},_}(),_wake=function o(){return!_tickerActive&&_ticker.wake()},_easeMap={},_customEaseExp=/^[\d.\-M][\d.\-,\s]/,_quotesExp=/["']/g,_parseObjectInString=function o(e){for(var t={},n=e.substr(1,e.length-3).split(":"),r=n[0],s=1,a=n.length,l,c,h;s<a;s++)c=n[s],l=s!==a-1?c.lastIndexOf(","):c.length,h=c.substr(0,l),t[r]=isNaN(h)?h.replace(_quotesExp,"").trim():+h,r=c.substr(l+1).trim();return t},_valueInParentheses=function o(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)},_configEaseFromString=function o(e){var t=(e+"").split("("),n=_easeMap[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[_parseObjectInString(t[1])]:_valueInParentheses(e).split(",").map(_numericIfPossible)):_easeMap._CE&&_customEaseExp.test(e)?_easeMap._CE("",e):n},_invertEase=function o(e){return function(t){return 1-e(1-t)}},_propagateYoyoEase=function o(e,t){for(var n=e._first,r;n;)n instanceof Timeline?o(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?o(n.timeline,t):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=t)),n=n._next},_parseEase=function o(e,t){return e&&(_isFunction$1(e)?e:_easeMap[e]||_configEaseFromString(e))||t},_insertEase=function o(e,t,n,r){n===void 0&&(n=function(c){return 1-t(1-c)}),r===void 0&&(r=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:r},a;return _forEachName(e,function(l){_easeMap[l]=_globals[l]=s,_easeMap[a=l.toLowerCase()]=n;for(var c in s)_easeMap[a+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=_easeMap[l+"."+c]=s[c]}),s},_easeInOutFromOut=function o(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},_configElastic=function o(e,t,n){var r=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),a=s/_2PI*(Math.asin(1/r)||0),l=function(p){return p===1?1:r*Math.pow(2,-10*p)*_sin((p-a)*s)+1},c=e==="out"?l:e==="in"?function(h){return 1-l(1-h)}:_easeInOutFromOut(l);return s=_2PI/s,c.config=function(h,p){return o(e,h,p)},c},_configBack=function o(e,t){t===void 0&&(t=1.70158);var n=function(a){return a?--a*a*((t+1)*a+t)+1:0},r=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:_easeInOutFromOut(n);return r.config=function(s){return o(e,s)},r};_forEachName("Linear,Quad,Cubic,Quart,Quint,Strong",function(o,e){var t=e<5?e+1:e;_insertEase(o+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});_easeMap.Linear.easeNone=_easeMap.none=_easeMap.Linear.easeIn;_insertEase("Elastic",_configElastic("in"),_configElastic("out"),_configElastic());(function(o,e){var t=1/e,n=2*t,r=2.5*t,s=function(l){return l<t?o*l*l:l<n?o*Math.pow(l-1.5/e,2)+.75:l<r?o*(l-=2.25/e)*l+.9375:o*Math.pow(l-2.625/e,2)+.984375};_insertEase("Bounce",function(a){return 1-s(1-a)},s)})(7.5625,2.75);_insertEase("Expo",function(o){return Math.pow(2,10*(o-1))*o+o*o*o*o*o*o*(1-o)});_insertEase("Circ",function(o){return-(_sqrt(1-o*o)-1)});_insertEase("Sine",function(o){return o===1?1:-_cos(o*_HALF_PI)+1});_insertEase("Back",_configBack("in"),_configBack("out"),_configBack());_easeMap.SteppedEase=_easeMap.steps=_globals.SteppedEase={config:function o(e,t){e===void 0&&(e=1);var n=1/e,r=e+(t?0:1),s=t?1:0,a=1-_tinyNum;return function(l){return((r*_clamp(0,a,l)|0)+s)*n}}};_defaults.ease=_easeMap["quad.out"];_forEachName("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(o){return _callbackNames+=o+","+o+"Params,"});var GSCache=function o(e,t){this.id=_gsID++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:_getProperty,this.set=t?t.getSetter:_getSetter},Animation=function(){function o(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,_setDuration(this,+t.duration,1,1),this.data=t.data,_context$1&&(this._ctx=_context$1,_context$1.data.push(this)),_tickerActive||_ticker.wake()}var e=o.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,_setDuration(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,r){if(_wake(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(_alignPlayhead(this,n),!s._dp||s.parent||_postAddChecks(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&_addToTimeline(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===_tinyNum||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),_lazySafeRender(this,n,r)),this},e.time=function(n,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+_elapsedCycleDuration(this))%(this._dur+this._rDelay)||(n?this._dur:0),r):this._time},e.totalProgress=function(n,r){return arguments.length?this.totalTime(this.totalDuration()*n,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+_elapsedCycleDuration(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,r):this._repeat?_animationCycle(this._tTime,s)+1:1},e.timeScale=function(n,r){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?_parentToChildTotalTime(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-1e-8?0:this._rts,this.totalTime(_clamp(-Math.abs(this._delay),this.totalDuration(),s),r!==!1),_setEnd(this),_recacheAncestors(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_wake(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==_tinyNum&&(this._tTime-=_tinyNum)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&_addToTimeline(r,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(_isNotFalse(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var r=this.parent||this._dp;return r?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_parentToChildTotalTime(r.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=_revertConfig);var r=_reverting$1;return _reverting$1=n,_isRevertWorthy(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),_reverting$1=r,this},e.globalTime=function(n){for(var r=this,s=arguments.length?n:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,_onUpdateTotalDuration(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var r=this._time;return this._rDelay=n,_onUpdateTotalDuration(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,r){return this.totalTime(_parsePosition(this,n),_isNotFalse(r))},e.restart=function(n,r){return this.play().totalTime(n?-this._delay:0,_isNotFalse(r)),this._dur||(this._zTime=-1e-8),this},e.play=function(n,r){return n!=null&&this.seek(n,r),this.reversed(!1).paused(!1)},e.reverse=function(n,r){return n!=null&&this.seek(n||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(n,r){return n!=null&&this.seek(n,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var n=this.parent||this._dp,r=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=r&&s<this.endTime(!0)-_tinyNum)},e.eventCallback=function(n,r,s){var a=this.vars;return arguments.length>1?(r?(a[n]=r,s&&(a[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=r)):delete a[n],this):a[n]},e.then=function(n){var r=this;return new Promise(function(s){var a=_isFunction$1(n)?n:_passThrough,l=function(){var h=r.then;r.then=null,_isFunction$1(a)&&(a=a(r))&&(a.then||a===r)&&(r.then=h),s(a),r.then=h};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?l():r._prom=l})},e.kill=function(){_interrupt(this)},o}();_setDefaults$1(Animation.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Timeline=function(o){_inheritsLoose$1(e,o);function e(n,r){var s;return n===void 0&&(n={}),s=o.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=_isNotFalse(n.sortChildren),_globalTimeline&&_addToTimeline(n.parent||_globalTimeline,_assertThisInitialized$1(s),r),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&_scrollTrigger(_assertThisInitialized$1(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,a){return _createTweenType(0,arguments,this),this},t.from=function(r,s,a){return _createTweenType(1,arguments,this),this},t.fromTo=function(r,s,a,l){return _createTweenType(2,arguments,this),this},t.set=function(r,s,a){return s.duration=0,s.parent=this,_inheritDefaults(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Tween(r,s,_parsePosition(this,a),1),this},t.call=function(r,s,a){return _addToTimeline(this,Tween.delayedCall(0,r,s),a)},t.staggerTo=function(r,s,a,l,c,h,p){return a.duration=s,a.stagger=a.stagger||l,a.onComplete=h,a.onCompleteParams=p,a.parent=this,new Tween(r,a,_parsePosition(this,c)),this},t.staggerFrom=function(r,s,a,l,c,h,p){return a.runBackwards=1,_inheritDefaults(a).immediateRender=_isNotFalse(a.immediateRender),this.staggerTo(r,s,a,l,c,h,p)},t.staggerFromTo=function(r,s,a,l,c,h,p,_){return l.startAt=a,_inheritDefaults(l).immediateRender=_isNotFalse(l.immediateRender),this.staggerTo(r,s,l,c,h,p,_)},t.render=function(r,s,a){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,h=this._dur,p=r<=0?0:_roundPrecise(r),_=this._zTime<0!=r<0&&(this._initted||!h),w,u,P,b,k,E,R,L,C,M,N,F;if(this!==_globalTimeline&&p>c&&r>=0&&(p=c),p!==this._tTime||a||_){if(l!==this._time&&h&&(p+=this._time-l,r+=this._time-l),w=p,C=this._start,L=this._ts,E=!L,_&&(h||(l=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(N=this._yoyo,k=h+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(k*100+r,s,a);if(w=_roundPrecise(p%k),p===c?(b=this._repeat,w=h):(M=_roundPrecise(p/k),b=~~M,b&&b===M&&(w=h,b--),w>h&&(w=h)),M=_animationCycle(this._tTime,k),!l&&this._tTime&&M!==b&&this._tTime-M*k-this._dur<=0&&(M=b),N&&b&1&&(w=h-w,F=1),b!==M&&!this._lock){var I=N&&M&1,V=I===(N&&b&1);if(b<M&&(I=!I),l=I?0:p%h?h:p,this._lock=1,this.render(l||(F?0:_roundPrecise(b*k)),s,!h)._lock=0,this._tTime=p,!s&&this.parent&&_callback(this,"onRepeat"),this.vars.repeatRefresh&&!F&&(this.invalidate()._lock=1),l&&l!==this._time||E!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,c=this._tDur,V&&(this._lock=2,l=I?h:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!F&&this.invalidate()),this._lock=0,!this._ts&&!E)return this;_propagateYoyoEase(this,F)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(R=_findNextPauseTween(this,_roundPrecise(l),_roundPrecise(w)),R&&(p-=w-(w=R._start))),this._tTime=p,this._time=w,this._act=!L,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,l=0),!l&&p&&!s&&!M&&(_callback(this,"onStart"),this._tTime!==p))return this;if(w>=l&&r>=0)for(u=this._first;u;){if(P=u._next,(u._act||w>=u._start)&&u._ts&&R!==u){if(u.parent!==this)return this.render(r,s,a);if(u.render(u._ts>0?(w-u._start)*u._ts:(u._dirty?u.totalDuration():u._tDur)+(w-u._start)*u._ts,s,a),w!==this._time||!this._ts&&!E){R=0,P&&(p+=this._zTime=-1e-8);break}}u=P}else{u=this._last;for(var Ie=r<0?r:w;u;){if(P=u._prev,(u._act||Ie<=u._end)&&u._ts&&R!==u){if(u.parent!==this)return this.render(r,s,a);if(u.render(u._ts>0?(Ie-u._start)*u._ts:(u._dirty?u.totalDuration():u._tDur)+(Ie-u._start)*u._ts,s,a||_reverting$1&&_isRevertWorthy(u)),w!==this._time||!this._ts&&!E){R=0,P&&(p+=this._zTime=Ie?-1e-8:_tinyNum);break}}u=P}}if(R&&!s&&(this.pause(),R.render(w>=l?0:-1e-8)._zTime=w>=l?1:-1,this._ts))return this._start=C,_setEnd(this),this.render(r,s,a);this._onUpdate&&!s&&_callback(this,"onUpdate",!0),(p===c&&this._tTime>=this.totalDuration()||!p&&l)&&(C===this._start||Math.abs(L)!==Math.abs(this._ts))&&(this._lock||((r||!h)&&(p===c&&this._ts>0||!p&&this._ts<0)&&_removeFromParent(this,1),!s&&!(r<0&&!l)&&(p||l||!c)&&(_callback(this,p===c&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(p<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var a=this;if(_isNumber(s)||(s=_parsePosition(this,s,r)),!(r instanceof Animation)){if(_isArray$1(r))return r.forEach(function(l){return a.add(l,s)}),this;if(_isString(r))return this.addLabel(r,s);if(_isFunction$1(r))r=Tween.delayedCall(0,r);else return this}return this!==r?_addToTimeline(this,r,s):this},t.getChildren=function(r,s,a,l){r===void 0&&(r=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),l===void 0&&(l=-1e8);for(var c=[],h=this._first;h;)h._start>=l&&(h instanceof Tween?s&&c.push(h):(a&&c.push(h),r&&c.push.apply(c,h.getChildren(!0,s,a)))),h=h._next;return c},t.getById=function(r){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===r)return s[a]},t.remove=function(r){return _isString(r)?this.removeLabel(r):_isFunction$1(r)?this.killTweensOf(r):(r.parent===this&&_removeLinkedListItem(this,r),r===this._recent&&(this._recent=this._last),_uncache(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_roundPrecise(_ticker.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),o.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=_parsePosition(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,a){var l=Tween.delayedCall(0,s||_emptyFunc$1,a);return l.data="isPause",this._hasPause=1,_addToTimeline(this,l,_parsePosition(this,r))},t.removePause=function(r){var s=this._first;for(r=_parsePosition(this,r);s;)s._start===r&&s.data==="isPause"&&_removeFromParent(s),s=s._next},t.killTweensOf=function(r,s,a){for(var l=this.getTweensOf(r,a),c=l.length;c--;)_overwritingTween!==l[c]&&l[c].kill(r,s);return this},t.getTweensOf=function(r,s){for(var a=[],l=toArray(r),c=this._first,h=_isNumber(s),p;c;)c instanceof Tween?_arrayContainsAny(c._targets,l)&&(h?(!_overwritingTween||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&a.push(c):(p=c.getTweensOf(l,s)).length&&a.push.apply(a,p),c=c._next;return a},t.tweenTo=function(r,s){s=s||{};var a=this,l=_parsePosition(a,r),c=s,h=c.startAt,p=c.onStart,_=c.onStartParams,w=c.immediateRender,u,P=Tween.to(a,_setDefaults$1({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:s.duration||Math.abs((l-(h&&"time"in h?h.time:a._time))/a.timeScale())||_tinyNum,onStart:function(){if(a.pause(),!u){var k=s.duration||Math.abs((l-(h&&"time"in h?h.time:a._time))/a.timeScale());P._dur!==k&&_setDuration(P,k,0,1).render(P._time,!0,!0),u=1}p&&p.apply(P,_||[])}},s));return w?P.render(0):P},t.tweenFromTo=function(r,s,a){return this.tweenTo(s,_setDefaults$1({startAt:{time:_parsePosition(this,r)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),_getLabelInDirection(this,_parsePosition(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),_getLabelInDirection(this,_parsePosition(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+_tinyNum)},t.shiftChildren=function(r,s,a){a===void 0&&(a=0);for(var l=this._first,c=this.labels,h;l;)l._start>=a&&(l._start+=r,l._end+=r),l=l._next;if(s)for(h in c)c[h]>=a&&(c[h]+=r);return _uncache(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return o.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,a;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),_uncache(this)},t.totalDuration=function(r){var s=0,a=this,l=a._last,c=_bigNum$2,h,p,_;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(_=a.parent;l;)h=l._prev,l._dirty&&l.totalDuration(),p=l._start,p>c&&a._sort&&l._ts&&!a._lock?(a._lock=1,_addToTimeline(a,l,p-l._delay,1)._lock=0):c=p,p<0&&l._ts&&(s-=p,(!_&&!a._dp||_&&_.smoothChildTiming)&&(a._start+=p/a._ts,a._time-=p,a._tTime-=p),a.shiftChildren(-p,!1,-1/0),c=0),l._end>s&&l._ts&&(s=l._end),l=h;_setDuration(a,a===_globalTimeline&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(r){if(_globalTimeline._ts&&(_lazySafeRender(_globalTimeline,_parentToChildTotalTime(r,_globalTimeline)),_lastRenderedFrame=_ticker.frame),_ticker.frame>=_nextGCFrame){_nextGCFrame+=_config.autoSleep||120;var s=_globalTimeline._first;if((!s||!s._ts)&&_config.autoSleep&&_ticker._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||_ticker.sleep()}}},e}(Animation);_setDefaults$1(Timeline.prototype,{_lock:0,_hasPause:0,_forcing:0});var _addComplexStringPropTween=function o(e,t,n,r,s,a,l){var c=new PropTween(this._pt,e,t,0,1,_renderComplexString,null,s),h=0,p=0,_,w,u,P,b,k,E,R;for(c.b=n,c.e=r,n+="",r+="",(E=~r.indexOf("random("))&&(r=_replaceRandom(r)),a&&(R=[n,r],a(R,e,t),n=R[0],r=R[1]),w=n.match(_complexStringNumExp)||[];_=_complexStringNumExp.exec(r);)P=_[0],b=r.substring(h,_.index),u?u=(u+1)%5:b.substr(-5)==="rgba("&&(u=1),P!==w[p++]&&(k=parseFloat(w[p-1])||0,c._pt={_next:c._pt,p:b||p===1?b:",",s:k,c:P.charAt(1)==="="?_parseRelative(k,P)-k:parseFloat(P)-k,m:u&&u<4?Math.round:0},h=_complexStringNumExp.lastIndex);return c.c=h<r.length?r.substring(h,r.length):"",c.fp=l,(_relExp.test(r)||E)&&(c.e=0),this._pt=c,c},_addPropTween=function o(e,t,n,r,s,a,l,c,h,p){_isFunction$1(r)&&(r=r(s||0,e,a));var _=e[t],w=n!=="get"?n:_isFunction$1(_)?h?e[t.indexOf("set")||!_isFunction$1(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():_,u=_isFunction$1(_)?h?_setterFuncWithParam:_setterFunc:_setterPlain,P;if(_isString(r)&&(~r.indexOf("random(")&&(r=_replaceRandom(r)),r.charAt(1)==="="&&(P=_parseRelative(w,r)+(getUnit(w)||0),(P||P===0)&&(r=P))),!p||w!==r||_forceAllPropTweens)return!isNaN(w*r)&&r!==""?(P=new PropTween(this._pt,e,t,+w||0,r-(w||0),typeof _=="boolean"?_renderBoolean:_renderPlain,0,u),h&&(P.fp=h),l&&P.modifier(l,this,e),this._pt=P):(!_&&!(t in e)&&_missingPlugin(t,r),_addComplexStringPropTween.call(this,e,t,w,r,u,c||_config.stringFilter,h))},_processVars=function o(e,t,n,r,s){if(_isFunction$1(e)&&(e=_parseFuncOrString(e,s,t,n,r)),!_isObject$1(e)||e.style&&e.nodeType||_isArray$1(e)||_isTypedArray(e))return _isString(e)?_parseFuncOrString(e,s,t,n,r):e;var a={},l;for(l in e)a[l]=_parseFuncOrString(e[l],s,t,n,r);return a},_checkPlugin=function o(e,t,n,r,s,a){var l,c,h,p;if(_plugins[e]&&(l=new _plugins[e]).init(s,l.rawVars?t[e]:_processVars(t[e],r,s,a,n),n,r,a)!==!1&&(n._pt=c=new PropTween(n._pt,s,e,0,1,l.render,l,0,l.priority),n!==_quickTween))for(h=n._ptLookup[n._targets.indexOf(s)],p=l._props.length;p--;)h[l._props[p]]=c;return l},_overwritingTween,_forceAllPropTweens,_initTween=function o(e,t,n){var r=e.vars,s=r.ease,a=r.startAt,l=r.immediateRender,c=r.lazy,h=r.onUpdate,p=r.runBackwards,_=r.yoyoEase,w=r.keyframes,u=r.autoRevert,P=e._dur,b=e._startAt,k=e._targets,E=e.parent,R=E&&E.data==="nested"?E.vars.targets:k,L=e._overwrite==="auto"&&!_suppressOverwrites,C=e.timeline,M,N,F,I,V,Ie,le,Ae,se,Wt,Rt,Ve,_t;if(C&&(!w||!s)&&(s="none"),e._ease=_parseEase(s,_defaults.ease),e._yEase=_?_invertEase(_parseEase(_===!0?s:_,_defaults.ease)):0,_&&e._yoyo&&!e._repeat&&(_=e._yEase,e._yEase=e._ease,e._ease=_),e._from=!C&&!!r.runBackwards,!C||w&&!r.stagger){if(Ae=k[0]?_getCache(k[0]).harness:0,Ve=Ae&&r[Ae.prop],M=_copyExcluding(r,_reservedProps),b&&(b._zTime<0&&b.progress(1),t<0&&p&&l&&!u?b.render(-1,!0):b.revert(p&&P?_revertConfigNoKill:_startAtRevertConfig),b._lazy=0),a){if(_removeFromParent(e._startAt=Tween.set(k,_setDefaults$1({data:"isStart",overwrite:!1,parent:E,immediateRender:!0,lazy:!b&&_isNotFalse(c),startAt:null,delay:0,onUpdate:h&&function(){return _callback(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(_reverting$1||!l&&!u)&&e._startAt.revert(_revertConfigNoKill),l&&P&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(p&&P&&!b){if(t&&(l=!1),F=_setDefaults$1({overwrite:!1,data:"isFromStart",lazy:l&&!b&&_isNotFalse(c),immediateRender:l,stagger:0,parent:E},M),Ve&&(F[Ae.prop]=Ve),_removeFromParent(e._startAt=Tween.set(k,F)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(_reverting$1?e._startAt.revert(_revertConfigNoKill):e._startAt.render(-1,!0)),e._zTime=t,!l)o(e._startAt,_tinyNum,_tinyNum);else if(!t)return}for(e._pt=e._ptCache=0,c=P&&_isNotFalse(c)||c&&!P,N=0;N<k.length;N++){if(V=k[N],le=V._gsap||_harness(k)[N]._gsap,e._ptLookup[N]=Wt={},_lazyLookup[le.id]&&_lazyTweens.length&&_lazyRender(),Rt=R===k?N:R.indexOf(V),Ae&&(se=new Ae).init(V,Ve||M,e,Rt,R)!==!1&&(e._pt=I=new PropTween(e._pt,V,se.name,0,1,se.render,se,0,se.priority),se._props.forEach(function($i){Wt[$i]=I}),se.priority&&(Ie=1)),!Ae||Ve)for(F in M)_plugins[F]&&(se=_checkPlugin(F,M,e,Rt,V,R))?se.priority&&(Ie=1):Wt[F]=I=_addPropTween.call(e,V,F,"get",M[F],Rt,R,0,r.stringFilter);e._op&&e._op[N]&&e.kill(V,e._op[N]),L&&e._pt&&(_overwritingTween=e,_globalTimeline.killTweensOf(V,Wt,e.globalTime(t)),_t=!e.parent,_overwritingTween=0),e._pt&&c&&(_lazyLookup[le.id]=1)}Ie&&_sortPropTweensByPriority(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!_t,w&&t<=0&&C.render(_bigNum$2,!0,!0)},_updatePropTweens=function o(e,t,n,r,s,a,l,c){var h=(e._pt&&e._ptCache||(e._ptCache={}))[t],p,_,w,u;if(!h)for(h=e._ptCache[t]=[],w=e._ptLookup,u=e._targets.length;u--;){if(p=w[u][t],p&&p.d&&p.d._pt)for(p=p.d._pt;p&&p.p!==t&&p.fp!==t;)p=p._next;if(!p)return _forceAllPropTweens=1,e.vars[t]="+=0",_initTween(e,l),_forceAllPropTweens=0,c?_warn(t+" not eligible for reset"):1;h.push(p)}for(u=h.length;u--;)_=h[u],p=_._pt||_,p.s=(r||r===0)&&!s?r:p.s+(r||0)+a*p.c,p.c=n-p.s,_.e&&(_.e=_round$1(n)+getUnit(_.e)),_.b&&(_.b=p.s+getUnit(_.b))},_addAliasesToVars=function o(e,t){var n=e[0]?_getCache(e[0]).harness:0,r=n&&n.aliases,s,a,l,c;if(!r)return t;s=_merge({},t);for(a in r)if(a in s)for(c=r[a].split(","),l=c.length;l--;)s[c[l]]=s[a];return s},_parseKeyframe=function o(e,t,n,r){var s=t.ease||r||"power1.inOut",a,l;if(_isArray$1(t))l=n[e]||(n[e]=[]),t.forEach(function(c,h){return l.push({t:h/(t.length-1)*100,v:c,e:s})});else for(a in t)l=n[a]||(n[a]=[]),a==="ease"||l.push({t:parseFloat(e),v:t[a],e:s})},_parseFuncOrString=function o(e,t,n,r,s){return _isFunction$1(e)?e.call(t,n,r,s):_isString(e)&&~e.indexOf("random(")?_replaceRandom(e):e},_staggerTweenProps=_callbackNames+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",_staggerPropsToSkip={};_forEachName(_staggerTweenProps+",id,stagger,delay,duration,paused,scrollTrigger",function(o){return _staggerPropsToSkip[o]=1});var Tween=function(o){_inheritsLoose$1(e,o);function e(n,r,s,a){var l;typeof r=="number"&&(s.duration=r,r=s,s=null),l=o.call(this,a?r:_inheritDefaults(r))||this;var c=l.vars,h=c.duration,p=c.delay,_=c.immediateRender,w=c.stagger,u=c.overwrite,P=c.keyframes,b=c.defaults,k=c.scrollTrigger,E=c.yoyoEase,R=r.parent||_globalTimeline,L=(_isArray$1(n)||_isTypedArray(n)?_isNumber(n[0]):"length"in r)?[n]:toArray(n),C,M,N,F,I,V,Ie,le;if(l._targets=L.length?_harness(L):_warn("GSAP target "+n+" not found. https://gsap.com",!_config.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=u,P||w||_isFuncOrString(h)||_isFuncOrString(p)){if(r=l.vars,C=l.timeline=new Timeline({data:"nested",defaults:b||{},targets:R&&R.data==="nested"?R.vars.targets:L}),C.kill(),C.parent=C._dp=_assertThisInitialized$1(l),C._start=0,w||_isFuncOrString(h)||_isFuncOrString(p)){if(F=L.length,Ie=w&&distribute(w),_isObject$1(w))for(I in w)~_staggerTweenProps.indexOf(I)&&(le||(le={}),le[I]=w[I]);for(M=0;M<F;M++)N=_copyExcluding(r,_staggerPropsToSkip),N.stagger=0,E&&(N.yoyoEase=E),le&&_merge(N,le),V=L[M],N.duration=+_parseFuncOrString(h,_assertThisInitialized$1(l),M,V,L),N.delay=(+_parseFuncOrString(p,_assertThisInitialized$1(l),M,V,L)||0)-l._delay,!w&&F===1&&N.delay&&(l._delay=p=N.delay,l._start+=p,N.delay=0),C.to(V,N,Ie?Ie(M,V,L):0),C._ease=_easeMap.none;C.duration()?h=p=0:l.timeline=0}else if(P){_inheritDefaults(_setDefaults$1(C.vars.defaults,{ease:"none"})),C._ease=_parseEase(P.ease||r.ease||"none");var Ae=0,se,Wt,Rt;if(_isArray$1(P))P.forEach(function(Ve){return C.to(L,Ve,">")}),C.duration();else{N={};for(I in P)I==="ease"||I==="easeEach"||_parseKeyframe(I,P[I],N,P.easeEach);for(I in N)for(se=N[I].sort(function(Ve,_t){return Ve.t-_t.t}),Ae=0,M=0;M<se.length;M++)Wt=se[M],Rt={ease:Wt.e,duration:(Wt.t-(M?se[M-1].t:0))/100*h},Rt[I]=Wt.v,C.to(L,Rt,Ae),Ae+=Rt.duration;C.duration()<h&&C.to({},{duration:h-C.duration()})}}h||l.duration(h=C.duration())}else l.timeline=0;return u===!0&&!_suppressOverwrites&&(_overwritingTween=_assertThisInitialized$1(l),_globalTimeline.killTweensOf(L),_overwritingTween=0),_addToTimeline(R,_assertThisInitialized$1(l),s),r.reversed&&l.reverse(),r.paused&&l.paused(!0),(_||!h&&!P&&l._start===_roundPrecise(R._time)&&_isNotFalse(_)&&_hasNoPausedAncestors(_assertThisInitialized$1(l))&&R.data!=="nested")&&(l._tTime=-1e-8,l.render(Math.max(0,-p)||0)),k&&_scrollTrigger(_assertThisInitialized$1(l),k),l}var t=e.prototype;return t.render=function(r,s,a){var l=this._time,c=this._tDur,h=this._dur,p=r<0,_=r>c-_tinyNum&&!p?c:r<_tinyNum?0:r,w,u,P,b,k,E,R,L,C;if(!h)_renderZeroDurationTween(this,r,s,a);else if(_!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==p||this._lazy){if(w=_,L=this.timeline,this._repeat){if(b=h+this._rDelay,this._repeat<-1&&p)return this.totalTime(b*100+r,s,a);if(w=_roundPrecise(_%b),_===c?(P=this._repeat,w=h):(k=_roundPrecise(_/b),P=~~k,P&&P===k?(w=h,P--):w>h&&(w=h)),E=this._yoyo&&P&1,E&&(C=this._yEase,w=h-w),k=_animationCycle(this._tTime,b),w===l&&!a&&this._initted&&P===k)return this._tTime=_,this;P!==k&&(L&&this._yEase&&_propagateYoyoEase(L,E),this.vars.repeatRefresh&&!E&&!this._lock&&w!==b&&this._initted&&(this._lock=a=1,this.render(_roundPrecise(b*P),!0).invalidate()._lock=0))}if(!this._initted){if(_attemptInitTween(this,p?r:w,a,s,_))return this._tTime=0,this;if(l!==this._time&&!(a&&this.vars.repeatRefresh&&P!==k))return this;if(h!==this._dur)return this.render(r,s,a)}if(this._tTime=_,this._time=w,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=R=(C||this._ease)(w/h),this._from&&(this.ratio=R=1-R),!l&&_&&!s&&!k&&(_callback(this,"onStart"),this._tTime!==_))return this;for(u=this._pt;u;)u.r(R,u.d),u=u._next;L&&L.render(r<0?r:L._dur*L._ease(w/this._dur),s,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(p&&_rewindStartAt(this,r,s,a),_callback(this,"onUpdate")),this._repeat&&P!==k&&this.vars.onRepeat&&!s&&this.parent&&_callback(this,"onRepeat"),(_===this._tDur||!_)&&this._tTime===_&&(p&&!this._onUpdate&&_rewindStartAt(this,r,!0,!0),(r||!h)&&(_===this._tDur&&this._ts>0||!_&&this._ts<0)&&_removeFromParent(this,1),!s&&!(p&&!l)&&(_||l||E)&&(_callback(this,_===c?"onComplete":"onReverseComplete",!0),this._prom&&!(_<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),o.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,a,l,c){_tickerActive||_ticker.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),p;return this._initted||_initTween(this,h),p=this._ease(h/this._dur),_updatePropTweens(this,r,s,a,l,p,h,c)?this.resetTo(r,s,a,l,1):(_alignPlayhead(this,0),this.parent||_addLinkedListItem(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?_interrupt(this):this.scrollTrigger&&this.scrollTrigger.kill(!!_reverting$1),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,_overwritingTween&&_overwritingTween.vars.overwrite!==!0)._first||_interrupt(this),this.parent&&a!==this.timeline.totalDuration()&&_setDuration(this,this._dur*this.timeline._tDur/a,0,1),this}var l=this._targets,c=r?toArray(r):l,h=this._ptLookup,p=this._pt,_,w,u,P,b,k,E;if((!s||s==="all")&&_arraysMatch(l,c))return s==="all"&&(this._pt=0),_interrupt(this);for(_=this._op=this._op||[],s!=="all"&&(_isString(s)&&(b={},_forEachName(s,function(R){return b[R]=1}),s=b),s=_addAliasesToVars(l,s)),E=l.length;E--;)if(~c.indexOf(l[E])){w=h[E],s==="all"?(_[E]=s,P=w,u={}):(u=_[E]=_[E]||{},P=s);for(b in P)k=w&&w[b],k&&((!("kill"in k.d)||k.d.kill(b)===!0)&&_removeLinkedListItem(this,k,"_pt"),delete w[b]),u!=="all"&&(u[b]=1)}return this._initted&&!this._pt&&p&&_interrupt(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return _createTweenType(1,arguments)},e.delayedCall=function(r,s,a,l){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:l})},e.fromTo=function(r,s,a){return _createTweenType(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,a){return _globalTimeline.killTweensOf(r,s,a)},e}(Animation);_setDefaults$1(Tween.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});_forEachName("staggerTo,staggerFrom,staggerFromTo",function(o){Tween[o]=function(){var e=new Timeline,t=_slice.call(arguments,0);return t.splice(o==="staggerFromTo"?5:4,0,0),e[o].apply(e,t)}});var _setterPlain=function o(e,t,n){return e[t]=n},_setterFunc=function o(e,t,n){return e[t](n)},_setterFuncWithParam=function o(e,t,n,r){return e[t](r.fp,n)},_setterAttribute=function o(e,t,n){return e.setAttribute(t,n)},_getSetter=function o(e,t){return _isFunction$1(e[t])?_setterFunc:_isUndefined$1(e[t])&&e.setAttribute?_setterAttribute:_setterPlain},_renderPlain=function o(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},_renderBoolean=function o(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},_renderComplexString=function o(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},_renderPropTweens=function o(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},_addPluginModifier=function o(e,t,n,r){for(var s=this._pt,a;s;)a=s._next,s.p===r&&s.modifier(e,t,n),s=a},_killPropTweensOf=function o(e){for(var t=this._pt,n,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?_removeLinkedListItem(this,t,"_pt"):t.dep||(n=1),t=r;return!n},_setterWithModifier=function o(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},_sortPropTweensByPriority=function o(e){for(var t=e._pt,n,r,s,a;t;){for(n=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:a)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:a=t,t=n}e._pt=s},PropTween=function(){function o(t,n,r,s,a,l,c,h,p){this.t=n,this.s=s,this.c=a,this.p=r,this.r=l||_renderPlain,this.d=c||this,this.set=h||_setterPlain,this.pr=p||0,this._next=t,t&&(t._prev=this)}var e=o.prototype;return e.modifier=function(n,r,s){this.mSet=this.mSet||this.set,this.set=_setterWithModifier,this.m=n,this.mt=s,this.tween=r},o}();_forEachName(_callbackNames+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(o){return _reservedProps[o]=1});_globals.TweenMax=_globals.TweenLite=Tween;_globals.TimelineLite=_globals.TimelineMax=Timeline;_globalTimeline=new Timeline({sortChildren:!1,defaults:_defaults,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});_config.stringFilter=_colorStringFilter;var _media=[],_listeners={},_emptyArray=[],_lastMediaTime=0,_contextID=0,_dispatch=function o(e){return(_listeners[e]||_emptyArray).map(function(t){return t()})},_onMediaChange=function o(){var e=Date.now(),t=[];e-_lastMediaTime>2&&(_dispatch("matchMediaInit"),_media.forEach(function(n){var r=n.queries,s=n.conditions,a,l,c,h;for(l in r)a=_win$3.matchMedia(r[l]).matches,a&&(c=1),a!==s[l]&&(s[l]=a,h=1);h&&(n.revert(),c&&t.push(n))}),_dispatch("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(r){return n.add(null,r)})}),_lastMediaTime=e,_dispatch("matchMedia"))},Context=function(){function o(t,n){this.selector=n&&selector(n),this.data=[],this._r=[],this.isReverted=!1,this.id=_contextID++,t&&this.add(t)}var e=o.prototype;return e.add=function(n,r,s){_isFunction$1(n)&&(s=r,r=n,n=_isFunction$1);var a=this,l=function(){var h=_context$1,p=a.selector,_;return h&&h!==a&&h.data.push(a),s&&(a.selector=selector(s)),_context$1=a,_=r.apply(a,arguments),_isFunction$1(_)&&a._r.push(_),_context$1=h,a.selector=p,a.isReverted=!1,_};return a.last=l,n===_isFunction$1?l(a,function(c){return a.add(null,c)}):n?a[n]=l:l},e.ignore=function(n){var r=_context$1;_context$1=null,n(this),_context$1=r},e.getTweens=function(){var n=[];return this.data.forEach(function(r){return r instanceof o?n.push.apply(n,r.getTweens()):r instanceof Tween&&!(r.parent&&r.parent.data==="nested")&&n.push(r)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,r){var s=this;if(n?function(){for(var l=s.getTweens(),c=s.data.length,h;c--;)h=s.data[c],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(p){return l.splice(l.indexOf(p),1)}));for(l.map(function(p){return{g:p._dur||p._delay||p._sat&&!p._sat.vars.immediateRender?p.globalTime(0):-1/0,t:p}}).sort(function(p,_){return _.g-p.g||-1/0}).forEach(function(p){return p.t.revert(n)}),c=s.data.length;c--;)h=s.data[c],h instanceof Timeline?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof Tween)&&h.revert&&h.revert(n);s._r.forEach(function(p){return p(n,s)}),s.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),r)for(var a=_media.length;a--;)_media[a].id===this.id&&_media.splice(a,1)},e.revert=function(n){this.kill(n||{})},o}(),MatchMedia=function(){function o(t){this.contexts=[],this.scope=t,_context$1&&_context$1.data.push(this)}var e=o.prototype;return e.add=function(n,r,s){_isObject$1(n)||(n={matches:n});var a=new Context(0,s||this.scope),l=a.conditions={},c,h,p;_context$1&&!a.selector&&(a.selector=_context$1.selector),this.contexts.push(a),r=a.add("onMatch",r),a.queries=n;for(h in n)h==="all"?p=1:(c=_win$3.matchMedia(n[h]),c&&(_media.indexOf(a)<0&&_media.push(a),(l[h]=c.matches)&&(p=1),c.addListener?c.addListener(_onMediaChange):c.addEventListener("change",_onMediaChange)));return p&&r(a,function(_){return a.add(null,_)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(r){return r.kill(n,!0)})},o}(),_gsap={registerPlugin:function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(r){return _createPlugin(r)})},timeline:function o(e){return new Timeline(e)},getTweensOf:function o(e,t){return _globalTimeline.getTweensOf(e,t)},getProperty:function o(e,t,n,r){_isString(e)&&(e=toArray(e)[0]);var s=_getCache(e||{}).get,a=n?_passThrough:_numericIfPossible;return n==="native"&&(n=""),e&&(t?a((_plugins[t]&&_plugins[t].get||s)(e,t,n,r)):function(l,c,h){return a((_plugins[l]&&_plugins[l].get||s)(e,l,c,h))})},quickSetter:function o(e,t,n){if(e=toArray(e),e.length>1){var r=e.map(function(p){return gsap$1.quickSetter(p,t,n)}),s=r.length;return function(p){for(var _=s;_--;)r[_](p)}}e=e[0]||{};var a=_plugins[t],l=_getCache(e),c=l.harness&&(l.harness.aliases||{})[t]||t,h=a?function(p){var _=new a;_quickTween._pt=0,_.init(e,n?p+n:p,_quickTween,0,[e]),_.render(1,_),_quickTween._pt&&_renderPropTweens(1,_quickTween)}:l.set(e,c);return a?h:function(p){return h(e,c,n?p+n:p,l,1)}},quickTo:function o(e,t,n){var r,s=gsap$1.to(e,_setDefaults$1((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),a=function(c,h,p){return s.resetTo(t,c,h,p)};return a.tween=s,a},isTweening:function o(e){return _globalTimeline.getTweensOf(e,!0).length>0},defaults:function o(e){return e&&e.ease&&(e.ease=_parseEase(e.ease,_defaults.ease)),_mergeDeep(_defaults,e||{})},config:function o(e){return _mergeDeep(_config,e||{})},registerEffect:function o(e){var t=e.name,n=e.effect,r=e.plugins,s=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach(function(l){return l&&!_plugins[l]&&!_globals[l]&&_warn(t+" effect requires "+l+" plugin.")}),_effects[t]=function(l,c,h){return n(toArray(l),_setDefaults$1(c||{},s),h)},a&&(Timeline.prototype[t]=function(l,c,h){return this.add(_effects[t](l,_isObject$1(c)?c:(h=c)&&{},this),h)})},registerEase:function o(e,t){_easeMap[e]=_parseEase(t)},parseEase:function o(e,t){return arguments.length?_parseEase(e,t):_easeMap},getById:function o(e){return _globalTimeline.getById(e)},exportRoot:function o(e,t){e===void 0&&(e={});var n=new Timeline(e),r,s;for(n.smoothChildTiming=_isNotFalse(e.smoothChildTiming),_globalTimeline.remove(n),n._dp=0,n._time=n._tTime=_globalTimeline._time,r=_globalTimeline._first;r;)s=r._next,(t||!(!r._dur&&r instanceof Tween&&r.vars.onComplete===r._targets[0]))&&_addToTimeline(n,r,r._start-r._delay),r=s;return _addToTimeline(_globalTimeline,n,0),n},context:function o(e,t){return e?new Context(e,t):_context$1},matchMedia:function o(e){return new MatchMedia(e)},matchMediaRefresh:function o(){return _media.forEach(function(e){var t=e.conditions,n,r;for(r in t)t[r]&&(t[r]=!1,n=1);n&&e.revert()})||_onMediaChange()},addEventListener:function o(e,t){var n=_listeners[e]||(_listeners[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function o(e,t){var n=_listeners[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap,wrapYoyo,distribute,random,snap,normalize,getUnit,clamp,splitColor,toArray,selector,mapRange,pipe,unitize,interpolate,shuffle},install:_install,effects:_effects,ticker:_ticker,updateRoot:Timeline.updateRoot,plugins:_plugins,globalTimeline:_globalTimeline,core:{PropTween,globals:_addGlobal,Tween,Timeline,Animation,getCache:_getCache,_removeLinkedListItem,reverting:function o(){return _reverting$1},context:function o(e){return e&&_context$1&&(_context$1.data.push(e),e._ctx=_context$1),_context$1},suppressOverwrites:function o(e){return _suppressOverwrites=e}}};_forEachName("to,from,fromTo,delayedCall,set,killTweensOf",function(o){return _gsap[o]=Tween[o]});_ticker.add(Timeline.updateRoot);_quickTween=_gsap.to({},{duration:0});var _getPluginPropTween=function o(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},_addModifiers=function o(e,t){var n=e._targets,r,s,a;for(r in t)for(s=n.length;s--;)a=e._ptLookup[s][r],a&&(a=a.d)&&(a._pt&&(a=_getPluginPropTween(a,r)),a&&a.modifier&&a.modifier(t[r],e,n[s],r))},_buildModifierPlugin=function o(e,t){return{name:e,headless:1,rawVars:1,init:function(r,s,a){a._onInit=function(l){var c,h;if(_isString(s)&&(c={},_forEachName(s,function(p){return c[p]=1}),s=c),t){c={};for(h in s)c[h]=t(s[h]);s=c}_addModifiers(l,s)}}}},gsap$1=_gsap.registerPlugin({name:"attr",init:function o(e,t,n,r,s){var a,l,c;this.tween=n;for(a in t)c=e.getAttribute(a)||"",l=this.add(e,"setAttribute",(c||0)+"",t[a],r,s,0,0,a),l.op=a,l.b=c,this._props.push(a)},render:function o(e,t){for(var n=t._pt;n;)_reverting$1?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function o(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},_buildModifierPlugin("roundProps",_roundModifier),_buildModifierPlugin("modifiers"),_buildModifierPlugin("snap",snap))||_gsap;Tween.version=Timeline.version=gsap$1.version="3.13.0";_coreReady=1;_windowExists$2()&&_wake();_easeMap.Power0;_easeMap.Power1;_easeMap.Power2;_easeMap.Power3;_easeMap.Power4;_easeMap.Linear;_easeMap.Quad;_easeMap.Cubic;_easeMap.Quart;_easeMap.Quint;_easeMap.Strong;_easeMap.Elastic;_easeMap.Back;_easeMap.SteppedEase;_easeMap.Bounce;_easeMap.Sine;_easeMap.Expo;_easeMap.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _win$2,_doc$2,_docElement$2,_pluginInitted,_tempDiv$1,_recentSetterPlugin,_reverting,_windowExists$1=function o(){return typeof window<"u"},_transformProps={},_RAD2DEG$1=180/Math.PI,_DEG2RAD=Math.PI/180,_atan2=Math.atan2,_bigNum$1=1e8,_capsExp=/([A-Z])/g,_horizontalExp=/(left|right|width|margin|padding|x)/i,_complexExp=/[\s,\(]\S/,_propertyAliases={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_renderCSSProp=function o(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},_renderPropWithEnd=function o(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},_renderCSSPropWithBeginning=function o(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},_renderRoundedCSSProp=function o(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},_renderNonTweeningValue=function o(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},_renderNonTweeningValueOnlyAtEnd=function o(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},_setterCSSStyle=function o(e,t,n){return e.style[t]=n},_setterCSSProp=function o(e,t,n){return e.style.setProperty(t,n)},_setterTransform=function o(e,t,n){return e._gsap[t]=n},_setterScale=function o(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},_setterScaleWithRender=function o(e,t,n,r,s){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(s,a)},_setterTransformWithRender=function o(e,t,n,r,s){var a=e._gsap;a[t]=n,a.renderTransform(s,a)},_transformProp$2="transform",_transformOriginProp$2=_transformProp$2+"Origin",_saveStyle=function o(e,t){var n=this,r=this.target,s=r.style,a=r._gsap;if(e in _transformProps&&s){if(this.tfm=this.tfm||{},e!=="transform")e=_propertyAliases[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return n.tfm[l]=_get(r,l)}):this.tfm[e]=a.x?a[e]:_get(r,e),e===_transformOriginProp$2&&(this.tfm.zOrigin=a.zOrigin);else return _propertyAliases.transform.split(",").forEach(function(l){return o.call(n,l,t)});if(this.props.indexOf(_transformProp$2)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(_transformOriginProp$2,t,"")),e=_transformProp$2}(s||t)&&this.props.push(e,t,s[e])},_removeIndependentTransforms=function o(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},_revertStyle=function o(){var e=this.props,t=this.target,n=t.style,r=t._gsap,s,a;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(_capsExp,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=_reverting(),(!s||!s.isStart)&&!n[_transformProp$2]&&(_removeIndependentTransforms(n),r.zOrigin&&n[_transformOriginProp$2]&&(n[_transformOriginProp$2]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},_getStyleSaver$1=function o(e,t){var n={target:e,props:[],revert:_revertStyle,save:_saveStyle};return e._gsap||gsap$1.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return n.save(r)}),n},_supports3D$1,_createElement$1=function o(e,t){var n=_doc$2.createElementNS?_doc$2.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):_doc$2.createElement(e);return n&&n.style?n:_doc$2.createElement(e)},_getComputedProperty=function o(e,t,n){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(_capsExp,"-$1").toLowerCase())||r.getPropertyValue(t)||!n&&o(e,_checkPropPrefix(t)||t,1)||""},_prefixes="O,Moz,ms,Ms,Webkit".split(","),_checkPropPrefix=function o(e,t,n){var r=t||_tempDiv$1,s=r.style,a=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(_prefixes[a]+e in s););return a<0?null:(a===3?"ms":a>=0?_prefixes[a]:"")+e},_initCore$1=function o(){_windowExists$1()&&window.document&&(_win$2=window,_doc$2=_win$2.document,_docElement$2=_doc$2.documentElement,_tempDiv$1=_createElement$1("div")||{style:{}},_createElement$1("div"),_transformProp$2=_checkPropPrefix(_transformProp$2),_transformOriginProp$2=_transformProp$2+"Origin",_tempDiv$1.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_supports3D$1=!!_checkPropPrefix("perspective"),_reverting=gsap$1.core.reverting,_pluginInitted=1)},_getReparentedCloneBBox=function o(e){var t=e.ownerSVGElement,n=_createElement$1("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),s;r.style.display="block",n.appendChild(r),_docElement$2.appendChild(n);try{s=r.getBBox()}catch{}return n.removeChild(r),_docElement$2.removeChild(n),s},_getAttributeFallbacks=function o(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},_getBBox=function o(e){var t,n;try{t=e.getBBox()}catch{t=_getReparentedCloneBBox(e),n=1}return t&&(t.width||t.height)||n||(t=_getReparentedCloneBBox(e)),t&&!t.width&&!t.x&&!t.y?{x:+_getAttributeFallbacks(e,["x","cx","x1"])||0,y:+_getAttributeFallbacks(e,["y","cy","y1"])||0,width:0,height:0}:t},_isSVG=function o(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&_getBBox(e))},_removeProperty=function o(e,t){if(t){var n=e.style,r;t in _transformProps&&t!==_transformOriginProp$2&&(t=_transformProp$2),n.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(r==="--"?t:t.replace(_capsExp,"-$1").toLowerCase())):n.removeAttribute(t)}},_addNonTweeningPT=function o(e,t,n,r,s,a){var l=new PropTween(e._pt,t,n,0,1,a?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue);return e._pt=l,l.b=r,l.e=s,e._props.push(n),l},_nonConvertibleUnits={deg:1,rad:1,turn:1},_nonStandardLayouts={grid:1,flex:1},_convertToUnit=function o(e,t,n,r){var s=parseFloat(n)||0,a=(n+"").trim().substr((s+"").length)||"px",l=_tempDiv$1.style,c=_horizontalExp.test(t),h=e.tagName.toLowerCase()==="svg",p=(h?"client":"offset")+(c?"Width":"Height"),_=100,w=r==="px",u=r==="%",P,b,k,E;if(r===a||!s||_nonConvertibleUnits[r]||_nonConvertibleUnits[a])return s;if(a!=="px"&&!w&&(s=o(e,t,n,"px")),E=e.getCTM&&_isSVG(e),(u||a==="%")&&(_transformProps[t]||~t.indexOf("adius")))return P=E?e.getBBox()[c?"width":"height"]:e[p],_round$1(u?s/P*_:s/100*P);if(l[c?"width":"height"]=_+(w?a:r),b=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!h?e:e.parentNode,E&&(b=(e.ownerSVGElement||{}).parentNode),(!b||b===_doc$2||!b.appendChild)&&(b=_doc$2.body),k=b._gsap,k&&u&&k.width&&c&&k.time===_ticker.time&&!k.uncache)return _round$1(s/k.width*_);if(u&&(t==="height"||t==="width")){var R=e.style[t];e.style[t]=_+r,P=e[p],R?e.style[t]=R:_removeProperty(e,t)}else(u||a==="%")&&!_nonStandardLayouts[_getComputedProperty(b,"display")]&&(l.position=_getComputedProperty(e,"position")),b===e&&(l.position="static"),b.appendChild(_tempDiv$1),P=_tempDiv$1[p],b.removeChild(_tempDiv$1),l.position="absolute";return c&&u&&(k=_getCache(b),k.time=_ticker.time,k.width=b[p]),_round$1(w?P*s/_:P&&s?_/P*s:0)},_get=function o(e,t,n,r){var s;return _pluginInitted||_initCore$1(),t in _propertyAliases&&t!=="transform"&&(t=_propertyAliases[t],~t.indexOf(",")&&(t=t.split(",")[0])),_transformProps[t]&&t!=="transform"?(s=_parseTransform(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:_firstTwoOnly(_getComputedProperty(e,_transformOriginProp$2))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=_specialProps[t]&&_specialProps[t](e,t,n)||_getComputedProperty(e,t)||_getProperty(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?_convertToUnit(e,t,s,n)+n:s},_tweenComplexCSSString=function o(e,t,n,r){if(!n||n==="none"){var s=_checkPropPrefix(t,e,1),a=s&&_getComputedProperty(e,s,1);a&&a!==n?(t=s,n=a):t==="borderColor"&&(n=_getComputedProperty(e,"borderTopColor"))}var l=new PropTween(this._pt,e.style,t,0,1,_renderComplexString),c=0,h=0,p,_,w,u,P,b,k,E,R,L,C,M;if(l.b=n,l.e=r,n+="",r+="",r.substring(0,6)==="var(--"&&(r=_getComputedProperty(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(b=e.style[t],e.style[t]=r,r=_getComputedProperty(e,t)||r,b?e.style[t]=b:_removeProperty(e,t)),p=[n,r],_colorStringFilter(p),n=p[0],r=p[1],w=n.match(_numWithUnitExp)||[],M=r.match(_numWithUnitExp)||[],M.length){for(;_=_numWithUnitExp.exec(r);)k=_[0],R=r.substring(c,_.index),P?P=(P+1)%5:(R.substr(-5)==="rgba("||R.substr(-5)==="hsla(")&&(P=1),k!==(b=w[h++]||"")&&(u=parseFloat(b)||0,C=b.substr((u+"").length),k.charAt(1)==="="&&(k=_parseRelative(u,k)+C),E=parseFloat(k),L=k.substr((E+"").length),c=_numWithUnitExp.lastIndex-L.length,L||(L=L||_config.units[t]||C,c===r.length&&(r+=L,l.e+=L)),C!==L&&(u=_convertToUnit(e,t,b,L)||0),l._pt={_next:l._pt,p:R||h===1?R:",",s:u,c:E-u,m:P&&P<4||t==="zIndex"?Math.round:0});l.c=c<r.length?r.substring(c,r.length):""}else l.r=t==="display"&&r==="none"?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue;return _relExp.test(r)&&(l.e=0),this._pt=l,l},_keywordToPercent={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_convertKeywordsToPercentages=function o(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return(n==="top"||n==="bottom"||r==="left"||r==="right")&&(e=n,n=r,r=e),t[0]=_keywordToPercent[n]||n,t[1]=_keywordToPercent[r]||r,t.join(" ")},_renderClearProps=function o(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,r=n.style,s=t.u,a=n._gsap,l,c,h;if(s==="all"||s===!0)r.cssText="",c=1;else for(s=s.split(","),h=s.length;--h>-1;)l=s[h],_transformProps[l]&&(c=1,l=l==="transformOrigin"?_transformOriginProp$2:_transformProp$2),_removeProperty(n,l);c&&(_removeProperty(n,_transformProp$2),a&&(a.svg&&n.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",_parseTransform(n,1),a.uncache=1,_removeIndependentTransforms(r)))}},_specialProps={clearProps:function o(e,t,n,r,s){if(s.data!=="isFromStart"){var a=e._pt=new PropTween(e._pt,t,n,0,0,_renderClearProps);return a.u=r,a.pr=-10,a.tween=s,e._props.push(n),1}}},_identity2DMatrix=[1,0,0,1,0,0],_rotationalProperties={},_isNullTransform=function o(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},_getComputedTransformMatrixAsArray=function o(e){var t=_getComputedProperty(e,_transformProp$2);return _isNullTransform(t)?_identity2DMatrix:t.substr(7).match(_numExp).map(_round$1)},_getMatrix=function o(e,t){var n=e._gsap||_getCache(e),r=e.style,s=_getComputedTransformMatrixAsArray(e),a,l,c,h;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?_identity2DMatrix:s):(s===_identity2DMatrix&&!e.offsetParent&&e!==_docElement$2&&!n.svg&&(c=r.display,r.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,l=e.nextElementSibling,_docElement$2.appendChild(e)),s=_getComputedTransformMatrixAsArray(e),c?r.display=c:_removeProperty(e,"display"),h&&(l?a.insertBefore(e,l):a?a.appendChild(e):_docElement$2.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},_applySVGOrigin=function o(e,t,n,r,s,a){var l=e._gsap,c=s||_getMatrix(e,!0),h=l.xOrigin||0,p=l.yOrigin||0,_=l.xOffset||0,w=l.yOffset||0,u=c[0],P=c[1],b=c[2],k=c[3],E=c[4],R=c[5],L=t.split(" "),C=parseFloat(L[0])||0,M=parseFloat(L[1])||0,N,F,I,V;n?c!==_identity2DMatrix&&(F=u*k-P*b)&&(I=C*(k/F)+M*(-b/F)+(b*R-k*E)/F,V=C*(-P/F)+M*(u/F)-(u*R-P*E)/F,C=I,M=V):(N=_getBBox(e),C=N.x+(~L[0].indexOf("%")?C/100*N.width:C),M=N.y+(~(L[1]||L[0]).indexOf("%")?M/100*N.height:M)),r||r!==!1&&l.smooth?(E=C-h,R=M-p,l.xOffset=_+(E*u+R*b)-E,l.yOffset=w+(E*P+R*k)-R):l.xOffset=l.yOffset=0,l.xOrigin=C,l.yOrigin=M,l.smooth=!!r,l.origin=t,l.originIsAbsolute=!!n,e.style[_transformOriginProp$2]="0px 0px",a&&(_addNonTweeningPT(a,l,"xOrigin",h,C),_addNonTweeningPT(a,l,"yOrigin",p,M),_addNonTweeningPT(a,l,"xOffset",_,l.xOffset),_addNonTweeningPT(a,l,"yOffset",w,l.yOffset)),e.setAttribute("data-svg-origin",C+" "+M)},_parseTransform=function o(e,t){var n=e._gsap||new GSCache(e);if("x"in n&&!t&&!n.uncache)return n;var r=e.style,s=n.scaleX<0,a="px",l="deg",c=getComputedStyle(e),h=_getComputedProperty(e,_transformOriginProp$2)||"0",p,_,w,u,P,b,k,E,R,L,C,M,N,F,I,V,Ie,le,Ae,se,Wt,Rt,Ve,_t,$i,mn,At,je,Me,Ye,Fe,zi;return p=_=w=b=k=E=R=L=C=0,u=P=1,n.svg=!!(e.getCTM&&_isSVG(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(r[_transformProp$2]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[_transformProp$2]!=="none"?c[_transformProp$2]:"")),r.scale=r.rotate=r.translate="none"),F=_getMatrix(e,n.svg),n.svg&&(n.uncache?($i=e.getBBox(),h=n.xOrigin-$i.x+"px "+(n.yOrigin-$i.y)+"px",_t=""):_t=!t&&e.getAttribute("data-svg-origin"),_applySVGOrigin(e,_t||h,!!_t||n.originIsAbsolute,n.smooth!==!1,F)),M=n.xOrigin||0,N=n.yOrigin||0,F!==_identity2DMatrix&&(le=F[0],Ae=F[1],se=F[2],Wt=F[3],p=Rt=F[4],_=Ve=F[5],F.length===6?(u=Math.sqrt(le*le+Ae*Ae),P=Math.sqrt(Wt*Wt+se*se),b=le||Ae?_atan2(Ae,le)*_RAD2DEG$1:0,R=se||Wt?_atan2(se,Wt)*_RAD2DEG$1+b:0,R&&(P*=Math.abs(Math.cos(R*_DEG2RAD))),n.svg&&(p-=M-(M*le+N*se),_-=N-(M*Ae+N*Wt))):(zi=F[6],Ye=F[7],At=F[8],je=F[9],Me=F[10],Fe=F[11],p=F[12],_=F[13],w=F[14],I=_atan2(zi,Me),k=I*_RAD2DEG$1,I&&(V=Math.cos(-I),Ie=Math.sin(-I),_t=Rt*V+At*Ie,$i=Ve*V+je*Ie,mn=zi*V+Me*Ie,At=Rt*-Ie+At*V,je=Ve*-Ie+je*V,Me=zi*-Ie+Me*V,Fe=Ye*-Ie+Fe*V,Rt=_t,Ve=$i,zi=mn),I=_atan2(-se,Me),E=I*_RAD2DEG$1,I&&(V=Math.cos(-I),Ie=Math.sin(-I),_t=le*V-At*Ie,$i=Ae*V-je*Ie,mn=se*V-Me*Ie,Fe=Wt*Ie+Fe*V,le=_t,Ae=$i,se=mn),I=_atan2(Ae,le),b=I*_RAD2DEG$1,I&&(V=Math.cos(I),Ie=Math.sin(I),_t=le*V+Ae*Ie,$i=Rt*V+Ve*Ie,Ae=Ae*V-le*Ie,Ve=Ve*V-Rt*Ie,le=_t,Rt=$i),k&&Math.abs(k)+Math.abs(b)>359.9&&(k=b=0,E=180-E),u=_round$1(Math.sqrt(le*le+Ae*Ae+se*se)),P=_round$1(Math.sqrt(Ve*Ve+zi*zi)),I=_atan2(Rt,Ve),R=Math.abs(I)>2e-4?I*_RAD2DEG$1:0,C=Fe?1/(Fe<0?-Fe:Fe):0),n.svg&&(_t=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!_isNullTransform(_getComputedProperty(e,_transformProp$2)),_t&&e.setAttribute("transform",_t))),Math.abs(R)>90&&Math.abs(R)<270&&(s?(u*=-1,R+=b<=0?180:-180,b+=b<=0?180:-180):(P*=-1,R+=R<=0?180:-180)),t=t||n.uncache,n.x=p-((n.xPercent=p&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-p)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+a,n.y=_-((n.yPercent=_&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-_)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+a,n.z=w+a,n.scaleX=_round$1(u),n.scaleY=_round$1(P),n.rotation=_round$1(b)+l,n.rotationX=_round$1(k)+l,n.rotationY=_round$1(E)+l,n.skewX=R+l,n.skewY=L+l,n.transformPerspective=C+a,(n.zOrigin=parseFloat(h.split(" ")[2])||!t&&n.zOrigin||0)&&(r[_transformOriginProp$2]=_firstTwoOnly(h)),n.xOffset=n.yOffset=0,n.force3D=_config.force3D,n.renderTransform=n.svg?_renderSVGTransforms:_supports3D$1?_renderCSSTransforms:_renderNon3DTransforms,n.uncache=0,n},_firstTwoOnly=function o(e){return(e=e.split(" "))[0]+" "+e[1]},_addPxTranslate=function o(e,t,n){var r=getUnit(t);return _round$1(parseFloat(t)+parseFloat(_convertToUnit(e,"x",n+"px",r)))+r},_renderNon3DTransforms=function o(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,_renderCSSTransforms(e,t)},_zeroDeg="0deg",_zeroPx="0px",_endParenthesis=") ",_renderCSSTransforms=function o(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,a=n.x,l=n.y,c=n.z,h=n.rotation,p=n.rotationY,_=n.rotationX,w=n.skewX,u=n.skewY,P=n.scaleX,b=n.scaleY,k=n.transformPerspective,E=n.force3D,R=n.target,L=n.zOrigin,C="",M=E==="auto"&&e&&e!==1||E===!0;if(L&&(_!==_zeroDeg||p!==_zeroDeg)){var N=parseFloat(p)*_DEG2RAD,F=Math.sin(N),I=Math.cos(N),V;N=parseFloat(_)*_DEG2RAD,V=Math.cos(N),a=_addPxTranslate(R,a,F*V*-L),l=_addPxTranslate(R,l,-Math.sin(N)*-L),c=_addPxTranslate(R,c,I*V*-L+L)}k!==_zeroPx&&(C+="perspective("+k+_endParenthesis),(r||s)&&(C+="translate("+r+"%, "+s+"%) "),(M||a!==_zeroPx||l!==_zeroPx||c!==_zeroPx)&&(C+=c!==_zeroPx||M?"translate3d("+a+", "+l+", "+c+") ":"translate("+a+", "+l+_endParenthesis),h!==_zeroDeg&&(C+="rotate("+h+_endParenthesis),p!==_zeroDeg&&(C+="rotateY("+p+_endParenthesis),_!==_zeroDeg&&(C+="rotateX("+_+_endParenthesis),(w!==_zeroDeg||u!==_zeroDeg)&&(C+="skew("+w+", "+u+_endParenthesis),(P!==1||b!==1)&&(C+="scale("+P+", "+b+_endParenthesis),R.style[_transformProp$2]=C||"translate(0, 0)"},_renderSVGTransforms=function o(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,a=n.x,l=n.y,c=n.rotation,h=n.skewX,p=n.skewY,_=n.scaleX,w=n.scaleY,u=n.target,P=n.xOrigin,b=n.yOrigin,k=n.xOffset,E=n.yOffset,R=n.forceCSS,L=parseFloat(a),C=parseFloat(l),M,N,F,I,V;c=parseFloat(c),h=parseFloat(h),p=parseFloat(p),p&&(p=parseFloat(p),h+=p,c+=p),c||h?(c*=_DEG2RAD,h*=_DEG2RAD,M=Math.cos(c)*_,N=Math.sin(c)*_,F=Math.sin(c-h)*-w,I=Math.cos(c-h)*w,h&&(p*=_DEG2RAD,V=Math.tan(h-p),V=Math.sqrt(1+V*V),F*=V,I*=V,p&&(V=Math.tan(p),V=Math.sqrt(1+V*V),M*=V,N*=V)),M=_round$1(M),N=_round$1(N),F=_round$1(F),I=_round$1(I)):(M=_,I=w,N=F=0),(L&&!~(a+"").indexOf("px")||C&&!~(l+"").indexOf("px"))&&(L=_convertToUnit(u,"x",a,"px"),C=_convertToUnit(u,"y",l,"px")),(P||b||k||E)&&(L=_round$1(L+P-(P*M+b*F)+k),C=_round$1(C+b-(P*N+b*I)+E)),(r||s)&&(V=u.getBBox(),L=_round$1(L+r/100*V.width),C=_round$1(C+s/100*V.height)),V="matrix("+M+","+N+","+F+","+I+","+L+","+C+")",u.setAttribute("transform",V),R&&(u.style[_transformProp$2]=V)},_addRotationalPropTween=function o(e,t,n,r,s){var a=360,l=_isString(s),c=parseFloat(s)*(l&&~s.indexOf("rad")?_RAD2DEG$1:1),h=c-r,p=r+h+"deg",_,w;return l&&(_=s.split("_")[1],_==="short"&&(h%=a,h!==h%(a/2)&&(h+=h<0?a:-360)),_==="cw"&&h<0?h=(h+a*_bigNum$1)%a-~~(h/a)*a:_==="ccw"&&h>0&&(h=(h-a*_bigNum$1)%a-~~(h/a)*a)),e._pt=w=new PropTween(e._pt,t,n,r,h,_renderPropWithEnd),w.e=p,w.u="deg",e._props.push(n),w},_assign=function o(e,t){for(var n in t)e[n]=t[n];return e},_addRawTransformPTs=function o(e,t,n){var r=_assign({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",a=n.style,l,c,h,p,_,w,u,P;r.svg?(h=n.getAttribute("transform"),n.setAttribute("transform",""),a[_transformProp$2]=t,l=_parseTransform(n,1),_removeProperty(n,_transformProp$2),n.setAttribute("transform",h)):(h=getComputedStyle(n)[_transformProp$2],a[_transformProp$2]=t,l=_parseTransform(n,1),a[_transformProp$2]=h);for(c in _transformProps)h=r[c],p=l[c],h!==p&&s.indexOf(c)<0&&(u=getUnit(h),P=getUnit(p),_=u!==P?_convertToUnit(n,c,h,P):parseFloat(h),w=parseFloat(p),e._pt=new PropTween(e._pt,l,c,_,w-_,_renderCSSProp),e._pt.u=P||0,e._props.push(c));_assign(l,r)};_forEachName("padding,margin,Width,Radius",function(o,e){var t="Top",n="Right",r="Bottom",s="Left",a=(e<3?[t,n,r,s]:[t+s,t+n,r+n,r+s]).map(function(l){return e<2?o+l:"border"+l+o});_specialProps[e>1?"border"+o:o]=function(l,c,h,p,_){var w,u;if(arguments.length<4)return w=a.map(function(P){return _get(l,P,h)}),u=w.join(" "),u.split(w[0]).length===5?w[0]:u;w=(p+"").split(" "),u={},a.forEach(function(P,b){return u[P]=w[b]=w[b]||w[(b-1)/2|0]}),l.init(c,u,_)}});var CSSPlugin={name:"css",register:_initCore$1,targetTest:function o(e){return e.style&&e.nodeType},init:function o(e,t,n,r,s){var a=this._props,l=e.style,c=n.vars.startAt,h,p,_,w,u,P,b,k,E,R,L,C,M,N,F,I;_pluginInitted||_initCore$1(),this.styles=this.styles||_getStyleSaver$1(e),I=this.styles.props,this.tween=n;for(b in t)if(b!=="autoRound"&&(p=t[b],!(_plugins[b]&&_checkPlugin(b,t,n,r,e,s)))){if(u=typeof p,P=_specialProps[b],u==="function"&&(p=p.call(n,r,e,s),u=typeof p),u==="string"&&~p.indexOf("random(")&&(p=_replaceRandom(p)),P)P(this,e,b,p,n)&&(F=1);else if(b.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(b)+"").trim(),p+="",_colorExp.lastIndex=0,_colorExp.test(h)||(k=getUnit(h),E=getUnit(p)),E?k!==E&&(h=_convertToUnit(e,b,h,E)+E):k&&(p+=k),this.add(l,"setProperty",h,p,r,s,0,0,b),a.push(b),I.push(b,0,l[b]);else if(u!=="undefined"){if(c&&b in c?(h=typeof c[b]=="function"?c[b].call(n,r,e,s):c[b],_isString(h)&&~h.indexOf("random(")&&(h=_replaceRandom(h)),getUnit(h+"")||h==="auto"||(h+=_config.units[b]||getUnit(_get(e,b))||""),(h+"").charAt(1)==="="&&(h=_get(e,b))):h=_get(e,b),w=parseFloat(h),R=u==="string"&&p.charAt(1)==="="&&p.substr(0,2),R&&(p=p.substr(2)),_=parseFloat(p),b in _propertyAliases&&(b==="autoAlpha"&&(w===1&&_get(e,"visibility")==="hidden"&&_&&(w=0),I.push("visibility",0,l.visibility),_addNonTweeningPT(this,l,"visibility",w?"inherit":"hidden",_?"inherit":"hidden",!_)),b!=="scale"&&b!=="transform"&&(b=_propertyAliases[b],~b.indexOf(",")&&(b=b.split(",")[0]))),L=b in _transformProps,L){if(this.styles.save(b),u==="string"&&p.substring(0,6)==="var(--"&&(p=_getComputedProperty(e,p.substring(4,p.indexOf(")"))),_=parseFloat(p)),C||(M=e._gsap,M.renderTransform&&!t.parseTransform||_parseTransform(e,t.parseTransform),N=t.smoothOrigin!==!1&&M.smooth,C=this._pt=new PropTween(this._pt,l,_transformProp$2,0,1,M.renderTransform,M,0,-1),C.dep=1),b==="scale")this._pt=new PropTween(this._pt,M,"scaleY",M.scaleY,(R?_parseRelative(M.scaleY,R+_):_)-M.scaleY||0,_renderCSSProp),this._pt.u=0,a.push("scaleY",b),b+="X";else if(b==="transformOrigin"){I.push(_transformOriginProp$2,0,l[_transformOriginProp$2]),p=_convertKeywordsToPercentages(p),M.svg?_applySVGOrigin(e,p,0,N,0,this):(E=parseFloat(p.split(" ")[2])||0,E!==M.zOrigin&&_addNonTweeningPT(this,M,"zOrigin",M.zOrigin,E),_addNonTweeningPT(this,l,b,_firstTwoOnly(h),_firstTwoOnly(p)));continue}else if(b==="svgOrigin"){_applySVGOrigin(e,p,1,N,0,this);continue}else if(b in _rotationalProperties){_addRotationalPropTween(this,M,b,w,R?_parseRelative(w,R+p):p);continue}else if(b==="smoothOrigin"){_addNonTweeningPT(this,M,"smooth",M.smooth,p);continue}else if(b==="force3D"){M[b]=p;continue}else if(b==="transform"){_addRawTransformPTs(this,p,e);continue}}else b in l||(b=_checkPropPrefix(b)||b);if(L||(_||_===0)&&(w||w===0)&&!_complexExp.test(p)&&b in l)k=(h+"").substr((w+"").length),_||(_=0),E=getUnit(p)||(b in _config.units?_config.units[b]:k),k!==E&&(w=_convertToUnit(e,b,h,E)),this._pt=new PropTween(this._pt,L?M:l,b,w,(R?_parseRelative(w,R+_):_)-w,!L&&(E==="px"||b==="zIndex")&&t.autoRound!==!1?_renderRoundedCSSProp:_renderCSSProp),this._pt.u=E||0,k!==E&&E!=="%"&&(this._pt.b=h,this._pt.r=_renderCSSPropWithBeginning);else if(b in l)_tweenComplexCSSString.call(this,e,b,h,R?R+p:p);else if(b in e)this.add(e,b,h||e[b],R?R+p:p,r,s);else if(b!=="parseTransform"){_missingPlugin(b,p);continue}L||(b in l?I.push(b,0,l[b]):typeof e[b]=="function"?I.push(b,2,e[b]()):I.push(b,1,h||e[b])),a.push(b)}}F&&_sortPropTweensByPriority(this)},render:function o(e,t){if(t.tween._time||!_reverting())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:_get,aliases:_propertyAliases,getSetter:function o(e,t,n){var r=_propertyAliases[t];return r&&r.indexOf(",")<0&&(t=r),t in _transformProps&&t!==_transformOriginProp$2&&(e._gsap.x||_get(e,"x"))?n&&_recentSetterPlugin===n?t==="scale"?_setterScale:_setterTransform:(_recentSetterPlugin=n||{})&&(t==="scale"?_setterScaleWithRender:_setterTransformWithRender):e.style&&!_isUndefined$1(e.style[t])?_setterCSSStyle:~t.indexOf("-")?_setterCSSProp:_getSetter(e,t)},core:{_removeProperty,_getMatrix}};gsap$1.utils.checkPrefix=_checkPropPrefix;gsap$1.core.getStyleSaver=_getStyleSaver$1;(function(o,e,t,n){var r=_forEachName(o+","+e+","+t,function(s){_transformProps[s]=1});_forEachName(e,function(s){_config.units[s]="deg",_rotationalProperties[s]=1}),_propertyAliases[r[13]]=o+","+e,_forEachName(n,function(s){var a=s.split(":");_propertyAliases[a[1]]=r[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");_forEachName("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(o){_config.units[o]="px"});gsap$1.registerPlugin(CSSPlugin);var gsapWithCSS=gsap$1.registerPlugin(CSSPlugin)||gsap$1;gsapWithCSS.core.Tween;/*!
 * matrix 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _doc$1,_win$1,_docElement$1,_body$1,_divContainer,_svgContainer,_identityMatrix$1,_gEl,_transformProp$1="transform",_transformOriginProp$1=_transformProp$1+"Origin",_hasOffsetBug,_setDoc=function o(e){var t=e.ownerDocument||e;for(!(_transformProp$1 in e.style)&&("msTransform"in e.style)&&(_transformProp$1="msTransform",_transformOriginProp$1=_transformProp$1+"Origin");t.parentNode&&(t=t.parentNode););if(_win$1=window,_identityMatrix$1=new Matrix2D,t){_doc$1=t,_docElement$1=t.documentElement,_body$1=t.body,_gEl=_doc$1.createElementNS("http://www.w3.org/2000/svg","g"),_gEl.style.transform="none";var n=t.createElement("div"),r=t.createElement("div"),s=t&&(t.body||t.firstElementChild);s&&s.appendChild&&(s.appendChild(n),n.appendChild(r),n.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),_hasOffsetBug=r.offsetParent!==n,s.removeChild(n))}return t},_forceNonZeroScale=function o(e){for(var t,n;e&&e!==_body$1;)n=e._gsap,n&&n.uncache&&n.get(e,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),t?t.push(n):t=[n]),e=e.parentNode;return t},_svgTemps=[],_divTemps=[],_getDocScrollTop$1=function o(){return _win$1.pageYOffset||_doc$1.scrollTop||_docElement$1.scrollTop||_body$1.scrollTop||0},_getDocScrollLeft$1=function o(){return _win$1.pageXOffset||_doc$1.scrollLeft||_docElement$1.scrollLeft||_body$1.scrollLeft||0},_svgOwner=function o(e){return e.ownerSVGElement||((e.tagName+"").toLowerCase()==="svg"?e:null)},_isFixed$1=function o(e){if(_win$1.getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return o(e)},_createSibling=function o(e,t){if(e.parentNode&&(_doc$1||_setDoc(e))){var n=_svgOwner(e),r=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",s=n?t?"rect":"g":"div",a=t!==2?0:100,l=t===3?100:0,c="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",h=_doc$1.createElementNS?_doc$1.createElementNS(r.replace(/^https/,"http"),s):_doc$1.createElement(s);return t&&(n?(_svgContainer||(_svgContainer=o(e)),h.setAttribute("width",.01),h.setAttribute("height",.01),h.setAttribute("transform","translate("+a+","+l+")"),_svgContainer.appendChild(h)):(_divContainer||(_divContainer=o(e),_divContainer.style.cssText=c),h.style.cssText=c+"width:0.1px;height:0.1px;top:"+l+"px;left:"+a+"px",_divContainer.appendChild(h))),h}throw"Need document and parent."},_consolidate=function o(e){for(var t=new Matrix2D,n=0;n<e.numberOfItems;n++)t.multiply(e.getItem(n).matrix);return t},_getCTM=function o(e){var t=e.getCTM(),n;return t||(n=e.style[_transformProp$1],e.style[_transformProp$1]="none",e.appendChild(_gEl),t=_gEl.getCTM(),e.removeChild(_gEl),n?e.style[_transformProp$1]=n:e.style.removeProperty(_transformProp$1.replace(/([A-Z])/g,"-$1").toLowerCase())),t||_identityMatrix$1.clone()},_placeSiblings=function o(e,t){var n=_svgOwner(e),r=e===n,s=n?_svgTemps:_divTemps,a=e.parentNode,l=a&&!n&&a.shadowRoot&&a.shadowRoot.appendChild?a.shadowRoot:a,c,h,p,_,w,u;if(e===_win$1)return e;if(s.length||s.push(_createSibling(e,1),_createSibling(e,2),_createSibling(e,3)),c=n?_svgContainer:_divContainer,n)r?(p=_getCTM(e),_=-p.e/p.a,w=-p.f/p.d,h=_identityMatrix$1):e.getBBox?(p=e.getBBox(),h=e.transform?e.transform.baseVal:{},h=h.numberOfItems?h.numberOfItems>1?_consolidate(h):h.getItem(0).matrix:_identityMatrix$1,_=h.a*p.x+h.c*p.y,w=h.b*p.x+h.d*p.y):(h=new Matrix2D,_=w=0),(r?n:a).appendChild(c),c.setAttribute("transform","matrix("+h.a+","+h.b+","+h.c+","+h.d+","+(h.e+_)+","+(h.f+w)+")");else{if(_=w=0,_hasOffsetBug)for(h=e.offsetParent,p=e;p&&(p=p.parentNode)&&p!==h&&p.parentNode;)(_win$1.getComputedStyle(p)[_transformProp$1]+"").length>4&&(_=p.offsetLeft,w=p.offsetTop,p=0);if(u=_win$1.getComputedStyle(e),u.position!=="absolute"&&u.position!=="fixed")for(h=e.offsetParent;a&&a!==h;)_+=a.scrollLeft||0,w+=a.scrollTop||0,a=a.parentNode;p=c.style,p.top=e.offsetTop-w+"px",p.left=e.offsetLeft-_+"px",p[_transformProp$1]=u[_transformProp$1],p[_transformOriginProp$1]=u[_transformOriginProp$1],p.position=u.position==="fixed"?"fixed":"absolute",l.appendChild(c)}return c},_setMatrix=function o(e,t,n,r,s,a,l){return e.a=t,e.b=n,e.c=r,e.d=s,e.e=a,e.f=l,e},Matrix2D=function(){function o(t,n,r,s,a,l){t===void 0&&(t=1),n===void 0&&(n=0),r===void 0&&(r=0),s===void 0&&(s=1),a===void 0&&(a=0),l===void 0&&(l=0),_setMatrix(this,t,n,r,s,a,l)}var e=o.prototype;return e.inverse=function(){var n=this.a,r=this.b,s=this.c,a=this.d,l=this.e,c=this.f,h=n*a-r*s||1e-10;return _setMatrix(this,a/h,-r/h,-s/h,n/h,(s*c-a*l)/h,-(n*c-r*l)/h)},e.multiply=function(n){var r=this.a,s=this.b,a=this.c,l=this.d,c=this.e,h=this.f,p=n.a,_=n.c,w=n.b,u=n.d,P=n.e,b=n.f;return _setMatrix(this,p*r+w*a,p*s+w*l,_*r+u*a,_*s+u*l,c+P*r+b*a,h+P*s+b*l)},e.clone=function(){return new o(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(n){var r=this.a,s=this.b,a=this.c,l=this.d,c=this.e,h=this.f;return r===n.a&&s===n.b&&a===n.c&&l===n.d&&c===n.e&&h===n.f},e.apply=function(n,r){r===void 0&&(r={});var s=n.x,a=n.y,l=this.a,c=this.b,h=this.c,p=this.d,_=this.e,w=this.f;return r.x=s*l+a*h+_||0,r.y=s*c+a*p+w||0,r},o}();function getGlobalMatrix(o,e,t,n){if(!o||!o.parentNode||(_doc$1||_setDoc(o)).documentElement===o)return new Matrix2D;var r=_forceNonZeroScale(o),s=_svgOwner(o),a=s?_svgTemps:_divTemps,l=_placeSiblings(o),c=a[0].getBoundingClientRect(),h=a[1].getBoundingClientRect(),p=a[2].getBoundingClientRect(),_=l.parentNode,w=_isFixed$1(o),u=new Matrix2D((h.left-c.left)/100,(h.top-c.top)/100,(p.left-c.left)/100,(p.top-c.top)/100,c.left+(w?0:_getDocScrollLeft$1()),c.top+(w?0:_getDocScrollTop$1()));if(_.removeChild(l),r)for(c=r.length;c--;)h=r[c],h.scaleX=h.scaleY=0,h.renderTransform(1,h);return e?u.inverse():u}function _assertThisInitialized(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _inheritsLoose(o,e){o.prototype=Object.create(e.prototype),o.prototype.constructor=o,o.__proto__=e}var gsap,_win,_doc,_docElement,_body,_tempDiv,_placeholderDiv,_coreInitted,_checkPrefix,_toArray,_supportsPassive,_isTouchDevice,_touchEventLookup,_isMultiTouching,_isAndroid,InertiaPlugin,_defaultCursor,_supportsPointer,_context,_getStyleSaver,_dragCount=0,_windowExists=function o(){return typeof window<"u"},_getGSAP=function o(){return gsap||_windowExists()&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap},_isFunction=function o(e){return typeof e=="function"},_isObject=function o(e){return typeof e=="object"},_isUndefined=function o(e){return typeof e>"u"},_emptyFunc=function o(){return!1},_transformProp="transform",_transformOriginProp="transformOrigin",_round=function o(e){return Math.round(e*1e4)/1e4},_isArray=Array.isArray,_createElement=function o(e,t){var n=_doc.createElementNS?_doc.createElementNS("http://www.w3.org/1999/xhtml".replace(/^https/,"http"),e):_doc.createElement(e);return n.style?n:_doc.createElement(e)},_RAD2DEG=180/Math.PI,_bigNum=1e20,_identityMatrix=new Matrix2D,_getTime=Date.now||function(){return new Date().getTime()},_renderQueue=[],_lookup={},_lookupCount=0,_clickableTagExp=/^(?:a|input|textarea|button|select)$/i,_lastDragTime=0,_temp1={},_windowProxy={},_copy=function o(e,t){var n={},r;for(r in e)n[r]=t?e[r]*t:e[r];return n},_extend=function o(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},_setTouchActionForAllDescendants=function o(e,t){for(var n=e.length,r;n--;)t?e[n].style.touchAction=t:e[n].style.removeProperty("touch-action"),r=e[n].children,r&&r.length&&o(r,t)},_renderQueueTick=function o(){return _renderQueue.forEach(function(e){return e()})},_addToRenderQueue=function o(e){_renderQueue.push(e),_renderQueue.length===1&&gsap.ticker.add(_renderQueueTick)},_renderQueueTimeout=function o(){return!_renderQueue.length&&gsap.ticker.remove(_renderQueueTick)},_removeFromRenderQueue=function o(e){for(var t=_renderQueue.length;t--;)_renderQueue[t]===e&&_renderQueue.splice(t,1);gsap.to(_renderQueueTimeout,{overwrite:!0,delay:15,duration:0,onComplete:_renderQueueTimeout,data:"_draggable"})},_setDefaults=function o(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},_addListener=function o(e,t,n,r){if(e.addEventListener){var s=_touchEventLookup[t];r=r||(_supportsPassive?{passive:!1}:null),e.addEventListener(s||t,n,r),s&&t!==s&&e.addEventListener(t,n,r)}},_removeListener=function o(e,t,n,r){if(e.removeEventListener){var s=_touchEventLookup[t];e.removeEventListener(s||t,n,r),s&&t!==s&&e.removeEventListener(t,n,r)}},_preventDefault=function o(e){e.preventDefault&&e.preventDefault(),e.preventManipulation&&e.preventManipulation()},_hasTouchID=function o(e,t){for(var n=e.length;n--;)if(e[n].identifier===t)return!0},_onMultiTouchDocumentEnd=function o(e){_isMultiTouching=e.touches&&_dragCount<e.touches.length,_removeListener(e.target,"touchend",o)},_onMultiTouchDocument=function o(e){_isMultiTouching=e.touches&&_dragCount<e.touches.length,_addListener(e.target,"touchend",_onMultiTouchDocumentEnd)},_getDocScrollTop=function o(e){return _win.pageYOffset||e.scrollTop||e.documentElement.scrollTop||e.body.scrollTop||0},_getDocScrollLeft=function o(e){return _win.pageXOffset||e.scrollLeft||e.documentElement.scrollLeft||e.body.scrollLeft||0},_addScrollListener=function o(e,t){_addListener(e,"scroll",t),_isRoot(e.parentNode)||o(e.parentNode,t)},_removeScrollListener=function o(e,t){_removeListener(e,"scroll",t),_isRoot(e.parentNode)||o(e.parentNode,t)},_isRoot=function o(e){return!e||e===_docElement||e.nodeType===9||e===_doc.body||e===_win||!e.nodeType||!e.parentNode},_getMaxScroll=function o(e,t){var n=t==="x"?"Width":"Height",r="scroll"+n,s="client"+n;return Math.max(0,_isRoot(e)?Math.max(_docElement[r],_body[r])-(_win["inner"+n]||_docElement[s]||_body[s]):e[r]-e[s])},_recordMaxScrolls=function o(e,t){var n=_getMaxScroll(e,"x"),r=_getMaxScroll(e,"y");_isRoot(e)?e=_windowProxy:o(e.parentNode,t),e._gsMaxScrollX=n,e._gsMaxScrollY=r,t||(e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0)},_setStyle=function o(e,t,n){var r=e.style;r&&(_isUndefined(r[t])&&(t=_checkPrefix(t,e)||t),n==null?r.removeProperty&&r.removeProperty(t.replace(/([A-Z])/g,"-$1").toLowerCase()):r[t]=n)},_getComputedStyle=function o(e){return _win.getComputedStyle(e instanceof Element?e:e.host||(e.parentNode||{}).host||e)},_tempRect={},_parseRect=function o(e){if(e===_win)return _tempRect.left=_tempRect.top=0,_tempRect.width=_tempRect.right=_docElement.clientWidth||e.innerWidth||_body.clientWidth||0,_tempRect.height=_tempRect.bottom=(e.innerHeight||0)-20<_docElement.clientHeight?_docElement.clientHeight:e.innerHeight||_body.clientHeight||0,_tempRect;var t=e.ownerDocument||_doc,n=_isUndefined(e.pageX)?!e.nodeType&&!_isUndefined(e.left)&&!_isUndefined(e.top)?e:_toArray(e)[0].getBoundingClientRect():{left:e.pageX-_getDocScrollLeft(t),top:e.pageY-_getDocScrollTop(t),right:e.pageX-_getDocScrollLeft(t)+1,bottom:e.pageY-_getDocScrollTop(t)+1};return _isUndefined(n.right)&&!_isUndefined(n.width)?(n.right=n.left+n.width,n.bottom=n.top+n.height):_isUndefined(n.width)&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n},_dispatchEvent=function o(e,t,n){var r=e.vars,s=r[n],a=e._listeners[t],l;return _isFunction(s)&&(l=s.apply(r.callbackScope||e,r[n+"Params"]||[e.pointerEvent])),a&&e.dispatchEvent(t)===!1&&(l=!1),l},_getBounds=function o(e,t){var n=_toArray(e)[0],r,s,a;return!n.nodeType&&n!==_win?_isUndefined(e.left)?(s=e.min||e.minX||e.minRotation||0,r=e.min||e.minY||0,{left:s,top:r,width:(e.max||e.maxX||e.maxRotation||0)-s,height:(e.max||e.maxY||0)-r}):(a={x:0,y:0},{left:e.left-a.x,top:e.top-a.y,width:e.width,height:e.height}):_getElementBounds(n,t)},_point1={},_getElementBounds=function o(e,t){t=_toArray(t)[0];var n=e.getBBox&&e.ownerSVGElement,r=e.ownerDocument||_doc,s,a,l,c,h,p,_,w,u,P,b,k,E;if(e===_win)l=_getDocScrollTop(r),s=_getDocScrollLeft(r),a=s+(r.documentElement.clientWidth||e.innerWidth||r.body.clientWidth||0),c=l+((e.innerHeight||0)-20<r.documentElement.clientHeight?r.documentElement.clientHeight:e.innerHeight||r.body.clientHeight||0);else{if(t===_win||_isUndefined(t))return e.getBoundingClientRect();s=l=0,n?(P=e.getBBox(),b=P.width,k=P.height):(e.viewBox&&(P=e.viewBox.baseVal)&&(s=P.x||0,l=P.y||0,b=P.width,k=P.height),b||(E=_getComputedStyle(e),P=E.boxSizing==="border-box",b=(parseFloat(E.width)||e.clientWidth||0)+(P?0:parseFloat(E.borderLeftWidth)+parseFloat(E.borderRightWidth)),k=(parseFloat(E.height)||e.clientHeight||0)+(P?0:parseFloat(E.borderTopWidth)+parseFloat(E.borderBottomWidth)))),a=b,c=k}return e===t?{left:s,top:l,width:a-s,height:c-l}:(h=getGlobalMatrix(t,!0).multiply(getGlobalMatrix(e)),p=h.apply({x:s,y:l}),_=h.apply({x:a,y:l}),w=h.apply({x:a,y:c}),u=h.apply({x:s,y:c}),s=Math.min(p.x,_.x,w.x,u.x),l=Math.min(p.y,_.y,w.y,u.y),{left:s,top:l,width:Math.max(p.x,_.x,w.x,u.x)-s,height:Math.max(p.y,_.y,w.y,u.y)-l})},_parseInertia=function o(e,t,n,r,s,a){var l={},c,h,p;if(t)if(s!==1&&t instanceof Array){if(l.end=c=[],p=t.length,_isObject(t[0]))for(h=0;h<p;h++)c[h]=_copy(t[h],s);else for(h=0;h<p;h++)c[h]=t[h]*s;n+=1.1,r-=1.1}else _isFunction(t)?l.end=function(_){var w=t.call(e,_),u,P;if(s!==1)if(_isObject(w)){u={};for(P in w)u[P]=w[P]*s;w=u}else w*=s;return w}:l.end=t;return(n||n===0)&&(l.max=n),(r||r===0)&&(l.min=r),a&&(l.velocity=0),l},_isClickable=function o(e){var t;return!e||!e.getAttribute||e===_body?!1:(t=e.getAttribute("data-clickable"))==="true"||t!=="false"&&(_clickableTagExp.test(e.nodeName+"")||e.getAttribute("contentEditable")==="true")?!0:o(e.parentNode)},_setSelectable=function o(e,t){for(var n=e.length,r;n--;)r=e[n],r.ondragstart=r.onselectstart=t?null:_emptyFunc,gsap.set(r,{lazy:!0,userSelect:t?"text":"none"})},_isFixed=function o(e){if(_getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return o(e)},_supports3D,_addPaddingBR,ScrollProxy=function o(e,t){e=gsap.utils.toArray(e)[0],t=t||{};var n=document.createElement("div"),r=n.style,s=e.firstChild,a=0,l=0,c=e.scrollTop,h=e.scrollLeft,p=e.scrollWidth,_=e.scrollHeight,w=0,u=0,P=0,b,k,E,R,L,C;_supports3D&&t.force3D!==!1?(L="translate3d(",C="px,0px)"):_transformProp&&(L="translate(",C="px)"),this.scrollTop=function(M,N){if(!arguments.length)return-this.top();this.top(-M,N)},this.scrollLeft=function(M,N){if(!arguments.length)return-this.left();this.left(-M,N)},this.left=function(M,N){if(!arguments.length)return-(e.scrollLeft+l);var F=e.scrollLeft-h,I=l;if((F>2||F<-2)&&!N){h=e.scrollLeft,gsap.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-h),t.onKill&&t.onKill();return}M=-M,M<0?(l=M-.5|0,M=0):M>u?(l=M-u|0,M=u):l=0,(l||I)&&(this._skip||(r[_transformProp]=L+-l+"px,"+-a+C),l+w>=0&&(r.paddingRight=l+w+"px")),e.scrollLeft=M|0,h=e.scrollLeft},this.top=function(M,N){if(!arguments.length)return-(e.scrollTop+a);var F=e.scrollTop-c,I=a;if((F>2||F<-2)&&!N){c=e.scrollTop,gsap.killTweensOf(this,{top:1,scrollTop:1}),this.top(-c),t.onKill&&t.onKill();return}M=-M,M<0?(a=M-.5|0,M=0):M>P?(a=M-P|0,M=P):a=0,(a||I)&&(this._skip||(r[_transformProp]=L+-l+"px,"+-a+C)),e.scrollTop=M|0,c=e.scrollTop},this.maxScrollTop=function(){return P},this.maxScrollLeft=function(){return u},this.disable=function(){for(s=n.firstChild;s;)R=s.nextSibling,e.appendChild(s),s=R;e===n.parentNode&&e.removeChild(n)},this.enable=function(){if(s=e.firstChild,s!==n){for(;s;)R=s.nextSibling,n.appendChild(s),s=R;e.appendChild(n),this.calibrate()}},this.calibrate=function(M){var N=e.clientWidth===b,F,I,V;c=e.scrollTop,h=e.scrollLeft,!(N&&e.clientHeight===k&&n.offsetHeight===E&&p===e.scrollWidth&&_===e.scrollHeight&&!M)&&((a||l)&&(I=this.left(),V=this.top(),this.left(-e.scrollLeft),this.top(-e.scrollTop)),F=_getComputedStyle(e),(!N||M)&&(r.display="block",r.width="auto",r.paddingRight="0px",w=Math.max(0,e.scrollWidth-e.clientWidth),w&&(w+=parseFloat(F.paddingLeft)+(_addPaddingBR?parseFloat(F.paddingRight):0))),r.display="inline-block",r.position="relative",r.overflow="visible",r.verticalAlign="top",r.boxSizing="content-box",r.width="100%",r.paddingRight=w+"px",_addPaddingBR&&(r.paddingBottom=F.paddingBottom),b=e.clientWidth,k=e.clientHeight,p=e.scrollWidth,_=e.scrollHeight,u=e.scrollWidth-b,P=e.scrollHeight-k,E=n.offsetHeight,r.display="block",(I||V)&&(this.left(I),this.top(V)))},this.content=n,this.element=e,this._skip=!1,this.enable()},_initCore=function o(e){if(_windowExists()&&document.body){var t=window&&window.navigator;_win=window,_doc=document,_docElement=_doc.documentElement,_body=_doc.body,_tempDiv=_createElement("div"),_supportsPointer=!!window.PointerEvent,_placeholderDiv=_createElement("div"),_placeholderDiv.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",_defaultCursor=_placeholderDiv.style.cursor==="grab"?"grab":"move",_isAndroid=t&&t.userAgent.toLowerCase().indexOf("android")!==-1,_isTouchDevice="ontouchstart"in _docElement&&"orientation"in _win||t&&(t.MaxTouchPoints>0||t.msMaxTouchPoints>0),_addPaddingBR=function(){var n=_createElement("div"),r=_createElement("div"),s=r.style,a=_body,l;return s.display="inline-block",s.position="relative",n.style.cssText="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",n.appendChild(r),a.appendChild(n),l=r.offsetHeight+18>n.scrollHeight,a.removeChild(n),l}(),_touchEventLookup=function(n){for(var r=n.split(","),s=("onpointerdown"in _tempDiv?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in _tempDiv?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":n).split(","),a={},l=4;--l>-1;)a[r[l]]=s[l],a[s[l]]=r[l];try{_docElement.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){_supportsPassive=1}}))}catch{}return a}("touchstart,touchmove,touchend,touchcancel"),_addListener(_doc,"touchcancel",_emptyFunc),_addListener(_win,"touchmove",_emptyFunc),_body&&_body.addEventListener("touchstart",_emptyFunc),_addListener(_doc,"contextmenu",function(){for(var n in _lookup)_lookup[n].isPressed&&_lookup[n].endDrag()}),gsap=_coreInitted=_getGSAP()}gsap?(InertiaPlugin=gsap.plugins.inertia,_context=gsap.core.context||function(){},_checkPrefix=gsap.utils.checkPrefix,_transformProp=_checkPrefix(_transformProp),_transformOriginProp=_checkPrefix(_transformOriginProp),_toArray=gsap.utils.toArray,_getStyleSaver=gsap.core.getStyleSaver,_supports3D=!!_checkPrefix("perspective")):e&&console.warn("Please gsap.registerPlugin(Draggable)")},EventDispatcher=function(){function o(t){this._listeners={},this.target=t||this}var e=o.prototype;return e.addEventListener=function(n,r){var s=this._listeners[n]||(this._listeners[n]=[]);~s.indexOf(r)||s.push(r)},e.removeEventListener=function(n,r){var s=this._listeners[n],a=s&&s.indexOf(r);a>=0&&s.splice(a,1)},e.dispatchEvent=function(n){var r=this,s;return(this._listeners[n]||[]).forEach(function(a){return a.call(r,{type:n,target:r.target})===!1&&(s=!1)}),s},o}(),Draggable=function(o){_inheritsLoose(e,o);function e(t,n){var r;r=o.call(this)||this,_coreInitted||_initCore(1),t=_toArray(t)[0],r.styles=_getStyleSaver&&_getStyleSaver(t,"transform,left,top"),InertiaPlugin||(InertiaPlugin=gsap.plugins.inertia),r.vars=n=_copy(n||{}),r.target=t,r.x=r.y=r.rotation=0,r.dragResistance=parseFloat(n.dragResistance)||0,r.edgeResistance=isNaN(n.edgeResistance)?1:parseFloat(n.edgeResistance)||0,r.lockAxis=n.lockAxis,r.autoScroll=n.autoScroll||0,r.lockedAxis=null,r.allowEventDefault=!!n.allowEventDefault,gsap.getProperty(t,"x");var s=(n.type||"x,y").toLowerCase(),a=~s.indexOf("x")||~s.indexOf("y"),l=s.indexOf("rotation")!==-1,c=l?"rotation":a?"x":"left",h=a?"y":"top",p=!!(~s.indexOf("x")||~s.indexOf("left")||s==="scroll"),_=!!(~s.indexOf("y")||~s.indexOf("top")||s==="scroll"),w=n.minimumMovement||2,u=_assertThisInitialized(r),P=_toArray(n.trigger||n.handle||t),b={},k=0,E=!1,R=n.autoScrollMarginTop||40,L=n.autoScrollMarginRight||40,C=n.autoScrollMarginBottom||40,M=n.autoScrollMarginLeft||40,N=n.clickableTest||_isClickable,F=0,I=t._gsap||gsap.core.getCache(t),V=_isFixed(t),Ie=function(D,U){return parseFloat(I.get(t,D,U))},le=t.ownerDocument||_doc,Ae,se,Wt,Rt,Ve,_t,$i,mn,At,je,Me,Ye,Fe,zi,Gi,An,Wi,_i,tn,kn,Ui,rr,Hi,Zt,_s,wn,xn,is,qr,sr,gn,Xr,Gr,Qr=function(D){return _preventDefault(D),D.stopImmediatePropagation&&D.stopImmediatePropagation(),!1},yn=function K(D){if(u.autoScroll&&u.isDragging&&(E||Wi)){var U=t,G=u.autoScroll*15,X,de,Ee,fe,De,ti,Xt,Li;for(E=!1,_windowProxy.scrollTop=_win.pageYOffset!=null?_win.pageYOffset:le.documentElement.scrollTop!=null?le.documentElement.scrollTop:le.body.scrollTop,_windowProxy.scrollLeft=_win.pageXOffset!=null?_win.pageXOffset:le.documentElement.scrollLeft!=null?le.documentElement.scrollLeft:le.body.scrollLeft,fe=u.pointerX-_windowProxy.scrollLeft,De=u.pointerY-_windowProxy.scrollTop;U&&!de;)de=_isRoot(U.parentNode),X=de?_windowProxy:U.parentNode,Ee=de?{bottom:Math.max(_docElement.clientHeight,_win.innerHeight||0),right:Math.max(_docElement.clientWidth,_win.innerWidth||0),left:0,top:0}:X.getBoundingClientRect(),ti=Xt=0,_&&(Li=X._gsMaxScrollY-X.scrollTop,Li<0?Xt=Li:De>Ee.bottom-C&&Li?(E=!0,Xt=Math.min(Li,G*(1-Math.max(0,Ee.bottom-De)/C)|0)):De<Ee.top+R&&X.scrollTop&&(E=!0,Xt=-Math.min(X.scrollTop,G*(1-Math.max(0,De-Ee.top)/R)|0)),Xt&&(X.scrollTop+=Xt)),p&&(Li=X._gsMaxScrollX-X.scrollLeft,Li<0?ti=Li:fe>Ee.right-L&&Li?(E=!0,ti=Math.min(Li,G*(1-Math.max(0,Ee.right-fe)/L)|0)):fe<Ee.left+M&&X.scrollLeft&&(E=!0,ti=-Math.min(X.scrollLeft,G*(1-Math.max(0,fe-Ee.left)/M)|0)),ti&&(X.scrollLeft+=ti)),de&&(ti||Xt)&&(_win.scrollTo(X.scrollLeft,X.scrollTop),yt(u.pointerX+ti,u.pointerY+Xt)),U=X}if(Wi){var Ki=u.x,Zi=u.y;l?(u.deltaX=Ki-parseFloat(I.rotation),u.rotation=Ki,I.rotation=Ki+"deg",I.renderTransform(1,I)):se?(_&&(u.deltaY=Zi-se.top(),se.top(Zi)),p&&(u.deltaX=Ki-se.left(),se.left(Ki))):a?(_&&(u.deltaY=Zi-parseFloat(I.y),I.y=Zi+"px"),p&&(u.deltaX=Ki-parseFloat(I.x),I.x=Ki+"px"),I.renderTransform(1,I)):(_&&(u.deltaY=Zi-parseFloat(t.style.top||0),t.style.top=Zi+"px"),p&&(u.deltaX=Ki-parseFloat(t.style.left||0),t.style.left=Ki+"px")),mn&&!D&&!is&&(is=!0,_dispatchEvent(u,"drag","onDrag")===!1&&(p&&(u.x-=u.deltaX),_&&(u.y-=u.deltaY),K(!0)),is=!1)}Wi=!1},Sn=function(D,U){var G=u.x,X=u.y,de,Ee;t._gsap||(I=gsap.core.getCache(t)),I.uncache&&gsap.getProperty(t,"x"),a?(u.x=parseFloat(I.x),u.y=parseFloat(I.y)):l?u.x=u.rotation=parseFloat(I.rotation):se?(u.y=se.top(),u.x=se.left()):(u.y=parseFloat(t.style.top||(Ee=_getComputedStyle(t))&&Ee.top)||0,u.x=parseFloat(t.style.left||(Ee||{}).left)||0),(tn||kn||Ui)&&!U&&(u.isDragging||u.isThrowing)&&(Ui&&(_temp1.x=u.x,_temp1.y=u.y,de=Ui(_temp1),de.x!==u.x&&(u.x=de.x,Wi=!0),de.y!==u.y&&(u.y=de.y,Wi=!0)),tn&&(de=tn(u.x),de!==u.x&&(u.x=de,l&&(u.rotation=de),Wi=!0)),kn&&(de=kn(u.y),de!==u.y&&(u.y=de),Wi=!0)),Wi&&yn(!0),D||(u.deltaX=u.x-G,u.deltaY=u.y-X,_dispatchEvent(u,"throwupdate","onThrowUpdate"))},Hr=function(D,U,G,X){return U==null&&(U=-1e20),G==null&&(G=_bigNum),_isFunction(D)?function(de){var Ee=u.isPressed?1-u.edgeResistance:1;return D.call(u,(de>G?G+(de-G)*Ee:de<U?U+(de-U)*Ee:de)*X)*X}:_isArray(D)?function(de){for(var Ee=D.length,fe=0,De=_bigNum,ti,Xt;--Ee>-1;)ti=D[Ee],Xt=ti-de,Xt<0&&(Xt=-Xt),Xt<De&&ti>=U&&ti<=G&&(fe=Ee,De=Xt);return D[fe]}:isNaN(D)?function(de){return de}:function(){return D*X}},ns=function(D,U,G,X,de,Ee,fe){return Ee=Ee&&Ee<_bigNum?Ee*Ee:_bigNum,_isFunction(D)?function(De){var ti=u.isPressed?1-u.edgeResistance:1,Xt=De.x,Li=De.y,Ki,Zi,rn;return De.x=Xt=Xt>G?G+(Xt-G)*ti:Xt<U?U+(Xt-U)*ti:Xt,De.y=Li=Li>de?de+(Li-de)*ti:Li<X?X+(Li-X)*ti:Li,Ki=D.call(u,De),Ki!==De&&(De.x=Ki.x,De.y=Ki.y),fe!==1&&(De.x*=fe,De.y*=fe),Ee<_bigNum&&(Zi=De.x-Xt,rn=De.y-Li,Zi*Zi+rn*rn>Ee&&(De.x=Xt,De.y=Li)),De}:_isArray(D)?function(De){for(var ti=D.length,Xt=0,Li=_bigNum,Ki,Zi,rn,vn;--ti>-1;)rn=D[ti],Ki=rn.x-De.x,Zi=rn.y-De.y,vn=Ki*Ki+Zi*Zi,vn<Li&&(Xt=ti,Li=vn);return Li<=Ee?D[Xt]:De}:function(De){return De}},Zr=function(){var D,U,G,X;$i=!1,se?(se.calibrate(),u.minX=Me=-se.maxScrollLeft(),u.minY=Fe=-se.maxScrollTop(),u.maxX=je=u.maxY=Ye=0,$i=!0):n.bounds&&(D=_getBounds(n.bounds,t.parentNode),l?(u.minX=Me=D.left,u.maxX=je=D.left+D.width,u.minY=Fe=u.maxY=Ye=0):!_isUndefined(n.bounds.maxX)||!_isUndefined(n.bounds.maxY)?(D=n.bounds,u.minX=Me=D.minX,u.minY=Fe=D.minY,u.maxX=je=D.maxX,u.maxY=Ye=D.maxY):(U=_getBounds(t,t.parentNode),u.minX=Me=Math.round(Ie(c,"px")+D.left-U.left),u.minY=Fe=Math.round(Ie(h,"px")+D.top-U.top),u.maxX=je=Math.round(Me+(D.width-U.width)),u.maxY=Ye=Math.round(Fe+(D.height-U.height))),Me>je&&(u.minX=je,u.maxX=je=Me,Me=u.minX),Fe>Ye&&(u.minY=Ye,u.maxY=Ye=Fe,Fe=u.minY),l&&(u.minRotation=Me,u.maxRotation=je),$i=!0),n.liveSnap&&(G=n.liveSnap===!0?n.snap||{}:n.liveSnap,X=_isArray(G)||_isFunction(G),l?(tn=Hr(X?G:G.rotation,Me,je,1),kn=null):G.points?Ui=ns(X?G:G.points,Me,je,Fe,Ye,G.radius,se?-1:1):(p&&(tn=Hr(X?G:G.x||G.left||G.scrollLeft,Me,je,se?-1:1)),_&&(kn=Hr(X?G:G.y||G.top||G.scrollTop,Fe,Ye,se?-1:1))))},us=function(){u.isThrowing=!1,_dispatchEvent(u,"throwcomplete","onThrowComplete")},Jr=function(){u.isThrowing=!1},Wr=function(D,U){var G,X,de,Ee;D&&InertiaPlugin?(D===!0&&(G=n.snap||n.liveSnap||{},X=_isArray(G)||_isFunction(G),D={resistance:(n.throwResistance||n.resistance||1e3)/(l?10:1)},l?D.rotation=_parseInertia(u,X?G:G.rotation,je,Me,1,U):(p&&(D[c]=_parseInertia(u,X?G:G.points||G.x||G.left,je,Me,se?-1:1,U||u.lockedAxis==="x")),_&&(D[h]=_parseInertia(u,X?G:G.points||G.y||G.top,Ye,Fe,se?-1:1,U||u.lockedAxis==="y")),(G.points||_isArray(G)&&_isObject(G[0]))&&(D.linkedProps=c+","+h,D.radius=G.radius))),u.isThrowing=!0,Ee=isNaN(n.overshootTolerance)?n.edgeResistance===1?0:1-u.edgeResistance+.2:n.overshootTolerance,D.duration||(D.duration={max:Math.max(n.minDuration||0,"maxDuration"in n?n.maxDuration:2),min:isNaN(n.minDuration)?Ee===0||_isObject(D)&&D.resistance>1e3?0:.5:n.minDuration,overshoot:Ee}),u.tween=de=gsap.to(se||t,{inertia:D,data:"_draggable",inherit:!1,onComplete:us,onInterrupt:Jr,onUpdate:n.fastMode?_dispatchEvent:Sn,onUpdateParams:n.fastMode?[u,"onthrowupdate","onThrowUpdate"]:G&&G.radius?[!1,!0]:[]}),n.fastMode||(se&&(se._skip=!0),de.render(1e9,!0,!0),Sn(!0,!0),u.endX=u.x,u.endY=u.y,l&&(u.endRotation=u.x),de.play(0),Sn(!0,!0),se&&(se._skip=!1))):$i&&u.applyBounds()},rs=function(D){var U=Zt,G;Zt=getGlobalMatrix(t.parentNode,!0),D&&u.isPressed&&!Zt.equals(U||new Matrix2D)&&(G=U.inverse().apply({x:Wt,y:Rt}),Zt.apply(G,G),Wt=G.x,Rt=G.y),Zt.equals(_identityMatrix)&&(Zt=null)},ir=function(){var D=1-u.edgeResistance,U=V?_getDocScrollLeft(le):0,G=V?_getDocScrollTop(le):0,X,de,Ee;a&&(I.x=Ie(c,"px")+"px",I.y=Ie(h,"px")+"px",I.renderTransform()),rs(!1),_point1.x=u.pointerX-U,_point1.y=u.pointerY-G,Zt&&Zt.apply(_point1,_point1),Wt=_point1.x,Rt=_point1.y,Wi&&(yt(u.pointerX,u.pointerY),yn(!0)),Xr=getGlobalMatrix(t),se?(Zr(),_t=se.top(),Ve=se.left()):(Vt()?(Sn(!0,!0),Zr()):u.applyBounds(),l?(X=t.ownerSVGElement?[I.xOrigin-t.getBBox().x,I.yOrigin-t.getBBox().y]:(_getComputedStyle(t)[_transformOriginProp]||"0 0").split(" "),An=u.rotationOrigin=getGlobalMatrix(t).apply({x:parseFloat(X[0])||0,y:parseFloat(X[1])||0}),Sn(!0,!0),de=u.pointerX-An.x-U,Ee=An.y-u.pointerY+G,Ve=u.x,_t=u.y=Math.atan2(Ee,de)*_RAD2DEG):(_t=Ie(h,"px"),Ve=Ie(c,"px"))),$i&&D&&(Ve>je?Ve=je+(Ve-je)/D:Ve<Me&&(Ve=Me-(Me-Ve)/D),l||(_t>Ye?_t=Ye+(_t-Ye)/D:_t<Fe&&(_t=Fe-(Fe-_t)/D))),u.startX=Ve=_round(Ve),u.startY=_t=_round(_t)},Vt=function(){return u.tween&&u.tween.isActive()},ss=function(){_placeholderDiv.parentNode&&!Vt()&&!u.isDragging&&_placeholderDiv.parentNode.removeChild(_placeholderDiv)},tr=function(D,U){var G;if(!Ae||u.isPressed||!D||(D.type==="mousedown"||D.type==="pointerdown")&&!U&&_getTime()-F<30&&_touchEventLookup[u.pointerEvent.type]){gn&&D&&Ae&&_preventDefault(D);return}if(_s=Vt(),Gr=!1,u.pointerEvent=D,_touchEventLookup[D.type]?(Hi=~D.type.indexOf("touch")?D.currentTarget||D.target:le,_addListener(Hi,"touchend",bn),_addListener(Hi,"touchmove",er),_addListener(Hi,"touchcancel",bn),_addListener(le,"touchstart",_onMultiTouchDocument)):(Hi=null,_addListener(le,"mousemove",er)),xn=null,(!_supportsPointer||!Hi)&&(_addListener(le,"mouseup",bn),D&&D.target&&_addListener(D.target,"mouseup",bn)),rr=N.call(u,D.target)&&n.dragClickables===!1&&!U,rr){_addListener(D.target,"change",bn),_dispatchEvent(u,"pressInit","onPressInit"),_dispatchEvent(u,"press","onPress"),_setSelectable(P,!0),gn=!1;return}if(wn=!Hi||p===_||u.vars.allowNativeTouchScrolling===!1||u.vars.allowContextMenu&&D&&(D.ctrlKey||D.which>2)?!1:p?"y":"x",gn=!wn&&!u.allowEventDefault,gn&&(_preventDefault(D),_addListener(_win,"touchforcechange",_preventDefault)),D.changedTouches?(D=zi=D.changedTouches[0],Gi=D.identifier):D.pointerId?Gi=D.pointerId:zi=Gi=null,_dragCount++,_addToRenderQueue(yn),Rt=u.pointerY=D.pageY,Wt=u.pointerX=D.pageX,_dispatchEvent(u,"pressInit","onPressInit"),(wn||u.autoScroll)&&_recordMaxScrolls(t.parentNode),t.parentNode&&u.autoScroll&&!se&&!l&&t.parentNode._gsMaxScrollX&&!_placeholderDiv.parentNode&&!t.getBBox&&(_placeholderDiv.style.width=t.parentNode.scrollWidth+"px",t.parentNode.appendChild(_placeholderDiv)),ir(),u.tween&&u.tween.kill(),u.isThrowing=!1,gsap.killTweensOf(se||t,b,!0),se&&gsap.killTweensOf(t,{scrollTo:1},!0),u.tween=u.lockedAxis=null,(n.zIndexBoost||!l&&!se&&n.zIndexBoost!==!1)&&(t.style.zIndex=e.zIndex++),u.isPressed=!0,mn=!!(n.onDrag||u._listeners.drag),At=!!(n.onMove||u._listeners.move),n.cursor!==!1||n.activeCursor)for(G=P.length;--G>-1;)gsap.set(P[G],{cursor:n.activeCursor||n.cursor||(_defaultCursor==="grab"?"grabbing":_defaultCursor)});_dispatchEvent(u,"press","onPress")},er=function(D){var U=D,G,X,de,Ee,fe,De;if(!Ae||_isMultiTouching||!u.isPressed||!D){gn&&D&&Ae&&_preventDefault(D);return}if(u.pointerEvent=D,G=D.changedTouches,G){if(D=G[0],D!==zi&&D.identifier!==Gi){for(Ee=G.length;--Ee>-1&&(D=G[Ee]).identifier!==Gi&&D.target!==t;);if(Ee<0)return}}else if(D.pointerId&&Gi&&D.pointerId!==Gi)return;if(Hi&&wn&&!xn&&(_point1.x=D.pageX-(V?_getDocScrollLeft(le):0),_point1.y=D.pageY-(V?_getDocScrollTop(le):0),Zt&&Zt.apply(_point1,_point1),X=_point1.x,de=_point1.y,fe=Math.abs(X-Wt),De=Math.abs(de-Rt),(fe!==De&&(fe>w||De>w)||_isAndroid&&wn===xn)&&(xn=fe>De&&p?"x":"y",wn&&xn!==wn&&_addListener(_win,"touchforcechange",_preventDefault),u.vars.lockAxisOnTouchScroll!==!1&&p&&_&&(u.lockedAxis=xn==="x"?"y":"x",_isFunction(u.vars.onLockAxis)&&u.vars.onLockAxis.call(u,U)),_isAndroid&&wn===xn))){bn(U);return}!u.allowEventDefault&&(!wn||xn&&wn!==xn)&&U.cancelable!==!1?(_preventDefault(U),gn=!0):gn&&(gn=!1),u.autoScroll&&(E=!0),yt(D.pageX,D.pageY,At)},yt=function(D,U,G){var X=1-u.dragResistance,de=1-u.edgeResistance,Ee=u.pointerX,fe=u.pointerY,De=_t,ti=u.x,Xt=u.y,Li=u.endX,Ki=u.endY,Zi=u.endRotation,rn=Wi,vn,Ji,ji,$n,Tn,_r;u.pointerX=D,u.pointerY=U,V&&(D-=_getDocScrollLeft(le),U-=_getDocScrollTop(le)),l?($n=Math.atan2(An.y-U,D-An.x)*_RAD2DEG,Tn=u.y-$n,Tn>180?(_t-=360,u.y=$n):Tn<-180&&(_t+=360,u.y=$n),u.x!==Ve||Math.max(Math.abs(Wt-D),Math.abs(Rt-U))>w?(u.y=$n,ji=Ve+(_t-$n)*X):ji=Ve):(Zt&&(_r=D*Zt.a+U*Zt.c+Zt.e,U=D*Zt.b+U*Zt.d+Zt.f,D=_r),Ji=U-Rt,vn=D-Wt,Ji<w&&Ji>-w&&(Ji=0),vn<w&&vn>-w&&(vn=0),(u.lockAxis||u.lockedAxis)&&(vn||Ji)&&(_r=u.lockedAxis,_r||(u.lockedAxis=_r=p&&Math.abs(vn)>Math.abs(Ji)?"y":_?"x":null,_r&&_isFunction(u.vars.onLockAxis)&&u.vars.onLockAxis.call(u,u.pointerEvent)),_r==="y"?Ji=0:_r==="x"&&(vn=0)),ji=_round(Ve+vn*X),$n=_round(_t+Ji*X)),(tn||kn||Ui)&&(u.x!==ji||u.y!==$n&&!l)&&(Ui&&(_temp1.x=ji,_temp1.y=$n,_r=Ui(_temp1),ji=_round(_r.x),$n=_round(_r.y)),tn&&(ji=_round(tn(ji))),kn&&($n=_round(kn($n)))),$i&&(ji>je?ji=je+Math.round((ji-je)*de):ji<Me&&(ji=Me+Math.round((ji-Me)*de)),l||($n>Ye?$n=Math.round(Ye+($n-Ye)*de):$n<Fe&&($n=Math.round(Fe+($n-Fe)*de)))),(u.x!==ji||u.y!==$n&&!l)&&(l?(u.endRotation=u.x=u.endX=ji,Wi=!0):(_&&(u.y=u.endY=$n,Wi=!0),p&&(u.x=u.endX=ji,Wi=!0)),!G||_dispatchEvent(u,"move","onMove")!==!1?!u.isDragging&&u.isPressed&&(u.isDragging=Gr=!0,_dispatchEvent(u,"dragstart","onDragStart")):(u.pointerX=Ee,u.pointerY=fe,_t=De,u.x=ti,u.y=Xt,u.endX=Li,u.endY=Ki,u.endRotation=Zi,Wi=rn))},bn=function K(D,U){if(!Ae||!u.isPressed||D&&Gi!=null&&!U&&(D.pointerId&&D.pointerId!==Gi&&D.target!==t||D.changedTouches&&!_hasTouchID(D.changedTouches,Gi))){gn&&D&&Ae&&_preventDefault(D);return}u.isPressed=!1;var G=D,X=u.isDragging,de=u.vars.allowContextMenu&&D&&(D.ctrlKey||D.which>2),Ee=gsap.delayedCall(.001,ss),fe,De,ti,Xt,Li;if(Hi?(_removeListener(Hi,"touchend",K),_removeListener(Hi,"touchmove",er),_removeListener(Hi,"touchcancel",K),_removeListener(le,"touchstart",_onMultiTouchDocument)):_removeListener(le,"mousemove",er),_removeListener(_win,"touchforcechange",_preventDefault),(!_supportsPointer||!Hi)&&(_removeListener(le,"mouseup",K),D&&D.target&&_removeListener(D.target,"mouseup",K)),Wi=!1,X&&(k=_lastDragTime=_getTime(),u.isDragging=!1),_removeFromRenderQueue(yn),rr&&!de){D&&(_removeListener(D.target,"change",K),u.pointerEvent=G),_setSelectable(P,!1),_dispatchEvent(u,"release","onRelease"),_dispatchEvent(u,"click","onClick"),rr=!1;return}for(De=P.length;--De>-1;)_setStyle(P[De],"cursor",n.cursor||(n.cursor!==!1?_defaultCursor:null));if(_dragCount--,D){if(fe=D.changedTouches,fe&&(D=fe[0],D!==zi&&D.identifier!==Gi)){for(De=fe.length;--De>-1&&(D=fe[De]).identifier!==Gi&&D.target!==t;);if(De<0&&!U)return}u.pointerEvent=G,u.pointerX=D.pageX,u.pointerY=D.pageY}return de&&G?(_preventDefault(G),gn=!0,_dispatchEvent(u,"release","onRelease")):G&&!X?(gn=!1,_s&&(n.snap||n.bounds)&&Wr(n.inertia||n.throwProps),_dispatchEvent(u,"release","onRelease"),(!_isAndroid||G.type!=="touchmove")&&G.type.indexOf("cancel")===-1&&(_dispatchEvent(u,"click","onClick"),_getTime()-F<300&&_dispatchEvent(u,"doubleclick","onDoubleClick"),Xt=G.target||t,F=_getTime(),Li=function(){F!==qr&&u.enabled()&&!u.isPressed&&!G.defaultPrevented&&(Xt.click?Xt.click():le.createEvent&&(ti=le.createEvent("MouseEvents"),ti.initMouseEvent("click",!0,!0,_win,1,u.pointerEvent.screenX,u.pointerEvent.screenY,u.pointerX,u.pointerY,!1,!1,!1,!1,0,null),Xt.dispatchEvent(ti)))},!_isAndroid&&!G.defaultPrevented&&gsap.delayedCall(.05,Li))):(Wr(n.inertia||n.throwProps),!u.allowEventDefault&&G&&(n.dragClickables!==!1||!N.call(u,G.target))&&X&&(!wn||xn&&wn===xn)&&G.cancelable!==!1?(gn=!0,_preventDefault(G)):gn=!1,_dispatchEvent(u,"release","onRelease")),Vt()&&Ee.duration(u.tween.duration()),X&&_dispatchEvent(u,"dragend","onDragEnd"),!0},Ur=function(D){if(D&&u.isDragging&&!se){var U=D.target||t.parentNode,G=U.scrollLeft-U._gsScrollX,X=U.scrollTop-U._gsScrollY;(G||X)&&(Zt?(Wt-=G*Zt.a+X*Zt.c,Rt-=X*Zt.d+G*Zt.b):(Wt-=G,Rt-=X),U._gsScrollX+=G,U._gsScrollY+=X,yt(u.pointerX,u.pointerY))}},os=function(D){var U=_getTime(),G=U-F<100,X=U-k<50,de=G&&qr===F,Ee=u.pointerEvent&&u.pointerEvent.defaultPrevented,fe=G&&sr===F,De=D.isTrusted||D.isTrusted==null&&G&&de;if((de||X&&u.vars.suppressClickOnDrag!==!1)&&D.stopImmediatePropagation&&D.stopImmediatePropagation(),G&&!(u.pointerEvent&&u.pointerEvent.defaultPrevented)&&(!de||De&&!fe)){De&&de&&(sr=F),qr=F;return}(u.isPressed||X||G)&&(!De||!D.detail||!G||Ee)&&_preventDefault(D),!G&&!X&&!Gr&&(D&&D.target&&(u.pointerEvent=D),_dispatchEvent(u,"click","onClick"))},cs=function(D){return Zt?{x:D.x*Zt.a+D.y*Zt.c+Zt.e,y:D.x*Zt.b+D.y*Zt.d+Zt.f}:{x:D.x,y:D.y}};return _i=e.get(t),_i&&_i.kill(),r.startDrag=function(K,D){var U,G,X,de;tr(K||u.pointerEvent,!0),D&&!u.hitTest(K||u.pointerEvent)&&(U=_parseRect(K||u.pointerEvent),G=_parseRect(t),X=cs({x:U.left+U.width/2,y:U.top+U.height/2}),de=cs({x:G.left+G.width/2,y:G.top+G.height/2}),Wt-=X.x-de.x,Rt-=X.y-de.y),u.isDragging||(u.isDragging=Gr=!0,_dispatchEvent(u,"dragstart","onDragStart"))},r.drag=er,r.endDrag=function(K){return bn(K||u.pointerEvent,!0)},r.timeSinceDrag=function(){return u.isDragging?0:(_getTime()-k)/1e3},r.timeSinceClick=function(){return(_getTime()-F)/1e3},r.hitTest=function(K,D){return e.hitTest(u.target,K,D)},r.getDirection=function(K,D){var U=K==="velocity"&&InertiaPlugin?K:_isObject(K)&&!l?"element":"start",G,X,de,Ee,fe,De;return U==="element"&&(fe=_parseRect(u.target),De=_parseRect(K)),G=U==="start"?u.x-Ve:U==="velocity"?InertiaPlugin.getVelocity(t,c):fe.left+fe.width/2-(De.left+De.width/2),l?G<0?"counter-clockwise":"clockwise":(D=D||2,X=U==="start"?u.y-_t:U==="velocity"?InertiaPlugin.getVelocity(t,h):fe.top+fe.height/2-(De.top+De.height/2),de=Math.abs(G/X),Ee=de<1/D?"":G<0?"left":"right",de<D&&(Ee!==""&&(Ee+="-"),Ee+=X<0?"up":"down"),Ee)},r.applyBounds=function(K,D){var U,G,X,de,Ee,fe;if(K&&n.bounds!==K)return n.bounds=K,u.update(!0,D);if(Sn(!0),Zr(),$i&&!Vt()){if(U=u.x,G=u.y,U>je?U=je:U<Me&&(U=Me),G>Ye?G=Ye:G<Fe&&(G=Fe),(u.x!==U||u.y!==G)&&(X=!0,u.x=u.endX=U,l?u.endRotation=U:u.y=u.endY=G,Wi=!0,yn(!0),u.autoScroll&&!u.isDragging))for(_recordMaxScrolls(t.parentNode),de=t,_windowProxy.scrollTop=_win.pageYOffset!=null?_win.pageYOffset:le.documentElement.scrollTop!=null?le.documentElement.scrollTop:le.body.scrollTop,_windowProxy.scrollLeft=_win.pageXOffset!=null?_win.pageXOffset:le.documentElement.scrollLeft!=null?le.documentElement.scrollLeft:le.body.scrollLeft;de&&!fe;)fe=_isRoot(de.parentNode),Ee=fe?_windowProxy:de.parentNode,_&&Ee.scrollTop>Ee._gsMaxScrollY&&(Ee.scrollTop=Ee._gsMaxScrollY),p&&Ee.scrollLeft>Ee._gsMaxScrollX&&(Ee.scrollLeft=Ee._gsMaxScrollX),de=Ee;u.isThrowing&&(X||u.endX>je||u.endX<Me||u.endY>Ye||u.endY<Fe)&&Wr(n.inertia||n.throwProps,X)}return u},r.update=function(K,D,U){if(D&&u.isPressed){var G=getGlobalMatrix(t),X=Xr.apply({x:u.x-Ve,y:u.y-_t}),de=getGlobalMatrix(t.parentNode,!0);de.apply({x:G.e-X.x,y:G.f-X.y},X),u.x-=X.x-de.e,u.y-=X.y-de.f,yn(!0),ir()}var Ee=u.x,fe=u.y;return rs(!D),K?u.applyBounds():(Wi&&U&&yn(!0),Sn(!0)),D&&(yt(u.pointerX,u.pointerY),Wi&&yn(!0)),u.isPressed&&!D&&(p&&Math.abs(Ee-u.x)>.01||_&&Math.abs(fe-u.y)>.01&&!l)&&ir(),u.autoScroll&&(_recordMaxScrolls(t.parentNode,u.isDragging),E=u.isDragging,yn(!0),_removeScrollListener(t,Ur),_addScrollListener(t,Ur)),u},r.enable=function(K){var D={lazy:!0},U,G,X;if(n.cursor!==!1&&(D.cursor=n.cursor||_defaultCursor),gsap.utils.checkPrefix("touchCallout")&&(D.touchCallout="none"),K!=="soft"){for(_setTouchActionForAllDescendants(P,p===_?"none":n.allowNativeTouchScrolling&&t.scrollHeight===t.clientHeight==(t.scrollWidth===t.clientHeight)||n.allowEventDefault?"manipulation":p?"pan-y":"pan-x"),G=P.length;--G>-1;)X=P[G],_supportsPointer||_addListener(X,"mousedown",tr),_addListener(X,"touchstart",tr),_addListener(X,"click",os,!0),gsap.set(X,D),X.getBBox&&X.ownerSVGElement&&p!==_&&gsap.set(X.ownerSVGElement,{touchAction:n.allowNativeTouchScrolling||n.allowEventDefault?"manipulation":p?"pan-y":"pan-x"}),n.allowContextMenu||_addListener(X,"contextmenu",Qr);_setSelectable(P,!1)}return _addScrollListener(t,Ur),Ae=!0,InertiaPlugin&&K!=="soft"&&InertiaPlugin.track(se||t,a?"x,y":l?"rotation":"top,left"),t._gsDragID=U=t._gsDragID||"d"+_lookupCount++,_lookup[U]=u,se&&(se.enable(),se.element._gsDragID=U),(n.bounds||l)&&ir(),n.bounds&&u.applyBounds(),u},r.disable=function(K){for(var D=u.isDragging,U=P.length,G;--U>-1;)_setStyle(P[U],"cursor",null);if(K!=="soft"){for(_setTouchActionForAllDescendants(P,null),U=P.length;--U>-1;)G=P[U],_setStyle(G,"touchCallout",null),_removeListener(G,"mousedown",tr),_removeListener(G,"touchstart",tr),_removeListener(G,"click",os,!0),_removeListener(G,"contextmenu",Qr);_setSelectable(P,!0),Hi&&(_removeListener(Hi,"touchcancel",bn),_removeListener(Hi,"touchend",bn),_removeListener(Hi,"touchmove",er)),_removeListener(le,"mouseup",bn),_removeListener(le,"mousemove",er)}return _removeScrollListener(t,Ur),Ae=!1,InertiaPlugin&&K!=="soft"&&(InertiaPlugin.untrack(se||t,a?"x,y":l?"rotation":"top,left"),u.tween&&u.tween.kill()),se&&se.disable(),_removeFromRenderQueue(yn),u.isDragging=u.isPressed=rr=!1,D&&_dispatchEvent(u,"dragend","onDragEnd"),u},r.enabled=function(K,D){return arguments.length?K?u.enable(D):u.disable(D):Ae},r.kill=function(){return u.isThrowing=!1,u.tween&&u.tween.kill(),u.disable(),gsap.set(P,{clearProps:"userSelect"}),delete _lookup[t._gsDragID],u},r.revert=function(){this.kill(),this.styles&&this.styles.revert()},~s.indexOf("scroll")&&(se=r.scrollProxy=new ScrollProxy(t,_extend({onKill:function(){u.isPressed&&bn(null)}},n)),t.style.overflowY=_&&!_isTouchDevice?"auto":"hidden",t.style.overflowX=p&&!_isTouchDevice?"auto":"hidden",t=se.content),l?b.rotation=1:(p&&(b[c]=1),_&&(b[h]=1)),I.force3D="force3D"in n?n.force3D:!0,_context(_assertThisInitialized(r)),r.enable(),r}return e.register=function(n){gsap=n,_initCore()},e.create=function(n,r){return _coreInitted||_initCore(!0),_toArray(n).map(function(s){return new e(s,r)})},e.get=function(n){return _lookup[(_toArray(n)[0]||{})._gsDragID]},e.timeSinceDrag=function(){return(_getTime()-_lastDragTime)/1e3},e.hitTest=function(n,r,s){if(n===r)return!1;var a=_parseRect(n),l=_parseRect(r),c=a.top,h=a.left,p=a.right,_=a.bottom,w=a.width,u=a.height,P=l.left>p||l.right<h||l.top>_||l.bottom<c,b,k,E;return P||!s?!P:(E=(s+"").indexOf("%")!==-1,s=parseFloat(s)||0,b={left:Math.max(h,l.left),top:Math.max(c,l.top)},b.width=Math.min(p,l.right)-b.left,b.height=Math.min(_,l.bottom)-b.top,b.width<0||b.height<0?!1:E?(s*=.01,k=b.width*b.height,k>=w*u*s||k>=l.width*l.height*s):b.width>s&&b.height>s)},e}(EventDispatcher);_setDefaults(Draggable.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1});Draggable.zIndex=1e3;Draggable.version="3.13.0";_getGSAP()&&gsap.registerPlugin(Draggable);gsapWithCSS.registerPlugin(Draggable);const makeDraggable=(o={},e={})=>{const{element:t,handleElement:n,className:r="",handleClassName:s=""}=o,{axis:a}=e||null;let l=null;if(t?l=t:r&&(l=qs(r)),!(l instanceof Element)){console.warn("makeDraggable: Invalid Element.");return}return Draggable.create(l,{type:a||"x,y",trigger:n??l.querySelector(s||".drag-handle")??l})},{div,select,option,button}=van$1.tags;let nodeId=0;const addNode=(o,e)=>{const t=nodeId++,n=van$1.tags[`${o}-element`],r=div({id:`handle-for-${o}-${t}`,class:"drag-handle"}),s=e??qs(".nodes-playground")??document.body,a=div({class:`${o}-wrapper node-draggable`},r,n({expanded:!1}));return van$1.add(s,a),{nodeEl:n(),handleEl:r,wrapperEl:a}},createAddNodeButton=()=>div({class:"add-el-div"},button({class:"add-el-btn"},"+"),select({id:"node-select",class:"node-select"},option({value:"sampler"},"Sampler"),option({value:"karplus-synth"},"Karplus Synth"))),init=async()=>{await initAudiolib();const o=qs(".nodes-playground");van$1.add(o,createAddNodeButton());const e=qs(".add-el-btn"),t=qs(".node-select");e==null||e.addEventListener("click",()=>{const n=t.value,r=addNode(n,o);qs("sampler-element"),makeDraggable({element:r.wrapperEl,handleElement:r.handleEl})}),console.log("Web Audio Elements app initialized")};document.addEventListener("DOMContentLoaded",()=>init());document.addEventListener("keydown",o=>{o.key===" "&&o.preventDefault()});
//# sourceMappingURL=index-BIQzIVfj.js.map
