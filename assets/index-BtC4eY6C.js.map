{"version":3,"file":"index-BtC4eY6C.js","sources":["../../src/utils/toggleKeyboardVisual.ts","../../src/utils/dom-utils.ts","../../src/utils/makeDraggable.ts","../../src/main.ts","../../src/utils/splineWarnings.ts"],"sourcesContent":["/** Adds event listener & handler for keyboard visual toggle functionality */\nexport const addKeyboardToggleHandler = () => {\n  const toggleButton = document.getElementById(\n    'toggle-keyboard-visual'\n  ) as HTMLButtonElement;\n\n  const computerKeyVisEl = document.getElementById(\n    'keyboard-visual'\n  ) as HTMLElement;\n\n  const pianoKeyVisEl = document.getElementById(\n    'piano-keyboard'\n  ) as HTMLElement;\n  let currKeys: 'computer' | 'piano' = 'piano';\n\n  if (toggleButton && computerKeyVisEl) {\n    toggleButton.addEventListener('click', () => {\n      currKeys = currKeys === 'piano' ? 'computer' : 'piano';\n\n      if (currKeys === 'computer') {\n        pianoKeyVisEl.classList.remove('visible');\n        pianoKeyVisEl.classList.add('hidden');\n        computerKeyVisEl.classList.remove('hidden');\n        computerKeyVisEl.classList.add('visible');\n        toggleButton.textContent = 'Piano Keys';\n      } else {\n        pianoKeyVisEl.classList.remove('hidden');\n        pianoKeyVisEl.classList.add('visible');\n        computerKeyVisEl.classList.remove('visible');\n        computerKeyVisEl.classList.add('hidden');\n        toggleButton.textContent = 'Computer Keys';\n      }\n    });\n  }\n};\n","export const qs = (classOrId: string, container?: Element) =>\n  (container || document).querySelector(classOrId);\n\nexport const qsa = (classOrId: string, container?: Element) =>\n  (container || document).querySelectorAll(classOrId);\n","import { qs } from './dom-utils';\nimport { gsap } from 'gsap';\nimport { Draggable } from 'gsap/Draggable';\n\ngsap.registerPlugin(Draggable);\n\nexport const makeDraggable = (\n  elementOptions: {\n    element?: Element | null;\n    handleElement?: Element | null;\n    className?: string;\n    handleClassName?: string;\n  } = {},\n  gsapOptions: any = {}\n) => {\n  const {\n    element,\n    handleElement,\n    className = '',\n    handleClassName = '',\n  } = elementOptions;\n  const { axis } = gsapOptions || null;\n\n  let el: Element | null = null;\n  if (element) el = element;\n  else if (className) el = qs(className);\n\n  if (!(el instanceof Element)) {\n    console.warn(`makeDraggable: Invalid Element.`);\n    return;\n  }\n\n  return Draggable.create(el, {\n    type: axis || 'x,y',\n    trigger:\n      handleElement ??\n      el.querySelector(handleClassName || '.drag-handle') ??\n      el,\n  });\n};\n","import { defineSampler } from '@repo/audio-components';\nimport { addKeyboardToggleHandler } from './utils/toggleKeyboardVisual';\nimport { qs } from './utils';\nimport { makeDraggable } from './utils/makeDraggable';\n\ndefineSampler(); // Define all sampler components\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  console.debug('playground initialized');\n\n  addKeyboardToggleHandler();\n\n  const samplerContainerEl = qs('#sampler-container');\n  createAndAppendHandle(samplerContainerEl);\n\n  if (samplerContainerEl) {\n    makeDraggable(\n      {\n        element: samplerContainerEl,\n        handleClassName: '.drag-handle',\n      },\n      {\n        type: 'x,y',\n      }\n    );\n  }\n});\n\nfunction createAndAppendHandle(element: Element | null) {\n  if (!element || element.querySelector('.drag-handle')) return;\n  const handle = document.createElement('div');\n  handle.className = 'drag-handle';\n  handle.setAttribute('aria-label', 'Drag to move this control group');\n  element.appendChild(handle);\n}\n","/** Script to suppress warnings from the spline viewer about passive event listeners */\n(function () {\n  const originalAddEventListener = EventTarget.prototype.addEventListener;\n\n  EventTarget.prototype.addEventListener = function (type, listener, options) {\n    const scrollBlockingEvents = [\n      'wheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n    ];\n\n    if (scrollBlockingEvents.includes(type)) {\n      if (options === undefined) {\n        options = { passive: true };\n      } else if (typeof options === 'object' && options.passive === undefined) {\n        options = Object.assign({}, options, { passive: true });\n      }\n    }\n\n    return originalAddEventListener.call(this, type, listener, options);\n  };\n})();\n"],"names":["addKeyboardToggleHandler","toggleButton","computerKeyVisEl","pianoKeyVisEl","currKeys","qs","classOrId","container","gsap","Draggable","makeDraggable","elementOptions","gsapOptions","element","handleElement","className","handleClassName","axis","el","defineSampler","samplerContainerEl","createAndAppendHandle","handle","originalAddEventListener","type","listener","options"],"mappings":"60BACO,MAAMA,EAA2B,IAAM,CAC5C,MAAMC,EAAe,SAAS,eAC5B,wBAAA,EAGIC,EAAmB,SAAS,eAChC,iBAAA,EAGIC,EAAgB,SAAS,eAC7B,gBAAA,EAEF,IAAIC,EAAiC,QAEjCH,GAAgBC,GAClBD,EAAa,iBAAiB,QAAS,IAAM,CAC3CG,EAAWA,IAAa,QAAU,WAAa,QAE3CA,IAAa,YACfD,EAAc,UAAU,OAAO,SAAS,EACxCA,EAAc,UAAU,IAAI,QAAQ,EACpCD,EAAiB,UAAU,OAAO,QAAQ,EAC1CA,EAAiB,UAAU,IAAI,SAAS,EACxCD,EAAa,YAAc,eAE3BE,EAAc,UAAU,OAAO,QAAQ,EACvCA,EAAc,UAAU,IAAI,SAAS,EACrCD,EAAiB,UAAU,OAAO,SAAS,EAC3CA,EAAiB,UAAU,IAAI,QAAQ,EACvCD,EAAa,YAAc,gBAC7B,CACD,CAEL,EClCaI,EAAK,CAACC,EAAmBC,IACtB,SAAU,cAAcD,CAAS,ECGjDE,EAAK,eAAeC,CAAS,EAEtB,MAAMC,EAAgB,CAC3BC,EAKI,GACJC,EAAmB,CAAA,IAChB,CACH,KAAM,CACJ,QAAAC,EACA,cAAAC,EACA,UAAAC,EAAY,GACZ,gBAAAC,EAAkB,EAAA,EAChBL,EACE,CAAE,KAAAM,GAASL,GAAe,KAEhC,IAAIM,EAAqB,KAIzB,GAHIL,EAASK,EAAKL,EACTE,IAAWG,EAAKb,EAAGU,CAAS,GAEjC,EAAEG,aAAc,SAAU,CAC5B,QAAQ,KAAK,iCAAiC,EAC9C,MAAA,CAGF,OAAOT,EAAU,OAAOS,EAAI,CAC1B,KAAMD,GAAQ,MACd,QACEH,GACAI,EAAG,cAAcF,GAAmB,cAAc,GAClDE,CAAA,CACH,CACH,EClCAC,EAAA,EAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,QAAQ,MAAM,wBAAwB,EAEtCnB,EAAA,EAEA,MAAMoB,EAAqBf,EAAG,oBAAoB,EAClDgB,EAAsBD,CAAkB,EAEpCA,GACFV,EACE,CACE,QAASU,EACT,gBAAiB,cAAA,EAEnB,CAEA,CAAA,CAGN,CAAC,EAED,SAASC,EAAsBR,EAAyB,CACtD,GAAI,CAACA,GAAWA,EAAQ,cAAc,cAAc,EAAG,OACvD,MAAMS,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAY,cACnBA,EAAO,aAAa,aAAc,iCAAiC,EACnET,EAAQ,YAAYS,CAAM,CAC5B,ECjCC,UAAY,CACX,MAAMC,EAA2B,YAAY,UAAU,iBAEvD,YAAY,UAAU,iBAAmB,SAAUC,EAAMC,EAAUC,EAAS,CAS1E,MAR6B,CAC3B,QACA,aACA,YACA,WACA,aAAA,EAGuB,SAASF,CAAI,IAChCE,IAAY,OACdA,EAAU,CAAE,QAAS,EAAA,EACZ,OAAOA,GAAY,UAAYA,EAAQ,UAAY,SAC5DA,EAAU,OAAO,OAAO,CAAA,EAAIA,EAAS,CAAE,QAAS,GAAM,IAInDH,EAAyB,KAAK,KAAMC,EAAMC,EAAUC,CAAO,CAAA,CAEtE,GAAA"}