import{B as Nu,S as Iu,V as Fu}from"./audiolib-D7b3C3pw.js";var Bu=Object.defineProperty,Xu=(t,e,n)=>e in t?Bu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pt=(t,e,n)=>Xu(t,typeof e!="symbol"?e+"":e,n);const rs=new Map,Li=new Set,Yu=(t,e)=>{rs.set(t,e),Li.forEach(n=>n())},Ku=t=>{rs.delete(t),Li.forEach(e=>e())},$=t=>rs.get(t)||null,$u=t=>(Li.add(t),()=>Li.delete(t));let Qe=Object.getPrototypeOf,Cr,Ti,ze,$n,qo={isConnected:1},Hu=1e3,si,Ds={},qu=Qe(qo),Wo=Qe(Qe),kn,Uo=(t,e,n,r)=>(t??(setTimeout(n,r),new Set)).add(e),jo=(t,e,n)=>{let r=ze;ze=e;try{return t(n)}catch(i){return console.error(i),n}finally{ze=r}},Si=t=>t.filter(e=>{var n;return(n=e._dom)==null?void 0:n.isConnected}),Go=t=>si=Uo(si,t,()=>{for(let e of si)e._bindings=Si(e._bindings),e._listeners=Si(e._listeners);si=kn},Hu),Ei={get val(){var t;return(t=ze==null?void 0:ze._getters)==null||t.add(this),this.rawVal},get oldVal(){var t;return(t=ze==null?void 0:ze._getters)==null||t.add(this),this._oldVal},set val(t){var e;(e=ze==null?void 0:ze._setters)==null||e.add(this),t!==this.rawVal&&(this.rawVal=t,this._bindings.length+this._listeners.length?(Ti==null||Ti.add(this),Cr=Uo(Cr,this,Wu)):this._oldVal=t)}},Zo=t=>({__proto__:Ei,rawVal:t,_oldVal:t,_bindings:[],_listeners:[]}),Br=(t,e)=>{let n={_getters:new Set,_setters:new Set},r={f:t},i=$n;$n=[];let a=jo(t,n,e);a=(a??document).nodeType?a:new Text(a);for(let o of n._getters)n._setters.has(o)||(Go(o),o._bindings.push(r));for(let o of $n)o._dom=a;return $n=i,r._dom=a},is=(t,e=Zo(),n)=>{let r={_getters:new Set,_setters:new Set},i={f:t,s:e};i._dom=n??($n==null?void 0:$n.push(i))??qo,e.val=jo(t,r,e.rawVal);for(let a of r._getters)r._setters.has(a)||(Go(a),a._listeners.push(i));return e},Qo=(t,...e)=>{for(let n of e.flat(1/0)){let r=Qe(n??0),i=r===Ei?Br(()=>n.val):r===Wo?Br(n):n;i!=kn&&t.append(i)}return t},Jo=(t,e,...n)=>{var r;let[{is:i,...a},...o]=Qe(n[0]??0)===qu?n:[{},...n],s=t?document.createElementNS(t,e,{is:i}):document.createElement(e,{is:i});for(let[u,h]of Object.entries(a)){let d=g=>g?Object.getOwnPropertyDescriptor(g,u)??d(Qe(g)):kn,c=e+","+u,f=Ds[c]??(Ds[c]=((r=d(Qe(s)))==null?void 0:r.set)??0),l=u.startsWith("on")?(g,m)=>{let v=u.slice(2);s.removeEventListener(v,m),s.addEventListener(v,g)}:f?f.bind(s):s.setAttribute.bind(s,u),p=Qe(h??0);u.startsWith("on")||p===Wo&&(h=is(h),p=Ei),p===Ei?Br(()=>(l(h.val,h._oldVal),s)):l(h)}return Qo(s,o)},Os=t=>({get:(e,n)=>Jo.bind(kn,t,n)}),tl=(t,e)=>e?e!==t&&t.replaceWith(e):t.remove(),Wu=()=>{let t=0,e=[...Cr].filter(r=>r.rawVal!==r._oldVal);do{Ti=new Set;for(let r of new Set(e.flatMap(i=>i._listeners=Si(i._listeners))))is(r.f,r.s,r._dom),r._dom=kn}while(++t<100&&(e=[...Ti]).length);let n=[...Cr].filter(r=>r.rawVal!==r._oldVal);Cr=kn;for(let r of new Set(n.flatMap(i=>i._bindings=Si(i._bindings))))tl(r._dom,Br(r.f,r._dom)),r._dom=kn;for(let r of n)r._oldVal=r.rawVal};const P={tags:new Proxy(t=>new Proxy(Jo,Os(t)),Os()),hydrate:(t,e)=>tl(t,Br(e,t)),add:Qo,state:Zo,derive:is};function Uu(t,e,n={mode:"open"}){window.customElements.define(t,class extends HTMLElement{constructor(){super(),this.a=[],this.p=new Map}setAttribute(r,i){super.setAttribute(r,i),this.a[r]&&(this.a[r].val=i)}connectedCallback(){let r;P.add(n?this.attachShadow(n):this,e({attr:(i,a)=>{var o;return(o=this.a)[i]??(o[i]=P.state(this.getAttribute(i)??a))},prop:(i,a)=>(this.p.has(i)||this.p.set(i,P.state(a)),this.p.get(i)),mount:i=>{let a=r;r=()=>{let o=a==null?void 0:a(),s=i();return()=>{o==null||o(),s==null||s()}}},$this:this})),this.d=r==null?void 0:r()}disconnectedCallback(){var r;(r=this.d)==null||r.call(this)}setProp(r,i){return this.p.has(r)?this.p.get(r).val=i:this.p.set(r,P.state(i)),this}getProp(r){return this.p.has(r)?this.p.get(r).val:void 0}})}const On=`
  display: flex;
  flex-direction: column;
  gap: var(--ac-spacing-sm, 0.5rem);
  padding: var(--ac-spacing-sm, 0.5rem);
  margin: var(--ac-spacing-xs, 0.25rem);
  border-radius: var(--ac-border-radius, 4px);
  min-height: var(--ac-component-height-md, 40px);
  font-family: var(--ac-font-family, system-ui, sans-serif);
  font-size: var(--ac-font-size-md, 14px);
`,Zr=`
  display: inline-flex;
  align-items: center;
  gap: var(--ac-spacing-sm, 0.5rem);
  padding: var(--ac-spacing-sm, 0.5rem);
  margin: var(--ac-spacing-xs, 0.25rem);
  border-radius: var(--ac-border-radius, 4px);
  min-height: var(--ac-component-height-sm, 32px);
  font-family: var(--ac-font-family, system-ui, sans-serif);
  font-size: var(--ac-font-size-md, 14px);
`,ju=`
  /* padding: 2px 6px;
  border-radius: var(--ac-border-radius, 4px);
  font-size: var(--ac-font-size-xs, 11px);
  background: var(--ac-color-bg-primary, #333);
  color: var(--ac-color-text-primary, #ccc);
  cursor: pointer;
  font-family: var(--ac-font-family, inherit);
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden; */
`,Gu=`
  font-size: var(--ac-font-size-sm, 0.75rem);
  color: var(--ac-color-text-secondary, #666);
  margin-top: var(--ac-spacing-xs, 0.25rem);
`,Zu=`
  opacity: 0.5;
  pointer-events: none;
`,Rs=new Set;function Qu(t,e){!Rs.has(t)&&!customElements.get(t)&&(customElements.define(t,e),Rs.add(t))}function Ve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function el(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ie={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ir={duration:.5,overwrite:!1,delay:0},as,Rt,gt,fe=1e8,ct=1/fe,Sa=Math.PI*2,Ju=Sa/4,th=0,nl=Math.sqrt,eh=Math.cos,nh=Math.sin,Ot=function(t){return typeof t=="string"},wt=function(t){return typeof t=="function"},$e=function(t){return typeof t=="number"},ss=function(t){return typeof t>"u"},Pe=function(t){return typeof t=="object"},Wt=function(t){return t!==!1},os=function(){return typeof window<"u"},oi=function(t){return wt(t)||Ot(t)},rl=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Nt=Array.isArray,Ea=/(?:-?\.?\d|\.)+/gi,il=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Hn=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ea=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,al=/[+-]=-?[.\d]+/,sl=/[^,'"\[\]\s]+/gi,rh=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,xt,Te,Ma,ls,ae={},Mi={},ol,ll=function(t){return(Mi=ar(t,ae))&&It},us=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},Xr=function(t,e){return!e&&console.warn(t)},ul=function(t,e){return t&&(ae[t]=e)&&Mi&&(Mi[t]=e)||ae},Yr=function(){return 0},ih={suppressEvents:!0,isStart:!0,kill:!1},mi={suppressEvents:!0,kill:!1},ah={suppressEvents:!0},hs={},an=[],Ca={},hl,Qt={},na={},Vs=30,vi=[],cs="",ds=function(t){var e=t[0],n,r;if(Pe(e)||wt(e)||(t=[t]),!(n=(e._gsap||{}).harness)){for(r=vi.length;r--&&!vi[r].targetTest(e););n=vi[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new Rl(t[r],n)))||t.splice(r,1);return t},Ln=function(t){return t._gsap||ds(pe(t))[0]._gsap},cl=function(t,e,n){return(n=t[e])&&wt(n)?t[e]():ss(n)&&t.getAttribute&&t.getAttribute(e)||n},Ut=function(t,e){return(t=t.split(",")).forEach(e)||t},Lt=function(t){return Math.round(t*1e5)/1e5||0},Et=function(t){return Math.round(t*1e7)/1e7||0},Zn=function(t,e){var n=e.charAt(0),r=parseFloat(e.substr(2));return t=parseFloat(t),n==="+"?t+r:n==="-"?t-r:n==="*"?t*r:t/r},sh=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},Ci=function(){var t=an.length,e=an.slice(0),n,r;for(Ca={},an.length=0,n=0;n<t;n++)r=e[n],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},fs=function(t){return!!(t._initted||t._startAt||t.add)},dl=function(t,e,n,r){an.length&&!Rt&&Ci(),t.render(e,n,!!(Rt&&e<0&&fs(t))),an.length&&!Rt&&Ci()},fl=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(sl).length<2?e:Ot(t)?t.trim():t},pl=function(t){return t},se=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},oh=function(t){return function(e,n){for(var r in n)r in e||r==="duration"&&t||r==="ease"||(e[r]=n[r])}},ar=function(t,e){for(var n in e)t[n]=e[n];return t},zs=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Pe(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Pi=function(t,e){var n={},r;for(r in t)r in e||(n[r]=t[r]);return n},Pr=function(t){var e=t.parent||xt,n=t.keyframes?oh(Nt(t.keyframes)):se;if(Wt(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t},lh=function(t,e){for(var n=t.length,r=n===e.length;r&&n--&&t[n]===e[n];);return n<0},gl=function(t,e,n,r,i){var a=t[r],o;if(i)for(o=e[i];a&&a[i]>o;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=a,e.parent=e._dp=t,e},Hi=function(t,e,n,r){n===void 0&&(n="_first"),r===void 0&&(r="_last");var i=e._prev,a=e._next;i?i._next=a:t[n]===e&&(t[n]=a),a?a._prev=i:t[r]===e&&(t[r]=i),e._next=e._prev=e.parent=null},ln=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Tn=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},uh=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Pa=function(t,e,n,r){return t._startAt&&(Rt?t._startAt.revert(mi):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,r))},hh=function t(e){return!e||e._ts&&t(e.parent)},Ns=function(t){return t._repeat?sr(t._tTime,t=t.duration()+t._rDelay)*t:0},sr=function(t,e){var n=Math.floor(t=Et(t/e));return t&&n===t?n-1:n},Ai=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},qi=function(t){return t._end=Et(t._start+(t._tDur/Math.abs(t._ts||t._rts||ct)||0))},Wi=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=Et(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),qi(t),n._dirty||Tn(n,t)),t},ml=function(t,e){var n;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(n=Ai(t.rawTime(),e),(!e._dur||Qr(0,e.totalDuration(),n)-e._tTime>ct)&&e.render(n,!0)),Tn(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-ct}},Se=function(t,e,n,r){return e.parent&&ln(e),e._start=Et(($e(n)?n:n||t!==xt?ce(t,n,e):t._time)+e._delay),e._end=Et(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),gl(t,e,"_first","_last",t._sort?"_start":0),Aa(e)||(t._recent=e),r||ml(t,e),t._ts<0&&Wi(t,t._tTime),t},vl=function(t,e){return(ae.ScrollTrigger||us("scrollTrigger",e))&&ae.ScrollTrigger.create(e,t)},yl=function(t,e,n,r,i){if(gs(t,e,i),!t._initted)return 1;if(!n&&t._pt&&!Rt&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&hl!==te.frame)return an.push(t),t._lazy=[i,r],1},ch=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Aa=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},dh=function(t,e,n,r){var i=t.ratio,a=e<0||!e&&(!t._start&&ch(t)&&!(!t._initted&&Aa(t))||(t._ts<0||t._dp._ts<0)&&!Aa(t))?0:1,o=t._rDelay,s=0,u,h,d;if(o&&t._repeat&&(s=Qr(0,t._tDur,e),h=sr(s,o),t._yoyo&&h&1&&(a=1-a),h!==sr(t._tTime,o)&&(i=1-a,t.vars.repeatRefresh&&t._initted&&t.invalidate())),a!==i||Rt||r||t._zTime===ct||!e&&t._zTime){if(!t._initted&&yl(t,e,r,n,s))return;for(d=t._zTime,t._zTime=e||(n?ct:0),n||(n=e&&!d),t.ratio=a,t._from&&(a=1-a),t._time=0,t._tTime=s,u=t._pt;u;)u.r(a,u.d),u=u._next;e<0&&Pa(t,e,n,!0),t._onUpdate&&!n&&re(t,"onUpdate"),s&&t._repeat&&!n&&t.parent&&re(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===a&&(a&&ln(t,1),!n&&!Rt&&(re(t,a?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},fh=function(t,e,n){var r;if(n>e)for(r=t._first;r&&r._start<=n;){if(r.data==="isPause"&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=n;){if(r.data==="isPause"&&r._start<e)return r;r=r._prev}},or=function(t,e,n,r){var i=t._repeat,a=Et(e)||0,o=t._tTime/t._tDur;return o&&!r&&(t._time*=a/t._dur),t._dur=a,t._tDur=i?i<0?1e10:Et(a*(i+1)+t._rDelay*i):a,o>0&&!r&&Wi(t,t._tTime=t._tDur*o),t.parent&&qi(t),n||Tn(t.parent,t),t},Is=function(t){return t instanceof Kt?Tn(t):or(t,t._dur)},ph={_start:0,endTime:Yr,totalDuration:Yr},ce=function t(e,n,r){var i=e.labels,a=e._recent||ph,o=e.duration()>=fe?a.endTime(!1):e._dur,s,u,h;return Ot(n)&&(isNaN(n)||n in i)?(u=n.charAt(0),h=n.substr(-1)==="%",s=n.indexOf("="),u==="<"||u===">"?(s>=0&&(n=n.replace(/=/,"")),(u==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(n.substr(1))||0)*(h?(s<0?a:r).totalDuration()/100:1)):s<0?(n in i||(i[n]=o),i[n]):(u=parseFloat(n.charAt(s-1)+n.substr(s+1)),h&&r&&(u=u/100*(Nt(r)?r[0]:r).totalDuration()),s>1?t(e,n.substr(0,s-1),r)+u:o+u)):n==null?o:+n},Ar=function(t,e,n){var r=$e(e[1]),i=(r?2:1)+(t<2?0:1),a=e[i],o,s;if(r&&(a.duration=e[1]),a.parent=n,t){for(o=a,s=n;s&&!("immediateRender"in o);)o=s.vars.defaults||{},s=Wt(s.vars.inherit)&&s.parent;a.immediateRender=Wt(o.immediateRender),t<2?a.runBackwards=1:a.startAt=e[i-1]}return new St(e[0],a,e[i+1])},cn=function(t,e){return t||t===0?e(t):e},Qr=function(t,e,n){return n<t?t:n>e?e:n},zt=function(t,e){return!Ot(t)||!(e=rh.exec(t))?"":e[1]},gh=function(t,e,n){return cn(n,function(r){return Qr(t,e,r)})},Da=[].slice,xl=function(t,e){return t&&Pe(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Pe(t[0]))&&!t.nodeType&&t!==Te},mh=function(t,e,n){return n===void 0&&(n=[]),t.forEach(function(r){var i;return Ot(r)&&!e||xl(r,1)?(i=n).push.apply(i,pe(r)):n.push(r)})||n},pe=function(t,e,n){return gt&&!e&&gt.selector?gt.selector(t):Ot(t)&&!n&&(Ma||!lr())?Da.call((e||ls).querySelectorAll(t),0):Nt(t)?mh(t,n):xl(t)?Da.call(t,0):t?[t]:[]},Oa=function(t){return t=pe(t)[0]||Xr("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return pe(e,n.querySelectorAll?n:n===t?Xr("Invalid scope")||ls.createElement("div"):t)}},bl=function(t){return t.sort(function(){return .5-Math.random()})},_l=function(t){if(wt(t))return t;var e=Pe(t)?t:{each:t},n=Sn(e.ease),r=e.from||0,i=parseFloat(e.base)||0,a={},o=r>0&&r<1,s=isNaN(r)||o,u=e.axis,h=r,d=r;return Ot(r)?h=d={center:.5,edges:.5,end:1}[r]||0:!o&&s&&(h=r[0],d=r[1]),function(c,f,l){var p=(l||e).length,g=a[p],m,v,y,x,b,T,_,S,L;if(!g){if(L=e.grid==="auto"?0:(e.grid||[1,fe])[1],!L){for(_=-fe;_<(_=l[L++].getBoundingClientRect().left)&&L<p;);L<p&&L--}for(g=a[p]=[],m=s?Math.min(L,p)*h-.5:r%L,v=L===fe?0:s?p*d/L-.5:r/L|0,_=0,S=fe,T=0;T<p;T++)y=T%L-m,x=v-(T/L|0),g[T]=b=u?Math.abs(u==="y"?x:y):nl(y*y+x*x),b>_&&(_=b),b<S&&(S=b);r==="random"&&bl(g),g.max=_-S,g.min=S,g.v=p=(parseFloat(e.amount)||parseFloat(e.each)*(L>p?p-1:u?u==="y"?p/L:L:Math.max(L,p/L))||0)*(r==="edges"?-1:1),g.b=p<0?i-p:i,g.u=zt(e.amount||e.each)||0,n=n&&p<0?Al(n):n}return p=(g[c]-g.min)/g.max||0,Et(g.b+(n?n(p):p)*g.v)+g.u}},Ra=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var r=Et(Math.round(parseFloat(n)/t)*t*e);return(r-r%1)/e+($e(n)?0:zt(n))}},wl=function(t,e){var n=Nt(t),r,i;return!n&&Pe(t)&&(r=n=t.radius||fe,t.values?(t=pe(t.values),(i=!$e(t[0]))&&(r*=r)):t=Ra(t.increment)),cn(e,n?wt(t)?function(a){return i=t(a),Math.abs(i-a)<=r?i:a}:function(a){for(var o=parseFloat(i?a.x:a),s=parseFloat(i?a.y:0),u=fe,h=0,d=t.length,c,f;d--;)i?(c=t[d].x-o,f=t[d].y-s,c=c*c+f*f):c=Math.abs(t[d]-o),c<u&&(u=c,h=d);return h=!r||u<=r?t[h]:a,i||h===a||$e(a)?h:h+zt(a)}:Ra(t))},kl=function(t,e,n,r){return cn(Nt(t)?!e:n===!0?!!(n=0):!r,function(){return Nt(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+n*.99))/n)*n*r)/r})},vh=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduce(function(i,a){return a(i)},r)}},yh=function(t,e){return function(n){return t(parseFloat(n))+(e||zt(n))}},xh=function(t,e,n){return Tl(t,e,0,1,n)},Ll=function(t,e,n){return cn(n,function(r){return t[~~e(r)]})},bh=function t(e,n,r){var i=n-e;return Nt(e)?Ll(e,t(0,e.length),n):cn(r,function(a){return(i+(a-e)%i)%i+e})},_h=function t(e,n,r){var i=n-e,a=i*2;return Nt(e)?Ll(e,t(0,e.length-1),n):cn(r,function(o){return o=(a+(o-e)%a)%a||0,e+(o>i?a-o:o)})},Kr=function(t){for(var e=0,n="",r,i,a,o;~(r=t.indexOf("random(",e));)a=t.indexOf(")",r),o=t.charAt(r+7)==="[",i=t.substr(r+7,a-r-7).match(o?sl:Ea),n+=t.substr(e,r-e)+kl(o?i:+i[0],o?0:+i[1],+i[2]||1e-5),e=a+1;return n+t.substr(e,t.length-e)},Tl=function(t,e,n,r,i){var a=e-t,o=r-n;return cn(i,function(s){return n+((s-t)/a*o||0)})},wh=function t(e,n,r,i){var a=isNaN(e+n)?0:function(l){return(1-l)*e+l*n};if(!a){var o=Ot(e),s={},u,h,d,c,f;if(r===!0&&(i=1)&&(r=null),o)e={p:e},n={p:n};else if(Nt(e)&&!Nt(n)){for(d=[],c=e.length,f=c-2,h=1;h<c;h++)d.push(t(e[h-1],e[h]));c--,a=function(l){l*=c;var p=Math.min(f,~~l);return d[p](l-p)},r=n}else i||(e=ar(Nt(e)?[]:{},e));if(!d){for(u in n)ps.call(s,e,u,"get",n[u]);a=function(l){return ys(l,s)||(o?e.p:e)}}}return cn(r,a)},Fs=function(t,e,n){var r=t.labels,i=fe,a,o,s;for(a in r)o=r[a]-e,o<0==!!n&&o&&i>(o=Math.abs(o))&&(s=a,i=o);return s},re=function(t,e,n){var r=t.vars,i=r[e],a=gt,o=t._ctx,s,u,h;if(i)return s=r[e+"Params"],u=r.callbackScope||t,n&&an.length&&Ci(),o&&(gt=o),h=s?i.apply(u,s):i.call(u),gt=a,h},_r=function(t){return ln(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Rt),t.progress()<1&&re(t,"onInterrupt"),t},qn,Sl=[],El=function(t){if(t)if(t=!t.name&&t.default||t,os()||t.headless){var e=t.name,n=wt(t),r=e&&!n&&t.init?function(){this._props=[]}:t,i={init:Yr,render:ys,add:ps,kill:Ih,modifier:Nh,rawVars:0},a={targetTest:0,get:0,getSetter:vs,aliases:{},register:0};if(lr(),t!==r){if(Qt[e])return;se(r,se(Pi(t,i),a)),ar(r.prototype,ar(i,Pi(t,a))),Qt[r.prop=e]=r,t.targetTest&&(vi.push(r),hs[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}ul(e,r),t.register&&t.register(It,r,jt)}else Sl.push(t)},ut=255,wr={aqua:[0,ut,ut],lime:[0,ut,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ut],navy:[0,0,128],white:[ut,ut,ut],olive:[128,128,0],yellow:[ut,ut,0],orange:[ut,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ut,0,0],pink:[ut,192,203],cyan:[0,ut,ut],transparent:[ut,ut,ut,0]},ra=function(t,e,n){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(n-e)*t*6:t<.5?n:t*3<2?e+(n-e)*(2/3-t)*6:e)*ut+.5|0},Ml=function(t,e,n){var r=t?$e(t)?[t>>16,t>>8&ut,t&ut]:0:wr.black,i,a,o,s,u,h,d,c,f,l;if(!r){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),wr[t])r=wr[t];else if(t.charAt(0)==="#"){if(t.length<6&&(i=t.charAt(1),a=t.charAt(2),o=t.charAt(3),t="#"+i+i+a+a+o+o+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return r=parseInt(t.substr(1,6),16),[r>>16,r>>8&ut,r&ut,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),r=[t>>16,t>>8&ut,t&ut]}else if(t.substr(0,3)==="hsl"){if(r=l=t.match(Ea),!e)s=+r[0]%360/360,u=+r[1]/100,h=+r[2]/100,a=h<=.5?h*(u+1):h+u-h*u,i=h*2-a,r.length>3&&(r[3]*=1),r[0]=ra(s+1/3,i,a),r[1]=ra(s,i,a),r[2]=ra(s-1/3,i,a);else if(~t.indexOf("="))return r=t.match(il),n&&r.length<4&&(r[3]=1),r}else r=t.match(Ea)||wr.transparent;r=r.map(Number)}return e&&!l&&(i=r[0]/ut,a=r[1]/ut,o=r[2]/ut,d=Math.max(i,a,o),c=Math.min(i,a,o),h=(d+c)/2,d===c?s=u=0:(f=d-c,u=h>.5?f/(2-d-c):f/(d+c),s=d===i?(a-o)/f+(a<o?6:0):d===a?(o-i)/f+2:(i-a)/f+4,s*=60),r[0]=~~(s+.5),r[1]=~~(u*100+.5),r[2]=~~(h*100+.5)),n&&r.length<4&&(r[3]=1),r},Cl=function(t){var e=[],n=[],r=-1;return t.split(sn).forEach(function(i){var a=i.match(Hn)||[];e.push.apply(e,a),n.push(r+=a.length+1)}),e.c=n,e},Bs=function(t,e,n){var r="",i=(t+r).match(sn),a=e?"hsla(":"rgba(",o=0,s,u,h,d;if(!i)return t;if(i=i.map(function(c){return(c=Ml(c,e,1))&&a+(e?c[0]+","+c[1]+"%,"+c[2]+"%,"+c[3]:c.join(","))+")"}),n&&(h=Cl(t),s=n.c,s.join(r)!==h.c.join(r)))for(u=t.replace(sn,"1").split(Hn),d=u.length-1;o<d;o++)r+=u[o]+(~s.indexOf(o)?i.shift()||a+"0,0,0,0)":(h.length?h:i.length?i:n).shift());if(!u)for(u=t.split(sn),d=u.length-1;o<d;o++)r+=u[o]+i[o];return r+u[d]},sn=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in wr)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),kh=/hsl[a]?\(/,Pl=function(t){var e=t.join(" "),n;if(sn.lastIndex=0,sn.test(e))return n=kh.test(e),t[1]=Bs(t[1],n),t[0]=Bs(t[0],n,Cl(t[1])),!0},$r,te=function(){var t=Date.now,e=500,n=33,r=t(),i=r,a=1e3/240,o=a,s=[],u,h,d,c,f,l,p=function g(m){var v=t()-i,y=m===!0,x,b,T,_;if((v>e||v<0)&&(r+=v-n),i+=v,T=i-r,x=T-o,(x>0||y)&&(_=++c.frame,f=T-c.time*1e3,c.time=T=T/1e3,o+=x+(x>=a?4:a-x),b=1),y||(u=h(g)),b)for(l=0;l<s.length;l++)s[l](T,f,_,m)};return c={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(g){return f/(1e3/(g||60))},wake:function(){ol&&(!Ma&&os()&&(Te=Ma=window,ls=Te.document||{},ae.gsap=It,(Te.gsapVersions||(Te.gsapVersions=[])).push(It.version),ll(Mi||Te.GreenSockGlobals||!Te.gsap&&Te||{}),Sl.forEach(El)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&c.sleep(),h=d||function(g){return setTimeout(g,o-c.time*1e3+1|0)},$r=1,p(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(u),$r=0,h=Yr},lagSmoothing:function(g,m){e=g||1/0,n=Math.min(m||33,e)},fps:function(g){a=1e3/(g||240),o=c.time*1e3+a},add:function(g,m,v){var y=m?function(x,b,T,_){g(x,b,T,_),c.remove(y)}:g;return c.remove(g),s[v?"unshift":"push"](y),lr(),y},remove:function(g,m){~(m=s.indexOf(g))&&s.splice(m,1)&&l>=m&&l--},_listeners:s},c}(),lr=function(){return!$r&&te.wake()},et={},Lh=/^[\d.\-M][\d.\-,\s]/,Th=/["']/g,Sh=function(t){for(var e={},n=t.substr(1,t.length-3).split(":"),r=n[0],i=1,a=n.length,o,s,u;i<a;i++)s=n[i],o=i!==a-1?s.lastIndexOf(","):s.length,u=s.substr(0,o),e[r]=isNaN(u)?u.replace(Th,"").trim():+u,r=s.substr(o+1).trim();return e},Eh=function(t){var e=t.indexOf("(")+1,n=t.indexOf(")"),r=t.indexOf("(",e);return t.substring(e,~r&&r<n?t.indexOf(")",n+1):n)},Mh=function(t){var e=(t+"").split("("),n=et[e[0]];return n&&e.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[Sh(e[1])]:Eh(t).split(",").map(fl)):et._CE&&Lh.test(t)?et._CE("",t):n},Al=function(t){return function(e){return 1-t(1-e)}},Dl=function t(e,n){for(var r=e._first,i;r;)r instanceof Kt?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},Sn=function(t,e){return t&&(wt(t)?t:et[t]||Mh(t))||e},Rn=function(t,e,n,r){n===void 0&&(n=function(o){return 1-e(1-o)}),r===void 0&&(r=function(o){return o<.5?e(o*2)/2:1-e((1-o)*2)/2});var i={easeIn:e,easeOut:n,easeInOut:r},a;return Ut(t,function(o){et[o]=ae[o]=i,et[a=o.toLowerCase()]=n;for(var s in i)et[a+(s==="easeIn"?".in":s==="easeOut"?".out":".inOut")]=et[o+"."+s]=i[s]}),i},Ol=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},ia=function t(e,n,r){var i=n>=1?n:1,a=(r||(e?.3:.45))/(n<1?n:1),o=a/Sa*(Math.asin(1/i)||0),s=function(h){return h===1?1:i*Math.pow(2,-10*h)*nh((h-o)*a)+1},u=e==="out"?s:e==="in"?function(h){return 1-s(1-h)}:Ol(s);return a=Sa/a,u.config=function(h,d){return t(e,h,d)},u},aa=function t(e,n){n===void 0&&(n=1.70158);var r=function(a){return a?--a*a*((n+1)*a+n)+1:0},i=e==="out"?r:e==="in"?function(a){return 1-r(1-a)}:Ol(r);return i.config=function(a){return t(e,a)},i};Ut("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Rn(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});et.Linear.easeNone=et.none=et.Linear.easeIn;Rn("Elastic",ia("in"),ia("out"),ia());(function(t,e){var n=1/e,r=2*n,i=2.5*n,a=function(o){return o<n?t*o*o:o<r?t*Math.pow(o-1.5/e,2)+.75:o<i?t*(o-=2.25/e)*o+.9375:t*Math.pow(o-2.625/e,2)+.984375};Rn("Bounce",function(o){return 1-a(1-o)},a)})(7.5625,2.75);Rn("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});Rn("Circ",function(t){return-(nl(1-t*t)-1)});Rn("Sine",function(t){return t===1?1:-eh(t*Ju)+1});Rn("Back",aa("in"),aa("out"),aa());et.SteppedEase=et.steps=ae.SteppedEase={config:function(t,e){t===void 0&&(t=1);var n=1/t,r=t+(e?0:1),i=e?1:0,a=1-ct;return function(o){return((r*Qr(0,a,o)|0)+i)*n}}};ir.ease=et["quad.out"];Ut("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return cs+=t+","+t+"Params,"});var Rl=function(t,e){this.id=th++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:cl,this.set=e?e.getSetter:vs},Hr=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,or(this,+n.duration,1,1),this.data=n.data,gt&&(this._ctx=gt,gt.data.push(this)),$r||te.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,or(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,r){if(lr(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Wi(this,n),!i._dp||i.parent||ml(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Se(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===ct||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),dl(this,n,r)),this},e.time=function(n,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+Ns(this))%(this._dur+this._rDelay)||(n?this._dur:0),r):this._time},e.totalProgress=function(n,r){return arguments.length?this.totalTime(this.totalDuration()*n,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+Ns(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,r){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*i,r):this._repeat?sr(this._tTime,i)+1:1},e.timeScale=function(n,r){if(!arguments.length)return this._rts===-ct?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?Ai(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-ct?0:this._rts,this.totalTime(Qr(-Math.abs(this._delay),this.totalDuration(),i),r!==!1),qi(this),uh(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(lr(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ct&&(this._tTime-=ct)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Se(r,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Wt(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var r=this.parent||this._dp;return r?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ai(r.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=ah);var r=Rt;return Rt=n,fs(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Rt=r,this},e.globalTime=function(n){for(var r=this,i=arguments.length?n:r.rawTime();r;)i=r._start+i/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(n):i},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,Is(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var r=this._time;return this._rDelay=n,Is(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,r){return this.totalTime(ce(this,n),Wt(r))},e.restart=function(n,r){return this.play().totalTime(n?-this._delay:0,Wt(r)),this._dur||(this._zTime=-ct),this},e.play=function(n,r){return n!=null&&this.seek(n,r),this.reversed(!1).paused(!1)},e.reverse=function(n,r){return n!=null&&this.seek(n||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(n,r){return n!=null&&this.seek(n,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-ct:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ct,this},e.isActive=function(){var n=this.parent||this._dp,r=this._start,i;return!!(!n||this._ts&&this._initted&&n.isActive()&&(i=n.rawTime(!0))>=r&&i<this.endTime(!0)-ct)},e.eventCallback=function(n,r,i){var a=this.vars;return arguments.length>1?(r?(a[n]=r,i&&(a[n+"Params"]=i),n==="onUpdate"&&(this._onUpdate=r)):delete a[n],this):a[n]},e.then=function(n){var r=this;return new Promise(function(i){var a=wt(n)?n:pl,o=function(){var s=r.then;r.then=null,wt(a)&&(a=a(r))&&(a.then||a===r)&&(r.then=s),i(a),r.then=s};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?o():r._prom=o})},e.kill=function(){_r(this)},t}();se(Hr.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ct,_prom:0,_ps:!1,_rts:1});var Kt=function(t){el(e,t);function e(r,i){var a;return r===void 0&&(r={}),a=t.call(this,r)||this,a.labels={},a.smoothChildTiming=!!r.smoothChildTiming,a.autoRemoveChildren=!!r.autoRemoveChildren,a._sort=Wt(r.sortChildren),xt&&Se(r.parent||xt,Ve(a),i),r.reversed&&a.reverse(),r.paused&&a.paused(!0),r.scrollTrigger&&vl(Ve(a),r.scrollTrigger),a}var n=e.prototype;return n.to=function(r,i,a){return Ar(0,arguments,this),this},n.from=function(r,i,a){return Ar(1,arguments,this),this},n.fromTo=function(r,i,a,o){return Ar(2,arguments,this),this},n.set=function(r,i,a){return i.duration=0,i.parent=this,Pr(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new St(r,i,ce(this,a),1),this},n.call=function(r,i,a){return Se(this,St.delayedCall(0,r,i),a)},n.staggerTo=function(r,i,a,o,s,u,h){return a.duration=i,a.stagger=a.stagger||o,a.onComplete=u,a.onCompleteParams=h,a.parent=this,new St(r,a,ce(this,s)),this},n.staggerFrom=function(r,i,a,o,s,u,h){return a.runBackwards=1,Pr(a).immediateRender=Wt(a.immediateRender),this.staggerTo(r,i,a,o,s,u,h)},n.staggerFromTo=function(r,i,a,o,s,u,h,d){return o.startAt=a,Pr(o).immediateRender=Wt(o.immediateRender),this.staggerTo(r,i,o,s,u,h,d)},n.render=function(r,i,a){var o=this._time,s=this._dirty?this.totalDuration():this._tDur,u=this._dur,h=r<=0?0:Et(r),d=this._zTime<0!=r<0&&(this._initted||!u),c,f,l,p,g,m,v,y,x,b,T,_;if(this!==xt&&h>s&&r>=0&&(h=s),h!==this._tTime||a||d){if(o!==this._time&&u&&(h+=this._time-o,r+=this._time-o),c=h,x=this._start,y=this._ts,m=!y,d&&(u||(o=this._zTime),(r||!i)&&(this._zTime=r)),this._repeat){if(T=this._yoyo,g=u+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(g*100+r,i,a);if(c=Et(h%g),h===s?(p=this._repeat,c=u):(b=Et(h/g),p=~~b,p&&p===b&&(c=u,p--),c>u&&(c=u)),b=sr(this._tTime,g),!o&&this._tTime&&b!==p&&this._tTime-b*g-this._dur<=0&&(b=p),T&&p&1&&(c=u-c,_=1),p!==b&&!this._lock){var S=T&&b&1,L=S===(T&&p&1);if(p<b&&(S=!S),o=S?0:h%u?u:h,this._lock=1,this.render(o||(_?0:Et(p*g)),i,!u)._lock=0,this._tTime=h,!i&&this.parent&&re(this,"onRepeat"),this.vars.repeatRefresh&&!_&&(this.invalidate()._lock=1),o&&o!==this._time||m!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,s=this._tDur,L&&(this._lock=2,o=S?u:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!_&&this.invalidate()),this._lock=0,!this._ts&&!m)return this;Dl(this,_)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=fh(this,Et(o),Et(c)),v&&(h-=c-(c=v._start))),this._tTime=h,this._time=c,this._act=!y,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&h&&!i&&!b&&(re(this,"onStart"),this._tTime!==h))return this;if(c>=o&&r>=0)for(f=this._first;f;){if(l=f._next,(f._act||c>=f._start)&&f._ts&&v!==f){if(f.parent!==this)return this.render(r,i,a);if(f.render(f._ts>0?(c-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(c-f._start)*f._ts,i,a),c!==this._time||!this._ts&&!m){v=0,l&&(h+=this._zTime=-ct);break}}f=l}else{f=this._last;for(var A=r<0?r:c;f;){if(l=f._prev,(f._act||A<=f._end)&&f._ts&&v!==f){if(f.parent!==this)return this.render(r,i,a);if(f.render(f._ts>0?(A-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(A-f._start)*f._ts,i,a||Rt&&fs(f)),c!==this._time||!this._ts&&!m){v=0,l&&(h+=this._zTime=A?-ct:ct);break}}f=l}}if(v&&!i&&(this.pause(),v.render(c>=o?0:-ct)._zTime=c>=o?1:-1,this._ts))return this._start=x,qi(this),this.render(r,i,a);this._onUpdate&&!i&&re(this,"onUpdate",!0),(h===s&&this._tTime>=this.totalDuration()||!h&&o)&&(x===this._start||Math.abs(y)!==Math.abs(this._ts))&&(this._lock||((r||!u)&&(h===s&&this._ts>0||!h&&this._ts<0)&&ln(this,1),!i&&!(r<0&&!o)&&(h||o||!s)&&(re(this,h===s&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<s&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(r,i){var a=this;if($e(i)||(i=ce(this,i,r)),!(r instanceof Hr)){if(Nt(r))return r.forEach(function(o){return a.add(o,i)}),this;if(Ot(r))return this.addLabel(r,i);if(wt(r))r=St.delayedCall(0,r);else return this}return this!==r?Se(this,r,i):this},n.getChildren=function(r,i,a,o){r===void 0&&(r=!0),i===void 0&&(i=!0),a===void 0&&(a=!0),o===void 0&&(o=-fe);for(var s=[],u=this._first;u;)u._start>=o&&(u instanceof St?i&&s.push(u):(a&&s.push(u),r&&s.push.apply(s,u.getChildren(!0,i,a)))),u=u._next;return s},n.getById=function(r){for(var i=this.getChildren(1,1,1),a=i.length;a--;)if(i[a].vars.id===r)return i[a]},n.remove=function(r){return Ot(r)?this.removeLabel(r):wt(r)?this.killTweensOf(r):(r.parent===this&&Hi(this,r),r===this._recent&&(this._recent=this._last),Tn(this))},n.totalTime=function(r,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Et(te.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),t.prototype.totalTime.call(this,r,i),this._forcing=0,this):this._tTime},n.addLabel=function(r,i){return this.labels[r]=ce(this,i),this},n.removeLabel=function(r){return delete this.labels[r],this},n.addPause=function(r,i,a){var o=St.delayedCall(0,i||Yr,a);return o.data="isPause",this._hasPause=1,Se(this,o,ce(this,r))},n.removePause=function(r){var i=this._first;for(r=ce(this,r);i;)i._start===r&&i.data==="isPause"&&ln(i),i=i._next},n.killTweensOf=function(r,i,a){for(var o=this.getTweensOf(r,a),s=o.length;s--;)Je!==o[s]&&o[s].kill(r,i);return this},n.getTweensOf=function(r,i){for(var a=[],o=pe(r),s=this._first,u=$e(i),h;s;)s instanceof St?sh(s._targets,o)&&(u?(!Je||s._initted&&s._ts)&&s.globalTime(0)<=i&&s.globalTime(s.totalDuration())>i:!i||s.isActive())&&a.push(s):(h=s.getTweensOf(o,i)).length&&a.push.apply(a,h),s=s._next;return a},n.tweenTo=function(r,i){i=i||{};var a=this,o=ce(a,r),s=i,u=s.startAt,h=s.onStart,d=s.onStartParams,c=s.immediateRender,f,l=St.to(a,se({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:i.duration||Math.abs((o-(u&&"time"in u?u.time:a._time))/a.timeScale())||ct,onStart:function(){if(a.pause(),!f){var p=i.duration||Math.abs((o-(u&&"time"in u?u.time:a._time))/a.timeScale());l._dur!==p&&or(l,p,0,1).render(l._time,!0,!0),f=1}h&&h.apply(l,d||[])}},i));return c?l.render(0):l},n.tweenFromTo=function(r,i,a){return this.tweenTo(i,se({startAt:{time:ce(this,r)}},a))},n.recent=function(){return this._recent},n.nextLabel=function(r){return r===void 0&&(r=this._time),Fs(this,ce(this,r))},n.previousLabel=function(r){return r===void 0&&(r=this._time),Fs(this,ce(this,r),1)},n.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+ct)},n.shiftChildren=function(r,i,a){a===void 0&&(a=0);for(var o=this._first,s=this.labels,u;o;)o._start>=a&&(o._start+=r,o._end+=r),o=o._next;if(i)for(u in s)s[u]>=a&&(s[u]+=r);return Tn(this)},n.invalidate=function(r){var i=this._first;for(this._lock=0;i;)i.invalidate(r),i=i._next;return t.prototype.invalidate.call(this,r)},n.clear=function(r){r===void 0&&(r=!0);for(var i=this._first,a;i;)a=i._next,this.remove(i),i=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Tn(this)},n.totalDuration=function(r){var i=0,a=this,o=a._last,s=fe,u,h,d;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(d=a.parent;o;)u=o._prev,o._dirty&&o.totalDuration(),h=o._start,h>s&&a._sort&&o._ts&&!a._lock?(a._lock=1,Se(a,o,h-o._delay,1)._lock=0):s=h,h<0&&o._ts&&(i-=h,(!d&&!a._dp||d&&d.smoothChildTiming)&&(a._start+=h/a._ts,a._time-=h,a._tTime-=h),a.shiftChildren(-h,!1,-1/0),s=0),o._end>i&&o._ts&&(i=o._end),o=u;or(a,a===xt&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(r){if(xt._ts&&(dl(xt,Ai(r,xt)),hl=te.frame),te.frame>=Vs){Vs+=ie.autoSleep||120;var i=xt._first;if((!i||!i._ts)&&ie.autoSleep&&te._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||te.sleep()}}},e}(Hr);se(Kt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ch=function(t,e,n,r,i,a,o){var s=new jt(this._pt,t,e,0,1,Bl,null,i),u=0,h=0,d,c,f,l,p,g,m,v;for(s.b=n,s.e=r,n+="",r+="",(m=~r.indexOf("random("))&&(r=Kr(r)),a&&(v=[n,r],a(v,t,e),n=v[0],r=v[1]),c=n.match(ea)||[];d=ea.exec(r);)l=d[0],p=r.substring(u,d.index),f?f=(f+1)%5:p.substr(-5)==="rgba("&&(f=1),l!==c[h++]&&(g=parseFloat(c[h-1])||0,s._pt={_next:s._pt,p:p||h===1?p:",",s:g,c:l.charAt(1)==="="?Zn(g,l)-g:parseFloat(l)-g,m:f&&f<4?Math.round:0},u=ea.lastIndex);return s.c=u<r.length?r.substring(u,r.length):"",s.fp=o,(al.test(r)||m)&&(s.e=0),this._pt=s,s},ps=function(t,e,n,r,i,a,o,s,u,h){wt(r)&&(r=r(i||0,t,a));var d=t[e],c=n!=="get"?n:wt(d)?u?t[e.indexOf("set")||!wt(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():d,f=wt(d)?u?Rh:Il:ms,l;if(Ot(r)&&(~r.indexOf("random(")&&(r=Kr(r)),r.charAt(1)==="="&&(l=Zn(c,r)+(zt(c)||0),(l||l===0)&&(r=l))),!h||c!==r||Va)return!isNaN(c*r)&&r!==""?(l=new jt(this._pt,t,e,+c||0,r-(c||0),typeof d=="boolean"?zh:Fl,0,f),u&&(l.fp=u),o&&l.modifier(o,this,t),this._pt=l):(!d&&!(e in t)&&us(e,r),Ch.call(this,t,e,c,r,f,s||ie.stringFilter,u))},Ph=function(t,e,n,r,i){if(wt(t)&&(t=Dr(t,i,e,n,r)),!Pe(t)||t.style&&t.nodeType||Nt(t)||rl(t))return Ot(t)?Dr(t,i,e,n,r):t;var a={},o;for(o in t)a[o]=Dr(t[o],i,e,n,r);return a},Vl=function(t,e,n,r,i,a){var o,s,u,h;if(Qt[t]&&(o=new Qt[t]).init(i,o.rawVars?e[t]:Ph(e[t],r,i,a,n),n,r,a)!==!1&&(n._pt=s=new jt(n._pt,i,t,0,1,o.render,o,0,o.priority),n!==qn))for(u=n._ptLookup[n._targets.indexOf(i)],h=o._props.length;h--;)u[o._props[h]]=s;return o},Je,Va,gs=function t(e,n,r){var i=e.vars,a=i.ease,o=i.startAt,s=i.immediateRender,u=i.lazy,h=i.onUpdate,d=i.runBackwards,c=i.yoyoEase,f=i.keyframes,l=i.autoRevert,p=e._dur,g=e._startAt,m=e._targets,v=e.parent,y=v&&v.data==="nested"?v.vars.targets:m,x=e._overwrite==="auto"&&!as,b=e.timeline,T,_,S,L,A,N,R,B,V,j,q,I,K;if(b&&(!f||!a)&&(a="none"),e._ease=Sn(a,ir.ease),e._yEase=c?Al(Sn(c===!0?a:c,ir.ease)):0,c&&e._yoyo&&!e._repeat&&(c=e._yEase,e._yEase=e._ease,e._ease=c),e._from=!b&&!!i.runBackwards,!b||f&&!i.stagger){if(B=m[0]?Ln(m[0]).harness:0,I=B&&i[B.prop],T=Pi(i,hs),g&&(g._zTime<0&&g.progress(1),n<0&&d&&s&&!l?g.render(-1,!0):g.revert(d&&p?mi:ih),g._lazy=0),o){if(ln(e._startAt=St.set(m,se({data:"isStart",overwrite:!1,parent:v,immediateRender:!0,lazy:!g&&Wt(u),startAt:null,delay:0,onUpdate:h&&function(){return re(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Rt||!s&&!l)&&e._startAt.revert(mi),s&&p&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(d&&p&&!g){if(n&&(s=!1),S=se({overwrite:!1,data:"isFromStart",lazy:s&&!g&&Wt(u),immediateRender:s,stagger:0,parent:v},T),I&&(S[B.prop]=I),ln(e._startAt=St.set(m,S)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Rt?e._startAt.revert(mi):e._startAt.render(-1,!0)),e._zTime=n,!s)t(e._startAt,ct,ct);else if(!n)return}for(e._pt=e._ptCache=0,u=p&&Wt(u)||u&&!p,_=0;_<m.length;_++){if(A=m[_],R=A._gsap||ds(m)[_]._gsap,e._ptLookup[_]=j={},Ca[R.id]&&an.length&&Ci(),q=y===m?_:y.indexOf(A),B&&(V=new B).init(A,I||T,e,q,y)!==!1&&(e._pt=L=new jt(e._pt,A,V.name,0,1,V.render,V,0,V.priority),V._props.forEach(function(st){j[st]=L}),V.priority&&(N=1)),!B||I)for(S in T)Qt[S]&&(V=Vl(S,T,e,q,A,y))?V.priority&&(N=1):j[S]=L=ps.call(e,A,S,"get",T[S],q,y,0,i.stringFilter);e._op&&e._op[_]&&e.kill(A,e._op[_]),x&&e._pt&&(Je=e,xt.killTweensOf(A,j,e.globalTime(n)),K=!e.parent,Je=0),e._pt&&u&&(Ca[R.id]=1)}N&&Xl(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!K,f&&n<=0&&b.render(fe,!0,!0)},Ah=function(t,e,n,r,i,a,o,s){var u=(t._pt&&t._ptCache||(t._ptCache={}))[e],h,d,c,f;if(!u)for(u=t._ptCache[e]=[],c=t._ptLookup,f=t._targets.length;f--;){if(h=c[f][e],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==e&&h.fp!==e;)h=h._next;if(!h)return Va=1,t.vars[e]="+=0",gs(t,o),Va=0,s?Xr(e+" not eligible for reset"):1;u.push(h)}for(f=u.length;f--;)d=u[f],h=d._pt||d,h.s=(r||r===0)&&!i?r:h.s+(r||0)+a*h.c,h.c=n-h.s,d.e&&(d.e=Lt(n)+zt(d.e)),d.b&&(d.b=h.s+zt(d.b))},Dh=function(t,e){var n=t[0]?Ln(t[0]).harness:0,r=n&&n.aliases,i,a,o,s;if(!r)return e;i=ar({},e);for(a in r)if(a in i)for(s=r[a].split(","),o=s.length;o--;)i[s[o]]=i[a];return i},Oh=function(t,e,n,r){var i=e.ease||r||"power1.inOut",a,o;if(Nt(e))o=n[t]||(n[t]=[]),e.forEach(function(s,u){return o.push({t:u/(e.length-1)*100,v:s,e:i})});else for(a in e)o=n[a]||(n[a]=[]),a==="ease"||o.push({t:parseFloat(t),v:e[a],e:i})},Dr=function(t,e,n,r,i){return wt(t)?t.call(e,n,r,i):Ot(t)&&~t.indexOf("random(")?Kr(t):t},zl=cs+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Nl={};Ut(zl+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return Nl[t]=1});var St=function(t){el(e,t);function e(r,i,a,o){var s;typeof i=="number"&&(a.duration=i,i=a,a=null),s=t.call(this,o?i:Pr(i))||this;var u=s.vars,h=u.duration,d=u.delay,c=u.immediateRender,f=u.stagger,l=u.overwrite,p=u.keyframes,g=u.defaults,m=u.scrollTrigger,v=u.yoyoEase,y=i.parent||xt,x=(Nt(r)||rl(r)?$e(r[0]):"length"in i)?[r]:pe(r),b,T,_,S,L,A,N,R;if(s._targets=x.length?ds(x):Xr("GSAP target "+r+" not found. https://gsap.com",!ie.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=l,p||f||oi(h)||oi(d)){if(i=s.vars,b=s.timeline=new Kt({data:"nested",defaults:g||{},targets:y&&y.data==="nested"?y.vars.targets:x}),b.kill(),b.parent=b._dp=Ve(s),b._start=0,f||oi(h)||oi(d)){if(S=x.length,N=f&&_l(f),Pe(f))for(L in f)~zl.indexOf(L)&&(R||(R={}),R[L]=f[L]);for(T=0;T<S;T++)_=Pi(i,Nl),_.stagger=0,v&&(_.yoyoEase=v),R&&ar(_,R),A=x[T],_.duration=+Dr(h,Ve(s),T,A,x),_.delay=(+Dr(d,Ve(s),T,A,x)||0)-s._delay,!f&&S===1&&_.delay&&(s._delay=d=_.delay,s._start+=d,_.delay=0),b.to(A,_,N?N(T,A,x):0),b._ease=et.none;b.duration()?h=d=0:s.timeline=0}else if(p){Pr(se(b.vars.defaults,{ease:"none"})),b._ease=Sn(p.ease||i.ease||"none");var B=0,V,j,q;if(Nt(p))p.forEach(function(I){return b.to(x,I,">")}),b.duration();else{_={};for(L in p)L==="ease"||L==="easeEach"||Oh(L,p[L],_,p.easeEach);for(L in _)for(V=_[L].sort(function(I,K){return I.t-K.t}),B=0,T=0;T<V.length;T++)j=V[T],q={ease:j.e,duration:(j.t-(T?V[T-1].t:0))/100*h},q[L]=j.v,b.to(x,q,B),B+=q.duration;b.duration()<h&&b.to({},{duration:h-b.duration()})}}h||s.duration(h=b.duration())}else s.timeline=0;return l===!0&&!as&&(Je=Ve(s),xt.killTweensOf(x),Je=0),Se(y,Ve(s),a),i.reversed&&s.reverse(),i.paused&&s.paused(!0),(c||!h&&!p&&s._start===Et(y._time)&&Wt(c)&&hh(Ve(s))&&y.data!=="nested")&&(s._tTime=-ct,s.render(Math.max(0,-d)||0)),m&&vl(Ve(s),m),s}var n=e.prototype;return n.render=function(r,i,a){var o=this._time,s=this._tDur,u=this._dur,h=r<0,d=r>s-ct&&!h?s:r<ct?0:r,c,f,l,p,g,m,v,y,x;if(!u)dh(this,r,i,a);else if(d!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(c=d,y=this.timeline,this._repeat){if(p=u+this._rDelay,this._repeat<-1&&h)return this.totalTime(p*100+r,i,a);if(c=Et(d%p),d===s?(l=this._repeat,c=u):(g=Et(d/p),l=~~g,l&&l===g?(c=u,l--):c>u&&(c=u)),m=this._yoyo&&l&1,m&&(x=this._yEase,c=u-c),g=sr(this._tTime,p),c===o&&!a&&this._initted&&l===g)return this._tTime=d,this;l!==g&&(y&&this._yEase&&Dl(y,m),this.vars.repeatRefresh&&!m&&!this._lock&&c!==p&&this._initted&&(this._lock=a=1,this.render(Et(p*l),!0).invalidate()._lock=0))}if(!this._initted){if(yl(this,h?r:c,a,i,d))return this._tTime=0,this;if(o!==this._time&&!(a&&this.vars.repeatRefresh&&l!==g))return this;if(u!==this._dur)return this.render(r,i,a)}if(this._tTime=d,this._time=c,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(x||this._ease)(c/u),this._from&&(this.ratio=v=1-v),!o&&d&&!i&&!g&&(re(this,"onStart"),this._tTime!==d))return this;for(f=this._pt;f;)f.r(v,f.d),f=f._next;y&&y.render(r<0?r:y._dur*y._ease(c/this._dur),i,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!i&&(h&&Pa(this,r,i,a),re(this,"onUpdate")),this._repeat&&l!==g&&this.vars.onRepeat&&!i&&this.parent&&re(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(h&&!this._onUpdate&&Pa(this,r,!0,!0),(r||!u)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&ln(this,1),!i&&!(h&&!o)&&(d||o||m)&&(re(this,d===s?"onComplete":"onReverseComplete",!0),this._prom&&!(d<s&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),t.prototype.invalidate.call(this,r)},n.resetTo=function(r,i,a,o,s){$r||te.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||gs(this,u),h=this._ease(u/this._dur),Ah(this,r,i,a,o,h,u,s)?this.resetTo(r,i,a,o,1):(Wi(this,0),this.parent||gl(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(r,i){if(i===void 0&&(i="all"),!r&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?_r(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Rt),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,i,Je&&Je.vars.overwrite!==!0)._first||_r(this),this.parent&&a!==this.timeline.totalDuration()&&or(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,s=r?pe(r):o,u=this._ptLookup,h=this._pt,d,c,f,l,p,g,m;if((!i||i==="all")&&lh(o,s))return i==="all"&&(this._pt=0),_r(this);for(d=this._op=this._op||[],i!=="all"&&(Ot(i)&&(p={},Ut(i,function(v){return p[v]=1}),i=p),i=Dh(o,i)),m=o.length;m--;)if(~s.indexOf(o[m])){c=u[m],i==="all"?(d[m]=i,l=c,f={}):(f=d[m]=d[m]||{},l=i);for(p in l)g=c&&c[p],g&&((!("kill"in g.d)||g.d.kill(p)===!0)&&Hi(this,g,"_pt"),delete c[p]),f!=="all"&&(f[p]=1)}return this._initted&&!this._pt&&h&&_r(this),this},e.to=function(r,i){return new e(r,i,arguments[2])},e.from=function(r,i){return Ar(1,arguments)},e.delayedCall=function(r,i,a,o){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:i,onReverseComplete:i,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(r,i,a){return Ar(2,arguments)},e.set=function(r,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(r,i)},e.killTweensOf=function(r,i,a){return xt.killTweensOf(r,i,a)},e}(Hr);se(St.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ut("staggerTo,staggerFrom,staggerFromTo",function(t){St[t]=function(){var e=new Kt,n=Da.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var ms=function(t,e,n){return t[e]=n},Il=function(t,e,n){return t[e](n)},Rh=function(t,e,n,r){return t[e](r.fp,n)},Vh=function(t,e,n){return t.setAttribute(e,n)},vs=function(t,e){return wt(t[e])?Il:ss(t[e])&&t.setAttribute?Vh:ms},Fl=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},zh=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},Bl=function(t,e){var n=e._pt,r="";if(!t&&e.b)r=e.b;else if(t===1&&e.e)r=e.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round((n.s+n.c*t)*1e4)/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},ys=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},Nh=function(t,e,n,r){for(var i=this._pt,a;i;)a=i._next,i.p===r&&i.modifier(t,e,n),i=a},Ih=function(t){for(var e=this._pt,n,r;e;)r=e._next,e.p===t&&!e.op||e.op===t?Hi(this,e,"_pt"):e.dep||(n=1),e=r;return!n},Fh=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},Xl=function(t){for(var e=t._pt,n,r,i,a;e;){for(n=e._next,r=i;r&&r.pr>e.pr;)r=r._next;(e._prev=r?r._prev:a)?e._prev._next=e:i=e,(e._next=r)?r._prev=e:a=e,e=n}t._pt=i},jt=function(){function t(n,r,i,a,o,s,u,h,d){this.t=r,this.s=a,this.c=o,this.p=i,this.r=s||Fl,this.d=u||this,this.set=h||ms,this.pr=d||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(n,r,i){this.mSet=this.mSet||this.set,this.set=Fh,this.m=n,this.mt=i,this.tween=r},t}();Ut(cs+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return hs[t]=1});ae.TweenMax=ae.TweenLite=St;ae.TimelineLite=ae.TimelineMax=Kt;xt=new Kt({sortChildren:!1,defaults:ir,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ie.stringFilter=Pl;var En=[],yi={},Bh=[],Xs=0,Xh=0,sa=function(t){return(yi[t]||Bh).map(function(e){return e()})},za=function(){var t=Date.now(),e=[];t-Xs>2&&(sa("matchMediaInit"),En.forEach(function(n){var r=n.queries,i=n.conditions,a,o,s,u;for(o in r)a=Te.matchMedia(r[o]).matches,a&&(s=1),a!==i[o]&&(i[o]=a,u=1);u&&(n.revert(),s&&e.push(n))}),sa("matchMediaRevert"),e.forEach(function(n){return n.onMatch(n,function(r){return n.add(null,r)})}),Xs=t,sa("matchMedia"))},Yl=function(){function t(n,r){this.selector=r&&Oa(r),this.data=[],this._r=[],this.isReverted=!1,this.id=Xh++,n&&this.add(n)}var e=t.prototype;return e.add=function(n,r,i){wt(n)&&(i=r,r=n,n=wt);var a=this,o=function(){var s=gt,u=a.selector,h;return s&&s!==a&&s.data.push(a),i&&(a.selector=Oa(i)),gt=a,h=r.apply(a,arguments),wt(h)&&a._r.push(h),gt=s,a.selector=u,a.isReverted=!1,h};return a.last=o,n===wt?o(a,function(s){return a.add(null,s)}):n?a[n]=o:o},e.ignore=function(n){var r=gt;gt=null,n(this),gt=r},e.getTweens=function(){var n=[];return this.data.forEach(function(r){return r instanceof t?n.push.apply(n,r.getTweens()):r instanceof St&&!(r.parent&&r.parent.data==="nested")&&n.push(r)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,r){var i=this;if(n?function(){for(var o=i.getTweens(),s=i.data.length,u;s--;)u=i.data[s],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(h){return o.splice(o.indexOf(h),1)}));for(o.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,d){return d.g-h.g||-1/0}).forEach(function(h){return h.t.revert(n)}),s=i.data.length;s--;)u=i.data[s],u instanceof Kt?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof St)&&u.revert&&u.revert(n);i._r.forEach(function(h){return h(n,i)}),i.isReverted=!0}():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),r)for(var a=En.length;a--;)En[a].id===this.id&&En.splice(a,1)},e.revert=function(n){this.kill(n||{})},t}(),Yh=function(){function t(n){this.contexts=[],this.scope=n,gt&&gt.data.push(this)}var e=t.prototype;return e.add=function(n,r,i){Pe(n)||(n={matches:n});var a=new Yl(0,i||this.scope),o=a.conditions={},s,u,h;gt&&!a.selector&&(a.selector=gt.selector),this.contexts.push(a),r=a.add("onMatch",r),a.queries=n;for(u in n)u==="all"?h=1:(s=Te.matchMedia(n[u]),s&&(En.indexOf(a)<0&&En.push(a),(o[u]=s.matches)&&(h=1),s.addListener?s.addListener(za):s.addEventListener("change",za)));return h&&r(a,function(d){return a.add(null,d)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(r){return r.kill(n,!0)})},t}(),Di={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(function(r){return El(r)})},timeline:function(t){return new Kt(t)},getTweensOf:function(t,e){return xt.getTweensOf(t,e)},getProperty:function(t,e,n,r){Ot(t)&&(t=pe(t)[0]);var i=Ln(t||{}).get,a=n?pl:fl;return n==="native"&&(n=""),t&&(e?a((Qt[e]&&Qt[e].get||i)(t,e,n,r)):function(o,s,u){return a((Qt[o]&&Qt[o].get||i)(t,o,s,u))})},quickSetter:function(t,e,n){if(t=pe(t),t.length>1){var r=t.map(function(h){return It.quickSetter(h,e,n)}),i=r.length;return function(h){for(var d=i;d--;)r[d](h)}}t=t[0]||{};var a=Qt[e],o=Ln(t),s=o.harness&&(o.harness.aliases||{})[e]||e,u=a?function(h){var d=new a;qn._pt=0,d.init(t,n?h+n:h,qn,0,[t]),d.render(1,d),qn._pt&&ys(1,qn)}:o.set(t,s);return a?u:function(h){return u(t,s,n?h+n:h,o,1)}},quickTo:function(t,e,n){var r,i=It.to(t,se((r={},r[e]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),a=function(o,s,u){return i.resetTo(e,o,s,u)};return a.tween=i,a},isTweening:function(t){return xt.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Sn(t.ease,ir.ease)),zs(ir,t||{})},config:function(t){return zs(ie,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,i=t.defaults,a=t.extendTimeline;(r||"").split(",").forEach(function(o){return o&&!Qt[o]&&!ae[o]&&Xr(e+" effect requires "+o+" plugin.")}),na[e]=function(o,s,u){return n(pe(o),se(s||{},i),u)},a&&(Kt.prototype[e]=function(o,s,u){return this.add(na[e](o,Pe(s)?s:(u=s)&&{},this),u)})},registerEase:function(t,e){et[t]=Sn(e)},parseEase:function(t,e){return arguments.length?Sn(t,e):et},getById:function(t){return xt.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var n=new Kt(t),r,i;for(n.smoothChildTiming=Wt(t.smoothChildTiming),xt.remove(n),n._dp=0,n._time=n._tTime=xt._time,r=xt._first;r;)i=r._next,(e||!(!r._dur&&r instanceof St&&r.vars.onComplete===r._targets[0]))&&Se(n,r,r._start-r._delay),r=i;return Se(xt,n,0),n},context:function(t,e){return t?new Yl(t,e):gt},matchMedia:function(t){return new Yh(t)},matchMediaRefresh:function(){return En.forEach(function(t){var e=t.conditions,n,r;for(r in e)e[r]&&(e[r]=!1,n=1);n&&t.revert()})||za()},addEventListener:function(t,e){var n=yi[t]||(yi[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=yi[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},utils:{wrap:bh,wrapYoyo:_h,distribute:_l,random:kl,snap:wl,normalize:xh,getUnit:zt,clamp:gh,splitColor:Ml,toArray:pe,selector:Oa,mapRange:Tl,pipe:vh,unitize:yh,interpolate:wh,shuffle:bl},install:ll,effects:na,ticker:te,updateRoot:Kt.updateRoot,plugins:Qt,globalTimeline:xt,core:{PropTween:jt,globals:ul,Tween:St,Timeline:Kt,Animation:Hr,getCache:Ln,_removeLinkedListItem:Hi,reverting:function(){return Rt},context:function(t){return t&&gt&&(gt.data.push(t),t._ctx=gt),gt},suppressOverwrites:function(t){return as=t}}};Ut("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Di[t]=St[t]});te.add(Kt.updateRoot);qn=Di.to({},{duration:0});var Kh=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},$h=function(t,e){var n=t._targets,r,i,a;for(r in e)for(i=n.length;i--;)a=t._ptLookup[i][r],a&&(a=a.d)&&(a._pt&&(a=Kh(a,r)),a&&a.modifier&&a.modifier(e[r],t,n[i],r))},oa=function(t,e){return{name:t,headless:1,rawVars:1,init:function(n,r,i){i._onInit=function(a){var o,s;if(Ot(r)&&(o={},Ut(r,function(u){return o[u]=1}),r=o),e){o={};for(s in r)o[s]=e(r[s]);r=o}$h(a,r)}}}},It=Di.registerPlugin({name:"attr",init:function(t,e,n,r,i){var a,o,s;this.tween=n;for(a in e)s=t.getAttribute(a)||"",o=this.add(t,"setAttribute",(s||0)+"",e[a],r,i,0,0,a),o.op=a,o.b=s,this._props.push(a)},render:function(t,e){for(var n=e._pt;n;)Rt?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",headless:1,init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},oa("roundProps",Ra),oa("modifiers"),oa("snap",wl))||Di;St.version=Kt.version=It.version="3.13.0";ol=1;os()&&lr();et.Power0;et.Power1;et.Power2;et.Power3;et.Power4;et.Linear;et.Quad;et.Cubic;et.Quart;et.Quint;et.Strong;et.Elastic;et.Back;et.SteppedEase;et.Bounce;et.Sine;et.Expo;et.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ys,tn,Qn,xs,_n,Ks,bs,Hh=function(){return typeof window<"u"},He={},xn=180/Math.PI,Jn=Math.PI/180,Bn=Math.atan2,$s=1e8,_s=/([A-Z])/g,qh=/(left|right|width|margin|padding|x)/i,Wh=/[\s,\(]\S/,Ee={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Na=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},Uh=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},jh=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},Gh=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},Kl=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},$l=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},Zh=function(t,e,n){return t.style[e]=n},Qh=function(t,e,n){return t.style.setProperty(e,n)},Jh=function(t,e,n){return t._gsap[e]=n},tc=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},ec=function(t,e,n,r,i){var a=t._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)},nc=function(t,e,n,r,i){var a=t._gsap;a[e]=n,a.renderTransform(i,a)},bt="transform",Gt=bt+"Origin",rc=function t(e,n){var r=this,i=this.target,a=i.style,o=i._gsap;if(e in He&&a){if(this.tfm=this.tfm||{},e!=="transform")e=Ee[e]||e,~e.indexOf(",")?e.split(",").forEach(function(s){return r.tfm[s]=Ne(i,s)}):this.tfm[e]=o.x?o[e]:Ne(i,e),e===Gt&&(this.tfm.zOrigin=o.zOrigin);else return Ee.transform.split(",").forEach(function(s){return t.call(r,s,n)});if(this.props.indexOf(bt)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Gt,n,"")),e=bt}(a||n)&&this.props.push(e,n,a[e])},Hl=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},ic=function(){var t=this.props,e=this.target,n=e.style,r=e._gsap,i,a;for(i=0;i<t.length;i+=3)t[i+1]?t[i+1]===2?e[t[i]](t[i+2]):e[t[i]]=t[i+2]:t[i+2]?n[t[i]]=t[i+2]:n.removeProperty(t[i].substr(0,2)==="--"?t[i]:t[i].replace(_s,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),i=bs(),(!i||!i.isStart)&&!n[bt]&&(Hl(n),r.zOrigin&&n[Gt]&&(n[Gt]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},ql=function(t,e){var n={target:t,props:[],revert:ic,save:rc};return t._gsap||It.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach(function(r){return n.save(r)}),n},Wl,Ia=function(t,e){var n=tn.createElementNS?tn.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):tn.createElement(t);return n&&n.style?n:tn.createElement(t)},ge=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(_s,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,ur(n)||n,1)||""},Hs="O,Moz,ms,Ms,Webkit".split(","),ur=function(t,e,n){var r=e||_n,i=r.style,a=5;if(t in i&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);a--&&!(Hs[a]+t in i););return a<0?null:(a===3?"ms":a>=0?Hs[a]:"")+t},Fa=function(){Hh()&&window.document&&(Ys=window,tn=Ys.document,Qn=tn.documentElement,_n=Ia("div")||{style:{}},Ia("div"),bt=ur(bt),Gt=bt+"Origin",_n.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Wl=!!ur("perspective"),bs=It.core.reverting,xs=1)},qs=function(t){var e=t.ownerSVGElement,n=Ia("svg",e&&e.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=t.cloneNode(!0),i;r.style.display="block",n.appendChild(r),Qn.appendChild(n);try{i=r.getBBox()}catch{}return n.removeChild(r),Qn.removeChild(n),i},Ws=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},Ul=function(t){var e,n;try{e=t.getBBox()}catch{e=qs(t),n=1}return e&&(e.width||e.height)||n||(e=qs(t)),e&&!e.width&&!e.x&&!e.y?{x:+Ws(t,["x","cx","x1"])||0,y:+Ws(t,["y","cy","y1"])||0,width:0,height:0}:e},jl=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&Ul(t))},An=function(t,e){if(e){var n=t.style,r;e in He&&e!==Gt&&(e=bt),n.removeProperty?(r=e.substr(0,2),(r==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),n.removeProperty(r==="--"?e:e.replace(_s,"-$1").toLowerCase())):n.removeAttribute(e)}},en=function(t,e,n,r,i,a){var o=new jt(t._pt,e,n,0,1,a?$l:Kl);return t._pt=o,o.b=r,o.e=i,t._props.push(n),o},Us={deg:1,rad:1,turn:1},ac={grid:1,flex:1},un=function t(e,n,r,i){var a=parseFloat(r)||0,o=(r+"").trim().substr((a+"").length)||"px",s=_n.style,u=qh.test(n),h=e.tagName.toLowerCase()==="svg",d=(h?"client":"offset")+(u?"Width":"Height"),c=100,f=i==="px",l=i==="%",p,g,m,v;if(i===o||!a||Us[i]||Us[o])return a;if(o!=="px"&&!f&&(a=t(e,n,r,"px")),v=e.getCTM&&jl(e),(l||o==="%")&&(He[n]||~n.indexOf("adius")))return p=v?e.getBBox()[u?"width":"height"]:e[d],Lt(l?a/p*c:a/100*p);if(s[u?"width":"height"]=c+(f?o:i),g=i!=="rem"&&~n.indexOf("adius")||i==="em"&&e.appendChild&&!h?e:e.parentNode,v&&(g=(e.ownerSVGElement||{}).parentNode),(!g||g===tn||!g.appendChild)&&(g=tn.body),m=g._gsap,m&&l&&m.width&&u&&m.time===te.time&&!m.uncache)return Lt(a/m.width*c);if(l&&(n==="height"||n==="width")){var y=e.style[n];e.style[n]=c+i,p=e[d],y?e.style[n]=y:An(e,n)}else(l||o==="%")&&!ac[ge(g,"display")]&&(s.position=ge(e,"position")),g===e&&(s.position="static"),g.appendChild(_n),p=_n[d],g.removeChild(_n),s.position="absolute";return u&&l&&(m=Ln(g),m.time=te.time,m.width=g[d]),Lt(f?p*a/c:p&&a?c/p*a:0)},Ne=function(t,e,n,r){var i;return xs||Fa(),e in Ee&&e!=="transform"&&(e=Ee[e],~e.indexOf(",")&&(e=e.split(",")[0])),He[e]&&e!=="transform"?(i=Wr(t,r),i=e!=="transformOrigin"?i[e]:i.svg?i.origin:Ri(ge(t,Gt))+" "+i.zOrigin+"px"):(i=t.style[e],(!i||i==="auto"||r||~(i+"").indexOf("calc("))&&(i=Oi[e]&&Oi[e](t,e,n)||ge(t,e)||cl(t,e)||(e==="opacity"?1:0))),n&&!~(i+"").trim().indexOf(" ")?un(t,e,i,n)+n:i},sc=function(t,e,n,r){if(!n||n==="none"){var i=ur(e,t,1),a=i&&ge(t,i,1);a&&a!==n?(e=i,n=a):e==="borderColor"&&(n=ge(t,"borderTopColor"))}var o=new jt(this._pt,t.style,e,0,1,Bl),s=0,u=0,h,d,c,f,l,p,g,m,v,y,x,b;if(o.b=n,o.e=r,n+="",r+="",r.substring(0,6)==="var(--"&&(r=ge(t,r.substring(4,r.indexOf(")")))),r==="auto"&&(p=t.style[e],t.style[e]=r,r=ge(t,e)||r,p?t.style[e]=p:An(t,e)),h=[n,r],Pl(h),n=h[0],r=h[1],c=n.match(Hn)||[],b=r.match(Hn)||[],b.length){for(;d=Hn.exec(r);)g=d[0],v=r.substring(s,d.index),l?l=(l+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(l=1),g!==(p=c[u++]||"")&&(f=parseFloat(p)||0,x=p.substr((f+"").length),g.charAt(1)==="="&&(g=Zn(f,g)+x),m=parseFloat(g),y=g.substr((m+"").length),s=Hn.lastIndex-y.length,y||(y=y||ie.units[e]||x,s===r.length&&(r+=y,o.e+=y)),x!==y&&(f=un(t,e,p,y)||0),o._pt={_next:o._pt,p:v||u===1?v:",",s:f,c:m-f,m:l&&l<4||e==="zIndex"?Math.round:0});o.c=s<r.length?r.substring(s,r.length):""}else o.r=e==="display"&&r==="none"?$l:Kl;return al.test(r)&&(o.e=0),this._pt=o,o},js={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},oc=function(t){var e=t.split(" "),n=e[0],r=e[1]||"50%";return(n==="top"||n==="bottom"||r==="left"||r==="right")&&(t=n,n=r,r=t),e[0]=js[n]||n,e[1]=js[r]||r,e.join(" ")},lc=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n=e.t,r=n.style,i=e.u,a=n._gsap,o,s,u;if(i==="all"||i===!0)r.cssText="",s=1;else for(i=i.split(","),u=i.length;--u>-1;)o=i[u],He[o]&&(s=1,o=o==="transformOrigin"?Gt:bt),An(n,o);s&&(An(n,bt),a&&(a.svg&&n.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",Wr(n,1),a.uncache=1,Hl(r)))}},Oi={clearProps:function(t,e,n,r,i){if(i.data!=="isFromStart"){var a=t._pt=new jt(t._pt,e,n,0,0,lc);return a.u=r,a.pr=-10,a.tween=i,t._props.push(n),1}}},qr=[1,0,0,1,0,0],Gl={},Zl=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},Gs=function(t){var e=ge(t,bt);return Zl(e)?qr:e.substr(7).match(il).map(Lt)},ws=function(t,e){var n=t._gsap||Ln(t),r=t.style,i=Gs(t),a,o,s,u;return n.svg&&t.getAttribute("transform")?(s=t.transform.baseVal.consolidate().matrix,i=[s.a,s.b,s.c,s.d,s.e,s.f],i.join(",")==="1,0,0,1,0,0"?qr:i):(i===qr&&!t.offsetParent&&t!==Qn&&!n.svg&&(s=r.display,r.display="block",a=t.parentNode,(!a||!t.offsetParent&&!t.getBoundingClientRect().width)&&(u=1,o=t.nextElementSibling,Qn.appendChild(t)),i=Gs(t),s?r.display=s:An(t,"display"),u&&(o?a.insertBefore(t,o):a?a.appendChild(t):Qn.removeChild(t))),e&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},Ba=function(t,e,n,r,i,a){var o=t._gsap,s=i||ws(t,!0),u=o.xOrigin||0,h=o.yOrigin||0,d=o.xOffset||0,c=o.yOffset||0,f=s[0],l=s[1],p=s[2],g=s[3],m=s[4],v=s[5],y=e.split(" "),x=parseFloat(y[0])||0,b=parseFloat(y[1])||0,T,_,S,L;n?s!==qr&&(_=f*g-l*p)&&(S=x*(g/_)+b*(-p/_)+(p*v-g*m)/_,L=x*(-l/_)+b*(f/_)-(f*v-l*m)/_,x=S,b=L):(T=Ul(t),x=T.x+(~y[0].indexOf("%")?x/100*T.width:x),b=T.y+(~(y[1]||y[0]).indexOf("%")?b/100*T.height:b)),r||r!==!1&&o.smooth?(m=x-u,v=b-h,o.xOffset=d+(m*f+v*p)-m,o.yOffset=c+(m*l+v*g)-v):o.xOffset=o.yOffset=0,o.xOrigin=x,o.yOrigin=b,o.smooth=!!r,o.origin=e,o.originIsAbsolute=!!n,t.style[Gt]="0px 0px",a&&(en(a,o,"xOrigin",u,x),en(a,o,"yOrigin",h,b),en(a,o,"xOffset",d,o.xOffset),en(a,o,"yOffset",c,o.yOffset)),t.setAttribute("data-svg-origin",x+" "+b)},Wr=function(t,e){var n=t._gsap||new Rl(t);if("x"in n&&!e&&!n.uncache)return n;var r=t.style,i=n.scaleX<0,a="px",o="deg",s=getComputedStyle(t),u=ge(t,Gt)||"0",h,d,c,f,l,p,g,m,v,y,x,b,T,_,S,L,A,N,R,B,V,j,q,I,K,st,Ft,$t,H,nt,X,Q;return h=d=c=p=g=m=v=y=x=0,f=l=1,n.svg=!!(t.getCTM&&jl(t)),s.translate&&((s.translate!=="none"||s.scale!=="none"||s.rotate!=="none")&&(r[bt]=(s.translate!=="none"?"translate3d("+(s.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(s.rotate!=="none"?"rotate("+s.rotate+") ":"")+(s.scale!=="none"?"scale("+s.scale.split(" ").join(",")+") ":"")+(s[bt]!=="none"?s[bt]:"")),r.scale=r.rotate=r.translate="none"),_=ws(t,n.svg),n.svg&&(n.uncache?(K=t.getBBox(),u=n.xOrigin-K.x+"px "+(n.yOrigin-K.y)+"px",I=""):I=!e&&t.getAttribute("data-svg-origin"),Ba(t,I||u,!!I||n.originIsAbsolute,n.smooth!==!1,_)),b=n.xOrigin||0,T=n.yOrigin||0,_!==qr&&(N=_[0],R=_[1],B=_[2],V=_[3],h=j=_[4],d=q=_[5],_.length===6?(f=Math.sqrt(N*N+R*R),l=Math.sqrt(V*V+B*B),p=N||R?Bn(R,N)*xn:0,v=B||V?Bn(B,V)*xn+p:0,v&&(l*=Math.abs(Math.cos(v*Jn))),n.svg&&(h-=b-(b*N+T*B),d-=T-(b*R+T*V))):(Q=_[6],nt=_[7],Ft=_[8],$t=_[9],H=_[10],X=_[11],h=_[12],d=_[13],c=_[14],S=Bn(Q,H),g=S*xn,S&&(L=Math.cos(-S),A=Math.sin(-S),I=j*L+Ft*A,K=q*L+$t*A,st=Q*L+H*A,Ft=j*-A+Ft*L,$t=q*-A+$t*L,H=Q*-A+H*L,X=nt*-A+X*L,j=I,q=K,Q=st),S=Bn(-B,H),m=S*xn,S&&(L=Math.cos(-S),A=Math.sin(-S),I=N*L-Ft*A,K=R*L-$t*A,st=B*L-H*A,X=V*A+X*L,N=I,R=K,B=st),S=Bn(R,N),p=S*xn,S&&(L=Math.cos(S),A=Math.sin(S),I=N*L+R*A,K=j*L+q*A,R=R*L-N*A,q=q*L-j*A,N=I,j=K),g&&Math.abs(g)+Math.abs(p)>359.9&&(g=p=0,m=180-m),f=Lt(Math.sqrt(N*N+R*R+B*B)),l=Lt(Math.sqrt(q*q+Q*Q)),S=Bn(j,q),v=Math.abs(S)>2e-4?S*xn:0,x=X?1/(X<0?-X:X):0),n.svg&&(I=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!Zl(ge(t,bt)),I&&t.setAttribute("transform",I))),Math.abs(v)>90&&Math.abs(v)<270&&(i?(f*=-1,v+=p<=0?180:-180,p+=p<=0?180:-180):(l*=-1,v+=v<=0?180:-180)),e=e||n.uncache,n.x=h-((n.xPercent=h&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-h)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+a,n.y=d-((n.yPercent=d&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-d)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+a,n.z=c+a,n.scaleX=Lt(f),n.scaleY=Lt(l),n.rotation=Lt(p)+o,n.rotationX=Lt(g)+o,n.rotationY=Lt(m)+o,n.skewX=v+o,n.skewY=y+o,n.transformPerspective=x+a,(n.zOrigin=parseFloat(u.split(" ")[2])||!e&&n.zOrigin||0)&&(r[Gt]=Ri(u)),n.xOffset=n.yOffset=0,n.force3D=ie.force3D,n.renderTransform=n.svg?hc:Wl?Ql:uc,n.uncache=0,n},Ri=function(t){return(t=t.split(" "))[0]+" "+t[1]},la=function(t,e,n){var r=zt(e);return Lt(parseFloat(e)+parseFloat(un(t,"x",n+"px",r)))+r},uc=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Ql(t,e)},gn="0deg",mr="0px",mn=") ",Ql=function(t,e){var n=e||this,r=n.xPercent,i=n.yPercent,a=n.x,o=n.y,s=n.z,u=n.rotation,h=n.rotationY,d=n.rotationX,c=n.skewX,f=n.skewY,l=n.scaleX,p=n.scaleY,g=n.transformPerspective,m=n.force3D,v=n.target,y=n.zOrigin,x="",b=m==="auto"&&t&&t!==1||m===!0;if(y&&(d!==gn||h!==gn)){var T=parseFloat(h)*Jn,_=Math.sin(T),S=Math.cos(T),L;T=parseFloat(d)*Jn,L=Math.cos(T),a=la(v,a,_*L*-y),o=la(v,o,-Math.sin(T)*-y),s=la(v,s,S*L*-y+y)}g!==mr&&(x+="perspective("+g+mn),(r||i)&&(x+="translate("+r+"%, "+i+"%) "),(b||a!==mr||o!==mr||s!==mr)&&(x+=s!==mr||b?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+mn),u!==gn&&(x+="rotate("+u+mn),h!==gn&&(x+="rotateY("+h+mn),d!==gn&&(x+="rotateX("+d+mn),(c!==gn||f!==gn)&&(x+="skew("+c+", "+f+mn),(l!==1||p!==1)&&(x+="scale("+l+", "+p+mn),v.style[bt]=x||"translate(0, 0)"},hc=function(t,e){var n=e||this,r=n.xPercent,i=n.yPercent,a=n.x,o=n.y,s=n.rotation,u=n.skewX,h=n.skewY,d=n.scaleX,c=n.scaleY,f=n.target,l=n.xOrigin,p=n.yOrigin,g=n.xOffset,m=n.yOffset,v=n.forceCSS,y=parseFloat(a),x=parseFloat(o),b,T,_,S,L;s=parseFloat(s),u=parseFloat(u),h=parseFloat(h),h&&(h=parseFloat(h),u+=h,s+=h),s||u?(s*=Jn,u*=Jn,b=Math.cos(s)*d,T=Math.sin(s)*d,_=Math.sin(s-u)*-c,S=Math.cos(s-u)*c,u&&(h*=Jn,L=Math.tan(u-h),L=Math.sqrt(1+L*L),_*=L,S*=L,h&&(L=Math.tan(h),L=Math.sqrt(1+L*L),b*=L,T*=L)),b=Lt(b),T=Lt(T),_=Lt(_),S=Lt(S)):(b=d,S=c,T=_=0),(y&&!~(a+"").indexOf("px")||x&&!~(o+"").indexOf("px"))&&(y=un(f,"x",a,"px"),x=un(f,"y",o,"px")),(l||p||g||m)&&(y=Lt(y+l-(l*b+p*_)+g),x=Lt(x+p-(l*T+p*S)+m)),(r||i)&&(L=f.getBBox(),y=Lt(y+r/100*L.width),x=Lt(x+i/100*L.height)),L="matrix("+b+","+T+","+_+","+S+","+y+","+x+")",f.setAttribute("transform",L),v&&(f.style[bt]=L)},cc=function(t,e,n,r,i){var a=360,o=Ot(i),s=parseFloat(i)*(o&&~i.indexOf("rad")?xn:1),u=s-r,h=r+u+"deg",d,c;return o&&(d=i.split("_")[1],d==="short"&&(u%=a,u!==u%(a/2)&&(u+=u<0?a:-a)),d==="cw"&&u<0?u=(u+a*$s)%a-~~(u/a)*a:d==="ccw"&&u>0&&(u=(u-a*$s)%a-~~(u/a)*a)),t._pt=c=new jt(t._pt,e,n,r,u,Uh),c.e=h,c.u="deg",t._props.push(n),c},Zs=function(t,e){for(var n in e)t[n]=e[n];return t},dc=function(t,e,n){var r=Zs({},n._gsap),i="perspective,force3D,transformOrigin,svgOrigin",a=n.style,o,s,u,h,d,c,f,l;r.svg?(u=n.getAttribute("transform"),n.setAttribute("transform",""),a[bt]=e,o=Wr(n,1),An(n,bt),n.setAttribute("transform",u)):(u=getComputedStyle(n)[bt],a[bt]=e,o=Wr(n,1),a[bt]=u);for(s in He)u=r[s],h=o[s],u!==h&&i.indexOf(s)<0&&(f=zt(u),l=zt(h),d=f!==l?un(n,s,u,l):parseFloat(u),c=parseFloat(h),t._pt=new jt(t._pt,o,s,d,c-d,Na),t._pt.u=l||0,t._props.push(s));Zs(o,r)};Ut("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",a="Left",o=(e<3?[n,r,i,a]:[n+a,n+r,i+r,i+a]).map(function(s){return e<2?t+s:"border"+s+t});Oi[e>1?"border"+t:t]=function(s,u,h,d,c){var f,l;if(arguments.length<4)return f=o.map(function(p){return Ne(s,p,h)}),l=f.join(" "),l.split(f[0]).length===5?f[0]:l;f=(d+"").split(" "),l={},o.forEach(function(p,g){return l[p]=f[g]=f[g]||f[(g-1)/2|0]}),s.init(u,l,c)}});var ks={name:"css",register:Fa,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,i){var a=this._props,o=t.style,s=n.vars.startAt,u,h,d,c,f,l,p,g,m,v,y,x,b,T,_,S;xs||Fa(),this.styles=this.styles||ql(t),S=this.styles.props,this.tween=n;for(p in e)if(p!=="autoRound"&&(h=e[p],!(Qt[p]&&Vl(p,e,n,r,t,i)))){if(f=typeof h,l=Oi[p],f==="function"&&(h=h.call(n,r,t,i),f=typeof h),f==="string"&&~h.indexOf("random(")&&(h=Kr(h)),l)l(this,t,p,h,n)&&(_=1);else if(p.substr(0,2)==="--")u=(getComputedStyle(t).getPropertyValue(p)+"").trim(),h+="",sn.lastIndex=0,sn.test(u)||(g=zt(u),m=zt(h)),m?g!==m&&(u=un(t,p,u,m)+m):g&&(h+=g),this.add(o,"setProperty",u,h,r,i,0,0,p),a.push(p),S.push(p,0,o[p]);else if(f!=="undefined"){if(s&&p in s?(u=typeof s[p]=="function"?s[p].call(n,r,t,i):s[p],Ot(u)&&~u.indexOf("random(")&&(u=Kr(u)),zt(u+"")||u==="auto"||(u+=ie.units[p]||zt(Ne(t,p))||""),(u+"").charAt(1)==="="&&(u=Ne(t,p))):u=Ne(t,p),c=parseFloat(u),v=f==="string"&&h.charAt(1)==="="&&h.substr(0,2),v&&(h=h.substr(2)),d=parseFloat(h),p in Ee&&(p==="autoAlpha"&&(c===1&&Ne(t,"visibility")==="hidden"&&d&&(c=0),S.push("visibility",0,o.visibility),en(this,o,"visibility",c?"inherit":"hidden",d?"inherit":"hidden",!d)),p!=="scale"&&p!=="transform"&&(p=Ee[p],~p.indexOf(",")&&(p=p.split(",")[0]))),y=p in He,y){if(this.styles.save(p),f==="string"&&h.substring(0,6)==="var(--"&&(h=ge(t,h.substring(4,h.indexOf(")"))),d=parseFloat(h)),x||(b=t._gsap,b.renderTransform&&!e.parseTransform||Wr(t,e.parseTransform),T=e.smoothOrigin!==!1&&b.smooth,x=this._pt=new jt(this._pt,o,bt,0,1,b.renderTransform,b,0,-1),x.dep=1),p==="scale")this._pt=new jt(this._pt,b,"scaleY",b.scaleY,(v?Zn(b.scaleY,v+d):d)-b.scaleY||0,Na),this._pt.u=0,a.push("scaleY",p),p+="X";else if(p==="transformOrigin"){S.push(Gt,0,o[Gt]),h=oc(h),b.svg?Ba(t,h,0,T,0,this):(m=parseFloat(h.split(" ")[2])||0,m!==b.zOrigin&&en(this,b,"zOrigin",b.zOrigin,m),en(this,o,p,Ri(u),Ri(h)));continue}else if(p==="svgOrigin"){Ba(t,h,1,T,0,this);continue}else if(p in Gl){cc(this,b,p,c,v?Zn(c,v+h):h);continue}else if(p==="smoothOrigin"){en(this,b,"smooth",b.smooth,h);continue}else if(p==="force3D"){b[p]=h;continue}else if(p==="transform"){dc(this,h,t);continue}}else p in o||(p=ur(p)||p);if(y||(d||d===0)&&(c||c===0)&&!Wh.test(h)&&p in o)g=(u+"").substr((c+"").length),d||(d=0),m=zt(h)||(p in ie.units?ie.units[p]:g),g!==m&&(c=un(t,p,u,m)),this._pt=new jt(this._pt,y?b:o,p,c,(v?Zn(c,v+d):d)-c,!y&&(m==="px"||p==="zIndex")&&e.autoRound!==!1?Gh:Na),this._pt.u=m||0,g!==m&&m!=="%"&&(this._pt.b=u,this._pt.r=jh);else if(p in o)sc.call(this,t,p,u,v?v+h:h);else if(p in t)this.add(t,p,u||t[p],v?v+h:h,r,i);else if(p!=="parseTransform"){us(p,h);continue}y||(p in o?S.push(p,0,o[p]):typeof t[p]=="function"?S.push(p,2,t[p]()):S.push(p,1,u||t[p])),a.push(p)}}_&&Xl(this)},render:function(t,e){if(e.tween._time||!bs())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:Ne,aliases:Ee,getSetter:function(t,e,n){var r=Ee[e];return r&&r.indexOf(",")<0&&(e=r),e in He&&e!==Gt&&(t._gsap.x||Ne(t,"x"))?n&&Ks===n?e==="scale"?tc:Jh:(Ks=n||{})&&(e==="scale"?ec:nc):t.style&&!ss(t.style[e])?Zh:~e.indexOf("-")?Qh:vs(t,e)},core:{_removeProperty:An,_getMatrix:ws}};It.utils.checkPrefix=ur;It.core.getStyleSaver=ql;(function(t,e,n,r){var i=Ut(t+","+e+","+n,function(a){He[a]=1});Ut(e,function(a){ie.units[a]="deg",Gl[a]=1}),Ee[i[13]]=t+","+e,Ut(r,function(a){var o=a.split(":");Ee[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ut("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){ie.units[t]="px"});It.registerPlugin(ks);var rt=It.registerPlugin(ks)||It;rt.core.Tween;/*!
 * matrix 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Be,Mn,Ls,Ui,kr,xi,Vi,Or,_e="transform",Xa=_e+"Origin",Jl,tu=function(t){var e=t.ownerDocument||t;for(!(_e in t.style)&&("msTransform"in t.style)&&(_e="msTransform",Xa=_e+"Origin");e.parentNode&&(e=e.parentNode););if(Mn=window,Vi=new Dn,e){Be=e,Ls=e.documentElement,Ui=e.body,Or=Be.createElementNS("http://www.w3.org/2000/svg","g"),Or.style.transform="none";var n=e.createElement("div"),r=e.createElement("div"),i=e&&(e.body||e.firstElementChild);i&&i.appendChild&&(i.appendChild(n),n.appendChild(r),n.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),Jl=r.offsetParent!==n,i.removeChild(n))}return e},fc=function(t){for(var e,n;t&&t!==Ui;)n=t._gsap,n&&n.uncache&&n.get(t,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),e?e.push(n):e=[n]),t=t.parentNode;return e},eu=[],nu=[],pc=function(){return Mn.pageYOffset||Be.scrollTop||Ls.scrollTop||Ui.scrollTop||0},gc=function(){return Mn.pageXOffset||Be.scrollLeft||Ls.scrollLeft||Ui.scrollLeft||0},Ts=function(t){return t.ownerSVGElement||((t.tagName+"").toLowerCase()==="svg"?t:null)},mc=function t(e){if(Mn.getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return t(e)},ua=function t(e,n){if(e.parentNode&&(Be||tu(e))){var r=Ts(e),i=r?r.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",a=r?n?"rect":"g":"div",o=n!==2?0:100,s=n===3?100:0,u="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",h=Be.createElementNS?Be.createElementNS(i.replace(/^https/,"http"),a):Be.createElement(a);return n&&(r?(xi||(xi=t(e)),h.setAttribute("width",.01),h.setAttribute("height",.01),h.setAttribute("transform","translate("+o+","+s+")"),xi.appendChild(h)):(kr||(kr=t(e),kr.style.cssText=u),h.style.cssText=u+"width:0.1px;height:0.1px;top:"+s+"px;left:"+o+"px",kr.appendChild(h))),h}throw"Need document and parent."},vc=function(t){for(var e=new Dn,n=0;n<t.numberOfItems;n++)e.multiply(t.getItem(n).matrix);return e},yc=function(t){var e=t.getCTM(),n;return e||(n=t.style[_e],t.style[_e]="none",t.appendChild(Or),e=Or.getCTM(),t.removeChild(Or),n?t.style[_e]=n:t.style.removeProperty(_e.replace(/([A-Z])/g,"-$1").toLowerCase())),e||Vi.clone()},xc=function(t,e){var n=Ts(t),r=t===n,i=n?eu:nu,a=t.parentNode,o=a&&!n&&a.shadowRoot&&a.shadowRoot.appendChild?a.shadowRoot:a,s,u,h,d,c,f;if(t===Mn)return t;if(i.length||i.push(ua(t,1),ua(t,2),ua(t,3)),s=n?xi:kr,n)r?(h=yc(t),d=-h.e/h.a,c=-h.f/h.d,u=Vi):t.getBBox?(h=t.getBBox(),u=t.transform?t.transform.baseVal:{},u=u.numberOfItems?u.numberOfItems>1?vc(u):u.getItem(0).matrix:Vi,d=u.a*h.x+u.c*h.y,c=u.b*h.x+u.d*h.y):(u=new Dn,d=c=0),e&&t.tagName.toLowerCase()==="g"&&(d=c=0),(r?n:a).appendChild(s),s.setAttribute("transform","matrix("+u.a+","+u.b+","+u.c+","+u.d+","+(u.e+d)+","+(u.f+c)+")");else{if(d=c=0,Jl)for(u=t.offsetParent,h=t;h&&(h=h.parentNode)&&h!==u&&h.parentNode;)(Mn.getComputedStyle(h)[_e]+"").length>4&&(d=h.offsetLeft,c=h.offsetTop,h=0);if(f=Mn.getComputedStyle(t),f.position!=="absolute"&&f.position!=="fixed")for(u=t.offsetParent;a&&a!==u;)d+=a.scrollLeft||0,c+=a.scrollTop||0,a=a.parentNode;h=s.style,h.top=t.offsetTop-c+"px",h.left=t.offsetLeft-d+"px",h[_e]=f[_e],h[Xa]=f[Xa],h.position=f.position==="fixed"?"fixed":"absolute",o.appendChild(s)}return s},ha=function(t,e,n,r,i,a,o){return t.a=e,t.b=n,t.c=r,t.d=i,t.e=a,t.f=o,t},Dn=function(){function t(n,r,i,a,o,s){n===void 0&&(n=1),r===void 0&&(r=0),i===void 0&&(i=0),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),ha(this,n,r,i,a,o,s)}var e=t.prototype;return e.inverse=function(){var n=this.a,r=this.b,i=this.c,a=this.d,o=this.e,s=this.f,u=n*a-r*i||1e-10;return ha(this,a/u,-r/u,-i/u,n/u,(i*s-a*o)/u,-(n*s-r*o)/u)},e.multiply=function(n){var r=this.a,i=this.b,a=this.c,o=this.d,s=this.e,u=this.f,h=n.a,d=n.c,c=n.b,f=n.d,l=n.e,p=n.f;return ha(this,h*r+c*a,h*i+c*o,d*r+f*a,d*i+f*o,s+l*r+p*a,u+l*i+p*o)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(n){var r=this.a,i=this.b,a=this.c,o=this.d,s=this.e,u=this.f;return r===n.a&&i===n.b&&a===n.c&&o===n.d&&s===n.e&&u===n.f},e.apply=function(n,r){r===void 0&&(r={});var i=n.x,a=n.y,o=this.a,s=this.b,u=this.c,h=this.d,d=this.e,c=this.f;return r.x=i*o+a*u+d||0,r.y=i*s+a*h+c||0,r},t}();function ee(t,e,n,r){if(!t||!t.parentNode||(Be||tu(t)).documentElement===t)return new Dn;var i=fc(t),a=Ts(t),o=a?eu:nu,s=xc(t,n),u=o[0].getBoundingClientRect(),h=o[1].getBoundingClientRect(),d=o[2].getBoundingClientRect(),c=s.parentNode,f=!r&&mc(t),l=new Dn((h.left-u.left)/100,(h.top-u.top)/100,(d.left-u.left)/100,(d.top-u.top)/100,u.left+(f?0:gc()),u.top+(f?0:pc()));if(c.removeChild(s),i)for(u=i.length;u--;)h=i[u],h.scaleX=h.scaleY=0,h.renderTransform(1,h);return e?l.inverse():l}function Qs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bc(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var tt,ht,ne,we,Xe,ca,Ie,Ya,Lr,nn,ru,Ka,Ur,Ss,Tr,ye,Sr,bi,iu,$a,zi=0,au=function(){return typeof window<"u"},su=function(){return tt||au()&&(tt=window.gsap)&&tt.registerPlugin&&tt},Ze=function(t){return typeof t=="function"},Rr=function(t){return typeof t=="object"},xe=function(t){return typeof t>"u"},_i=function(){return!1},Vr="transform",Ha="transformOrigin",je=function(t){return Math.round(t*1e4)/1e4},vr=Array.isArray,li=function(t,e){var n=ne.createElementNS?ne.createElementNS("http://www.w3.org/1999/xhtml".replace(/^https/,"http"),t):ne.createElement(t);return n.style?n:ne.createElement(t)},Js=180/Math.PI,vn=1e20,_c=new Dn,Ge=Date.now||function(){return new Date().getTime()},Cn=[],tr={},wc=0,kc=/^(?:a|input|textarea|button|select)$/i,to=0,Xn={},Re={},ou=function(t,e){var n={},r;for(r in t)n[r]=e?t[r]*e:t[r];return n},Lc=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},eo=function t(e,n){for(var r=e.length,i;r--;)n?e[r].style.touchAction=n:e[r].style.removeProperty("touch-action"),i=e[r].children,i&&i.length&&t(i,n)},lu=function(){return Cn.forEach(function(t){return t()})},Tc=function(t){Cn.push(t),Cn.length===1&&tt.ticker.add(lu)},no=function(){return!Cn.length&&tt.ticker.remove(lu)},ro=function(t){for(var e=Cn.length;e--;)Cn[e]===t&&Cn.splice(e,1);tt.to(no,{overwrite:!0,delay:15,duration:0,onComplete:no,data:"_draggable"})},Sc=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},At=function(t,e,n,r){if(t.addEventListener){var i=Ur[e];r=r||(ru?{passive:!1}:null),t.addEventListener(i||e,n,r),i&&e!==i&&t.addEventListener(e,n,r)}},Tt=function(t,e,n,r){if(t.removeEventListener){var i=Ur[e];t.removeEventListener(i||e,n,r),i&&e!==i&&t.removeEventListener(e,n,r)}},ue=function(t){t.preventDefault&&t.preventDefault(),t.preventManipulation&&t.preventManipulation()},Ec=function(t,e){for(var n=t.length;n--;)if(t[n].identifier===e)return!0},Mc=function t(e){Ss=e.touches&&zi<e.touches.length,Tt(e.target,"touchend",t)},io=function(t){Ss=t.touches&&zi<t.touches.length,At(t.target,"touchend",Mc)},er=function(t){return ht.pageYOffset||t.scrollTop||t.documentElement.scrollTop||t.body.scrollTop||0},nr=function(t){return ht.pageXOffset||t.scrollLeft||t.documentElement.scrollLeft||t.body.scrollLeft||0},ao=function t(e,n){At(e,"scroll",n),hr(e.parentNode)||t(e.parentNode,n)},so=function t(e,n){Tt(e,"scroll",n),hr(e.parentNode)||t(e.parentNode,n)},hr=function(t){return!t||t===we||t.nodeType===9||t===ne.body||t===ht||!t.nodeType||!t.parentNode},oo=function(t,e){var n=e==="x"?"Width":"Height",r="scroll"+n,i="client"+n;return Math.max(0,hr(t)?Math.max(we[r],Xe[r])-(ht["inner"+n]||we[i]||Xe[i]):t[r]-t[i])},da=function t(e,n){var r=oo(e,"x"),i=oo(e,"y");hr(e)?e=Re:t(e.parentNode,n),e._gsMaxScrollX=r,e._gsMaxScrollY=i,n||(e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0)},fa=function(t,e,n){var r=t.style;r&&(xe(r[e])&&(e=Lr(e,t)||e),n==null?r.removeProperty&&r.removeProperty(e.replace(/([A-Z])/g,"-$1").toLowerCase()):r[e]=n)},jr=function(t){return ht.getComputedStyle(t instanceof Element?t:t.host||(t.parentNode||{}).host||t)},yn={},Yn=function(t){if(t===ht)return yn.left=yn.top=0,yn.width=yn.right=we.clientWidth||t.innerWidth||Xe.clientWidth||0,yn.height=yn.bottom=(t.innerHeight||0)-20<we.clientHeight?we.clientHeight:t.innerHeight||Xe.clientHeight||0,yn;var e=t.ownerDocument||ne,n=xe(t.pageX)?!t.nodeType&&!xe(t.left)&&!xe(t.top)?t:nn(t)[0].getBoundingClientRect():{left:t.pageX-nr(e),top:t.pageY-er(e),right:t.pageX-nr(e)+1,bottom:t.pageY-er(e)+1};return xe(n.right)&&!xe(n.width)?(n.right=n.left+n.width,n.bottom=n.top+n.height):xe(n.width)&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n},kt=function(t,e,n){var r=t.vars,i=r[n],a=t._listeners[e],o;return Ze(i)&&(o=i.apply(r.callbackScope||t,r[n+"Params"]||[t.pointerEvent])),a&&t.dispatchEvent(e)===!1&&(o=!1),o},lo=function(t,e){var n=nn(t)[0],r,i,a;return!n.nodeType&&n!==ht?xe(t.left)?(i=t.min||t.minX||t.minRotation||0,r=t.min||t.minY||0,{left:i,top:r,width:(t.max||t.maxX||t.maxRotation||0)-i,height:(t.max||t.maxY||0)-r}):(a={x:0,y:0},{left:t.left-a.x,top:t.top-a.y,width:t.width,height:t.height}):Cc(n,e)},he={},Cc=function(t,e){e=nn(e)[0];var n=t.getBBox&&t.ownerSVGElement,r=t.ownerDocument||ne,i,a,o,s,u,h,d,c,f,l,p,g,m;if(t===ht)o=er(r),i=nr(r),a=i+(r.documentElement.clientWidth||t.innerWidth||r.body.clientWidth||0),s=o+((t.innerHeight||0)-20<r.documentElement.clientHeight?r.documentElement.clientHeight:t.innerHeight||r.body.clientHeight||0);else{if(e===ht||xe(e))return t.getBoundingClientRect();i=o=0,n?(l=t.getBBox(),p=l.width,g=l.height):(t.viewBox&&(l=t.viewBox.baseVal)&&(i=l.x||0,o=l.y||0,p=l.width,g=l.height),p||(m=jr(t),l=m.boxSizing==="border-box",p=(parseFloat(m.width)||t.clientWidth||0)+(l?0:parseFloat(m.borderLeftWidth)+parseFloat(m.borderRightWidth)),g=(parseFloat(m.height)||t.clientHeight||0)+(l?0:parseFloat(m.borderTopWidth)+parseFloat(m.borderBottomWidth)))),a=p,s=g}return t===e?{left:i,top:o,width:a-i,height:s-o}:(u=ee(e,!0).multiply(ee(t)),h=u.apply({x:i,y:o}),d=u.apply({x:a,y:o}),c=u.apply({x:a,y:s}),f=u.apply({x:i,y:s}),i=Math.min(h.x,d.x,c.x,f.x),o=Math.min(h.y,d.y,c.y,f.y),{left:i,top:o,width:Math.max(h.x,d.x,c.x,f.x)-i,height:Math.max(h.y,d.y,c.y,f.y)-o})},pa=function(t,e,n,r,i,a){var o={},s,u,h;if(e)if(i!==1&&e instanceof Array){if(o.end=s=[],h=e.length,Rr(e[0]))for(u=0;u<h;u++)s[u]=ou(e[u],i);else for(u=0;u<h;u++)s[u]=e[u]*i;n+=1.1,r-=1.1}else Ze(e)?o.end=function(d){var c=e.call(t,d),f,l;if(i!==1)if(Rr(c)){f={};for(l in c)f[l]=c[l]*i;c=f}else c*=i;return c}:o.end=e;return(n||n===0)&&(o.max=n),(r||r===0)&&(o.min=r),a&&(o.velocity=0),o},Pc=function t(e){var n;return!e||!e.getAttribute||e===Xe?!1:(n=e.getAttribute("data-clickable"))==="true"||n!=="false"&&(kc.test(e.nodeName+"")||e.getAttribute("contentEditable")==="true")?!0:t(e.parentNode)},ui=function(t,e){for(var n=t.length,r;n--;)r=t[n],r.ondragstart=r.onselectstart=e?null:_i,tt.set(r,{lazy:!0,userSelect:e?"text":"none"})},Ac=function t(e){if(jr(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return t(e)},uu,qa,Dc=function(t,e){t=tt.utils.toArray(t)[0],e=e||{};var n=document.createElement("div"),r=n.style,i=t.firstChild,a=0,o=0,s=t.scrollTop,u=t.scrollLeft,h=t.scrollWidth,d=t.scrollHeight,c=0,f=0,l=0,p,g,m,v,y,x;uu&&e.force3D!==!1?(y="translate3d(",x="px,0px)"):Vr&&(y="translate(",x="px)"),this.scrollTop=function(b,T){if(!arguments.length)return-this.top();this.top(-b,T)},this.scrollLeft=function(b,T){if(!arguments.length)return-this.left();this.left(-b,T)},this.left=function(b,T){if(!arguments.length)return-(t.scrollLeft+o);var _=t.scrollLeft-u,S=o;if((_>2||_<-2)&&!T){u=t.scrollLeft,tt.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-u),e.onKill&&e.onKill();return}b=-b,b<0?(o=b-.5|0,b=0):b>f?(o=b-f|0,b=f):o=0,(o||S)&&(this._skip||(r[Vr]=y+-o+"px,"+-a+x),o+c>=0&&(r.paddingRight=o+c+"px")),t.scrollLeft=b|0,u=t.scrollLeft},this.top=function(b,T){if(!arguments.length)return-(t.scrollTop+a);var _=t.scrollTop-s,S=a;if((_>2||_<-2)&&!T){s=t.scrollTop,tt.killTweensOf(this,{top:1,scrollTop:1}),this.top(-s),e.onKill&&e.onKill();return}b=-b,b<0?(a=b-.5|0,b=0):b>l?(a=b-l|0,b=l):a=0,(a||S)&&(this._skip||(r[Vr]=y+-o+"px,"+-a+x)),t.scrollTop=b|0,s=t.scrollTop},this.maxScrollTop=function(){return l},this.maxScrollLeft=function(){return f},this.disable=function(){for(i=n.firstChild;i;)v=i.nextSibling,t.appendChild(i),i=v;t===n.parentNode&&t.removeChild(n)},this.enable=function(){if(i=t.firstChild,i!==n){for(;i;)v=i.nextSibling,n.appendChild(i),i=v;t.appendChild(n),this.calibrate()}},this.calibrate=function(b){var T=t.clientWidth===p,_,S,L;s=t.scrollTop,u=t.scrollLeft,!(T&&t.clientHeight===g&&n.offsetHeight===m&&h===t.scrollWidth&&d===t.scrollHeight&&!b)&&((a||o)&&(S=this.left(),L=this.top(),this.left(-t.scrollLeft),this.top(-t.scrollTop)),_=jr(t),(!T||b)&&(r.display="block",r.width="auto",r.paddingRight="0px",c=Math.max(0,t.scrollWidth-t.clientWidth),c&&(c+=parseFloat(_.paddingLeft)+(qa?parseFloat(_.paddingRight):0))),r.display="inline-block",r.position="relative",r.overflow="visible",r.verticalAlign="top",r.boxSizing="content-box",r.width="100%",r.paddingRight=c+"px",qa&&(r.paddingBottom=_.paddingBottom),p=t.clientWidth,g=t.clientHeight,h=t.scrollWidth,d=t.scrollHeight,f=t.scrollWidth-p,l=t.scrollHeight-g,m=n.offsetHeight,r.display="block",(S||L)&&(this.left(S),this.top(L)))},this.content=n,this.element=t,this._skip=!1,this.enable()},ga=function(t){if(au()&&document.body){var e=window&&window.navigator;ht=window,ne=document,we=ne.documentElement,Xe=ne.body,ca=li("div"),bi=!!window.PointerEvent,Ie=li("div"),Ie.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",Sr=Ie.style.cursor==="grab"?"grab":"move",Tr=e&&e.userAgent.toLowerCase().indexOf("android")!==-1,Ka="ontouchstart"in we&&"orientation"in ht||e&&(e.MaxTouchPoints>0||e.msMaxTouchPoints>0),qa=function(){var n=li("div"),r=li("div"),i=r.style,a=Xe,o;return i.display="inline-block",i.position="relative",n.style.cssText="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",n.appendChild(r),a.appendChild(n),o=r.offsetHeight+18>n.scrollHeight,a.removeChild(n),o}(),Ur=function(n){for(var r=n.split(","),i=("onpointerdown"in ca?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in ca?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":n).split(","),a={},o=4;--o>-1;)a[r[o]]=i[o],a[i[o]]=r[o];try{we.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){ru=1}}))}catch{}return a}("touchstart,touchmove,touchend,touchcancel"),At(ne,"touchcancel",_i),At(ht,"touchmove",_i),Xe&&Xe.addEventListener("touchstart",_i),At(ne,"contextmenu",function(){for(var n in tr)tr[n].isPressed&&tr[n].endDrag()}),tt=Ya=su()}tt?(ye=tt.plugins.inertia,iu=tt.core.context||function(){},Lr=tt.utils.checkPrefix,Vr=Lr(Vr),Ha=Lr(Ha),nn=tt.utils.toArray,$a=tt.core.getStyleSaver,uu=!!Lr("perspective")):t&&console.warn("Please gsap.registerPlugin(Draggable)")},Oc=function(){function t(n){this._listeners={},this.target=n||this}var e=t.prototype;return e.addEventListener=function(n,r){var i=this._listeners[n]||(this._listeners[n]=[]);~i.indexOf(r)||i.push(r)},e.removeEventListener=function(n,r){var i=this._listeners[n],a=i&&i.indexOf(r);a>=0&&i.splice(a,1)},e.dispatchEvent=function(n){var r=this,i;return(this._listeners[n]||[]).forEach(function(a){return a.call(r,{type:n,target:r.target})===!1&&(i=!1)}),i},t}(),hn=function(t){bc(e,t);function e(n,r){var i;i=t.call(this)||this,Ya||ga(1),n=nn(n)[0],i.styles=$a&&$a(n,"transform,left,top"),ye||(ye=tt.plugins.inertia),i.vars=r=ou(r||{}),i.target=n,i.x=i.y=i.rotation=0,i.dragResistance=parseFloat(r.dragResistance)||0,i.edgeResistance=isNaN(r.edgeResistance)?1:parseFloat(r.edgeResistance)||0,i.lockAxis=r.lockAxis,i.autoScroll=r.autoScroll||0,i.lockedAxis=null,i.allowEventDefault=!!r.allowEventDefault,tt.getProperty(n,"x");var a=(r.type||"x,y").toLowerCase(),o=~a.indexOf("x")||~a.indexOf("y"),s=a.indexOf("rotation")!==-1,u=s?"rotation":o?"x":"left",h=o?"y":"top",d=!!(~a.indexOf("x")||~a.indexOf("left")||a==="scroll"),c=!!(~a.indexOf("y")||~a.indexOf("top")||a==="scroll"),f=r.minimumMovement||2,l=Qs(i),p=nn(r.trigger||r.handle||n),g={},m=0,v=!1,y=r.autoScrollMarginTop||40,x=r.autoScrollMarginRight||40,b=r.autoScrollMarginBottom||40,T=r.autoScrollMarginLeft||40,_=r.clickableTest||Pc,S=0,L=n._gsap||tt.core.getCache(n),A=Ac(n),N=function(w,C){return parseFloat(L.get(n,w,C))},R=n.ownerDocument||ne,B,V,j,q,I,K,st,Ft,$t,H,nt,X,Q,oe,Dt,vt,_t,dn,dt,Mt,Ae,qe,ot,Z,Bt,ft,Zt,dr,zn,fr,Vt,Nn,fn,ei=function(w){return ue(w),w.stopImmediatePropagation&&w.stopImmediatePropagation(),!1},Xt=function w(C){if(l.autoScroll&&l.isDragging&&(v||_t)){var E=n,D=l.autoScroll*15,k,M,O,z,F,Y,G,U;for(v=!1,Re.scrollTop=ht.pageYOffset!=null?ht.pageYOffset:R.documentElement.scrollTop!=null?R.documentElement.scrollTop:R.body.scrollTop,Re.scrollLeft=ht.pageXOffset!=null?ht.pageXOffset:R.documentElement.scrollLeft!=null?R.documentElement.scrollLeft:R.body.scrollLeft,z=l.pointerX-Re.scrollLeft,F=l.pointerY-Re.scrollTop;E&&!M;)M=hr(E.parentNode),k=M?Re:E.parentNode,O=M?{bottom:Math.max(we.clientHeight,ht.innerHeight||0),right:Math.max(we.clientWidth,ht.innerWidth||0),left:0,top:0}:k.getBoundingClientRect(),Y=G=0,c&&(U=k._gsMaxScrollY-k.scrollTop,U<0?G=U:F>O.bottom-b&&U?(v=!0,G=Math.min(U,D*(1-Math.max(0,O.bottom-F)/b)|0)):F<O.top+y&&k.scrollTop&&(v=!0,G=-Math.min(k.scrollTop,D*(1-Math.max(0,F-O.top)/y)|0)),G&&(k.scrollTop+=G)),d&&(U=k._gsMaxScrollX-k.scrollLeft,U<0?Y=U:z>O.right-x&&U?(v=!0,Y=Math.min(U,D*(1-Math.max(0,O.right-z)/x)|0)):z<O.left+T&&k.scrollLeft&&(v=!0,Y=-Math.min(k.scrollLeft,D*(1-Math.max(0,z-O.left)/T)|0)),Y&&(k.scrollLeft+=Y)),M&&(Y||G)&&(ht.scrollTo(k.scrollLeft,k.scrollTop),pn(l.pointerX+Y,l.pointerY+G)),E=k}if(_t){var J=l.x,at=l.y;s?(l.deltaX=J-parseFloat(L.rotation),l.rotation=J,L.rotation=J+"deg",L.renderTransform(1,L)):V?(c&&(l.deltaY=at-V.top(),V.top(at)),d&&(l.deltaX=J-V.left(),V.left(J))):o?(c&&(l.deltaY=at-parseFloat(L.y),L.y=at+"px"),d&&(l.deltaX=J-parseFloat(L.x),L.x=J+"px"),L.renderTransform(1,L)):(c&&(l.deltaY=at-parseFloat(n.style.top||0),n.style.top=at+"px"),d&&(l.deltaX=J-parseFloat(n.style.left||0),n.style.left=J+"px")),Ft&&!C&&!dr&&(dr=!0,kt(l,"drag","onDrag")===!1&&(d&&(l.x-=l.deltaX),c&&(l.y-=l.deltaY),w(!0)),dr=!1)}_t=!1},le=function(w,C){var E=l.x,D=l.y,k,M;n._gsap||(L=tt.core.getCache(n)),L.uncache&&tt.getProperty(n,"x"),o?(l.x=parseFloat(L.x),l.y=parseFloat(L.y)):s?l.x=l.rotation=parseFloat(L.rotation):V?(l.y=V.top(),l.x=V.left()):(l.y=parseFloat(n.style.top||(M=jr(n))&&M.top)||0,l.x=parseFloat(n.style.left||(M||{}).left)||0),(dt||Mt||Ae)&&!C&&(l.isDragging||l.isThrowing)&&(Ae&&(Xn.x=l.x,Xn.y=l.y,k=Ae(Xn),k.x!==l.x&&(l.x=k.x,_t=!0),k.y!==l.y&&(l.y=k.y,_t=!0)),dt&&(k=dt(l.x),k!==l.x&&(l.x=k,s&&(l.rotation=k),_t=!0)),Mt&&(k=Mt(l.y),k!==l.y&&(l.y=k),_t=!0)),_t&&Xt(!0),w||(l.deltaX=l.x-E,l.deltaY=l.y-D,kt(l,"throwupdate","onThrowUpdate"))},De=function(w,C,E,D){return C==null&&(C=-vn),E==null&&(E=vn),Ze(w)?function(k){var M=l.isPressed?1-l.edgeResistance:1;return w.call(l,(k>E?E+(k-E)*M:k<C?C+(k-C)*M:k)*D)*D}:vr(w)?function(k){for(var M=w.length,O=0,z=vn,F,Y;--M>-1;)F=w[M],Y=F-k,Y<0&&(Y=-Y),Y<z&&F>=C&&F<=E&&(O=M,z=Y);return w[O]}:isNaN(w)?function(k){return k}:function(){return w*D}},Ji=function(w,C,E,D,k,M,O){return M=M&&M<vn?M*M:vn,Ze(w)?function(z){var F=l.isPressed?1-l.edgeResistance:1,Y=z.x,G=z.y,U,J,at;return z.x=Y=Y>E?E+(Y-E)*F:Y<C?C+(Y-C)*F:Y,z.y=G=G>k?k+(G-k)*F:G<D?D+(G-D)*F:G,U=w.call(l,z),U!==z&&(z.x=U.x,z.y=U.y),O!==1&&(z.x*=O,z.y*=O),M<vn&&(J=z.x-Y,at=z.y-G,J*J+at*at>M&&(z.x=Y,z.y=G)),z}:vr(w)?function(z){for(var F=w.length,Y=0,G=vn,U,J,at,Pt;--F>-1;)at=w[F],U=at.x-z.x,J=at.y-z.y,Pt=U*U+J*J,Pt<G&&(Y=F,G=Pt);return G<=M?w[Y]:z}:function(z){return z}},Ct=function(){var w,C,E,D;st=!1,V?(V.calibrate(),l.minX=nt=-V.maxScrollLeft(),l.minY=Q=-V.maxScrollTop(),l.maxX=H=l.maxY=X=0,st=!0):r.bounds&&(w=lo(r.bounds,n.parentNode),s?(l.minX=nt=w.left,l.maxX=H=w.left+w.width,l.minY=Q=l.maxY=X=0):!xe(r.bounds.maxX)||!xe(r.bounds.maxY)?(w=r.bounds,l.minX=nt=w.minX,l.minY=Q=w.minY,l.maxX=H=w.maxX,l.maxY=X=w.maxY):(C=lo(n,n.parentNode),l.minX=nt=Math.round(N(u,"px")+w.left-C.left),l.minY=Q=Math.round(N(h,"px")+w.top-C.top),l.maxX=H=Math.round(nt+(w.width-C.width)),l.maxY=X=Math.round(Q+(w.height-C.height))),nt>H&&(l.minX=H,l.maxX=H=nt,nt=l.minX),Q>X&&(l.minY=X,l.maxY=X=Q,Q=l.minY),s&&(l.minRotation=nt,l.maxRotation=H),st=!0),r.liveSnap&&(E=r.liveSnap===!0?r.snap||{}:r.liveSnap,D=vr(E)||Ze(E),s?(dt=De(D?E:E.rotation,nt,H,1),Mt=null):E.points?Ae=Ji(D?E:E.points,nt,H,Q,X,E.radius,V?-1:1):(d&&(dt=De(D?E:E.x||E.left||E.scrollLeft,nt,H,V?-1:1)),c&&(Mt=De(D?E:E.y||E.top||E.scrollTop,Q,X,V?-1:1))))},pr=function(){l.isThrowing=!1,kt(l,"throwcomplete","onThrowComplete")},ni=function(){l.isThrowing=!1},In=function(w,C){var E,D,k,M;w&&ye?(w===!0&&(E=r.snap||r.liveSnap||{},D=vr(E)||Ze(E),w={resistance:(r.throwResistance||r.resistance||1e3)/(s?10:1)},s?w.rotation=pa(l,D?E:E.rotation,H,nt,1,C):(d&&(w[u]=pa(l,D?E:E.points||E.x||E.left,H,nt,V?-1:1,C||l.lockedAxis==="x")),c&&(w[h]=pa(l,D?E:E.points||E.y||E.top,X,Q,V?-1:1,C||l.lockedAxis==="y")),(E.points||vr(E)&&Rr(E[0]))&&(w.linkedProps=u+","+h,w.radius=E.radius))),l.isThrowing=!0,M=isNaN(r.overshootTolerance)?r.edgeResistance===1?0:1-l.edgeResistance+.2:r.overshootTolerance,w.duration||(w.duration={max:Math.max(r.minDuration||0,"maxDuration"in r?r.maxDuration:2),min:isNaN(r.minDuration)?M===0||Rr(w)&&w.resistance>1e3?0:.5:r.minDuration,overshoot:M}),l.tween=k=tt.to(V||n,{inertia:w,data:"_draggable",inherit:!1,onComplete:pr,onInterrupt:ni,onUpdate:r.fastMode?kt:le,onUpdateParams:r.fastMode?[l,"onthrowupdate","onThrowUpdate"]:E&&E.radius?[!1,!0]:[]}),r.fastMode||(V&&(V._skip=!0),k.render(1e9,!0,!0),le(!0,!0),l.endX=l.x,l.endY=l.y,s&&(l.endRotation=l.x),k.play(0),le(!0,!0),V&&(V._skip=!1))):st&&l.applyBounds()},ri=function(w){var C=Z,E;Z=ee(n.parentNode,!0),w&&l.isPressed&&!Z.equals(C||new Dn)&&(E=C.inverse().apply({x:j,y:q}),Z.apply(E,E),j=E.x,q=E.y),Z.equals(_c)&&(Z=null)},We=function(){var w=1-l.edgeResistance,C=A?nr(R):0,E=A?er(R):0,D,k,M;o&&(L.x=N(u,"px")+"px",L.y=N(h,"px")+"px",L.renderTransform()),ri(!1),he.x=l.pointerX-C,he.y=l.pointerY-E,Z&&Z.apply(he,he),j=he.x,q=he.y,_t&&(pn(l.pointerX,l.pointerY),Xt(!0)),Nn=ee(n),V?(Ct(),K=V.top(),I=V.left()):(Oe()?(le(!0,!0),Ct()):l.applyBounds(),s?(D=n.ownerSVGElement?[L.xOrigin-n.getBBox().x,L.yOrigin-n.getBBox().y]:(jr(n)[Ha]||"0 0").split(" "),vt=l.rotationOrigin=ee(n).apply({x:parseFloat(D[0])||0,y:parseFloat(D[1])||0}),le(!0,!0),k=l.pointerX-vt.x-C,M=vt.y-l.pointerY+E,I=l.x,K=l.y=Math.atan2(M,k)*Js):(K=N(h,"px"),I=N(u,"px"))),st&&w&&(I>H?I=H+(I-H)/w:I<nt&&(I=nt-(nt-I)/w),s||(K>X?K=X+(K-X)/w:K<Q&&(K=Q-(Q-K)/w))),l.startX=I=je(I),l.startY=K=je(K)},Oe=function(){return l.tween&&l.tween.isActive()},ta=function(){Ie.parentNode&&!Oe()&&!l.isDragging&&Ie.parentNode.removeChild(Ie)},Ue=function(w,C){var E;if(!B||l.isPressed||!w||(w.type==="mousedown"||w.type==="pointerdown")&&!C&&Ge()-S<30&&Ur[l.pointerEvent.type]){Vt&&w&&B&&ue(w);return}if(Bt=Oe(),fn=!1,l.pointerEvent=w,Ur[w.type]?(ot=~w.type.indexOf("touch")?w.currentTarget||w.target:R,At(ot,"touchend",Yt),At(ot,"touchmove",ke),At(ot,"touchcancel",Yt),At(R,"touchstart",io)):(ot=null,At(R,"mousemove",ke)),Zt=null,(!bi||!ot)&&(At(R,"mouseup",Yt),w&&w.target&&At(w.target,"mouseup",Yt)),qe=_.call(l,w.target)&&r.dragClickables===!1&&!C,qe){At(w.target,"change",Yt),kt(l,"pressInit","onPressInit"),kt(l,"press","onPress"),ui(p,!0),Vt=!1;return}if(ft=!ot||d===c||l.vars.allowNativeTouchScrolling===!1||l.vars.allowContextMenu&&w&&(w.ctrlKey||w.which>2)?!1:d?"y":"x",Vt=!ft&&!l.allowEventDefault,Vt&&(ue(w),At(ht,"touchforcechange",ue)),w.changedTouches?(w=oe=w.changedTouches[0],Dt=w.identifier):w.pointerId?Dt=w.pointerId:oe=Dt=null,zi++,Tc(Xt),q=l.pointerY=w.pageY,j=l.pointerX=w.pageX,kt(l,"pressInit","onPressInit"),(ft||l.autoScroll)&&da(n.parentNode),n.parentNode&&l.autoScroll&&!V&&!s&&n.parentNode._gsMaxScrollX&&!Ie.parentNode&&!n.getBBox&&(Ie.style.width=n.parentNode.scrollWidth+"px",n.parentNode.appendChild(Ie)),We(),l.tween&&l.tween.kill(),l.isThrowing=!1,tt.killTweensOf(V||n,g,!0),V&&tt.killTweensOf(n,{scrollTo:1},!0),l.tween=l.lockedAxis=null,(r.zIndexBoost||!s&&!V&&r.zIndexBoost!==!1)&&(n.style.zIndex=e.zIndex++),l.isPressed=!0,Ft=!!(r.onDrag||l._listeners.drag),$t=!!(r.onMove||l._listeners.move),r.cursor!==!1||r.activeCursor)for(E=p.length;--E>-1;)tt.set(p[E],{cursor:r.activeCursor||r.cursor||(Sr==="grab"?"grabbing":Sr)});kt(l,"press","onPress")},ke=function(w){var C=w,E,D,k,M,O,z;if(!B||Ss||!l.isPressed||!w){Vt&&w&&B&&ue(w);return}if(l.pointerEvent=w,E=w.changedTouches,E){if(w=E[0],w!==oe&&w.identifier!==Dt){for(M=E.length;--M>-1&&(w=E[M]).identifier!==Dt&&w.target!==n;);if(M<0)return}}else if(w.pointerId&&Dt&&w.pointerId!==Dt)return;if(ot&&ft&&!Zt&&(he.x=w.pageX-(A?nr(R):0),he.y=w.pageY-(A?er(R):0),Z&&Z.apply(he,he),D=he.x,k=he.y,O=Math.abs(D-j),z=Math.abs(k-q),(O!==z&&(O>f||z>f)||Tr&&ft===Zt)&&(Zt=O>z&&d?"x":"y",ft&&Zt!==ft&&At(ht,"touchforcechange",ue),l.vars.lockAxisOnTouchScroll!==!1&&d&&c&&(l.lockedAxis=Zt==="x"?"y":"x",Ze(l.vars.onLockAxis)&&l.vars.onLockAxis.call(l,C)),Tr&&ft===Zt))){Yt(C);return}!l.allowEventDefault&&(!ft||Zt&&ft!==Zt)&&C.cancelable!==!1?(ue(C),Vt=!0):Vt&&(Vt=!1),l.autoScroll&&(v=!0),pn(w.pageX,w.pageY,$t)},pn=function(w,C,E){var D=1-l.dragResistance,k=1-l.edgeResistance,M=l.pointerX,O=l.pointerY,z=K,F=l.x,Y=l.y,G=l.endX,U=l.endY,J=l.endRotation,at=_t,Pt,Ht,yt,lt,gr,ve;l.pointerX=w,l.pointerY=C,A&&(w-=nr(R),C-=er(R)),s?(lt=Math.atan2(vt.y-C,w-vt.x)*Js,gr=l.y-lt,gr>180?(K-=360,l.y=lt):gr<-180&&(K+=360,l.y=lt),l.x!==I||Math.max(Math.abs(j-w),Math.abs(q-C))>f?(l.y=lt,yt=I+(K-lt)*D):yt=I):(Z&&(ve=w*Z.a+C*Z.c+Z.e,C=w*Z.b+C*Z.d+Z.f,w=ve),Ht=C-q,Pt=w-j,Ht<f&&Ht>-f&&(Ht=0),Pt<f&&Pt>-f&&(Pt=0),(l.lockAxis||l.lockedAxis)&&(Pt||Ht)&&(ve=l.lockedAxis,ve||(l.lockedAxis=ve=d&&Math.abs(Pt)>Math.abs(Ht)?"y":c?"x":null,ve&&Ze(l.vars.onLockAxis)&&l.vars.onLockAxis.call(l,l.pointerEvent)),ve==="y"?Ht=0:ve==="x"&&(Pt=0)),yt=je(I+Pt*D),lt=je(K+Ht*D)),(dt||Mt||Ae)&&(l.x!==yt||l.y!==lt&&!s)&&(Ae&&(Xn.x=yt,Xn.y=lt,ve=Ae(Xn),yt=je(ve.x),lt=je(ve.y)),dt&&(yt=je(dt(yt))),Mt&&(lt=je(Mt(lt)))),st&&(yt>H?yt=H+Math.round((yt-H)*k):yt<nt&&(yt=nt+Math.round((yt-nt)*k)),s||(lt>X?lt=Math.round(X+(lt-X)*k):lt<Q&&(lt=Math.round(Q+(lt-Q)*k)))),(l.x!==yt||l.y!==lt&&!s)&&(s?(l.endRotation=l.x=l.endX=yt,_t=!0):(c&&(l.y=l.endY=lt,_t=!0),d&&(l.x=l.endX=yt,_t=!0)),!E||kt(l,"move","onMove")!==!1?!l.isDragging&&l.isPressed&&(l.isDragging=fn=!0,kt(l,"dragstart","onDragStart")):(l.pointerX=M,l.pointerY=O,K=z,l.x=F,l.y=Y,l.endX=G,l.endY=U,l.endRotation=J,_t=at))},Yt=function w(C,E){if(!B||!l.isPressed||C&&Dt!=null&&!E&&(C.pointerId&&C.pointerId!==Dt&&C.target!==n||C.changedTouches&&!Ec(C.changedTouches,Dt))){Vt&&C&&B&&ue(C);return}l.isPressed=!1;var D=C,k=l.isDragging,M=l.vars.allowContextMenu&&C&&(C.ctrlKey||C.which>2),O=tt.delayedCall(.001,ta),z,F,Y,G,U;if(ot?(Tt(ot,"touchend",w),Tt(ot,"touchmove",ke),Tt(ot,"touchcancel",w),Tt(R,"touchstart",io)):Tt(R,"mousemove",ke),Tt(ht,"touchforcechange",ue),(!bi||!ot)&&(Tt(R,"mouseup",w),C&&C.target&&Tt(C.target,"mouseup",w)),_t=!1,k&&(m=to=Ge(),l.isDragging=!1),ro(Xt),qe&&!M){C&&(Tt(C.target,"change",w),l.pointerEvent=D),ui(p,!1),kt(l,"release","onRelease"),kt(l,"click","onClick"),qe=!1;return}for(F=p.length;--F>-1;)fa(p[F],"cursor",r.cursor||(r.cursor!==!1?Sr:null));if(zi--,C){if(z=C.changedTouches,z&&(C=z[0],C!==oe&&C.identifier!==Dt)){for(F=z.length;--F>-1&&(C=z[F]).identifier!==Dt&&C.target!==n;);if(F<0&&!E)return}l.pointerEvent=D,l.pointerX=C.pageX,l.pointerY=C.pageY}return M&&D?(ue(D),Vt=!0,kt(l,"release","onRelease")):D&&!k?(Vt=!1,Bt&&(r.snap||r.bounds)&&In(r.inertia||r.throwProps),kt(l,"release","onRelease"),(!Tr||D.type!=="touchmove")&&D.type.indexOf("cancel")===-1&&(kt(l,"click","onClick"),Ge()-S<300&&kt(l,"doubleclick","onDoubleClick"),G=D.target||n,S=Ge(),U=function(){S!==zn&&l.enabled()&&!l.isPressed&&!D.defaultPrevented&&(G.click?G.click():R.createEvent&&(Y=R.createEvent("MouseEvents"),Y.initMouseEvent("click",!0,!0,ht,1,l.pointerEvent.screenX,l.pointerEvent.screenY,l.pointerX,l.pointerY,!1,!1,!1,!1,0,null),G.dispatchEvent(Y)))},!Tr&&!D.defaultPrevented&&tt.delayedCall(.05,U))):(In(r.inertia||r.throwProps),!l.allowEventDefault&&D&&(r.dragClickables!==!1||!_.call(l,D.target))&&k&&(!ft||Zt&&ft===Zt)&&D.cancelable!==!1?(Vt=!0,ue(D)):Vt=!1,kt(l,"release","onRelease")),Oe()&&O.duration(l.tween.duration()),k&&kt(l,"dragend","onDragEnd"),!0},Fn=function(w){if(w&&l.isDragging&&!V){var C=w.target||n.parentNode,E=C.scrollLeft-C._gsScrollX,D=C.scrollTop-C._gsScrollY;(E||D)&&(Z?(j-=E*Z.a+D*Z.c,q-=D*Z.d+E*Z.b):(j-=E,q-=D),C._gsScrollX+=E,C._gsScrollY+=D,pn(l.pointerX,l.pointerY))}},ii=function(w){var C=Ge(),E=C-S<100,D=C-m<50,k=E&&zn===S,M=l.pointerEvent&&l.pointerEvent.defaultPrevented,O=E&&fr===S,z=w.isTrusted||w.isTrusted==null&&E&&k;if((k||D&&l.vars.suppressClickOnDrag!==!1)&&w.stopImmediatePropagation&&w.stopImmediatePropagation(),E&&!(l.pointerEvent&&l.pointerEvent.defaultPrevented)&&(!k||z&&!O)){z&&k&&(fr=S),zn=S;return}(l.isPressed||D||E)&&(!z||!w.detail||!E||M)&&ue(w),!E&&!D&&!fn&&(w&&w.target&&(l.pointerEvent=w),kt(l,"click","onClick"))},ai=function(w){return Z?{x:w.x*Z.a+w.y*Z.c+Z.e,y:w.x*Z.b+w.y*Z.d+Z.f}:{x:w.x,y:w.y}};return dn=e.get(n),dn&&dn.kill(),i.startDrag=function(w,C){var E,D,k,M;Ue(w||l.pointerEvent,!0),C&&!l.hitTest(w||l.pointerEvent)&&(E=Yn(w||l.pointerEvent),D=Yn(n),k=ai({x:E.left+E.width/2,y:E.top+E.height/2}),M=ai({x:D.left+D.width/2,y:D.top+D.height/2}),j-=k.x-M.x,q-=k.y-M.y),l.isDragging||(l.isDragging=fn=!0,kt(l,"dragstart","onDragStart"))},i.drag=ke,i.endDrag=function(w){return Yt(w||l.pointerEvent,!0)},i.timeSinceDrag=function(){return l.isDragging?0:(Ge()-m)/1e3},i.timeSinceClick=function(){return(Ge()-S)/1e3},i.hitTest=function(w,C){return e.hitTest(l.target,w,C)},i.getDirection=function(w,C){var E=w==="velocity"&&ye?w:Rr(w)&&!s?"element":"start",D,k,M,O,z,F;return E==="element"&&(z=Yn(l.target),F=Yn(w)),D=E==="start"?l.x-I:E==="velocity"?ye.getVelocity(n,u):z.left+z.width/2-(F.left+F.width/2),s?D<0?"counter-clockwise":"clockwise":(C=C||2,k=E==="start"?l.y-K:E==="velocity"?ye.getVelocity(n,h):z.top+z.height/2-(F.top+F.height/2),M=Math.abs(D/k),O=M<1/C?"":D<0?"left":"right",M<C&&(O!==""&&(O+="-"),O+=k<0?"up":"down"),O)},i.applyBounds=function(w,C){var E,D,k,M,O,z;if(w&&r.bounds!==w)return r.bounds=w,l.update(!0,C);if(le(!0),Ct(),st&&!Oe()){if(E=l.x,D=l.y,E>H?E=H:E<nt&&(E=nt),D>X?D=X:D<Q&&(D=Q),(l.x!==E||l.y!==D)&&(k=!0,l.x=l.endX=E,s?l.endRotation=E:l.y=l.endY=D,_t=!0,Xt(!0),l.autoScroll&&!l.isDragging))for(da(n.parentNode),M=n,Re.scrollTop=ht.pageYOffset!=null?ht.pageYOffset:R.documentElement.scrollTop!=null?R.documentElement.scrollTop:R.body.scrollTop,Re.scrollLeft=ht.pageXOffset!=null?ht.pageXOffset:R.documentElement.scrollLeft!=null?R.documentElement.scrollLeft:R.body.scrollLeft;M&&!z;)z=hr(M.parentNode),O=z?Re:M.parentNode,c&&O.scrollTop>O._gsMaxScrollY&&(O.scrollTop=O._gsMaxScrollY),d&&O.scrollLeft>O._gsMaxScrollX&&(O.scrollLeft=O._gsMaxScrollX),M=O;l.isThrowing&&(k||l.endX>H||l.endX<nt||l.endY>X||l.endY<Q)&&In(r.inertia||r.throwProps,k)}return l},i.update=function(w,C,E){if(C&&l.isPressed){var D=ee(n),k=Nn.apply({x:l.x-I,y:l.y-K}),M=ee(n.parentNode,!0);M.apply({x:D.e-k.x,y:D.f-k.y},k),l.x-=k.x-M.e,l.y-=k.y-M.f,Xt(!0),We()}var O=l.x,z=l.y;return ri(!C),w?l.applyBounds():(_t&&E&&Xt(!0),le(!0)),C&&(pn(l.pointerX,l.pointerY),_t&&Xt(!0)),l.isPressed&&!C&&(d&&Math.abs(O-l.x)>.01||c&&Math.abs(z-l.y)>.01&&!s)&&We(),l.autoScroll&&(da(n.parentNode,l.isDragging),v=l.isDragging,Xt(!0),so(n,Fn),ao(n,Fn)),l},i.enable=function(w){var C={lazy:!0},E,D,k;if(r.cursor!==!1&&(C.cursor=r.cursor||Sr),tt.utils.checkPrefix("touchCallout")&&(C.touchCallout="none"),w!=="soft"){for(eo(p,d===c?"none":r.allowNativeTouchScrolling&&n.scrollHeight===n.clientHeight==(n.scrollWidth===n.clientHeight)||r.allowEventDefault?"manipulation":d?"pan-y":"pan-x"),D=p.length;--D>-1;)k=p[D],bi||At(k,"mousedown",Ue),At(k,"touchstart",Ue),At(k,"click",ii,!0),tt.set(k,C),k.getBBox&&k.ownerSVGElement&&d!==c&&tt.set(k.ownerSVGElement,{touchAction:r.allowNativeTouchScrolling||r.allowEventDefault?"manipulation":d?"pan-y":"pan-x"}),r.allowContextMenu||At(k,"contextmenu",ei);ui(p,!1)}return ao(n,Fn),B=!0,ye&&w!=="soft"&&ye.track(V||n,o?"x,y":s?"rotation":"top,left"),n._gsDragID=E=n._gsDragID||"d"+wc++,tr[E]=l,V&&(V.enable(),V.element._gsDragID=E),(r.bounds||s)&&We(),r.bounds&&l.applyBounds(),l},i.disable=function(w){for(var C=l.isDragging,E=p.length,D;--E>-1;)fa(p[E],"cursor",null);if(w!=="soft"){for(eo(p,null),E=p.length;--E>-1;)D=p[E],fa(D,"touchCallout",null),Tt(D,"mousedown",Ue),Tt(D,"touchstart",Ue),Tt(D,"click",ii,!0),Tt(D,"contextmenu",ei);ui(p,!0),ot&&(Tt(ot,"touchcancel",Yt),Tt(ot,"touchend",Yt),Tt(ot,"touchmove",ke)),Tt(R,"mouseup",Yt),Tt(R,"mousemove",ke)}return so(n,Fn),B=!1,ye&&w!=="soft"&&(ye.untrack(V||n,o?"x,y":s?"rotation":"top,left"),l.tween&&l.tween.kill()),V&&V.disable(),ro(Xt),l.isDragging=l.isPressed=qe=!1,C&&kt(l,"dragend","onDragEnd"),l},i.enabled=function(w,C){return arguments.length?w?l.enable(C):l.disable(C):B},i.kill=function(){return l.isThrowing=!1,l.tween&&l.tween.kill(),l.disable(),tt.set(p,{clearProps:"userSelect"}),delete tr[n._gsDragID],l},i.revert=function(){this.kill(),this.styles&&this.styles.revert()},~a.indexOf("scroll")&&(V=i.scrollProxy=new Dc(n,Lc({onKill:function(){l.isPressed&&Yt(null)}},r)),n.style.overflowY=c&&!Ka?"auto":"hidden",n.style.overflowX=d&&!Ka?"auto":"hidden",n=V.content),s?g.rotation=1:(d&&(g[u]=1),c&&(g[h]=1)),L.force3D="force3D"in r?r.force3D:!0,iu(Qs(i)),i.enable(),i}return e.register=function(n){tt=n,ga()},e.create=function(n,r){return Ya||ga(!0),nn(n).map(function(i){return new e(i,r)})},e.get=function(n){return tr[(nn(n)[0]||{})._gsDragID]},e.timeSinceDrag=function(){return(Ge()-to)/1e3},e.hitTest=function(n,r,i){if(n===r)return!1;var a=Yn(n),o=Yn(r),s=a.top,u=a.left,h=a.right,d=a.bottom,c=a.width,f=a.height,l=o.left>h||o.right<u||o.top>d||o.bottom<s,p,g,m;return l||!i?!l:(m=(i+"").indexOf("%")!==-1,i=parseFloat(i)||0,p={left:Math.max(u,o.left),top:Math.max(s,o.top)},p.width=Math.min(h,o.right)-p.left,p.height=Math.min(d,o.bottom)-p.top,p.width<0||p.height<0?!1:m?(i*=.01,g=p.width*p.height,g>=c*f*i||g>=o.width*o.height*i):p.width>i&&p.height>i)},e}(Oc);Sc(hn.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1});hn.zIndex=1e3;hn.version="3.13.0";su()&&tt.registerPlugin(hn);rt.registerPlugin(hn);const hu=class Wa extends HTMLElement{constructor(){super(),pt(this,"knobElement"),pt(this,"indicatorElement"),pt(this,"pathElement"),pt(this,"gsapDraggable"),pt(this,"config",{minValue:0,maxValue:100,defaultValue:0,minRotation:-170,maxRotation:170,snapIncrement:1,curve:1,disabled:!1,borderStyle:"currentState"}),pt(this,"currentValue",0),pt(this,"currentRotation",0),pt(this,"rotationToValue"),pt(this,"valueToRotation"),pt(this,"applySnapping")}static get observedAttributes(){return["min-value","max-value","default-value","min-rotation","max-rotation","snap-increment","allowed-values","value","disabled","width","height","border-style","curve"]}connectedCallback(){this.injectGlobalStyles(),this.createUtilityFunctions(),this.render(),setTimeout(()=>{this.createDraggable(),this.setValue(this.config.defaultValue||this.config.minValue)},0)}disconnectedCallback(){this.cleanup()}attributeChangedCallback(e,n,r){if(n!==r){if(e==="max-value"||e==="min-value"){const i=this.config.minValue,a=this.config.maxValue;this.updateConfigFromAttributes(),this.updateBorder();let o;e==="max-value"?o=rt.utils.mapRange(i,parseFloat(n),this.config.minValue,this.config.maxValue,this.currentValue):o=rt.utils.mapRange(parseFloat(n),a,this.config.minValue,this.config.maxValue,this.currentValue),this.createUtilityFunctions(),this.setValue(o);return}if(this.updateConfigFromAttributes(),this.updateBorder(),e==="width"||e==="height"||e==="border-style")return;if(e==="curve"){this.createUtilityFunctions(),this.setValue(this.currentValue);return}this.gsapDraggable&&this.reinitialize()}}injectGlobalStyles(){if(Wa.stylesInjected)return;const e=document.createElement("style");e.id="knob-element-styles",e.textContent=`
      knob-element {
        display: block;
        box-sizing: border-box;

        --knob-size: 120px;
        --knob-bg: inherit;  /* or currentColor ? linear-gradient(145deg, #2d2d2d, #1a1a1a); */
        --knob-border: rgb(234, 234, 234);
        --knob-indicator-color: var(--knob-border); 

        width: var(--knob-size, 120px);  /* Default, but overridable */
        height: var(--knob-size, 120px);
      }
      
      knob-element[disabled] {
        opacity: 0.5;
        pointer-events: none; 
      }
      
      knob-element .knob-container {
        position: relative;
        width: 100%; /* Fill parent */
        height: 100%; 
      }

      knob-element .knob-border-svg {
        position: absolute;
        top: 0;
        left: 0;
        pointer-events: none;
      }
      
      knob-element .knob {
        position: relative;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        position: relative;
        cursor: grab;
        transition: transform 0.1s ease;
      }
      
      knob-element .knob:hover {
        transform: scale(1.05);
      }
      
      knob-element .knob:active {
        cursor: grabbing;
        transform: scale(0.95);
      }
      
    `,document.head.appendChild(e),Wa.stylesInjected=!0}updateConfigFromAttributes(){const e=(s,u)=>{const h=this.getAttribute(s);return h!==null?parseFloat(h):u},n=(s,u)=>this.getAttribute(s)||u,r=s=>{const u=this.getAttribute(s);if(u)try{return JSON.parse(u)}catch{console.warn(`KnobElement: Invalid ${s} JSON:`,u);return}},i=r("allowed-values");let a=e("min-value",0),o=e("max-value",100);if(i&&i.length>0){const s=[...i].sort((d,c)=>d-c),u=s[0],h=s[s.length-1];this.hasAttribute("min-value")&&a!==u&&console.debug(`KnobElement: min-value (${a}) doesn't match first allowedValue (${u}). Using ${u}.`),this.hasAttribute("max-value")&&o!==h&&console.debug(`KnobElement: max-value (${o}) doesn't match last allowedValue (${h}). Using ${h}.`),this.hasAttribute("snap-thresholds")&&console.debug("KnobElement: allowedValues overrides snap-increment and snap-thresholds."),a=u,o=h}this.config={minValue:a,maxValue:o,defaultValue:e("default-value",0),minRotation:e("min-rotation",-150),maxRotation:e("max-rotation",150),snapIncrement:e("snap-increment",1),curve:e("curve",1),borderStyle:n("border-style","currentState"),allowedValues:i?[...i].sort((s,u)=>s-u):void 0,snapThresholds:r("snap-thresholds"),disabled:this.hasAttribute("disabled")},this.updateDimensions()}updateDimensions(){const e=this.getAttribute("width"),n=this.getAttribute("height");if(e||n){const r=e||n||"120";this.style.setProperty("--knob-size",`${r}px`)}}render(){this.innerHTML=`
    <div class="knob-container">
      <!-- SVG border (doesn't rotate) -->
      <svg class="knob-border-svg" width="100%" height="100%" viewBox="0 0 100 100">
          <path class="knob-border" 
                fill="none" 
                stroke="var(--knob-border)" 
                stroke-width="4" 
                d="M50,50Z"/>
      </svg>
      
      <!-- Rotating knob content -->
      <div class="knob">
        <div class="knob-indicator"></div>
      </div>

    </div>
  `,this.knobElement=this.querySelector(".knob"),this.indicatorElement=this.querySelector(".knob-indicator"),this.pathElement=this.querySelector(".knob-border")}reinitialize(){this.cleanup(),this.createUtilityFunctions(),this.createDraggable(),this.setValue(this.config.defaultValue||this.config.minValue)}cleanup(){this.gsapDraggable&&this.gsapDraggable.kill()}createUtilityFunctions(){const e=this.config.curve||1;this.rotationToValue=n=>{const r=rt.utils.mapRange(this.config.minRotation,this.config.maxRotation,0,1)(n),i=Math.pow(r,e);return rt.utils.mapRange(0,1,this.config.minValue,this.config.maxValue)(i)},this.valueToRotation=n=>{const r=rt.utils.mapRange(this.config.minValue,this.config.maxValue,0,1)(n),i=Math.pow(r,1/e);return rt.utils.mapRange(0,1,this.config.minRotation,this.config.maxRotation)(i)},this.applySnapping=n=>{if(this.config.allowedValues&&this.config.allowedValues.length>0)return this.config.allowedValues.reduce((i,a)=>Math.abs(a-n)<Math.abs(i-n)?a:i);if(this.config.snapIncrement<=0)return n;let r=this.config.snapIncrement;if(this.config.snapThresholds){for(const{maxValue:i,increment:a}of this.config.snapThresholds)if(n<i){r=a;break}}return Math.round(n/r)*r}}createDraggable(){if(this.config.disabled)return;const e="pointerLockElement"in document&&"requestPointerLock"in HTMLElement.prototype;e||console.info("KnobElement: Pointer lock not supported");let n=0,r=0,i,a=!1;this.gsapDraggable=hn.create(this.knobElement,{type:"y",inertia:!1,overshootTolerance:0,bounds:{minRotation:this.config.minRotation,maxRotation:this.config.maxRotation},onPress:o=>{if(n=this.currentRotation,r=0,a="touches"in o,a&&"touches"in o){const s=o.touches[0];s&&s.clientY}e&&!a&&(this.knobElement.requestPointerLock(),i=s=>{if(document.pointerLockElement===this.knobElement){r+=s.movementY;const u=n-r*4,h=rt.utils.clamp(this.config.minRotation,this.config.maxRotation,u),d=this.rotationToValue(h),c=this.applySnapping(d);this.currentValue=c,c!==d?this.currentRotation=this.valueToRotation(c):this.currentRotation=h,rt.set(this.knobElement,{y:0,rotation:this.currentRotation,duration:0}),this.updateBorder(),this.dispatchChangeEvent()}},document.addEventListener("mousemove",i))},onDrag:()=>{if(!e||a){const o=this.gsapDraggable.y,s=n-o*4,u=rt.utils.clamp(this.config.minRotation,this.config.maxRotation,s),h=this.rotationToValue(u),d=this.applySnapping(h);this.currentValue=d,d!==h?this.currentRotation=this.valueToRotation(d):this.currentRotation=u,rt.set(this.knobElement,{rotation:this.currentRotation,y:0}),this.updateBorder(),this.dispatchChangeEvent()}},onRelease:()=>{e&&!a&&(document.exitPointerLock(),i&&document.removeEventListener("mousemove",i)),a=!1}})[0]}updateBorder(){if(this.pathElement)if((this.getAttribute("border-style")||"currentState")==="currentState"){const e=(this.config.minRotation-90)*Math.PI/180,n=(this.currentRotation-90)*Math.PI/180,r=48*Math.cos(e)+50,i=48*Math.sin(e)+50,a=48*Math.cos(n)+50,o=48*Math.sin(n)+50,s=this.currentRotation-this.config.minRotation,u=Math.abs(s)>180?1:0,h=`M50,50 L${r},${i} A48,48,0,${u},1,${a},${o} Z`;this.pathElement.setAttribute("d",h)}else this.pathElement.setAttribute("d","M50,2 A48,48,0,1,1,49.9,2 Z")}dispatchChangeEvent(){const e=rt.utils.mapRange(this.config.minValue,this.config.maxValue,0,100)(this.currentValue),n=new CustomEvent("knob-change",{detail:{value:this.currentValue,rotation:this.currentRotation,percentage:e},bubbles:!0});this.dispatchEvent(n)}setValue(e,n=!1,r){!this.valueToRotation||!this.knobElement||!this.pathElement||(this.currentValue=rt.utils.clamp(this.config.minValue,this.config.maxValue,e),this.currentRotation=this.valueToRotation(this.currentValue),n?rt.to(this.knobElement,{rotation:this.currentRotation,duration:(r==null?void 0:r.duration)??.3,ease:(r==null?void 0:r.ease)||"power2.out"}):rt.set(this.knobElement,{rotation:this.currentRotation}),this.updateBorder(),this.dispatchChangeEvent())}getValue(){return this.currentValue}setCurve(e){this.config.curve=e,this.createUtilityFunctions(),this.setValue(this.currentValue)}getCurve(){return this.config.curve||1}setDisabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}isDisabled(){return this.hasAttribute("disabled")}getPercentage(){return rt.utils.mapRange(this.config.minValue,this.config.maxValue,0,100)(this.currentValue)}get value(){return this.getValue()}set value(e){this.setValue(e,!1)}get disabled(){return this.isDisabled()}set disabled(e){this.setDisabled(e)}};pt(hu,"stylesInjected",!1);let Rc=hu;function Vc(t,e){let n=null;return(...r)=>{n&&clearTimeout(n),n=setTimeout(()=>t(...r),e)}}const cu=(t,e)=>{const{label:n,valueFormatter:r=l=>l.toFixed(2),showValue:i=!0,useLocalStorage:a=!1,onChange:o,className:s="generic-knob"}=t,u=document.createElement("div");if(u.classList.add(s),u.style.cssText=`
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    font-size: 12px;
    color: #ccc;
  `,n){const l=document.createElement("div");l.textContent=n,l.style.cssText="text-align: center; cursor: pointer;",l.addEventListener("dblclick",()=>{var p;(p=h.setValue)==null||p.call(h,t.defaultValue||0,!0)}),u.appendChild(l)}Qu("knob-element",Rc);const h=document.createElement("knob-element");Object.entries({"min-value":t.minValue??0,"max-value":t.maxValue??1,"default-value":t.defaultValue??.5,"snap-increment":t.snapIncrement??.01,width:t.width??45,height:t.height??45,curve:t.curve??1}).forEach(([l,p])=>{h.setAttribute(l,p.toString())}),t.snapThresholds&&h.setAttribute("snap-thresholds",JSON.stringify(t.snapThresholds)),t.allowedValues&&h.setAttribute("allowed-values",JSON.stringify(t.allowedValues)),u.appendChild(h);const d=()=>{let l=t.paramName||n||"unkown-knob-value";return e&&(l+=":nodeId:"+e),l},c=(()=>{const l=d();if(a&&l){const p=localStorage.getItem(l);if(t.label==="Volume"&&console.log("stored",p),p){const g=parseFloat(p);if(!isNaN(g))return g}}return t.defaultValue??0})(),f=Vc((l,p)=>{try{localStorage.setItem(l,p)}catch{}},200);if(h.addEventListener("knob-change",l=>{const p=l.detail.value;t.state&&(t.state.val=p);const g=d();a&&g&&f(g,String(p)),o==null||o(p)}),i){const l=document.createElement("div");l.textContent=r(c),l.style.cssText="font-size: 10px; color: #999; text-align: center;",u.appendChild(l),h.addEventListener("knob-change",p=>{l.textContent=r(p.detail.value)})}return h.setValue(c),u},{div:zc}=P.tags,Jr=(t,e)=>()=>{if(e.val)return e.val;const n=t.$this.closest("sampler-element");if(n!=null&&n.nodeId)return n.nodeId;const r=document.querySelector("sampler-element");return r!=null&&r.nodeId?r.nodeId:(r==null?void 0:r.getAttribute("node-id"))||""},du=(t,e,n)=>{let r=!1;const i=()=>{if(r)return;const a=t();if(!a)return;const o=e(a);o&&(r=!0,n(o))};return{connect:i,createMountHandler:a=>()=>{i();const o=u=>{u.detail.nodeId===t()&&i()};document.addEventListener("sampler-initialized",o);const s=setInterval(()=>{r||i()},100);return()=>{document.removeEventListener("sampler-initialized",o),clearInterval(s)}}}},ji=(t,e,n,r,i)=>{const{div:a}=r.tags;return o=>{const s=o.attr("target-node-id",""),u=r.state(t.defaultValue);let h=!1;const d=Jr(o,s),c=()=>{var f;if(h)return;const l=d();if(!l)return;const p=e(l);p&&(h=!0,(f=t.onSamplerConnect)==null||f.call(t,p,u,r))};return o.mount(()=>{c();const f=l=>{l.detail.nodeId===d()&&c()};return document.addEventListener("sampler-initialized",f),()=>document.removeEventListener("sampler-initialized",f)}),a({style:i},n({on:u.val,size:.9,onColor:t.onColor||"#4CAF50",onChange:()=>u.val=!u.val}),a(()=>u.val?t.onText:t.offText))}},mt=(t,e)=>n=>{const r=n.attr("target-node-id",""),i=Jr(n,r),a=P.state(t.defaultValue??0),o=n.$this.hasAttribute("label"),s=o?n.$this.getAttribute("label"):void 0,u=o?s===null?void 0:s:t.label;let h=!1,d=null,c=!0;const f=m=>`${t.paramName||t.label||"unknown"}:nodeId:${m}`,l=m=>{if(!t.useLocalStorage||!m)return!1;const v=f(m),y=localStorage.getItem(v);if(y){const x=parseFloat(y);if(!isNaN(x)){a.val=x;const b=d==null?void 0:d.querySelector("knob-element");return b!=null&&b.setValue&&b.setValue(x),!0}}return!1},p=(m,v)=>{if(!(!t.useLocalStorage||!v||c))try{const y=f(v);localStorage.setItem(y,String(m))}catch(y){console.warn("Failed to save knob value to localStorage:",y)}},g=()=>{var m;if(h)return;const v=i();if(!v)return;const y=e(v);if(y){l(v),h=!0;const x=d==null?void 0:d.querySelector("knob-element");(m=t.onConnect)==null||m.call(t,y,a,x),setTimeout(()=>{c=!1},100)}};return n.mount(()=>{g();const m=v=>{v.detail.nodeId===i()&&g()};return document.addEventListener("sampler-initialized",m),()=>{document.removeEventListener("sampler-initialized",m)}}),d=cu({...t,label:u,useLocalStorage:!1,state:a,onChange:m=>{var v;a.val=m;const y=i();y&&p(m,y),(v=t.onChange)==null||v.call(t,m)}},""),zc({style:Zr},d)},Nc={label:"Volume",defaultValue:.75,useLocalStorage:!0,onConnect:(t,e)=>{setTimeout(()=>{P.derive(()=>{(t==null?void 0:t.volume)!==void 0&&(t.volume=e.val)})},0)}},Ic={label:"Dry/Wet",useLocalStorage:!0,defaultValue:.5,onConnect:(t,e)=>{P.derive(()=>{t.setDryWetMix({dry:1-e.val,wet:e.val})})}},Fc={label:"Feedback",useLocalStorage:!0,defaultValue:0,minValue:0,maxValue:1,onConnect:(t,e)=>{P.derive(()=>t.setFeedbackAmount(e.val))}},Bc={label:"Distortion",useLocalStorage:!0,defaultValue:0,minValue:0,maxValue:1,curve:1.5,onConnect:(t,e)=>{P.derive(()=>t.outputBus.setDistortionMacro(e.val))}},Xc={label:"Drive",useLocalStorage:!0,defaultValue:0,minValue:0,maxValue:1,onConnect:(t,e)=>{P.derive(()=>t.outputBus.setDrive(e.val))}},Yc={label:"Clipping",useLocalStorage:!0,defaultValue:0,minValue:0,maxValue:1,onConnect:(t,e)=>{P.derive(()=>t.outputBus.setClippingMacro(e.val))}},Kc={label:"Glide",useLocalStorage:!0,defaultValue:0,minValue:0,maxValue:1,snapIncrement:.001,curve:1,valueFormatter:t=>t.toFixed(3),onConnect:(t,e)=>{P.derive(()=>t.setGlideTime(e.val))}},$c={label:"FB-Pitch",useLocalStorage:!0,defaultValue:1,minValue:.25,maxValue:4,allowedValues:[.25,.5,1,2,3,4],curve:2,onConnect:(t,e)=>{P.derive(()=>t.setFeedbackPitchScale(e.val))}},Hc={label:"FB-Decay",useLocalStorage:!0,defaultValue:.75,minValue:.001,maxValue:1,curve:2,onConnect:(t,e)=>{P.derive(()=>t.setFeedbackDecay(e.val))}},qc={label:"FB-LPF",useLocalStorage:!0,defaultValue:1e4,minValue:400,maxValue:16e3,curve:5,valueFormatter:t=>`${t.toFixed(0)} Hz`,onConnect:(t,e)=>{P.derive(()=>t.setFeedbackLowpassCutoff(e.val))}},Wc={label:"Amp LFO Rate",useLocalStorage:!0,defaultValue:.1,curve:5,snapIncrement:0,onConnect:(t,e)=>{P.derive(()=>{var n;const r=e.val*100+.1;(n=t.gainLFO)==null||n.setFrequency(r)})}},Uc={label:"Amp LFO Depth",useLocalStorage:!0,defaultValue:0,curve:1.5,onConnect:(t,e)=>{P.derive(()=>{var n;return(n=t.gainLFO)==null?void 0:n.setDepth(e.val)})}},jc={label:"Pitch LFO Rate",useLocalStorage:!0,defaultValue:.01,curve:5,snapIncrement:0,onConnect:(t,e)=>{P.derive(()=>{var n;const r=e.val*100+.1;(n=t.pitchLFO)==null||n.setFrequency(r)})}},Gc={label:"Pitch LFO Depth",useLocalStorage:!0,defaultValue:0,curve:1.5,onConnect:(t,e)=>{P.derive(()=>{var n;const r=e.val/10;(n=t.pitchLFO)==null||n.setDepth(r)})}},Zc={label:"Reverb Send",useLocalStorage:!0,defaultValue:0,onConnect:(t,e)=>{P.derive(()=>{t.sendToFx("reverb",e.val)})}},Qc={label:"Reverb Size",useLocalStorage:!0,defaultValue:.5,curve:1,onConnect:(t,e)=>{P.derive(()=>{t.setReverbAmount(e.val)})}},Jc={label:"Loop Drift",useLocalStorage:!0,defaultValue:0,minValue:0,maxValue:1,curve:.5,snapIncrement:.001,valueFormatter:t=>`${(t*100).toFixed(1)}%`,onConnect:(t,e)=>{P.derive(()=>t.setLoopDurationDriftAmount(e.val))}},td={label:"LPF",useLocalStorage:!0,defaultValue:18e3,minValue:20,maxValue:2e4,curve:5,valueFormatter:t=>`${t.toFixed(0)} Hz`,onConnect:(t,e)=>{P.derive(()=>t.setLpfCutoff(e.val))}},ed={label:"HPF",useLocalStorage:!0,defaultValue:40,minValue:20,maxValue:2e4,curve:5,onConnect:(t,e)=>{P.derive(()=>t.setHpfCutoff(e.val))}},nd={label:"AM",useLocalStorage:!0,defaultValue:0,minValue:0,maxValue:1,curve:1,onConnect:(t,e)=>{P.derive(()=>t.setModulationAmount("AM",e.val))}},rd={label:"Start",useLocalStorage:!0,defaultValue:0,snapIncrement:.001,onConnect:(t,e,n)=>{if(n){const r=t.sampleDuration;r>0&&n.setAttribute("max-value",r.toString()),t.onMessage("sample:loaded",i=>{n.setAttribute("max-value",i.durationSeconds.toString()),e.val>i.durationSeconds&&(e.val=0,n.setValue(0,!0))})}P.derive(()=>{t.setSampleStartPoint(e.val)})}},id={label:"End",useLocalStorage:!0,defaultValue:1,snapIncrement:.001,onConnect:(t,e,n)=>{if(n){const r=t.sampleDuration;r>0&&(n.setAttribute("max-value",r.toString()),n.setAttribute("default-value",r.toString())),t.onMessage("sample:loaded",i=>{n.setAttribute("max-value",i.durationSeconds.toString()),n.setAttribute("default-value",i.durationSeconds.toString()),e.val>i.durationSeconds&&(e.val=i.durationSeconds,n.setValue(i.durationSeconds,!0))})}P.derive(()=>{t.setSampleEndPoint(e.val)})}},ad={label:"Loop Start",useLocalStorage:!0,defaultValue:0,minValue:0,snapIncrement:.001,onConnect:(t,e,n)=>{if(n){const r=t.sampleDuration;r>0&&n.setAttribute("max-value",r.toString()),t.onMessage("sample:loaded",i=>{n.setAttribute("max-value",i.durationSeconds.toString()),e.val>i.durationSeconds&&(e.val=0,n.setValue(0,!0))})}P.derive(()=>{t.setLoopStart(e.val)})}},sd={label:"Loop Length",useLocalStorage:!0,defaultValue:1,minValue:0,maxValue:1,curve:4,snapIncrement:0,onConnect:(t,e,n)=>{if(n){const r=t.sampleDuration;r>0&&(n.setAttribute("max-value",r.toString()),n.setAttribute("default-value",r.toString()));const i=Number(localStorage.getItem("loopEnd")),a=Number(localStorage.getItem("loopStart")),o=i-a;o>0&&o<=r-a&&n.setValue(o),t.onMessage("sample:loaded",s=>{n.setAttribute("max-value",s.durationSeconds.toString()),n.setAttribute("default-value",s.durationSeconds.toString()),e.val>s.durationSeconds&&(e.val=s.durationSeconds,n.setValue(s.durationSeconds,!0))})}P.derive(()=>{t.setLoopDuration(e.val)})}},od=mt(Nc,$),ld=mt(Ic,$),ud=mt(Fc,$),hd=mt(Bc,$),cd=mt(Xc,$),dd=mt(Yc,$),fd=mt(Kc,$),pd=mt($c,$),gd=mt(Hc,$),md=mt(qc,$),vd=mt(Wc,$),yd=mt(Uc,$),xd=mt(jc,$),bd=mt(Gc,$),_d=mt(Zc,$),wd=mt(Qc,$),kd=mt(Jc,$),Ld=mt(td,$),Td=mt(ed,$),fu=mt(nd,$),Sd=mt(ad,$),Ed=mt(sd,$),Md=mt(rd,$),Cd=mt(id,$),yr=t=>Object.entries(t).map(([e,n])=>`${e}: ${n};`).join(""),Pd=Object.getPrototypeOf(P.state(null)),Ad=t=>Object.getPrototypeOf(t??0)===Pd?t:P.state(t),{input:Dd,label:Od,span:uo}=P.tags,Gi=({on:t=!1,size:e=1,cursor:n="pointer",offColor:r="#ccc",onColor:i="#2196F3",circleColor:a="white",toggleClass:o="",toggleStyleOverrides:s={},sliderClass:u="",sliderStyleOverrides:h={},circleClass:d="",circleStyleOverrides:c={},circleWhenOnStyleOverrides:f={},onChange:l})=>{const p=Ad(t),g=yr({position:"relative",display:"inline-block",width:1.76*e+"rem",height:e+"rem",cursor:n,...s}),m=yr({opacity:0,width:0,height:0,position:"absolute","z-index":1e4}),v=yr({position:"absolute",top:0,left:0,right:0,bottom:0,transition:".4s","border-radius":e+"rem",...h}),y=yr({position:"absolute",height:.76*e+"rem",width:.76*e+"rem",left:.12*e+"rem",bottom:.12*e+"rem","background-color":a,transition:".4s","border-radius":"50%",...c}),x=yr({transform:`translateX(${.76*e}rem)`,...f});return Od({class:o,style:g},Dd({type:"checkbox",style:m,checked:p,oninput:b=>{const T=b.target.checked;p.val=T,l==null||l(T)}}),uo({class:u,style:()=>`${v}; background-color: ${p.val?i:r};`},uo({class:d,style:()=>y+(p.val?x:"")})))};/*!
 * paths 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Rd=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,Vd=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,zd=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,Nd=/(^[#\.][a-z]|[a-y][a-z])/i,Id=Math.PI/180,Fd=180/Math.PI,hi=Math.sin,ci=Math.cos,me=Math.abs,Fe=Math.sqrt,Bd=Math.atan2,Ua=1e8,ho=function(t){return typeof t=="string"},pu=function(t){return typeof t=="number"},Xd=function(t){return typeof t>"u"},Yd={},Kd={},Ni=1e5,gu=function(t){return Math.round((t+Ua)%1*Ni)/Ni||(t<0?0:1)},it=function(t){return Math.round(t*Ni)/Ni||0},co=function(t){return Math.round(t*1e10)/1e10||0},fo=function(t,e,n,r){var i=t[e],a=r===1?6:ja(i,n,r);if((a||!r)&&a+n+2<i.length)return t.splice(e,0,i.slice(0,n+a+2)),i.splice(0,n+a),1},mu=function(t,e,n){var r=t.length,i=~~(n*r);if(t[i]>e){for(;--i&&t[i]>e;);i<0&&(i=0)}else for(;t[++i]<e&&i<r;);return i<r?i:r-1},$d=function(t,e){var n=t.length;for(t.reverse();n--;)t[n].reversed||Wn(t[n])},po=function(t,e){return e.totalLength=t.totalLength,t.samples?(e.samples=t.samples.slice(0),e.lookup=t.lookup.slice(0),e.minLength=t.minLength,e.resolution=t.resolution):t.totalPoints&&(e.totalPoints=t.totalPoints),e},Hd=function(t,e){var n=t.length,r=t[n-1]||[],i=r.length;n&&e[0]===r[i-2]&&e[1]===r[i-1]&&(e=r.concat(e.slice(2)),n--),t[n]=e};function zr(t){t=ho(t)&&Nd.test(t)&&document.querySelector(t)||t;var e=t.getAttribute?t:0,n;return e&&(t=t.getAttribute("d"))?(e._gsPath||(e._gsPath={}),n=e._gsPath[t],n&&!n._dirty?n:e._gsPath[t]=Ce(t)):t?ho(t)?Ce(t):pu(t[0])?[t]:t:console.warn("Expecting a <path> element or an SVG path data string")}function qd(t){for(var e=[],n=0;n<t.length;n++)e[n]=po(t[n],t[n].slice(0));return po(t,e)}function Wn(t){var e=0,n;for(t.reverse();e<t.length;e+=2)n=t[e],t[e]=t[e+1],t[e+1]=n;t.reversed=!t.reversed}var Wd=function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","path"),r=[].slice.call(t.attributes),i=r.length,a;for(e=","+e+",";--i>-1;)a=r[i].nodeName.toLowerCase(),e.indexOf(","+a+",")<0&&n.setAttributeNS(null,a,r[i].nodeValue);return n},Ud={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"},jd=function(t,e){for(var n=e?e.split(","):[],r={},i=n.length;--i>-1;)r[n[i]]=+t.getAttribute(n[i])||0;return r};function Es(t,e){var n=t.tagName.toLowerCase(),r=.552284749831,i,a,o,s,u,h,d,c,f,l,p,g,m,v,y,x,b,T,_,S,L,A;return n==="path"||!t.getBBox?t:(h=Wd(t,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),A=jd(t,Ud[n]),n==="rect"?(s=A.rx,u=A.ry||s,a=A.x,o=A.y,l=A.width-s*2,p=A.height-u*2,s||u?(g=a+s*(1-r),m=a+s,v=m+l,y=v+s*r,x=v+s,b=o+u*(1-r),T=o+u,_=T+p,S=_+u*r,L=_+u,i="M"+x+","+T+" V"+_+" C"+[x,S,y,L,v,L,v-(v-m)/3,L,m+(v-m)/3,L,m,L,g,L,a,S,a,_,a,_-(_-T)/3,a,T+(_-T)/3,a,T,a,b,g,o,m,o,m+(v-m)/3,o,v-(v-m)/3,o,v,o,y,o,x,b,x,T].join(",")+"z"):i="M"+(a+l)+","+o+" v"+p+" h"+-l+" v"+-p+" h"+l+"z"):n==="circle"||n==="ellipse"?(n==="circle"?(s=u=A.r,c=s*r):(s=A.rx,u=A.ry,c=u*r),a=A.cx,o=A.cy,d=s*r,i="M"+(a+s)+","+o+" C"+[a+s,o+c,a+d,o+u,a,o+u,a-d,o+u,a-s,o+c,a-s,o,a-s,o-c,a-d,o-u,a,o-u,a+d,o-u,a+s,o-c,a+s,o].join(",")+"z"):n==="line"?i="M"+A.x1+","+A.y1+" L"+A.x2+","+A.y2:(n==="polyline"||n==="polygon")&&(f=(t.getAttribute("points")+"").match(Vd)||[],a=f.shift(),o=f.shift(),i="M"+a+","+o+" L"+f.join(","),n==="polygon"&&(i+=","+a+","+o+"z")),h.setAttribute("d",on(h._gsRawPath=Ce(i))),e&&t.parentNode&&(t.parentNode.insertBefore(h,t),t.parentNode.removeChild(t)),h)}function vu(t,e,n){var r=t[e],i=t[e+2],a=t[e+4],o;return r+=(i-r)*n,i+=(a-i)*n,r+=(i-r)*n,o=i+(a+(t[e+6]-a)*n-i)*n-r,r=t[e+1],i=t[e+3],a=t[e+5],r+=(i-r)*n,i+=(a-i)*n,r+=(i-r)*n,it(Bd(i+(a+(t[e+7]-a)*n-i)*n-r,o)*Fd)}function yu(t,e,n){n=Xd(n)?1:co(n)||0,e=co(e)||0;var r=Math.max(0,~~(me(n-e)-1e-8)),i=qd(t);if(e>n&&(e=1-e,n=1-n,$d(i),i.totalLength=0),e<0||n<0){var a=Math.abs(~~Math.min(e,n))+1;e+=a,n+=a}i.totalLength||Pn(i);var o=n>1,s=go(i,e,Yd,!0),u=go(i,n,Kd),h=u.segment,d=s.segment,c=u.segIndex,f=s.segIndex,l=u.i,p=s.i,g=f===c,m=l===p&&g,v,y,x,b,T,_,S,L;if(o||r){for(v=c<f||g&&l<p||m&&u.t<s.t,fo(i,f,p,s.t)&&(f++,v||(c++,m?(u.t=(u.t-s.t)/(1-s.t),l=0):g&&(l-=p))),Math.abs(1-(n-e))<1e-5?c=f-1:!u.t&&c?c--:fo(i,c,l,u.t)&&v&&f++,s.t===1&&(f=(f+1)%i.length),T=[],_=i.length,S=1+_*r,L=f,S+=(_-f+c)%_,b=0;b<S;b++)Hd(T,i[L++%_]);i=T}else if(x=u.t===1?6:ja(h,l,u.t),e!==n)for(y=ja(d,p,m?s.t/u.t:s.t),g&&(x+=y),h.splice(l+x+2),(y||p)&&d.splice(0,p+y),b=i.length;b--;)(b<f||b>c)&&i.splice(b,1);else h.angle=vu(h,l+x,0),l+=x,s=h[l],u=h[l+1],h.length=h.totalLength=0,h.totalPoints=i.totalPoints=8,h.push(s,u,s,u,s,u,s,u);return i.totalLength=0,i}function Gd(t,e,n){e=e||0,t.samples||(t.samples=[],t.lookup=[]);var r=~~t.resolution||12,i=1/r,a=t.length,o=t[e],s=t[e+1],u=e?e/6*r:0,h=t.samples,d=t.lookup,c=(e?t.minLength:Ua)||Ua,f=h[u+n*r-1],l=e?h[u-1]:0,p,g,m,v,y,x,b,T,_,S,L,A,N,R,B,V,j;for(h.length=d.length=0,g=e+2;g<a;g+=6){if(m=t[g+4]-o,v=t[g+2]-o,y=t[g]-o,T=t[g+5]-s,_=t[g+3]-s,S=t[g+1]-s,x=b=L=A=0,me(m)<.01&&me(T)<.01&&me(y)+me(S)<.01)t.length>8&&(t.splice(g,6),g-=6,a-=6);else for(p=1;p<=r;p++)R=i*p,N=1-R,x=b-(b=(R*R*m+3*N*(R*v+N*y))*R),L=A-(A=(R*R*T+3*N*(R*_+N*S))*R),V=Fe(L*L+x*x),V<c&&(c=V),l+=V,h[u++]=l;o+=m,s+=T}if(f)for(f-=l;u<h.length;u++)h[u]+=f;if(h.length&&c){if(t.totalLength=j=h[h.length-1]||0,t.minLength=c,j/c<9999)for(V=B=0,p=0;p<j;p+=c)d[V++]=h[B]<p?++B:B}else t.totalLength=h[0]=0;return e?l-h[e/2-1]:l}function Pn(t,e){var n,r,i;for(i=n=r=0;i<t.length;i++)t[i].resolution=~~e||12,r+=t[i].length,n+=Gd(t[i]);return t.totalPoints=r,t.totalLength=n,t}function ja(t,e,n){if(n<=0||n>=1)return 0;var r=t[e],i=t[e+1],a=t[e+2],o=t[e+3],s=t[e+4],u=t[e+5],h=t[e+6],d=t[e+7],c=r+(a-r)*n,f=a+(s-a)*n,l=i+(o-i)*n,p=o+(u-o)*n,g=c+(f-c)*n,m=l+(p-l)*n,v=s+(h-s)*n,y=u+(d-u)*n;return f+=(v-f)*n,p+=(y-p)*n,t.splice(e+2,4,it(c),it(l),it(g),it(m),it(g+(f-g)*n),it(m+(p-m)*n),it(f),it(p),it(v),it(y)),t.samples&&t.samples.splice(e/6*t.resolution|0,0,0,0,0,0,0,0),6}function go(t,e,n,r){n=n||{},t.totalLength||Pn(t),(e<0||e>1)&&(e=gu(e));var i=0,a=t[0],o,s,u,h,d,c,f;if(!e)f=c=i=0,a=t[0];else if(e===1)f=1,i=t.length-1,a=t[i],c=a.length-8;else{if(t.length>1){for(u=t.totalLength*e,d=c=0;(d+=t[c++].totalLength)<u;)i=c;a=t[i],h=d-a.totalLength,e=(u-h)/(d-h)||0}o=a.samples,s=a.resolution,u=a.totalLength*e,c=a.lookup.length?a.lookup[~~(u/a.minLength)]||0:mu(o,u,e),h=c?o[c-1]:0,d=o[c],d<u&&(h=d,d=o[++c]),f=1/s*((u-h)/(d-h)+c%s),c=~~(c/s)*6,r&&f===1&&(c+6<a.length?(c+=6,f=0):i+1<t.length&&(c=f=0,a=t[++i]))}return n.t=f,n.i=c,n.path=t,n.segment=a,n.segIndex=i,n}function mo(t,e,n,r){var i=t[0],a=r||{},o,s,u,h,d,c,f,l,p;if((e<0||e>1)&&(e=gu(e)),i.lookup||Pn(t),t.length>1){for(u=t.totalLength*e,d=c=0;(d+=t[c++].totalLength)<u;)i=t[c];h=d-i.totalLength,e=(u-h)/(d-h)||0}return o=i.samples,s=i.resolution,u=i.totalLength*e,c=i.lookup.length?i.lookup[e<1?~~(u/i.minLength):i.lookup.length-1]||0:mu(o,u,e),h=c?o[c-1]:0,d=o[c],d<u&&(h=d,d=o[++c]),f=1/s*((u-h)/(d-h)+c%s)||0,p=1-f,c=~~(c/s)*6,l=i[c],a.x=it((f*f*(i[c+6]-l)+3*p*(f*(i[c+4]-l)+p*(i[c+2]-l)))*f+l),a.y=it((f*f*(i[c+7]-(l=i[c+1]))+3*p*(f*(i[c+5]-l)+p*(i[c+3]-l)))*f+l),n&&(a.angle=i.totalLength?vu(i,c,f>=1?1-1e-9:f||1e-9):i.angle||0),a}function Un(t,e,n,r,i,a,o){for(var s=t.length,u,h,d,c,f;--s>-1;)for(u=t[s],h=u.length,d=0;d<h;d+=2)c=u[d],f=u[d+1],u[d]=c*e+f*r+a,u[d+1]=c*n+f*i+o;return t._dirty=1,t}function Zd(t,e,n,r,i,a,o,s,u){if(!(t===s&&e===u)){n=me(n),r=me(r);var h=i%360*Id,d=ci(h),c=hi(h),f=Math.PI,l=f*2,p=(t-s)/2,g=(e-u)/2,m=d*p+c*g,v=-c*p+d*g,y=m*m,x=v*v,b=y/(n*n)+x/(r*r);b>1&&(n=Fe(b)*n,r=Fe(b)*r);var T=n*n,_=r*r,S=(T*_-T*x-_*y)/(T*x+_*y);S<0&&(S=0);var L=(a===o?-1:1)*Fe(S),A=L*(n*v/r),N=L*-(r*m/n),R=(t+s)/2,B=(e+u)/2,V=R+(d*A-c*N),j=B+(c*A+d*N),q=(m-A)/n,I=(v-N)/r,K=(-m-A)/n,st=(-v-N)/r,Ft=q*q+I*I,$t=(I<0?-1:1)*Math.acos(q/Fe(Ft)),H=(q*st-I*K<0?-1:1)*Math.acos((q*K+I*st)/Fe(Ft*(K*K+st*st)));isNaN(H)&&(H=f),!o&&H>0?H-=l:o&&H<0&&(H+=l),$t%=l,H%=l;var nt=Math.ceil(me(H)/(l/4)),X=[],Q=H/nt,oe=4/3*hi(Q/2)/(1+ci(Q/2)),Dt=d*n,vt=c*n,_t=c*-r,dn=d*r,dt;for(dt=0;dt<nt;dt++)i=$t+dt*Q,m=ci(i),v=hi(i),q=ci(i+=Q),I=hi(i),X.push(m-oe*v,v+oe*m,q+oe*I,I-oe*q,q,I);for(dt=0;dt<X.length;dt+=2)m=X[dt],v=X[dt+1],X[dt]=m*Dt+v*_t+V,X[dt+1]=m*vt+v*dn+j;return X[dt-2]=s,X[dt-1]=u,X}}function Ce(t){var e=(t+"").replace(zd,function(A){var N=+A;return N<1e-4&&N>-1e-4?0:N}).match(Rd)||[],n=[],r=0,i=0,a=2/3,o=e.length,s=0,u="ERROR: malformed path: "+t,h,d,c,f,l,p,g,m,v,y,x,b,T,_,S,L=function(A,N,R,B){y=(R-A)/3,x=(B-N)/3,g.push(A+y,N+x,R-y,B-x,R,B)};if(!t||!isNaN(e[0])||isNaN(e[1]))return console.log(u),n;for(h=0;h<o;h++)if(T=l,isNaN(e[h])?(l=e[h].toUpperCase(),p=l!==e[h]):h--,c=+e[h+1],f=+e[h+2],p&&(c+=r,f+=i),h||(m=c,v=f),l==="M")g&&(g.length<8?n.length-=1:s+=g.length),r=m=c,i=v=f,g=[c,f],n.push(g),h+=2,l="L";else if(l==="C")g||(g=[0,0]),p||(r=i=0),g.push(c,f,r+e[h+3]*1,i+e[h+4]*1,r+=e[h+5]*1,i+=e[h+6]*1),h+=6;else if(l==="S")y=r,x=i,(T==="C"||T==="S")&&(y+=r-g[g.length-4],x+=i-g[g.length-3]),p||(r=i=0),g.push(y,x,c,f,r+=e[h+3]*1,i+=e[h+4]*1),h+=4;else if(l==="Q")y=r+(c-r)*a,x=i+(f-i)*a,p||(r=i=0),r+=e[h+3]*1,i+=e[h+4]*1,g.push(y,x,r+(c-r)*a,i+(f-i)*a,r,i),h+=4;else if(l==="T")y=r-g[g.length-4],x=i-g[g.length-3],g.push(r+y,i+x,c+(r+y*1.5-c)*a,f+(i+x*1.5-f)*a,r=c,i=f),h+=2;else if(l==="H")L(r,i,r=c,i),h+=1;else if(l==="V")L(r,i,r,i=c+(p?i-r:0)),h+=1;else if(l==="L"||l==="Z")l==="Z"&&(c=m,f=v,g.closed=!0),(l==="L"||me(r-c)>.5||me(i-f)>.5)&&(L(r,i,c,f),l==="L"&&(h+=2)),r=c,i=f;else if(l==="A"){if(_=e[h+4],S=e[h+5],y=e[h+6],x=e[h+7],d=7,_.length>1&&(_.length<3?(x=y,y=S,d--):(x=S,y=_.substr(2),d-=2),S=_.charAt(1),_=_.charAt(0)),b=Zd(r,i,+e[h+1],+e[h+2],+e[h+3],+_,+S,(p?r:0)+y*1,(p?i:0)+x*1),h+=d,b)for(d=0;d<b.length;d++)g.push(b[d]);r=g[g.length-2],i=g[g.length-1]}else console.log(u);return h=g.length,h<6?(n.pop(),h=0):g[0]===g[h-2]&&g[1]===g[h-1]&&(g.closed=!0),n.totalPoints=s+h,n}function Qd(t,e){e===void 0&&(e=1);for(var n=t[0],r=0,i=[n,r],a=2;a<t.length;a+=2)i.push(n,r,t[a],r=(t[a]-n)*e/2,n=t[a],-r);return i}function Ga(t,e){me(t[0]-t[2])<1e-4&&me(t[1]-t[3])<1e-4&&(t=t.slice(2));var n=t.length-2,r=+t[0],i=+t[1],a=+t[2],o=+t[3],s=[r,i,r,i],u=a-r,h=o-i,d=Math.abs(t[n]-r)<.001&&Math.abs(t[n+1]-i)<.001,c,f,l,p,g,m,v,y,x,b,T,_,S,L,A;for(d&&(t.push(a,o),a=r,o=i,r=t[n-2],i=t[n-1],t.unshift(r,i),n+=4),e=e||e===0?+e:1,l=2;l<n;l+=2)c=r,f=i,r=a,i=o,a=+t[l+2],o=+t[l+3],!(r===a&&i===o)&&(p=u,g=h,u=a-r,h=o-i,m=Fe(p*p+g*g),v=Fe(u*u+h*h),y=Fe(Math.pow(u/v+p/m,2)+Math.pow(h/v+g/m,2)),x=(m+v)*e*.25/y,b=r-(r-c)*(m?x/m:0),T=r+(a-r)*(v?x/v:0),_=r-(b+((T-b)*(m*3/(m+v)+.5)/4||0)),S=i-(i-f)*(m?x/m:0),L=i+(o-i)*(v?x/v:0),A=i-(S+((L-S)*(m*3/(m+v)+.5)/4||0)),(r!==c||i!==f)&&s.push(it(b+_),it(S+A),it(r),it(i),it(T+_),it(L+A)));return r!==a||i!==o||s.length<4?s.push(it(a),it(o),it(a),it(o)):s.length-=2,s.length===2?s.push(r,i,r,i,r,i):d&&(s.splice(0,6),s.length=s.length-6),s}function on(t){pu(t[0])&&(t=[t]);var e="",n=t.length,r,i,a,o;for(i=0;i<n;i++){for(o=t[i],e+="M"+it(o[0])+","+it(o[1])+" C",r=o.length,a=2;a<r;a++)e+=it(o[a++])+","+it(o[a++])+" "+it(o[a++])+","+it(o[a++])+" "+it(o[a++])+","+it(o[a])+" ";o.closed&&(e+="z")}return e}/*!
 * CustomEase 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var qt,xu,bu=function(){return qt||typeof window<"u"&&(qt=window.gsap)&&qt.registerPlugin&&qt},vo=function(){qt=bu(),qt?(qt.registerEase("_CE",cr.create),xu=1):console.warn("Please gsap.registerPlugin(CustomEase)")},Jd=1e20,di=function(t){return~~(t*1e3+(t<0?-.5:.5))/1e3},tf=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/gi,ef=/[cLlsSaAhHvVtTqQ]/g,nf=function(t){var e=t.length,n=Jd,r;for(r=1;r<e;r+=6)+t[r]<n&&(n=+t[r]);return n},rf=function(t,e,n){!n&&n!==0&&(n=Math.max(+t[t.length-1],+t[1]));var r=+t[0]*-1,i=-n,a=t.length,o=1/(+t[a-2]+r),s=-e||(Math.abs(+t[a-1]-+t[1])<.01*(+t[a-2]-+t[0])?nf(t)+i:+t[a-1]+i),u;for(s?s=1/s:s=-o,u=0;u<a;u+=2)t[u]=(+t[u]+r)*o,t[u+1]=(+t[u+1]+i)*s},af=function t(e,n,r,i,a,o,s,u,h,d,c){var f=(e+r)/2,l=(n+i)/2,p=(r+a)/2,g=(i+o)/2,m=(a+s)/2,v=(o+u)/2,y=(f+p)/2,x=(l+g)/2,b=(p+m)/2,T=(g+v)/2,_=(y+b)/2,S=(x+T)/2,L=s-e,A=u-n,N=Math.abs((r-s)*A-(i-u)*L),R=Math.abs((a-s)*A-(o-u)*L),B;return d||(d=[{x:e,y:n},{x:s,y:u}],c=1),d.splice(c||d.length-1,0,{x:_,y:S}),(N+R)*(N+R)>h*(L*L+A*A)&&(B=d.length,t(e,n,f,l,y,x,_,S,h,d,c),t(_,S,b,T,m,v,s,u,h,d,c+1+(d.length-B))),d},cr=function(){function t(n,r,i){xu||vo(),this.id=n,this.setData(r,i)}var e=t.prototype;return e.setData=function(n,r){r=r||{},n=n||"0,0,1,1";var i=n.match(tf),a=1,o=[],s=[],u=r.precision||1,h=u<=1,d,c,f,l,p,g,m,v,y;if(this.data=n,(ef.test(n)||~n.indexOf("M")&&n.indexOf("C")<0)&&(i=Ce(n)[0]),d=i.length,d===4)i.unshift(0,0),i.push(1,1),d=8;else if((d-2)%6)throw"Invalid CustomEase";for((+i[0]!=0||+i[d-2]!=1)&&rf(i,r.height,r.originY),this.segment=i,l=2;l<d;l+=6)c={x:+i[l-2],y:+i[l-1]},f={x:+i[l+4],y:+i[l+5]},o.push(c,f),af(c.x,c.y,+i[l],+i[l+1],+i[l+2],+i[l+3],f.x,f.y,1/(u*2e5),o,o.length-1);for(d=o.length,l=0;l<d;l++)m=o[l],v=o[l-1]||m,(m.x>v.x||v.y!==m.y&&v.x===m.x||m===v)&&m.x<=1?(v.cx=m.x-v.x,v.cy=m.y-v.y,v.n=m,v.nx=m.x,h&&l>1&&Math.abs(v.cy/v.cx-o[l-2].cy/o[l-2].cx)>2&&(h=0),v.cx<a&&(v.cx?a=v.cx:(v.cx=.001,l===d-1&&(v.x-=.001,a=Math.min(a,.001),h=0)))):(o.splice(l--,1),d--);if(d=1/a+1|0,p=1/d,g=0,m=o[0],h){for(l=0;l<d;l++)y=l*p,m.nx<y&&(m=o[++g]),c=m.y+(y-m.x)/m.cx*m.cy,s[l]={x:y,cx:p,y:c,cy:0,nx:9},l&&(s[l-1].cy=c-s[l-1].y);g=o[o.length-1],s[d-1].cy=g.y-c,s[d-1].cx=g.x-s[s.length-1].x}else{for(l=0;l<d;l++)m.nx<l*p&&(m=o[++g]),s[l]=m;g<o.length-1&&(s[l-1]=o[o.length-2])}return this.ease=function(x){var b=s[x*d|0]||s[d-1];return b.nx<x&&(b=b.n),b.y+(x-b.x)/b.cx*b.cy},this.ease.custom=this,this.id&&qt&&qt.registerEase(this.id,this.ease),this},e.getSVGData=function(n){return t.getSVGData(this,n)},t.create=function(n,r,i){return new t(n,r,i).ease},t.register=function(n){qt=n,vo()},t.get=function(n){return qt.parseEase(n)},t.getSVGData=function(n,r){r=r||{};var i=r.width||100,a=r.height||100,o=r.x||0,s=(r.y||0)+a,u=qt.utils.toArray(r.path)[0],h,d,c,f,l,p,g,m,v,y;if(r.invert&&(a=-a,s=0),typeof n=="string"&&(n=qt.parseEase(n)),n.custom&&(n=n.custom),n instanceof t)h=on(Un([n.segment],i,0,0,-a,o,s));else{for(h=[o,s],g=Math.max(5,(r.precision||1)*200),f=1/g,g+=2,m=5/g,v=di(o+f*i),y=di(s+n(f)*-a),d=(y-s)/(v-o),c=2;c<g;c++)l=di(o+c*f*i),p=di(s+n(c*f)*-a),(Math.abs((p-y)/(l-v)-d)>m||c===g-1)&&(h.push(v,y),d=(p-y)/(l-v)),v=l,y=p;h="M"+h.join(",")}return u&&u.setAttribute("d",h),h},t}();cr.version="3.13.0";cr.headless=!0;bu()&&qt.registerPlugin(cr);/*!
 * MotionPathPlugin 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var sf="x,translateX,left,marginLeft,xPercent".split(","),of="y,translateY,top,marginTop,yPercent".split(","),lf=Math.PI/180,de,_u,Kn,Za,ma,yo,uf=function(){return de||typeof window<"u"&&(de=window.gsap)&&de.registerPlugin&&de},xr=function(t,e,n,r){for(var i=e.length,a=r===2?0:r,o=0;o<i;o++)t[a]=parseFloat(e[o][n]),r===2&&(t[a+1]=0),a+=2;return t},jn=function(t,e,n){return parseFloat(t._gsap.get(t,e,n||"px"))||0},wu=function(t){var e=t[0],n=t[1],r;for(r=2;r<t.length;r+=2)e=t[r]+=e,n=t[r+1]+=n},xo=function(t,e,n,r,i,a,o,s,u){if(o.type==="cubic")e=[e];else{o.fromCurrent!==!1&&e.unshift(jn(n,r,s),i?jn(n,i,u):0),o.relative&&wu(e);var h=i?Ga:Qd;e=[h(e,o.curviness)]}return e=a(ku(e,n,o)),Ii(t,n,r,e,"x",s),i&&Ii(t,n,i,e,"y",u),Pn(e,o.resolution||(o.curviness===0?20:12))},hf=function(t){return t},cf=/[-+\.]*\d+\.?(?:e-|e\+)?\d*/g,bo=function(t,e,n){var r=ee(t),i=0,a=0,o;return(t.tagName+"").toLowerCase()==="svg"?(o=t.viewBox.baseVal,o.width||(o={width:+t.getAttribute("width"),height:+t.getAttribute("height")})):o=e&&t.getBBox&&t.getBBox(),e&&e!=="auto"&&(i=e.push?e[0]*(o?o.width:t.offsetWidth||0):e.x,a=e.push?e[1]*(o?o.height:t.offsetHeight||0):e.y),n.apply(i||a?r.apply({x:i,y:a}):{x:r.e,y:r.f})},Qa=function(t,e,n,r){var i=ee(t.parentNode,!0,!0),a=i.clone().multiply(ee(e)),o=bo(t,n,i),s=bo(e,r,i),u=s.x,h=s.y,d;return a.e=a.f=0,r==="auto"&&e.getTotalLength&&e.tagName.toLowerCase()==="path"&&(d=e.getAttribute("d").match(cf)||[],d=a.apply({x:+d[0],y:+d[1]}),u+=d.x,h+=d.y),d&&(d=a.apply(e.getBBox()),u-=d.x,h-=d.y),a.e=u-o.x,a.f=h-o.y,a},ku=function(t,e,n){var r=n.align,i=n.matrix,a=n.offsetX,o=n.offsetY,s=n.alignOrigin,u=t[0][0],h=t[0][1],d=jn(e,"x"),c=jn(e,"y"),f,l,p;return!t||!t.length?zr("M0,0L0,0"):(r&&(r==="self"||(f=Za(r)[0]||e)===e?Un(t,1,0,0,1,d-u,c-h):(s&&s[2]!==!1?de.set(e,{transformOrigin:s[0]*100+"% "+s[1]*100+"%"}):s=[jn(e,"xPercent")/-100,jn(e,"yPercent")/-100],l=Qa(e,f,s,"auto"),p=l.apply({x:u,y:h}),Un(t,l.a,l.b,l.c,l.d,d+l.e-(p.x-l.e),c+l.f-(p.y-l.f)))),i?Un(t,i.a,i.b,i.c,i.d,i.e,i.f):(a||o)&&Un(t,1,0,0,1,a||0,o||0),t)},Ii=function(t,e,n,r,i,a){var o=e._gsap,s=o.harness,u=s&&s.aliases&&s.aliases[n],h=u&&u.indexOf(",")<0?u:n,d=t._pt=new _u(t._pt,e,h,0,0,hf,0,o.set(e,h,t));d.u=Kn(o.get(e,h,a))||0,d.path=r,d.pp=i,t._props.push(h)},df=function(t,e){return function(n){return t||e!==1?yu(n,t,e):n}},Ms={version:"3.13.0",name:"motionPath",register:function(t,e,n){de=t,Kn=de.utils.getUnit,Za=de.utils.toArray,ma=de.core.getStyleSaver,yo=de.core.reverting||function(){},_u=n},init:function(t,e,n){if(!de)return console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),!1;(!(typeof e=="object"&&!e.style)||!e.path)&&(e={path:e});var r=[],i=e,a=i.path,o=i.autoRotate,s=i.unitX,u=i.unitY,h=i.x,d=i.y,c=a[0],f=df(e.start,"end"in e?e.end:1),l,p;if(this.rawPaths=r,this.target=t,this.tween=n,this.styles=ma&&ma(t,"transform"),(this.rotate=o||o===0)&&(this.rOffset=parseFloat(o)||0,this.radians=!!e.useRadians,this.rProp=e.rotation||"rotation",this.rSet=t._gsap.set(t,this.rProp,this),this.ru=Kn(t._gsap.get(t,this.rProp))||0),Array.isArray(a)&&!("closed"in a)&&typeof c!="number"){for(p in c)!h&&~sf.indexOf(p)?h=p:!d&&~of.indexOf(p)&&(d=p);h&&d?r.push(xo(this,xr(xr([],a,h,0),a,d,1),t,h,d,f,e,s||Kn(a[0][h]),u||Kn(a[0][d]))):h=d=0;for(p in c)p!==h&&p!==d&&r.push(xo(this,xr([],a,p,2),t,p,0,f,e,Kn(a[0][p])))}else l=f(ku(zr(e.path),t,e)),Pn(l,e.resolution),r.push(l),Ii(this,t,e.x||"x",l,"x",e.unitX||"px"),Ii(this,t,e.y||"y",l,"y",e.unitY||"px");n.vars.immediateRender&&this.render(n.progress(),this)},render:function(t,e){var n=e.rawPaths,r=n.length,i=e._pt;if(e.tween._time||!yo()){for(t>1?t=1:t<0&&(t=0);r--;)mo(n[r],t,!r&&e.rotate,n[r]);for(;i;)i.set(i.t,i.p,i.path[i.pp]+i.u,i.d,t),i=i._next;e.rotate&&e.rSet(e.target,e.rProp,n[0].angle*(e.radians?lf:1)+e.rOffset+e.ru,e,t)}else e.styles.revert()},getLength:function(t){return Pn(zr(t)).totalLength},sliceRawPath:yu,getRawPath:zr,pointsToSegment:Ga,stringToRawPath:Ce,rawPathToString:on,transformRawPath:Un,getGlobalMatrix:ee,getPositionOnPath:mo,cacheRawPathMeasurements:Pn,convertToPath:function(t,e){return Za(t).map(function(n){return Es(n,e!==!1)})},convertCoordinates:function(t,e,n){var r=ee(e,!0,!0).multiply(ee(t));return n?r.apply(n):r},getAlignMatrix:Qa,getRelativePosition:function(t,e,n,r){var i=Qa(t,e,n,r);return{x:i.e,y:i.f}},arrayToRawPath:function(t,e){e=e||{};var n=xr(xr([],t,e.x||"x",0),t,e.y||"y",1);return e.relative&&wu(n),[e.type==="cubic"?n:Ga(n,e.curviness)]}};uf()&&de.registerPlugin(Ms);/*!
 * DrawSVGPlugin 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Me,Cs,Fi,Lu,Tu,_o,Ja,Su,Eu=function(){return typeof window<"u"},Mu=function(){return Me||Eu()&&(Me=window.gsap)&&Me.registerPlugin&&Me},ff=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,va={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]},bn=function(t){return Math.round(t*1e4)/1e4},Ye=function(t){return parseFloat(t)||0},wo=function(t,e){var n=Ye(t);return~t.indexOf("%")?n/100*e:n},fi=function(t,e){return Ye(t.getAttribute(e))},wi=Math.sqrt,ko=function(t,e,n,r,i,a){return wi(Math.pow((Ye(n)-Ye(t))*i,2)+Math.pow((Ye(r)-Ye(e))*a,2))},Lo=function(t){return console.warn(t)},Cu=function(t){return t.getAttribute("vector-effect")==="non-scaling-stroke"},pf=1,gf=function(t,e,n){var r=t.indexOf(" "),i,a;return r<0?(i=n!==void 0?n+"":t,a=t):(i=t.substr(0,r),a=t.substr(r+1)),i=wo(i,e),a=wo(a,e),i>a?[a,i]:[i,a]},ki=function(t){if(t=Cs(t)[0],!t)return 0;var e=t.tagName.toLowerCase(),n=t.style,r=1,i=1,a,o,s,u,h,d,c;Cu(t)&&(i=t.getScreenCTM(),r=wi(i.a*i.a+i.b*i.b),i=wi(i.d*i.d+i.c*i.c));try{o=t.getBBox()}catch{Lo("Some browsers won't measure invisible elements (like display:none or masks inside defs).")}var f=o||{x:0,y:0,width:0,height:0},l=f.x,p=f.y,g=f.width,m=f.height;if((!o||!g&&!m)&&va[e]&&(g=fi(t,va[e][0]),m=fi(t,va[e][1]),e!=="rect"&&e!=="line"&&(g*=2,m*=2),e==="line"&&(l=fi(t,"x1"),p=fi(t,"y1"),g=Math.abs(g-l),m=Math.abs(m-p))),e==="path")u=n.strokeDasharray,n.strokeDasharray="none",a=t.getTotalLength()||0,bn(r)!==bn(i)&&!_o&&(_o=1)&&Lo("Warning: <path> length cannot be measured when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."),a*=(r+i)/2,n.strokeDasharray=u;else if(e==="rect")a=g*2*r+m*2*i;else if(e==="line")a=ko(l,p,l+g,p+m,r,i);else if(e==="polyline"||e==="polygon")for(s=t.getAttribute("points").match(ff)||[],e==="polygon"&&s.push(s[0],s[1]),a=0,h=2;h<s.length;h+=2)a+=ko(s[h-2],s[h-1],s[h],s[h+1],r,i)||0;else(e==="circle"||e==="ellipse")&&(d=g/2*r,c=m/2*i,a=Math.PI*(3*(d+c)-wi((3*d+c)*(d+3*c))));return a||0},To=function(t,e){if(t=Cs(t)[0],!t)return[0,0];e||(e=ki(t)+1);var n=Fi.getComputedStyle(t),r=n.strokeDasharray||"",i=Ye(n.strokeDashoffset),a=r.indexOf(",");return a<0&&(a=r.indexOf(" ")),r=a<0?e:Ye(r.substr(0,a)),r>e&&(r=e),[-i||0,r-i||0]},So=function(){Eu()&&(Fi=window,Tu=Me=Mu(),Cs=Me.utils.toArray,Ja=Me.core.getStyleSaver,Su=Me.core.reverting||function(){},Lu=((Fi.navigator||{}).userAgent||"").indexOf("Edge")!==-1)},Pu={version:"3.13.0",name:"drawSVG",register:function(t){Me=t,So()},init:function(t,e,n,r,i){if(!t.getBBox)return!1;Tu||So();var a=ki(t),o,s,u;return this.styles=Ja&&Ja(t,"strokeDashoffset,strokeDasharray,strokeMiterlimit"),this.tween=n,this._style=t.style,this._target=t,e+""=="true"?e="0 100%":e?(e+"").indexOf(" ")===-1&&(e="0 "+e):e="0 0",o=To(t,a),s=gf(e,a,o[0]),this._length=bn(a),this._dash=bn(o[1]-o[0]),this._offset=bn(-o[0]),this._dashPT=this.add(this,"_dash",this._dash,bn(s[1]-s[0]),0,0,0,0,0,1),this._offsetPT=this.add(this,"_offset",this._offset,bn(-s[0]),0,0,0,0,0,1),Lu&&(u=Fi.getComputedStyle(t),u.strokeLinecap!==u.strokeLinejoin&&(s=Ye(u.strokeMiterlimit),this.add(t.style,"strokeMiterlimit",s,s+.01))),this._live=Cu(t)||~(e+"").indexOf("live"),this._nowrap=~(e+"").indexOf("nowrap"),this._props.push("drawSVG"),pf},render:function(t,e){if(e.tween._time||!Su()){var n=e._pt,r=e._style,i,a,o,s;if(n){for(e._live&&(i=ki(e._target),i!==e._length&&(a=i/e._length,e._length=i,e._offsetPT&&(e._offsetPT.s*=a,e._offsetPT.c*=a),e._dashPT?(e._dashPT.s*=a,e._dashPT.c*=a):e._dash*=a));n;)n.r(t,n.d),n=n._next;o=e._dash||t&&t!==1&&1e-4||0,i=e._length-o+.1,s=e._offset,o&&s&&o+Math.abs(s%e._length)>e._length-.05&&(s+=s<0?.005:-.005)&&(i+=.005),r.strokeDashoffset=o?s:s+.001,r.strokeDasharray=i<.1?"none":o?o+"px,"+(e._nowrap?999999:i)+"px":"0px, 999999px"}}else e.styles.revert()},getLength:ki,getPosition:To};Mu()&&Me.registerPlugin(Pu);/*!
 * MorphSVGPlugin 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var be,Ps,Er,Au,Mr,Du=function(){return be||typeof window<"u"&&(be=window.gsap)&&be.registerPlugin&&be},ya=function(t){return typeof t=="function"},wn=Math.atan2,Eo=Math.cos,Mo=Math.sin,Ke=Math.sqrt,Zi=Math.PI,Co=Zi*2,mf=Zi*.3,vf=Zi*.7,Ou=1e20,Gr=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,yf=/(^[#\.][a-z]|[a-y][a-z])/i,xf=/[achlmqstvz]/i,rn=function(t){return console&&console.warn(t)},bf=1,Po=function(t){var e=t.length,n=0,r=0,i;for(i=0;i<e;i++)n+=t[i++],r+=t[i];return[n/(e/2),r/(e/2)]},rr=function(t){var e=t.length,n=t[0],r=n,i=t[1],a=i,o,s,u;for(u=6;u<e;u+=6)o=t[u],s=t[u+1],o>n?n=o:o<r&&(r=o),s>i?i=s:s<a&&(a=s);return t.centerX=(n+r)/2,t.centerY=(i+a)/2,t.size=(n-r)*(i-a)},Nr=function(t,e){e===void 0&&(e=3);for(var n=t.length,r=t[0][0],i=r,a=t[0][1],o=a,s=1/e,u,h,d,c,f,l,p,g,m,v,y,x,b,T,_,S;--n>-1;)for(f=t[n],u=f.length,c=6;c<u;c+=6)for(m=f[c],v=f[c+1],y=f[c+2]-m,T=f[c+3]-v,x=f[c+4]-m,_=f[c+5]-v,b=f[c+6]-m,S=f[c+7]-v,l=e;--l>-1;)p=s*l,g=1-p,h=(p*p*b+3*g*(p*x+g*y))*p+m,d=(p*p*S+3*g*(p*_+g*T))*p+v,h>r?r=h:h<i&&(i=h),d>a?a=d:d<o&&(o=d);return t.centerX=(r+i)/2,t.centerY=(a+o)/2,t.left=i,t.width=r-i,t.top=o,t.height=a-o,t.size=(r-i)*(a-o)},_f=function(t,e){return e.length-t.length},Ao=function(t,e){var n=t.size||rr(t),r=e.size||rr(e);return Math.abs(r-n)<(n+r)/20?e.centerX-t.centerX||e.centerY-t.centerY:r-n},Do=function(t,e){var n=t.slice(0),r=t.length,i=r-2,a,o;for(e=e|0,a=0;a<r;a++)o=(a+e)%i,t[a++]=n[o],t[a]=n[o+1]},xa=function(t,e,n,r,i){var a=t.length,o=0,s=a-2,u,h,d,c;for(n*=6,h=0;h<a;h+=6)u=(h+n)%s,c=t[u]-(e[h]-r),d=t[u+1]-(e[h+1]-i),o+=Ke(d*d+c*c);return o},wf=function(t,e,n){var r=t.length,i=Po(t),a=Po(e),o=a[0]-i[0],s=a[1]-i[1],u=xa(t,e,0,o,s),h=0,d,c,f;for(f=6;f<r;f+=6)c=xa(t,e,f/6,o,s),c<u&&(u=c,h=f);if(n)for(d=t.slice(0),Wn(d),f=6;f<r;f+=6)c=xa(d,e,f/6,o,s),c<u&&(u=c,h=-f);return h/6},kf=function(t,e,n){for(var r=t.length,i=Ou,a=0,o=0,s,u,h,d,c,f;--r>-1;)for(s=t[r],f=s.length,c=0;c<f;c+=6)u=s[c]-e,h=s[c+1]-n,d=Ke(u*u+h*h),d<i&&(i=d,a=s[c],o=s[c+1]);return[a,o]},Lf=function(t,e,n,r,i,a){var o=e.length,s=0,u=Math.min(t.size||rr(t),e[n].size||rr(e[n]))*r,h=Ou,d=t.centerX+i,c=t.centerY+a,f,l,p,g,m;for(l=n;l<o&&(f=e[l].size||rr(e[l]),!(f<u));l++)p=e[l].centerX-d,g=e[l].centerY-c,m=Ke(p*p+g*g),m<h&&(s=l,h=m);return m=e[s],e.splice(s,1),m},ba=function(t,e){var n=0,r=.999999,i=t.length,a=e/((i-2)/6),o,s,u,h,d,c,f,l,p,g,m,v,y,x;for(y=2;y<i;y+=6)for(n+=a;n>r;)o=t[y-2],s=t[y-1],u=t[y],h=t[y+1],d=t[y+2],c=t[y+3],f=t[y+4],l=t[y+5],x=1/((Math.floor(n)||1)+1),p=o+(u-o)*x,m=u+(d-u)*x,p+=(m-p)*x,m+=(d+(f-d)*x-m)*x,g=s+(h-s)*x,v=h+(c-h)*x,g+=(v-g)*x,v+=(c+(l-c)*x-v)*x,t.splice(y,4,o+(u-o)*x,s+(h-s)*x,p,g,p+(m-p)*x,g+(v-g)*x,m,v,d+(f-d)*x,c+(l-c)*x),y+=6,i+=6,n--;return t},ts=function(t,e,n,r,i){var a=e.length-t.length,o=a>0?e:t,s=a>0?t:e,u=0,h=r==="complexity"?_f:Ao,d=r==="position"?0:typeof r=="number"?r:.8,c=s.length,f=typeof n=="object"&&n.push?n.slice(0):[n],l=f[0]==="reverse"||f[0]<0,p=n==="log",g,m,v,y,x,b,T;if(s[0]){if(o.length>1&&(t.sort(h),e.sort(h),b=o.size||Nr(o),b=s.size||Nr(s),b=o.centerX-s.centerX,T=o.centerY-s.centerY,h===Ao))for(c=0;c<s.length;c++)o.splice(c,0,Lf(s[c],o,c,d,b,T));if(a)for(a<0&&(a=-a),o[0].length>s[0].length&&ba(s[0],(o[0].length-s[0].length)/6|0),c=s.length;u<a;)y=o[c].size||rr(o[c]),v=kf(s,o[c].centerX,o[c].centerY),y=v[0],x=v[1],s[c++]=[y,x,y,x,y,x,y,x],s.totalPoints+=8,u++;for(c=0;c<t.length;c++)g=e[c],m=t[c],a=g.length-m.length,a<0?ba(g,-a/6|0):a>0&&ba(m,a/6|0),l&&i!==!1&&!m.reversed&&Wn(m),n=f[c]||f[c]===0?f[c]:"auto",n&&(m.closed||Math.abs(m[0]-m[m.length-2])<.5&&Math.abs(m[1]-m[m.length-1])<.5?n==="auto"||n==="log"?(f[c]=n=wf(m,g,!c||i===!1),n<0&&(l=!0,Wn(m),n=-n),Do(m,n*6)):n!=="reverse"&&(c&&n<0&&Wn(m),Do(m,(n<0?-n:n)*6)):!l&&(n==="auto"&&Math.abs(g[0]-m[0])+Math.abs(g[1]-m[1])+Math.abs(g[g.length-2]-m[m.length-2])+Math.abs(g[g.length-1]-m[m.length-1])>Math.abs(g[0]-m[m.length-2])+Math.abs(g[1]-m[m.length-1])+Math.abs(g[g.length-2]-m[0])+Math.abs(g[g.length-1]-m[1])||n%2)?(Wn(m),f[c]=-1,l=!0):n==="auto"?f[c]=0:n==="reverse"&&(f[c]=-1),m.closed!==g.closed&&(m.closed=g.closed=!1));return p&&rn("shapeIndex:["+f.join(",")+"]"),t.shapeIndex=f,f}},Oo=function(t,e,n,r,i){var a=Ce(t[0]),o=Ce(t[1]);ts(a,o,e||e===0?e:"auto",n,i)&&(t[0]=on(a),t[1]=on(o),(r==="log"||r===!0)&&rn('precompile:["'+t[0]+'","'+t[1]+'"]'))},Tf=function(t,e){if(!e)return t;var n=t.match(Gr)||[],r=n.length,i="",a,o,s;for(e==="reverse"?(o=r-1,a=-2):(o=((parseInt(e,10)||0)*2+1+r*100)%r,a=2),s=0;s<r;s+=2)i+=n[o-1]+","+n[o]+" ",o=(o+a)%r;return i},Ro=function(t,e){var n=0,r=parseFloat(t[0]),i=parseFloat(t[1]),a=r+","+i+" ",o=.999999,s,u,h,d,c,f,l;for(h=t.length,s=e*.5/(h*.5-1),u=0;u<h-2;u+=2){if(n+=s,f=parseFloat(t[u+2]),l=parseFloat(t[u+3]),n>o)for(c=1/(Math.floor(n)+1),d=1;n>o;)a+=(r+(f-r)*c*d).toFixed(2)+","+(i+(l-i)*c*d).toFixed(2)+" ",n--,d++;a+=f+","+l+" ",r=f,i=l}return a},es=function(t){var e=t[0].match(Gr)||[],n=t[1].match(Gr)||[],r=n.length-e.length;r>0?t[0]=Ro(e,r):t[1]=Ro(n,-r)},Sf=function(t){return isNaN(t)?es:function(e){es(e),e[1]=Tf(e[1],parseInt(t,10))}},Ef=function(t,e,n){var r=typeof t=="string",i,a;return(!r||yf.test(t)||(t.match(Gr)||[]).length<3)&&(i=Ps(t)[0],i?(a=(i.nodeName+"").toUpperCase(),e&&a!=="PATH"&&(i=Es(i,!1),a="PATH"),t=i.getAttribute(a==="PATH"?"d":"points")||"",i===n&&(t=i.getAttributeNS(null,"data-original")||t)):(rn("WARNING: invalid morph to: "+t),t=!1)),t},Vo=function(t,e){for(var n=t.length,r=.2*(e||1),i,a,o,s,u,h,d,c,f,l,p,g;--n>-1;){for(a=t[n],p=a.isSmooth=a.isSmooth||[0,0,0,0],g=a.smoothData=a.smoothData||[0,0,0,0],p.length=4,c=a.length-2,d=6;d<c;d+=6)o=a[d]-a[d-2],s=a[d+1]-a[d-1],u=a[d+2]-a[d],h=a[d+3]-a[d+1],f=wn(s,o),l=wn(h,u),i=Math.abs(f-l)<r,i&&(g[d-2]=f,g[d+2]=l,g[d-1]=Ke(o*o+s*s),g[d+3]=Ke(u*u+h*h)),p.push(i,i,0,0,i,i);a[c]===a[0]&&a[c+1]===a[1]&&(o=a[0]-a[c-2],s=a[1]-a[c-1],u=a[2]-a[0],h=a[3]-a[1],f=wn(s,o),l=wn(h,u),Math.abs(f-l)<r&&(g[c-2]=f,g[2]=l,g[c-1]=Ke(o*o+s*s),g[3]=Ke(u*u+h*h),p[c-2]=p[c-1]=!0))}return t},zo=function(t){var e=t.trim().split(" "),n=~t.indexOf("left")?0:~t.indexOf("right")?100:isNaN(parseFloat(e[0]))?50:parseFloat(e[0]),r=~t.indexOf("top")?0:~t.indexOf("bottom")?100:isNaN(parseFloat(e[1]))?50:parseFloat(e[1]);return{x:n/100,y:r/100}},Mf=function(t){return t!==t%Zi?t+(t<0?Co:-Co):t},No="Use MorphSVGPlugin.convertToPath() to convert to a path before morphing.",Cf=function(t,e,n,r){var i=this._origin,a=this._eOrigin,o=t[n]-i.x,s=t[n+1]-i.y,u=Ke(o*o+s*s),h=wn(s,o),d,c;return o=e[n]-a.x,s=e[n+1]-a.y,d=wn(s,o)-h,c=Mf(d),!r&&Er&&Math.abs(c+Er.ca)<mf&&(r=Er),this._anchorPT=Er={_next:this._anchorPT,t,sa:h,ca:r&&c*r.ca<0&&Math.abs(c)>vf?d:c,sl:u,cl:Ke(o*o+s*s)-u,i:n}},Io=function(t){be=Du(),Mr=Mr||be&&be.plugins.morphSVG,be&&Mr?(Ps=be.utils.toArray,Mr.prototype._tweenRotation=Cf,Au=1):t&&rn("Please gsap.registerPlugin(MorphSVGPlugin)")},Gn={version:"3.13.0",name:"morphSVG",rawVars:1,register:function(t,e){be=t,Mr=e,Io()},init:function(t,e,n,r,i){if(Au||Io(1),!e)return rn("invalid shape"),!1;ya(e)&&(e=e.call(n,r,t,i));var a,o,s,u,h,d,c,f,l,p,g,m,v,y,x,b,T,_,S,L,A,N;if(typeof e=="string"||e.getBBox||e[0])e={shape:e};else if(typeof e=="object"){a={};for(o in e)a[o]=ya(e[o])&&o!=="render"?e[o].call(n,r,t,i):e[o];e=a}var R=t.nodeType?window.getComputedStyle(t):{},B=R.fill+"",V=!(B==="none"||(B.match(Gr)||[])[3]==="0"||R.fillRule==="evenodd"),j=(e.origin||"50 50").split(",");if(a=(t.nodeName+"").toUpperCase(),h=a==="POLYLINE"||a==="POLYGON",a!=="PATH"&&!h&&!e.prop)return rn("Cannot morph a <"+a+"> element. "+No),!1;if(o=a==="PATH"?"d":"points",!e.prop&&!ya(t.setAttribute))return!1;if(u=Ef(e.shape||e.d||e.points||"",o==="d",t),h&&xf.test(u))return rn("A <"+a+"> cannot accept path data. "+No),!1;if(d=e.shapeIndex||e.shapeIndex===0?e.shapeIndex:"auto",c=e.map||Gn.defaultMap,this._prop=e.prop,this._render=e.render||Gn.defaultRender,this._apply="updateTarget"in e?e.updateTarget:Gn.defaultUpdateTarget,this._rnd=Math.pow(10,isNaN(e.precision)?2:+e.precision),this._tween=n,u){if(this._target=t,T=typeof e.precompile=="object",p=this._prop?t[this._prop]:t.getAttribute(o),!this._prop&&!t.getAttributeNS(null,"data-original")&&t.setAttributeNS(null,"data-original",p),o==="d"||this._prop){if(p=Ce(T?e.precompile[0]:p),g=Ce(T?e.precompile[1]:u),!T&&!ts(p,g,d,c,V))return!1;for((e.precompile==="log"||e.precompile===!0)&&rn('precompile:["'+on(p)+'","'+on(g)+'"]'),A=(e.type||Gn.defaultType)!=="linear",A&&(p=Vo(p,e.smoothTolerance),g=Vo(g,e.smoothTolerance),p.size||Nr(p),g.size||Nr(g),L=zo(j[0]),this._origin=p.origin={x:p.left+L.x*p.width,y:p.top+L.y*p.height},j[1]&&(L=zo(j[1])),this._eOrigin={x:g.left+L.x*g.width,y:g.top+L.y*g.height}),this._rawPath=t._gsRawPath=p,v=p.length;--v>-1;)for(x=p[v],b=g[v],f=x.isSmooth||[],l=b.isSmooth||[],y=x.length,Er=0,m=0;m<y;m+=2)(b[m]!==x[m]||b[m+1]!==x[m+1])&&(A?f[m]&&l[m]?(_=x.smoothData,S=b.smoothData,N=m+(m===y-4?7-y:5),this._controlPT={_next:this._controlPT,i:m,j:v,l1s:_[m+1],l1c:S[m+1]-_[m+1],l2s:_[N],l2c:S[N]-_[N]},s=this._tweenRotation(x,b,m+2),this._tweenRotation(x,b,m,s),this._tweenRotation(x,b,N-1,s),m+=4):this._tweenRotation(x,b,m):(s=this.add(x,m,x[m],b[m],0,0,0,0,0,1),s=this.add(x,m+1,x[m+1],b[m+1],0,0,0,0,0,1)||s))}else s=this.add(t,"setAttribute",t.getAttribute(o)+"",u+"",r,i,0,Sf(d),o);A&&(this.add(this._origin,"x",this._origin.x,this._eOrigin.x,0,0,0,0,0,1),s=this.add(this._origin,"y",this._origin.y,this._eOrigin.y,0,0,0,0,0,1)),s&&(this._props.push("morphSVG"),s.end=u,s.endProp=o)}return bf},render:function(t,e){for(var n=e._rawPath,r=e._controlPT,i=e._anchorPT,a=e._rnd,o=e._target,s=e._pt,u,h,d,c,f,l,p,g,m,v,y,x,b;s;)s.r(t,s.d),s=s._next;if(t===1&&e._apply)for(s=e._pt;s;)s.end&&(e._prop?o[e._prop]=s.end:o.setAttribute(s.endProp,s.end)),s=s._next;else if(n){for(;i;)l=i.sa+t*i.ca,f=i.sl+t*i.cl,i.t[i.i]=e._origin.x+Eo(l)*f,i.t[i.i+1]=e._origin.y+Mo(l)*f,i=i._next;for(d=t<.5?2*t*t:(4-2*t)*t-1;r;)p=r.i,c=n[r.j],b=p+(p===c.length-4?7-c.length:5),l=wn(c[b]-c[p+1],c[b-1]-c[p]),y=Mo(l),x=Eo(l),m=c[p+2],v=c[p+3],f=r.l1s+d*r.l1c,c[p]=m-x*f,c[p+1]=v-y*f,f=r.l2s+d*r.l2c,c[b-1]=m+x*f,c[b]=v+y*f,r=r._next;if(o._gsRawPath=n,e._apply){for(u="",h=" ",g=0;g<n.length;g++)for(c=n[g],f=c.length,u+="M"+(c[0]*a|0)/a+h+(c[1]*a|0)/a+" C",p=2;p<f;p++)u+=(c[p]*a|0)/a+h;e._prop?o[e._prop]=u:o.setAttribute("d",u)}}e._render&&n&&e._render.call(e._tween,n,o)},kill:function(t){this._pt=this._rawPath=0},getRawPath:zr,stringToRawPath:Ce,rawPathToString:on,normalizeStrings:function(t,e,n){var r=n.shapeIndex,i=n.map,a=[t,e];return Oo(a,r,i),a},pathFilter:Oo,pointsFilter:es,getTotalSize:Nr,equalizeSegmentQuantity:ts,convertToPath:function(t,e){return Ps(t).map(function(n){return Es(n,e!==!1)})},defaultType:"linear",defaultUpdateTarget:!0,defaultMap:"size"};Du()&&be.registerPlugin(Gn);var Jt=It.registerPlugin(ks)||It;Jt.core.Tween;Jt.registerPlugin(Gn);const Pf=new Map([["download",`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.5 0 23 24" width="23px" height="23px" stroke-width="2" fill="none" stroke="currentColor">
      <path d="M 12 15.334 L 12 0 M 5.61 8.944 L 12 15.334 L 18.39 8.944 M 23.5 15.334 L 23.5 20.444 C 23.5 21.856 22.357 23 20.944 23 L 3.055 23 C 1.646 23 0.5 21.856 0.5 20.444 L 0.5 15.334" />
    </svg>`],["upload",`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.5 0 23 24" width="23px" height="23px" stroke-width="2" fill="none" stroke="currentColor">
      <path d="M 12 0.75 L 12 16.084 M 23.5 15.334 L 23.5 20.444 C 23.5 21.856 22.357 23 20.944 23 L 3.055 23 C 1.646 23 0.5 21.856 0.5 20.444 L 0.5 15.334 M 5.61 7.14 L 12 0.75 L 18.39 7.14" />
    </svg>`],["record_inactive",`<svg viewBox="0 0 24 24" fill="red" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="8" />
    </svg>`],["record_armed",`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="8" />
      <circle cx="12" cy="12" r="4" fill="currentColor" />
    </svg>`],["record_recording",`<svg viewBox="0 0 24 24" fill="currentColor">
      <circle cx="12" cy="12" r="10" />
      <circle cx="12" cy="12" r="6" fill="white" />
    </svg>`],["midi_on",`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 5 24 14" width="24px" height="14px" fill="currentColor" stroke="none">
      <path d="M 21.775 5 L 24 5 L 24 18.998 L 21.775 18.998 L 21.775 5 Z M 13.213 5 L 19.719 5 C 20.379 5 20.764 5.891 20.764 6.948 L 20.764 17.262 C 20.764 18.575 20.414 18.998 19.652 18.998 L 13.213 18.998 L 13.213 10.106 L 15.438 10.106 L 15.438 15.577 L 18.573 15.577 L 18.573 8.159 L 13.213 8.159 L 13.213 5 Z M 9.978 5 L 12.168 5 L 12.168 18.998 L 9.978 18.998 L 9.978 5 Z M 0 5 L 7.854 5 C 8.514 5 8.899 5.891 8.899 6.948 L 8.899 19 L 6.708 19 L 6.708 8.524 L 5.427 8.524 L 5.427 18.997 L 3.438 18.997 L 3.438 8.525 L 2.191 8.525 L 2.191 18.998 L 0 18.998 L 0 5 Z" style="stroke-width: 1;" />
    </svg>`],["midi_off",`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 5 24 14" width="24px" height="14px" fill="currentColor" stroke="none">
      <path d="M 21.775 5 L 24 5 L 24 18.998 L 21.775 18.998 L 21.775 5 Z M 13.213 5 L 19.719 5 C 20.379 5 20.764 5.891 20.764 6.948 L 20.764 17.262 C 20.764 18.575 20.414 18.998 19.652 18.998 L 13.213 18.998 L 13.213 10.106 L 15.438 10.106 L 15.438 15.577 L 18.573 15.577 L 18.573 8.159 L 13.213 8.159 L 13.213 5 Z M 9.978 5 L 12.168 5 L 12.168 18.998 L 9.978 18.998 L 9.978 5 Z M 0 5 L 7.854 5 C 8.514 5 8.899 5.891 8.899 6.948 L 8.899 19 L 6.708 19 L 6.708 8.524 L 5.427 8.524 L 5.427 18.997 L 3.438 18.997 L 3.438 8.525 L 2.191 8.525 L 2.191 18.998 L 0 18.998 L 0 5 Z" style="stroke-width: 1;" />
    </svg>`],["direction_forward",` 
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" height="16px" xmlns:bx="https://boxy-svg.com" fill="currentColor" stroke="none">
        <path d="M 34.241 44.441 H 47.535 L 44.848 38.728 L 56.716 46.728 L 44.848 54.728 L 47.535 49.016 H 34.241 V 44.441 Z" bx:shape="arrow 34.241 38.728 22.475 16 4.574 11.868 2.687 1@3d0e1b09" style="fill: currentColor;" transform="matrix(1, -0.00037700001848861575, 0.00037700001848861575, 1, -33.69770050048828, -33.24232482910156)" />
      </svg>
`],["direction_reverse",`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" height="16px" xmlns:bx="https://boxy-svg.com" fill="currentColor" stroke="none">
      <path d="M -34.241 -33.015 H -20.947 L -23.634 -38.728 L -11.766 -30.728 L -23.634 -22.728 L -20.947 -28.441 H -34.241 V -33.015 Z" bx:shape="arrow -34.241 -38.728 22.475 16 4.574 11.868 2.687 1@168237fd" style="fill: currentColor;" transform="matrix(-1, -0.00037700001848861575, -0.00037700001848861575, 1, -10.841633796691895, 44.18785858154297)" />
    </svg>`],["loop_unlocked",`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 1.6 24 20.747" width="24px" height="20.747px" fill="currentColor" stroke="none">
      <path d="M 1.412 11.973 C 1.412 15.085 3.827 17.616 6.795 17.616 L 6.795 19.026 C 3.048 19.026 0 15.862 0 11.973 C 0 8.084 3.048 4.919 6.795 4.919 L 12.765 4.919 L 10.441 2.597 L 11.44 1.6 L 15.469 5.625 L 11.441 9.651 L 10.441 8.652 L 12.767 6.33 L 6.795 6.33 C 3.827 6.33 1.412 8.861 1.412 11.973 Z M 17.205 4.919 L 17.205 6.33 C 20.173 6.33 22.588 8.861 22.588 11.973 C 22.588 15.085 20.173 17.616 17.205 17.616 L 11.233 17.616 L 13.557 15.294 L 12.559 14.296 L 8.531 18.321 L 12.56 22.347 L 13.559 21.35 L 11.233 19.026 L 17.204 19.026 C 20.952 19.026 24 15.862 24 11.973 C 24 8.084 20.952 4.919 17.205 4.919 Z" />
    </svg>`],["loop_locked",`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 1.6 24 20.747" width="24px" height="20.747px" fill="currentColor" stroke="none">
      <path d="M 1.412 11.973 C 1.412 15.085 3.827 17.616 6.795 17.616 L 6.795 19.026 C 3.048 19.026 0 15.862 0 11.973 C 0 8.084 3.048 4.919 6.795 4.919 L 12.765 4.919 L 10.441 2.597 L 11.44 1.6 L 15.469 5.625 L 11.441 9.651 L 10.441 8.652 L 12.767 6.33 L 6.795 6.33 C 3.827 6.33 1.412 8.861 1.412 11.973 Z M 17.205 4.919 L 17.205 6.33 C 20.173 6.33 22.588 8.861 22.588 11.973 C 22.588 15.085 20.173 17.616 17.205 17.616 L 11.233 17.616 L 13.557 15.294 L 12.559 14.296 L 8.531 18.321 L 12.56 22.347 L 13.559 21.35 L 11.233 19.026 L 17.204 19.026 C 20.952 19.026 24 15.862 24 11.973 C 24 8.084 20.952 4.919 17.205 4.919 Z" />
    </svg>`],["pitch_on",`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="4 0 16 24" width="16px" height="24px" fill="currentColor" stroke="none">
      <path d="M 12 0 L 12 14.067 C 11.213 13.613 10.307 13.333 9.333 13.333 C 6.387 13.333 4 15.72 4 18.667 C 4 21.613 6.387 24 9.333 24 C 12.28 24 14.667 21.613 14.667 18.667 L 14.667 5.333 L 20 5.333 L 20 0 L 12 0 Z" style="stroke-width: 1;" />
    </svg>`],["pitch_off",`<svg xmlns="http://www.w3.org/2000/svg" viewBox="4 0 16 24" width="16px" height="24px" fill="currentColor" stroke="none">
      <path d="M 12 0 L 12 14.067 C 11.213 13.613 10.307 13.333 9.333 13.333 C 6.387 13.333 4 15.72 4 18.667 C 4 21.613 6.387 24 9.333 24 C 12.28 24 14.667 21.613 14.667 18.667 L 14.667 5.333 L 20 5.333 L 20 0 L 12 0 Z" style="stroke-width: 1;" />
    </svg>`],["hold_locked",`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="4 0 16 24" width="16px" height="24px" fill="currentColor" stroke="none">
      <path d="M 14.667 2 L 20 2 L 20 22 L 14.667 22 L 14.667 2 Z M 4 2 L 9.333 2 L 9.333 22 L 4 22 L 4 2 Z" style="stroke-width: 1;" />
    </svg>`],["hold_unlocked",`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="4 0 16 24" width="16px" height="24px" fill="currentColor" stroke="none">
      <path d="M 14.667 2 L 20 2 L 20 22 L 14.667 22 L 14.667 2 Z M 4 2 L 9.333 2 L 9.333 22 L 4 22 L 4 2 Z" style="stroke-width: 1;" />
    </svg>`]]),Bi={color:"#eee",background:"transparent",fill:"#eee",stroke:"#eee",hover:"#999999",midi_on:"#eee",pitch_on:"#eee",hold_locked:"#eee",loop_locked:"#eee",midi_off:"#aaa",pitch_off:"#aaa",hold_unlocked:"#aaa",loop_unlocked:"#aaa"},Fo=t=>({sm:{width:"32px",height:"32px",iconSize:"16px"},md:{width:"40px",height:"40px",iconSize:"20px"},lg:{width:"48px",height:"48px",iconSize:"24px"}})[t],Af=t=>{t.style.display="inline-flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.padding="8px",t.style.margin="4px",t.style.borderRadius="4px",t.style.cursor="pointer",t.style.border="none",t.style.backgroundColor=Bi.background,t.addEventListener("mouseenter",()=>{t.style.border=`1px solid ${Bi.hover}`}),t.addEventListener("mouseleave",()=>{t.style.border="none"})},Df=(t,e)=>{t.style.width=e.width,t.style.height=e.height};function Vn(t,e,n={}){const r=Array.isArray(e)?e:[e];let i=0;if(n.initialState){const s=r.indexOf(n.initialState);s>=0&&(i=s)}const a=document.createElement("button");a.title=t,r.length>1&&(a.setAttribute("role","button"),a.setAttribute("aria-pressed","false"),a.tabIndex=0),Af(a),Df(a,Fo(n.size||"md")),n.className&&(a.className+=` ${n.className}`);const o=()=>{var s;const u=r[i],h=Pf.get(u)||u;a.innerHTML=h;const d=a.querySelector("svg");if(d){const c=Fo(n.size||"md").iconSize;d.style.width=c,d.style.height=c;const f=(s=n.colors)==null?void 0:s[u],l=Bi[u],p=f||l||Bi.color;d.style.color=p,r.length>1&&a.setAttribute("aria-pressed",i!==0?"true":"false")}};return o(),a.getState=()=>r[i],a.setState=s=>{const u=r.indexOf(s);u!==-1&&(i=u,o())},a.addEventListener("click",()=>{r.length>1&&(i=(i+1)%r.length,o()),n.onClick&&n.onClick()}),a}const{div:ti}=P.tags,Of=t=>{const e=t.attr("target-node-id",""),n=Vn("Toggle MIDI",["midi_on","midi_off"],{size:"md",onClick:()=>{const r=$(e.val);r&&(n.getState()==="midi_on"?r.enableMIDI():r.disableMIDI())},initialState:"midi_on"});return ti({style:""},n)},Rf=t=>{const e=t.attr("target-node-id",""),n=Vn("Toggle Playback Direction",["direction_forward","direction_reverse"],{size:"md",onClick:()=>{const r=$(e.val);if(!r)return;const i=n.getState()==="direction_reverse"?"reverse":"forward";r.setPlaybackDirection(i)}});return ti({style:""},n)},Vf=t=>{const e=t.attr("target-node-id",""),n=Vn("Toggle Loop Locked",["loop_locked","loop_unlocked"],{size:"md",onClick:()=>{const r=$(e.val);if(!r)return;const i=n.getState()==="loop_locked";r.setLoopLocked(i)},initialState:"loop_unlocked"});return ti({style:""},n)},zf=t=>{const e=t.attr("target-node-id",""),n=Vn("Toggle Hold Locked",["hold_locked","hold_unlocked"],{size:"md",onClick:()=>{const r=$(e.val);if(!r)return;const i=n.getState()==="hold_locked";r.setHoldLocked(i)},initialState:"hold_unlocked"});return ti({style:""},n)},Nf=t=>{const e=t.attr("target-node-id",""),n=Vn("Toggle Pitch",["pitch_on","pitch_off"],{size:"md",onClick:()=>{const r=$(e.val);if(!r)return;const i=n.getState();i==="pitch_on"?r.enablePitch():i==="pitch_off"&&r.disablePitch()}});return ti({style:""},n)},If={label:"FB-Mode",defaultValue:!0,onColor:"#4CAF50",offText:"Mono",onText:"Poly",onSamplerConnect:(t,e,n)=>{n.derive(()=>{const r=e.val?"polyphonic":"monophonic";t.setFeedbackMode(r)})}},Ff={label:"Amp LFO",defaultValue:!1,onColor:"#ff9800",offText:"Free",onText:"Sync",onSamplerConnect:(t,e,n)=>{n.derive(()=>t.syncLFOsToNoteFreq("gain-lfo",e.val))}},Bf={label:"Pitch LFO",defaultValue:!1,onColor:"#ff9800",offText:"Free",onText:"Sync",onSamplerConnect:(t,e,n)=>{n.derive(()=>t.syncLFOsToNoteFreq("pitch-lfo",e.val))}},Xf={label:"Pan drift",defaultValue:!0,onColor:"#ff9800",offText:"○",onText:"◐",onSamplerConnect:(t,e,n)=>{n.derive(()=>{t.setPanDriftEnabled(e.val)})}},Yf=ji(If,$,Gi,P,Zr),Kf=ji(Ff,$,Gi,P,Zr),$f=ji(Bf,$,Gi,P,Zr),Hf=ji(Xf,$,Gi,P,Zr),qf=t=>{const{onChange:e,envelopeType:n,label:r="Time Scale",...i}=t,a={minValue:1,maxValue:100,defaultValue:1,snapIncrement:1,width:25,height:25,curve:2.5,className:"envelope-time-scale-knob"},o=cu({...a,...a,...i,onChange:s=>e({envelopeType:n,timeScale:s})});return o.style.display="inline-block",o},Xi=.1,Bo=(t,e)=>{const[n,r]=e,i=(t-n)/(r-n),a=Math.log2(Math.max(Xi,n)),o=Math.log2(r);return Math.pow(2,a+i*(o-a))},Ir=(t,e,n)=>t/e*n,_a=(t,e,n)=>t/e*n,Wf=(t,e)=>Math.max(0,Math.min(1,1-t/e)),Xo=(t,e,n,r="linear")=>{const i=Wf(t,e),[a,o]=n;if(r==="logarithmic"){const s=Math.log2(Math.max(Xi,a)),u=Math.log2(o);return Math.pow(2,s+i*(u-s))}else return a+i*(o-a)},Fr=(t,e,n="linear")=>{const[r,i]=e;if(n==="logarithmic"){const a=Math.log2(Math.max(Xi,r)),o=Math.log2(i),s=Math.log2(Math.max(Xi,t));return Math.max(0,Math.min(1,(s-a)/(o-a)))}else return(t-r)/(i-r)},ns=(t,e,n)=>{if(!e)return t;const r=e.find(i=>Math.abs(i-t)<n);return r!==void 0?r:t},Yo=(t,e,n,r)=>{if(!e)return t;const i=Fr(t,r),a=ns(i,e,n),[o,s]=r;return o+a*(s-o)},Uf=(t,e,n,r,i,a="linear",o=0,s=0)=>{if(t.length<2)return`M${o},${r+s} L${n+o},${r+s}`;const u=[...t].sort((c,f)=>c.time-f.time),h=Fr(u[0].value,i,a);let d=`M${Ir(u[0].time,e,n)+o},${(1-h)*r+s}`;for(let c=1;c<u.length;c++){const f=u[c],l=u[c-1],p=Ir(f.time,e,n)+o,g=(1-Fr(f.value,i,a))*r+s;if(l.curve==="exponential"){const m=Ir(l.time,e,n)+o,v=(1-Fr(l.value,i,a))*r+s,y=m+(p-m)*.3,x=v,b=m+(p-m)*.7;d+=` C${y},${x} ${b},${g} ${p},${g}`}else d+=` L${p},${g}`}return d},{button:wa}=P.tags,jf=(t,e,n)=>{const r=wa({style:()=>`
      position: absolute; 
      top: 4px; 
      right: 4px; 
      width: 16px; 
      height: 16px; 
      border: none; 
      border-radius: 50%; 
      cursor: pointer; 
      z-index: 10;
      background: ${t.val?"#4ade80":"#666"};
    `,title:()=>t.val?"Disable envelope":"Enable envelope",onclick:()=>t.val=!t.val}),i=wa({style:()=>`
      position: absolute; 
      top: 4px; 
      right: 24px; 
      width: 16px; 
      height: 16px; 
      border: none; 
      border-radius: 50%; 
      cursor: pointer; 
      z-index: 10;
      background: ${e.val&&t.val?"#ff6b6b":"#666"};
    `,title:()=>e.val?"Disable looping":"Enable looping",onclick:()=>e.val=!e.val}),a=wa({style:()=>`
      position: absolute; 
      top: 4px; 
      right: 44px;  
      width: 16px; 
      height: 16px; 
      border: none; 
      border-radius: 50%; 
      cursor: pointer; 
      z-index: 10;
      background: ${n.val&&t.val?"#336bcc":"#666"};
    `,title:()=>n.val?"Disable sync":"Enable sync",onclick:()=>n.val=!n.val});return{enabledToggle:r,loopToggle:i,syncToggle:a}},{g:Gf,line:ka}=P.tags("http://www.w3.org/2000/svg"),Zf=(t,e,n={})=>{const{offsetX:r=0,offsetY:i=0,includeTopBottom:a=!1}=n,o=5,s=5,u=Array.from({length:o},(d,c)=>{const f=c/o*t;return ka({x1:f+r,y1:0+i,x2:f+r,y2:e+i,stroke:"rgba(90, 90, 90, 0.5)","stroke-width":.5})}).filter(Boolean);let h=[];if(a)h=Array.from({length:s},(d,c)=>{const f=c/(s-1)*e;return ka({x1:0+r,y1:f+i,x2:t+r,y2:f+i,stroke:"#333","stroke-width":.5})});else{const d=s-2;h=Array.from({length:d},(c,f)=>{const l=(f+1)/(s-1)*e;return ka({x1:0+r,y1:l+i,x2:t+r,y2:l+i,stroke:"#333","stroke-width":1})})}return Gf({class:"envelope-grid"},...u,...h)},Qf=(t,e,n,r=0)=>{if(!t.length)return"";const i=t.getChannelData(0),a=Math.ceil(i.length/e);let o="";for(let s=0;s<e;s++){const u=s*a,h=(1-((i[u]||0)+1)/2)*n+r;o+=(s===0?"M":"L")+`${s},${h} `}return o};function Jf(t="none",e=[20,80],n=!0){const r={};for(let i=0;i<=127;i++){const a=i%12*30,o=n?85:70,s=e[0]+i%12/11*(e[1]-e[0]),u=(1-Math.abs(2*s/100-1))*o/100,h=u*(1-Math.abs(a/60%2-1)),d=s/100-u/2;let c=0,f=0,l=0;a<60?(c=u,f=h):a<120?(c=h,f=u):a<180?(f=u,l=h):a<240?(f=h,l=u):a<300?(c=h,l=u):(c=u,l=h),t==="r"?c=0:t==="g"?f=0:t==="b"&&(l=0);const p=g=>Math.round(Math.max(0,Math.min(255,(g+d)*255))).toString(16).padStart(2,"0");if(n){let[g,m,v]=[c+d,f+d,l+d];const y=Math.max(e[0]/100*.8,.3);if(Math.max(g,m,v)<y){const x=y/Math.max(g,m,v);g*=x,m*=x,v*=x}r[i]=`#${Math.round(g*255).toString(16).padStart(2,"0")}${Math.round(m*255).toString(16).padStart(2,"0")}${Math.round(v*255).toString(16).padStart(2,"0")}`}else r[i]=`#${p(c)}${p(f)}${p(l)}`}return r}Jt.registerPlugin(Ms,cr);const tp=(t,e,n,r,i,a=400,o=200)=>{const s=new Map,u=new Map,h=new Map,d=new Map,c=Jf("none",[40,90],!0),f=o/2,l=(m,v)=>{const y=document.createElementNS("http://www.w3.org/2000/svg","circle");return y.setAttribute("fill",c[v]),y.setAttribute("pointer-events","none"),y.setAttribute("stroke","#fff"),y.setAttribute("stroke-width","1"),y.style.pointerEvents="none",y},p=m=>Jt.fromTo(m,{r:0,strokeWidth:0,opacity:0},{r:5,strokeWidth:1,opacity:1,duration:.2});r.onMessage(`${i}:trigger`,m=>{if(!m.voiceId)return;const{voiceId:v,midiNote:y=60,duration:x,sustainEnabled:b,loopEnabled:T,sustainPoint:_,releasePoint:S}=m;if(T&&s.has(v))return;s.has(v)&&g(v);const L=l(v,y);t.appendChild(L),d.set(v,L),Jt.set(L,{x:0,y:f});const A=Jt.timeline();x>.3&&A.add(p(L),0);const N=Math.max(.3,x);if(T)A.to(L,{x:a,duration:x,ease:"none",onComplete:()=>{}},0),u.set(v,A),A.play();else if(b){const R=_.time/n.fullDuration*a;A.to(L,{x:R,duration:N,ease:"none",onComplete:()=>{A.pause()}},0)}else A.to(L,{x:a,duration:N,ease:"none"},0);s.set(v,A)}),r.onMessage(`${i}:trigger:loop`,m=>{if(!m.voiceId||!u.has(m.voiceId))return;const v=u.get(m.voiceId);v&&v.restart()}),r.onMessage(`${i}:release`,m=>{const{voiceId:v,remainingDuration:y,releasePoint:x}=m;if(!v||!y||!x)return;if(u.has(v)){const _=u.get(v);_==null||_.kill(),u.delete(v)}if(!s.has(v))return;const b=s.get(v),T=d.get(v);if(b&&T){const _=x.normalizedTime*a;Jt.set(T,{x:_}),Jt.set(T,{opacity:.7}),b.kill();const S=Jt.timeline();S.to(T,{x:a,duration:y,ease:"none",onComplete:()=>g(v)}).to(T,{r:0,strokeWidth:0,opacity:.1,duration:Math.min(.2,y-.2)},y-.2),s.set(v,S)}});const g=m=>{if(u.delete(m),h.has(m)){const x=h.get(m);x==null||x.kill(),h.delete(m)}if(!s.has(m))return;const v=s.get(m),y=d.get(m);if(v&&(v.kill(),s.delete(m)),y&&y.parentNode===t){const x=Jt.timeline({onComplete:()=>{y.parentNode===t&&t.removeChild(y),d.delete(m),h.delete(m),x.kill()}});h.set(m,x),x.to(y,{r:0,strokeWidth:0,duration:.2,ease:"none",opacity:.1})}};return r.onMessage("voice:stopped",m=>{g(m.voiceId)}),{cleanup:()=>{[...s.keys()].forEach(g),[...u.values()].forEach(m=>m.kill()),[...h.values()].forEach(m=>m.kill()),s.clear(),u.clear(),h.clear(),d.clear()}}};Jt.registerPlugin(Ms,Pu,cr);const{div:La}=P.tags,{svg:ep,path:Ko}=P.tags("http://www.w3.org/2000/svg"),Ru=(t,e,n="100%",r="120px",i={},a=.025,o=!0)=>{let s=t.getEnvelope(e);const u=e;if(!s.points.length){const k=La({style:`width: ${n}; height: ${r}; background: #1a1a1a; border: 1px solid #444; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: #666;`},"Record or load a sample to start");return{element:k,timeScaleKnob:k,drawWaveform:()=>{},refresh:()=>{s=t.getEnvelope(e)},cleanup:()=>{}}}const h=400,d=200,c=8,f=16,l=h-2*c,p=d-2*c-f;let g,m,v,y=null;const x=P.state(s.isEnabled),b=P.state(s.loopEnabled),T=P.state(s.syncedToPlaybackRate),_=P.state(null),S=P.state(!1),L=P.state(t.loopEnabled),A=P.state(t.getStartPoint()),N=P.state(t.getEndPoint()),R=P.state(t.loopStart),B=P.state(t.loopEnd),V=k=>Ir(k,s.fullDuration,l)+c,j=P.state(V(A.val)),q=P.state(V(N.val)),I=P.state(V(R.val)),K=P.state(V(s.fullDuration)),st=new Map,Ft=3,$t=300,H=k=>"touches"in k&&k.touches.length>0?{x:k.touches[0].clientX,y:k.touches[0].clientY}:"clientX"in k?{x:k.clientX,y:k.clientY}:{x:0,y:0},nt=(k,M)=>{if(!s.isEnabled)return;if(k.preventDefault(),"altKey"in k&&k.altKey){M===s.sustainPointIndex?t.setEnvelopeSustainPoint(e,null):t.setEnvelopeSustainPoint(e,M),X(),Mt();return}if("metaKey"in k&&(k.metaKey||k.ctrlKey)){M===s.releasePointIndex&&s.sustainPointIndex?t.setEnvelopeReleasePoint(e,s.sustainPointIndex):t.setEnvelopeReleasePoint(e,M),X(),Mt();return}const O=st.get(M)||{dragThreshold:Ft,clickStartTime:0,clickStartPos:{x:0,y:0},hasMoved:!1,doubleClickTimer:null},z=Date.now();if(O.doubleClickTimer!==null&&z-O.clickStartTime<$t){if(O.doubleClickTimer&&(clearTimeout(O.doubleClickTimer),O.doubleClickTimer=null),M>0&&M<s.points.length-1){const U=s.sustainPointIndex,J=s.releasePointIndex;t.deleteEnvelopePoint(u,M),M===U?t.setEnvelopeSustainPoint(e,null):U&&M<U&&t.setEnvelopeSustainPoint(e,U-1),J&&M<J&&t.setEnvelopeReleasePoint(e,J-1),X(),Mt()}st.delete(M);return}const F=H(k);O.clickStartTime=z,O.clickStartPos=F,O.hasMoved=!1,O.doubleClickTimer=setTimeout(()=>{O.hasMoved||(S.val=!0,_.val=M),O.doubleClickTimer=null},$t),st.set(M,O);const Y=U=>{const J=st.get(M);if(!J)return;const at=H(U),Pt=Math.abs(at.x-J.clickStartPos.x),Ht=Math.abs(at.y-J.clickStartPos.y);!J.hasMoved&&(Pt>Ft||Ht>Ft)&&(J.hasMoved=!0,S.val||(S.val=!0,_.val=M,J.doubleClickTimer&&(clearTimeout(J.doubleClickTimer),J.doubleClickTimer=null)))},G=()=>{document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",G),document.removeEventListener("touchmove",Y),document.removeEventListener("touchend",G);const U=st.get(M);U&&!U.hasMoved&&U.doubleClickTimer===null&&st.delete(M)};document.addEventListener("mousemove",Y),document.addEventListener("mouseup",G),document.addEventListener("touchmove",Y,{passive:!1}),document.addEventListener("touchend",G)};function X(){m&&(s=t.getEnvelope(e),m.querySelectorAll("circle").forEach(k=>k.remove()),s.points.forEach((k,M)=>{const O=document.createElementNS("http://www.w3.org/2000/svg","circle");O.setAttribute("cx",(Ir(k.time,s.fullDuration,h-2*c)+c).toString());const z=Fr(k.value,s.valueRange,u==="filter-env"?"logarithmic":"linear");O.setAttribute("cy",((1-z)*(d-2*c-f)+c+f).toString()),O.setAttribute("r","4");let F=_.val===M?"#ff6b6b":s.isEnabled?"#4ade80":"#666";M===s.sustainPointIndex&&(O.setAttribute("fill",s.isEnabled?"#ff2211":"#666"),O.setAttribute("r","6")),M===s.sustainPointIndex&&(F=s.isEnabled?"#ff2211":"#666",O.setAttribute("r","6")),M===s.releasePointIndex&&(F=s.isEnabled?"#2196f3":"#666",O.setAttribute("r","6")),M===s.sustainPointIndex&&M===s.releasePointIndex&&(F=s.isEnabled?"#9c27b0":"#666"),O.setAttribute("fill",F),O.setAttribute("stroke","#fff"),O.setAttribute("stroke-width","1"),O.style.cursor="pointer",O.style.zIndex="999",O.addEventListener("mousedown",Y=>{nt(Y,M)}),O.addEventListener("touchstart",Y=>{nt(Y,M)},{passive:!1}),m.appendChild(O)}))}g=ep({viewBox:`0 0 ${h} ${d}`,preserveAspectRatio:"none",style:`width: ${n}; height: ${r}; background: #1a1a1a; border: 1px solid #444; border-radius: 4px; overflow: visible; `});const Q=jf(x,b,T),oe=qf({label:"Env Speed",onChange:({envelopeType:k,timeScale:M})=>t.setEnvelopeTimeScale(k,M),envelopeType:u,height:25,width:25}),Dt=La({style:`position: relative; width: ${n}; height: ${r};`},La({style:"position: absolute; top: 4px; right: 65px; z-index: 10;"},oe),Q.enabledToggle,Q.loopToggle,Q.syncToggle),vt=document.createElement("div");vt.style.position="absolute",vt.style.pointerEvents="none",vt.style.background="rgba(30,30,30,0.85)",vt.style.color="#eee",vt.style.padding="2px 8px",vt.style.borderRadius="4px",vt.style.fontSize="12px",vt.style.zIndex="9999",vt.style.display="none";const _t=d-2*c-f,dn=c+f,dt=Zf(h-2*c,_t,{offsetX:c,offsetY:dn});function Mt(){s=t.getEnvelope(e),v.setAttribute("d",Uf(s.points,s.fullDuration,h-2*c,d-2*c-f,s.valueRange,u==="filter-env"?"logarithmic":"linear",c,c+f))}v=Ko({id:"envelope-path",fill:"none",stroke:()=>x.val?"#4ade80":"#666","stroke-width":2}),Mt(),m=document.createElementNS("http://www.w3.org/2000/svg","g"),m.setAttribute("class","control-points");const Ae=tp(g,m,s,t,u,h,d);function qe(k){y&&y.parentNode===g&&(g.removeChild(y),y=null);const M=c,O=c+f,z=Qf(k,l,p,O);y=Ko({id:"waveform-path",d:z.trim(),fill:"none",stroke:()=>x.val?"rgba(52, 103, 188, 0.8)":"rgba(51, 51, 51, 0.8)","stroke-width":1,style:"z-index: -999; pointer-events: none;","pointer-events":"none",transform:`translate(${M},0)`}),g.insertBefore(y,v),Jt.from(y,{duration:.5,drawSVG:0,ease:"none"})}let ot=null,Z=null,Bt=null,ft=null;const Zt="rgba(200, 50, 0, 0.6)",dr="rgba(200, 50, 0, 0.6)",zn="#6699dd",fr="#6699dd",Vt="#666";function Nn(){I.val>=c&&I.val<=h-c?(Bt.setAttribute("x1",I.val.toString()),Bt.setAttribute("x2",I.val.toString()),Bt.style.display="block"):(Bt.style.display="none",console.log("Loop start line out of bounds")),K.val>=c&&K.val<=h-c?(ft.setAttribute("x1",K.val.toString()),ft.setAttribute("x2",K.val.toString()),ft.style.display="block"):(ft.style.display="none",console.log("Loop end line out of bounds"))}function fn(){ot&&Z&&(ot.setAttribute("x1",j.val.toString()),ot.setAttribute("x2",j.val.toString()),Z.setAttribute("x1",q.val.toString()),Z.setAttribute("x2",q.val.toString()))}function ei(){L.val?(Bt.setAttribute("stroke",zn),ft.setAttribute("stroke",fr)):(Bt.setAttribute("stroke",Vt),ft.setAttribute("stroke",Vt))}const Xt=(k="#ff0000")=>{const M=document.createElementNS("http://www.w3.org/2000/svg","line");return M.setAttribute("y1",(c+f).toString()),M.setAttribute("y2",(d-c).toString()),M.setAttribute("stroke",k),M.setAttribute("stroke-width","2"),M.setAttribute("x1",c.toString()),M.setAttribute("x2",c.toString()),M.style.cursor="ew-resize",M.style.pointerEvents="auto",M},le=(k,M)=>{let O=!1;const z={"loop-start":"Loop Start","loop-end":"Loop End",start:"Sample Start",end:"Sample End"}[M],F=()=>{vt.textContent=z,vt.style.display="block";const at=g.viewBox.baseVal,Pt=g.getBoundingClientRect(),Ht=Number(k.getAttribute("x1")||0),yt=Number(k.getAttribute("y1")||0),lt=(Ht-at.x)/at.width*Pt.width-30,gr=(yt-at.y)/at.height*Pt.height;vt.style.left=`${lt}px`,vt.style.top=`${gr-20}px`},Y=()=>{vt.style.display="none"},G=at=>{O=!0,at.preventDefault(),at.stopPropagation()},U=at=>{if(!O)return;F();const Pt=g.getBoundingClientRect(),Ht=at.clientX-Pt.left,yt=Math.max(c,Math.min(Ht,h-c));k.setAttribute("x1",yt.toString()),k.setAttribute("x2",yt.toString());const lt=_a(yt-c,l,s.fullDuration);M==="loop-start"?t.setLoopStart(lt):M==="loop-end"?t.setLoopEnd(lt):M==="start"?t.setSampleStartPoint(lt):M==="end"&&t.setSampleEndPoint(lt)},J=()=>{O=!1,Y()};return k.addEventListener("mouseover",F),k.addEventListener("mouseout",Y),k.addEventListener("mousedown",G),document.addEventListener("mousemove",U),document.addEventListener("mouseup",J),()=>{k.removeEventListener("mouseover",F),k.removeEventListener("mouseout",Y),k.removeEventListener("mousedown",G),document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",J)}};ot=Xt(Zt),Z=Xt(dr),Bt=Xt(zn),ft=Xt(fr);const De=[];De.push(le(Bt,"loop-start")),De.push(le(ft,"loop-end")),De.push(le(ot,"start")),De.push(le(Z,"end"));const Ji=t.onMessage("loop-points:updated",k=>{R.val=k.loopStart,B.val=k.loopEnd});let Ct=null;Ct=document.createElementNS("http://www.w3.org/2000/svg","rect"),Ct.setAttribute("y",(c+f).toString()),Ct.setAttribute("height",(d-2*c-f).toString()),Ct.setAttribute("fill","rgba(255, 255, 255, 0.05)"),Ct.style.pointerEvents="none";function pr(){if(Ct&&L.val){const k=Math.min(I.val,K.val),M=Math.max(I.val,K.val)-k;Ct.setAttribute("x",k.toString()),Ct.setAttribute("width",M.toString()),Ct.style.display=M>0?"block":"none"}else Ct&&(Ct.style.display="none")}Nn(),P.derive(()=>{I.val=V(R.val),Nn(),pr()}),P.derive(()=>{K.val=V(B.val),Nn(),pr()}),P.derive(()=>{j.val=V(A.val),fn(),pr()}),P.derive(()=>{q.val=V(N.val),fn()});const ni=k=>{if(s.isEnabled&&S.val&&_.val!==null){"touches"in k&&k.preventDefault();const M=s.points,O=_.val===0,z=_.val===M.length-1,F=g.getBoundingClientRect(),Y=H(k);let G=_a(Y.x-F.left-c,F.width-2*c,s.fullDuration),U=Xo(Y.y-F.top-c-f,F.height-2*c-f,s.valueRange);U=Yo(U,i.y,a,s.valueRange),O?G=0:z?G=s.fullDuration:G=ns(G,i.x,a),u==="filter-env"&&(U=Bo(U,s.valueRange)),t.updateEnvelopePoint(u,_.val,G,U),X(),Mt()}},In=()=>{s.isEnabled&&(S.val=!1,_.val=null,X())},ri=()=>{s.isEnabled&&(S.val=!1,_.val=null,X())};let We=0,Oe={x:0,y:0};const ta=300,Ue=30,ke=k=>{if(!s.isEnabled||(k.stopPropagation(),k.preventDefault(),S.val))return;const M=g.getBoundingClientRect(),O=H(k);let z=_a(O.x-M.left-c,M.width-2*c,s.fullDuration),F=Xo(O.y-M.top-c-f,M.height-2*c-f,s.valueRange);F=Yo(F,i.y,a,s.valueRange),z=ns(z,i.x,a),u==="filter-env"&&(F=Bo(F,s.valueRange)),t.addEnvelopePoint(u,z,F),X(),Mt()},pn=k=>{if(!s.isEnabled)return;const M=H(k),O=Date.now();if(O-We<ta){const z=Math.abs(M.x-Oe.x),F=Math.abs(M.y-Oe.y);if(z<Ue&&F<Ue){ke(k),We=0;return}}We=O,Oe=M};g.addEventListener("mousemove",ni),g.addEventListener("mouseup",In),g.addEventListener("mouseleave",ri),g.addEventListener("dblclick",ke),g.addEventListener("touchmove",ni,{passive:!1}),g.addEventListener("touchend",In),g.addEventListener("touchstart",pn,{passive:!1}),Dt.appendChild(g),Dt.appendChild(vt),g.appendChild(dt),g.appendChild(Ct),g.appendChild(Bt),g.appendChild(ft),g.appendChild(ot),g.appendChild(Z),g.appendChild(v),g.appendChild(m),Jt.timeline().from(dt.children,{duration:.25,drawSVG:0,ease:"none",stagger:.1},.1).from(v,{duration:.25,drawSVG:0,ease:"none"},.2).from(m,{opacity:0,duration:.25,ease:"none"},"-=0.2");const Yt=()=>{s=t.getEnvelope(e),x.val=s.isEnabled,b.val=s.loopEnabled,T.val=s.syncedToPlaybackRate,X(),Mt()},Fn=t.onMessage(`${e}:created`,()=>{Yt()}),ii=t.onMessage("sample:loaded",()=>{t.audiobuffer&&qe(t.audiobuffer),R.val=t.loopStart,B.val=t.loopEnd,Yt()}),ai=t.onMessage("start-point:updated",k=>A.val=k.startPoint),w=t.onMessage("end-point:updated",k=>N.val=k.endPoint);let C=!1;const E=t.onMessage("loop:enabled",k=>{L.val=k.enabled,k.enabled&&!s.sustainEnabled?(C=!0,t.setEnvelopeSustainPoint(e,2),X(),Mt()):!k.enabled&&C&&(C=!1,t.setEnvelopeSustainPoint(e,null),X(),Mt())});P.derive(()=>{L.val,ei()});const D=()=>{Fn(),ii(),ai(),w(),Ji(),E()};return P.derive(()=>{x.val?t.enableEnvelope(u):t.disableEnvelope(u),X(),Mt()}),P.derive(()=>t.setEnvelopeLoop(u,b.val)),P.derive(()=>t.setEnvelopeSync(u,T.val)),{element:Dt,timeScaleKnob:oe,drawWaveform:qe,refresh:Yt,cleanup:()=>{D(),Ae.cleanup(),st.forEach(k=>{k.doubleClickTimer&&clearTimeout(k.doubleClickTimer)}),st.clear(),De.forEach(k=>k()),y&&y.parentNode===g&&g.removeChild(y),Bt&&Bt.parentNode===g&&g.removeChild(Bt),ft&&ft.parentNode===g&&g.removeChild(ft),ot&&ot.parentNode===g&&g.removeChild(ot),Z&&Z.parentNode===g&&g.removeChild(Z),Ct&&Ct.parentNode===g&&g.removeChild(Ct)}}},{div:pi}=P.tags,np=t=>{const e=t.attr("target-node-id",""),n=t.attr("envelope-type","amp-env"),r=t.attr("width","100%"),i=t.attr("height","200px");let a=null;const o=P.state(!1),s=P.state(!1),u=()=>{if(!o.val||!s.val){console.log("Waiting for sampler...",{samplerReady:o.val,sampleLoaded:s.val});return}const h=$(e.val);if(!h){console.log("No sampler found for nodeId:",e.val);return}a&&a.cleanup();try{a=Ru(h,n.val,r.val,i.val),h.audiobuffer&&a.drawWaveform(h.audiobuffer)}catch(d){console.error("Error creating envelope:",d)}};return t.mount(()=>{const h=c=>{c.detail.nodeId===e.val&&(o.val=!0,u())},d=c=>{c.detail.nodeId===e.val&&(s.val=!0,u())};return document.addEventListener("sampler-initialized",h),document.addEventListener("sample-loaded",d),()=>{a&&a.cleanup(),document.removeEventListener("sampler-initialized",h),document.removeEventListener("sample-loaded",d)}}),pi({class:"envelope-display",style:On},()=>o.val?s.val?a?a.element:pi("Creating envelope..."):pi("Waiting for sample..."):pi("Waiting for sampler..."))},{div:Le,button:Fp}=P.tags,rp=t=>{const e=t.attr("target-node-id",""),n=t.attr("width","100%"),r=t.attr("height","200px"),i=P.state("amp-env"),a=P.state(!1),o=P.state(!1),s={"amp-env":null,"filter-env":null,"pitch-env":null},u=()=>{if(!a.val||!o.val)return;const d=$(e.val);d&&Object.keys(s).forEach(c=>{if(!s[c])try{s[c]=Ru(d,c,n.val,r.val),c!==i.val&&(s[c].element.style.display="none")}catch(f){console.error(`Error creating ${c} envelope:`,f)}})};P.derive(()=>{const d=i.val;Object.keys(s).forEach(c=>{s[c]&&(s[c].element.style.display=c===d?"block":"none")})}),t.mount(()=>{const d=f=>{f.detail.nodeId===e.val&&(a.val=!0,o.val&&u())},c=f=>{f.detail.nodeId===e.val&&(o.val=!0,a.val&&u())};return document.addEventListener("sampler-initialized",d),document.addEventListener("sample-loaded",c),()=>{Object.values(s).forEach(f=>{f&&f.cleanup()}),document.removeEventListener("sampler-initialized",d),document.removeEventListener("sample-loaded",c)}});const h="display: flex; height: 100%; width: 100%; justify-content: center; align-items: center; margin-top: 1rem; padding: 1rem;";return Le({class:"envelope-switcher",style:On},Le({class:"envelope-buttons"},Le({class:()=>`button ${i.val==="amp-env"?"selected":""}`,onclick:()=>i.val="amp-env"},"Amp"),Le({class:()=>`button ${i.val==="filter-env"?"selected":""}`,onclick:()=>i.val="filter-env"},"Filter"),Le({class:()=>`button ${i.val==="pitch-env"?"selected":""}`,onclick:()=>i.val="pitch-env"},"Pitch")),Le({class:"envelope-container"},()=>{if(!a.val)return Le({style:h},"Click anywhere to start");if(!o.val)return Le({style:h},"Loading audio sample...");const d=Le({style:"position: relative;"});return Object.keys(s).forEach(c=>{s[c]&&d.appendChild(s[c].element)}),d.children.length>0?d:Le("Loading envelopes...")}))},Vu=new Set,$o=new Set;function ip(t){Vu.add(t)}function Ho(t){Vu.delete(t)}const ap={KeyZ:48,KeyS:49,KeyX:50,KeyD:51,KeyC:52,KeyV:53,KeyG:54,KeyB:55,KeyH:56,KeyN:57,KeyJ:58,KeyM:59,Comma:60,KeyL:61,Period:62,Semicolon:63,Slash:64,KeyQ:60,Digit2:61,KeyW:62,Digit3:63,KeyE:64,KeyR:65,Digit5:66,KeyT:67,Digit6:68,KeyY:69,Digit7:70,KeyU:71,KeyI:72,Digit9:73,KeyO:74,Digit0:75,KeyP:76,BracketLeft:77,Equal:78,BracketRight:79,Numpad1:60,Numpad2:62,Numpad3:64,Numpad4:65,Numpad5:67,Numpad6:69,Numpad7:71,Numpad8:72,Numpad9:74};function Qi(t){const{baseNote:e,scale:n}=t,r=["Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal"],i=["KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight"],a=["KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Backslash"],o=["KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash"],s=["Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9"],u={};return[o,a,i,r].forEach((h,d)=>{const c=e+d*12;h.forEach((f,l)=>{const p=l%n.length,g=Math.floor(l/n.length),m=c+g*12+n[p];u[f]=m})}),s.forEach((h,d)=>{const c=d%n.length,f=Math.floor(d/n.length),l=e+3*12+f*12+n[c];u[h]=l}),u}const sp=Qi({baseNote:36,scale:[0,2,4,5,7,9,11]}),op=Qi({baseNote:36,scale:[0,2,3,5,7,8,10]}),lp=Qi({baseNote:36,scale:[0,2,4,7,9]}),up=Qi({baseNote:48,scale:[0,1,2,3,4,5,6,7,8,9,10,11]}),Yi="major",Ki={piano:ap,major:sp,minor:op,pentatonic:lp,chromatic:up},{div:Ta}=P.tags,hp=t=>{const e=t.attr("target-node-id",""),n=P.state(!0),r=P.state(Ki[Yi]),i=P.state(0),a=P.state(!1),o=P.state(!1),s=t.attr("show-ui","false"),u=3,h=-3;let d=!1,c=!1;const f=y=>{y.detail.targetNodeId===e.val&&(r.val=y.detail.keymap)},l=y=>{const x=i.val+y;x>=h&&x<=u&&(i.val+=y)},p=y=>{var x,b;if(y.repeat)return;y.code==="Backquote"&&(y.preventDefault(),y.shiftKey?l(1):l(-1));const T=$(e.val);if(!T||!n.val)return;y.code==="Space"&&(d=!0,y.preventDefault());const _=y.code==="CapsLock"||y.getModifierState("CapsLock"),S=y.shiftKey;a.val=_!==d,o.val=S!==d,(x=T.setLoopEnabled)==null||x.call(T,a.val),(b=T.setHoldEnabled)==null||b.call(T,o.val);const L=r.val[y.code];if(!L)return;y.preventDefault();const A=L+i.val*12;$o.add(y.code),T.play(A)},g=y=>{var x,b,T;const _=$(e.val);if(!_||!n.val)return;y.code==="CapsLock"?(a.val=!1,(x=_.setLoopEnabled)==null||x.call(_,!1)):y.code==="Space"&&(d=!1,a.val=y.getModifierState("CapsLock"),o.val=y.shiftKey,(b=_.setLoopEnabled)==null||b.call(_,a.val),(T=_.setHoldEnabled)==null||T.call(_,o.val));const S=r.val[y.code];if(!S)return;const L=S+i.val*12;_.release(L),$o.delete(y.code)},m=()=>{const y=$(e.val);y&&n.val&&!c?(document.addEventListener("keydown",p),document.addEventListener("keyup",g),ip(y.nodeId),c=!0):(!y||!n.val)&&c&&(document.removeEventListener("keydown",p),document.removeEventListener("keyup",g),y&&Ho(y.nodeId),c=!1)};P.derive(m);const v=setInterval(()=>{e.val&&!c&&n.val&&m()},500);return t.mount(()=>(document.addEventListener("keymap-changed",f),setTimeout(m,100),()=>{if(clearInterval(v),document.removeEventListener("keymap-changed",f),c){document.removeEventListener("keydown",p),document.removeEventListener("keyup",g);const y=$(e.val);y&&Ho(y.nodeId)}})),Ta({class:"computer-keyboard-control",style:s.val==="true"?On:"display: none;"},...s.val==="true"?[Ta(()=>`Loop: ${a.val?"ON":"OFF"}`," | ",()=>`Hold: ${o.val?"ON":"OFF"}`),Ta({style:Gu},"CapsLock=Loop, Shift=Hold, Space=Override, </>=Octave")]:[])};if(window.customElements){class t extends HTMLElement{constructor(){super(),this.addEventListener("mousedown",this.pointerdown,{passive:!1}),this.addEventListener("touchstart",this.pointerdown,{passive:!1}),this.addEventListener("wheel",this.wheel,{passive:!1}),this.addEventListener("mouseover",this.pointerover),this.addEventListener("mouseout",this.pointerout),this.hover=this.drag=0,this.basestyle=`
.webaudioctrl-tooltip{
  display:inline-block;
  position:absolute;
  margin:0 -1000px;
  z-index: 999;
  background:#eee;
  color:#000;
  border:1px solid #666;
  border-radius:4px;
  padding:5px 10px;
  text-align:center;
  left:0; top:0;
  font-size:11px;
  opacity:0;
  visibility:hidden;
}
`}sendEvent(n){let r=document.createEvent("HTMLEvents");r.initEvent(n,!1,!0),this.dispatchEvent(r)}getAttr(n,r){let i=this.getAttribute(n);if(i==null)return r;switch(typeof r){case"number":return i=="true"?1:(i=+i,isNaN(i)?0:i)}return i}showtip(n){this.ttframe&&(this.ttframe.style.opacity=0,this.ttframe.style.visibility="hidden")}pointerover(n){this.hover=1,this.showtip(.6)}pointerout(n){this.hover=0,this.showtip(0)}keydown(n){}keyup(n){}wheel(n){}pointerdown(n){}}customElements.define("webaudio-keyboard",class extends t{constructor(){super(),this.getAttribute("keyboard")==="true"?(this._boundKeydown=this.keydown.bind(this),this._boundKeyup=this.keyup.bind(this),document.addEventListener("keydown",this._boundKeydown),document.addEventListener("keyup",this._boundKeyup),this._keyboardEnabled=!0):this._keyboardEnabled=!1}connectedCallback(){let e;this.attachShadow?e=this.attachShadow({mode:"open"}):e=this,e.innerHTML=`<style>
${this.basestyle}
:host{
  display:inline-block;
  position:relative;
  margin:0;
  padding:0;
  font-family: sans-serif;
  font-size: 11px;
}
.webaudio-keyboard-body{
  display:inline-block;
  margin:0;
  padding:0;
  vertical-align:bottom;
}
</style>
<canvas class='webaudio-keyboard-body' tabindex='1' touch-action='none'></canvas><div class='webaudioctrl-tooltip'></div>
`,this.elem=this.cv=e.childNodes[2],this.ttframe=e.childNodes[3],this.ctx=this.cv.getContext("2d"),this._values=[],this.enable=this.getAttr("enable",1),this._width=this.getAttr("width",480),this.hasOwnProperty("width")||Object.defineProperty(this,"width",{get:()=>this._width,set:n=>{this._width=n,this.setupImage()}}),this._height=this.getAttr("height",128),this.hasOwnProperty("height")||Object.defineProperty(this,"height",{get:()=>this._height,set:n=>{this._height=n,this.setupImage()}}),this._min=this.getAttr("min",0),this.hasOwnProperty("min")||Object.defineProperty(this,"min",{get:()=>this._min,set:n=>{this._min=+n,this.redraw()}}),this._keys=this.getAttr("keys",25),this.hasOwnProperty("keys")||Object.defineProperty(this,"keys",{get:()=>this._keys,set:n=>{this._keys=+n,this.setupImage()}}),this._colors=this.getAttr("colors","#222;#eee;#ccc;#333;#000;#e88;#c44;#c33;#800"),this.hasOwnProperty("colors")||Object.defineProperty(this,"colors",{get:()=>this._colors,set:n=>{this._colors=n,this.setupImage()}}),this.press=0,this.keycodes1=["KeyZ","KeyS","KeyX","KeyD","KeyC","KeyV","KeyG","KeyB","KeyH","KeyN","KeyJ","KeyM","Comma","KeyL","Period","Semicolon","Slash"],this.keycodes2=["KeyQ","Digit2","KeyW","Digit3","KeyE","KeyR","Digit5","KeyT","Digit6","KeyY","Digit7","KeyU","KeyI","Digit9","KeyO","Digit0","KeyP","BracketLeft","Equal","BracketRight"],this.setupImage(),this.digits=0}disconnectedCallback(){this._keyboardEnabled&&(document.removeEventListener("keydown",this._boundKeydown),document.removeEventListener("keyup",this._boundKeyup))}setupImage(){this.cv.style.width=this.width+"px",this.cv.style.height=this.height+"px",this.bheight=this.height*.55,this.kp=[0,7/12,1,3*7/12,2,3,6*7/12,4,8*7/12,5,10*7/12,6],this.kf=[0,1,0,1,0,0,1,0,1,0,1,0],this.ko=[0,0,7*2/12-1,0,7*4/12-2,7*5/12-3,0,7*7/12-4,0,7*9/12-5,0,7*11/12-6],this.kn=[0,2,4,5,7,9,11],this.coltab=this.colors.split(";"),this.cv.width=this.width,this.cv.height=this.height,this.cv.style.width=this.width+"px",this.cv.style.height=this.height+"px",this.style.height=this.height+"px",this.bheight=this.height*.55,this.max=this.min+this.keys-1,this.dispvalues=[],this.valuesold=[],this.kf[this.min%12]&&--this.min,this.kf[this.max%12]&&++this.max,this.redraw()}redraw(){function e(o,s,u,h,d,c,f,l){if(l){let p=o.createLinearGradient(s,u,s+h,u);p.addColorStop(0,f),p.addColorStop(1,l),o.fillStyle=p}else o.fillStyle=f;o.beginPath(),o.moveTo(s,u),o.lineTo(s+h,u),o.lineTo(s+h,u+d-c),o.quadraticCurveTo(s+h,u+d,s+h-c,u+d),o.lineTo(s+c,u+d),o.quadraticCurveTo(s,u+d,s,u+d-c),o.lineTo(s,u),o.fill()}this.ctx.fillStyle=this.coltab[0],this.ctx.fillRect(0,0,this.width,this.height);let n=7*(this.min/12|0)+this.kp[this.min%12],r=7*(this.max/12|0)+this.kp[this.max%12]-n;this.wwidth=(this.width-1)/(r+1),this.bwidth=this.wwidth*7/12;let i=this.bheight,a=Math.min(8,this.wwidth*.2);for(let o=this.min,s=0;o<=this.max;++o)if(this.kf[o%12]==0){let u=this.wwidth*s+++1;this.dispvalues.indexOf(o)>=0?e(this.ctx,u,1,this.wwidth-1,this.height-2,a,this.coltab[5],this.coltab[6]):e(this.ctx,u,1,this.wwidth-1,this.height-2,a,this.coltab[1],this.coltab[2])}a=Math.min(8,this.bwidth*.3);for(let o=this.min;o<this.max;++o)if(this.kf[o%12]){let s=this.wwidth*this.ko[this.min%12]+this.bwidth*(o-this.min)+1;this.dispvalues.indexOf(o)>=0?e(this.ctx,s,1,this.bwidth,i,a,this.coltab[7],this.coltab[8]):e(this.ctx,s,1,this.bwidth,i,a,this.coltab[3],this.coltab[4]),this.ctx.strokeStyle=this.coltab[0],this.ctx.stroke()}}_setValue(e){return this.step&&(e=Math.round((e-this.min)/this.step)*this.step+this.min),this._value=Math.min(this.max,Math.max(this.min,e)),this._value!=this.oldvalue?(this.oldvalue=this._value,this.redraw(),this.showtip(0),1):0}setValue(e,n){this._setValue(e)&&n&&(this.sendEvent("input"),this.sendEvent("change"))}wheel(e){}keydown(e){let n=Math.floor((this.min+11)/12)*12,r=this.keycodes1.indexOf(e.code);r<0&&(r=this.keycodes2.indexOf(e.code),r>=0&&(r+=12)),r>=0&&(r+=n,this.currentKey!=r&&(this.currentKey=r,this.setdispvalues(1,r),this.sendEventFromKey(1,r),this.setNote(1,r)))}keyup(e){let n=Math.floor((this.min+11)/12)*12,r=this.keycodes1.indexOf(e.code);r<0&&(r=this.keycodes2.indexOf(e.code),r>=0&&(r+=12)),r>=0&&(r+=n,this.currentKey=-1,this.setdispvalues(0,r),this.sendEventFromKey(0,r),this.setNote(0,r))}pointerdown(e){this.cv.focus(),this.enable&&++this.press;let n=a=>{if(!this.enable)return;let o=this.getBoundingClientRect(),s=[],u;a.touches?u=a.targetTouches:this.press?u=[a]:u=[],u.length>0&&(this.drag=1);for(let h=0;h<u.length;++h){let d=u[h].clientX-o.left,c=u[h].clientY-o.top,f,l,p;c>=0&&c<this.height&&(c<this.bheight?(f=d-this.wwidth*this.ko[this.min%12],l=this.min+(f/this.bwidth|0)):(l=d/this.wwidth|0,p=this.kp[this.min%12],l+=p,l=this.min+(l/7|0)*12+this.kn[l%7]-this.kn[p%7]),l>=this.min&&l<=this.max&&s.push(l))}s.sort(),this.values=s,this.sendevent(),this.redraw()},r=a=>{this.enable&&(a.touches?this.press=a.touches.length:this.press=0,n(a),this.sendevent(),this.press==0&&(window.removeEventListener("mousemove",n),window.removeEventListener("touchmove",n,{passive:!1}),window.removeEventListener("mouseup",r),window.removeEventListener("touchend",r),window.removeEventListener("touchcancel",r),document.body.removeEventListener("touchstart",i,{passive:!1})),this.redraw()),this.drag=0,a.preventDefault()},i=a=>{a.preventDefault()};window.addEventListener("mousemove",n),window.addEventListener("touchmove",n,{passive:!1}),window.addEventListener("mouseup",r),window.addEventListener("touchend",r),window.addEventListener("touchcancel",r),document.body.addEventListener("touchstart",i,{passive:!1}),n(e),e.preventDefault(),e.stopPropagation()}sendEventFromKey(e,n){let r=document.createEvent("HTMLEvents");r.initEvent("keyboard",!0,!0),r.note=[e,n],this.dispatchEvent(r)}sendevent(){let e=[];for(let n=0,r=this.valuesold.length;n<r;++n)this.values.indexOf(this.valuesold[n])<0&&e.push([0,this.valuesold[n]]);for(let n=0,r=this.values.length;n<r;++n)this.valuesold.indexOf(this.values[n])<0&&e.push([1,this.values[n]]);if(e.length){this.valuesold=this.values;for(let n=0;n<e.length;++n){this.setdispvalues(e[n][0],e[n][1]);let r=document.createEvent("HTMLEvents");r.initEvent("pointer",!0,!0),r.note=e[n],this.dispatchEvent(r)}}}setdispvalues(e,n){let r=this.dispvalues.indexOf(n);e?r<0&&this.dispvalues.push(n):r>=0&&this.dispvalues.splice(r,1)}setNote(e,n,r,i){const a=r&&i-r.currentTime;a>0?setTimeout(()=>{this.setNote(e,n)},a*1e3):(this.setdispvalues(e,n),this.redraw())}})}const{div:cp}=P.tags,dp=t=>{const e=t.attr("target-node-id",""),n=t.attr("width","300"),r=t.attr("height","60"),i=P.state(!0),a=P.state(Ki[Yi]),o=P.state(0),s=document.createElement("webaudio-keyboard"),u=()=>{const d=Object.values(a.val).filter(Boolean);if(d.length===0)return{min:48+o.val*12,keys:25};const c=Math.min(...d),f=Math.max(...d),l=c+o.val*12,p=f-c+1;return{min:l,keys:Math.max(p,25)}};P.derive(()=>{const{min:d,keys:c}=u();s.setAttribute("width",n.val),s.setAttribute("height",r.val),s.setAttribute("min",d.toString()),s.setAttribute("keys",c.toString())});const h=d=>{if(!i.val)return;const c=$(e.val);if(!c)return;const[f,l]=d.note,p=l+12*o.val;f===1?c.play(p):c.release(p)};return s.addEventListener("pointer",h),P.derive(()=>{const d=i.val?"":Zu;s.style.cssText=d}),t.mount(()=>{const d=f=>{(f.detail.targetNodeId===e.val||!f.detail.targetNodeId)&&(f.detail.keymap&&(a.val=f.detail.keymap),f.detail.octaveOffset!==void 0&&(o.val=f.detail.octaveOffset))},c=f=>{if(!i.val||!e.val||f.repeat)return;const l=a.val[f.code];if(!l)return;const p=l+o.val*12,{min:g,keys:m}=u();if(p>=g&&p<g+m){const v=f.type==="keydown";s&&typeof s.setNote=="function"&&s.setNote(v?1:0,p)}};return document.addEventListener("keydown",c),document.addEventListener("keyup",c),document.addEventListener("keymap-changed",d),()=>{s.removeEventListener("pointer",h),document.removeEventListener("keydown",c),document.removeEventListener("keyup",c),document.removeEventListener("keymap-changed",d)}}),cp({class:"piano-keyboard-control",style:On},s)},{div:$i}=P.tags,fp=t=>{const e=t.attr("target-node-id",""),n=t.attr("show-status","false"),r=P.state("Ready"),i=Jr(t,e),a=Vn("Upload Sample","upload",{size:"md",onClick:async()=>{const o=i();if(!o){r.val="Sampler not found";return}const s=$(o);if(!s){r.val="Sampler not found";return}const u=document.createElement("input");u.type="file",u.accept="audio/*",u.onchange=async h=>{const d=h.target.files;if(d&&d.length>0){const c=d[0];r.val=`Loading: ${c.name}...`;try{const f=await c.arrayBuffer();await s.loadSample(f),r.val=`Loaded: ${c.name}`}catch(f){r.val=`Error: ${f}`}}},u.click()}});return $i({style:On},a,...n.val==="true"?[$i(()=>r.val)]:[])},pp=t=>{const e=t.attr("target-node-id",""),n=t.attr("show-status","false"),r=P.state("Ready"),i=P.state(null),a=P.state("Record"),o=P.state(!1);let s;const u=async()=>{var d;const c=$(e.val);if(!c||a.val==="Recording")return;const f=c.getRecorderInputSource();try{const l=await Fu(c.context);if(!l){r.val="Failed to create recorder";return}l.setInputSource(f??"microphone"),i.val=l,i.val.connect(c),i.val.onMessage("state-change",p=>{var g,m,v;switch(r.val=p.state,p.state){case"ARMED":a.val="Armed",(g=s==null?void 0:s.setState)==null||g.call(s,"record_armed");break;case"RECORDING":a.val="Recording",(m=s==null?void 0:s.setState)==null||m.call(s,"record_recording");break;case"IDLE":case"STOPPED":default:a.val="Record",(v=s==null?void 0:s.setState)==null||v.call(s,"record_inactive");break}}),await i.val.start({useThreshold:!0,startThreshold:-30,autoStop:!0,stopThreshold:-40,silenceTimeoutMs:1e3})}catch(l){console.error("Failed to start recording:",l),r.val=`Recording error: ${l instanceof Error?l.message:String(l)}`,i.val=null,a.val="Record",(d=s==null?void 0:s.setState)==null||d.call(s,"record_inactive")}},h=async()=>{var d,c;if(i.val)try{await i.val.stop(),i.val.dispose(),i.val=null,a.val="Record",(d=s==null?void 0:s.setState)==null||d.call(s,"record_inactive"),r.val="Recording stopped"}catch(f){i.val=null,a.val="Record",(c=s==null?void 0:s.setState)==null||c.call(s,"record_inactive"),console.error("Failed to stop recording:",f),r.val=`Stop error: ${f instanceof Error?f.message:String(f)}`}};return s=Vn("Record Sample",["record_inactive","record_armed","record_recording"],{size:"md",onClick:async()=>{a.val==="Record"?await u():a.val==="Armed"?i.val&&i.val.forceStart():await h()},colors:{record_inactive:"#FFFFFF",record_armed:"#f59e0b",record_recording:"#ef4444"}}),P.derive(()=>{s.disabled=!o.val,s.style.opacity=o.val?"1":"0.5"}),t.mount(()=>{const d=$u(()=>o.val=!!$(e.val));return()=>{i.val&&(i.val.stop(),i.val.dispose(),i.val=null,a.val="Record"),d()}}),$i({style:On},s,...n.val==="true"?[$i(()=>r.val)]:[])},{div:br,select:gp,option:mp,span:vp,button:yp,selectedcontent:xp}=P.tags,bp={label:"KeyMap",defaultValue:Yi,options:[{value:"piano",label:"Piano"},{value:"major",label:"Major"},{value:"minor",label:"Minor"},{value:"pentatonic",label:"Pentatonic"},{value:"chromatic",label:"Chromatic"}],onTargetConnect:(t,e,n,r)=>{n.derive(()=>{const i=e.val,a=Ki[i]||Ki[Yi];document.dispatchEvent(new CustomEvent("keymap-changed",{detail:{keymap:a,selectedValue:e.val,targetNodeId:r}}))})}},_p=t=>({sine:"Sine",square:"Square",sawtooth:"Saw",triangle:"Triangle",pulse:"Pulse","bandlimited-sawtooth":"BL Saw",supersaw:"SuperSaw","warm-pad":"Warm Pad",metallic:"Metallic",formant:"Formant","white-noise":"White","pink-noise":"Pink","brown-noise":"Brown","colored-noise":"Colored","random-harmonic":"Random","custom-function":"Custom"})[t]||t,wp={label:"Wave",defaultValue:"square",options:Iu.map(t=>({value:t,label:_p(t)})),onTargetConnect:(t,e,n,r)=>{n.derive(()=>{t.setModulationWaveform("AM",e.val)})}},kp={defaultValue:"microphone",options:[{value:"microphone",label:"Mic"},{value:"browser",label:"Browser"}],onTargetConnect:(t,e,n,r)=>{n.derive(()=>{t.setRecorderInputSource(e.val)})}},As=(t,e,n,r,i=!0)=>a=>{const o=a.attr("target-node-id",""),s=a.attr("show-label","false"),u=a.attr("label-position","inline"),h=n.state(t.defaultValue),d=Jr(a,o),{createMountHandler:c}=du(d,e,l=>{if(t.onTargetConnect)try{t.onTargetConnect(l,h,n,d())}catch(p){console.error(`Failed to connect select "${t.label||"unnamed"}":`,p)}});a.mount(c(a));const f=br({class:"ac-selectContainer"},gp({onchange:l=>{const p=l.target;h.val=p.value},style:ju,value:()=>h.val,class:i?"ac-select ac-autoResizableSelect":"ac-select"},yp(xp()),...t.options.map(l=>mp({value:l.value,selected:()=>h.val===l.value},l.label))),i&&vp({class:"ac-select-measure",style:"visibility: hidden; position: absolute; white-space: pre; font: inherit;"}));return i&&setTimeout(()=>{const l=f,p=l.querySelector(".ac-autoResizableSelect"),g=l.querySelector(".ac-select-measure"),m=()=>{!p||!g||(g.textContent=p.options[p.selectedIndex].text,g.style.font=window.getComputedStyle(p).font,p.style.width=g.offsetWidth+35+"px")};p&&(p.addEventListener("change",m),window.addEventListener("DOMContentLoaded",m),m())},0),s.val!=="true"||!t.label?f:u.val==="below"?br({style:`
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
          `},f,br({style:`
              font-size: 9px;
              color: var(--ac-color-text-secondary, #999);
              text-transform: uppercase;
              letter-spacing: 0.5px;
            `},t.label)):br({style:"display: inline-flex; align-items: center; gap: var(--ac-spacing-xs, 0.25rem);"},br({style:"font-size: var(--ac-font-size-sm, 12px); color: var(--ac-color-text-primary);"},`${t.label}:`),f)},Lp=As(bp,$,P),zu=As(wp,$,P),Tp=As(kp,$,P),{div:Sp}=P.tags,Ep=`
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
`,Mp=t=>{const e=t.attr("target-node-id",""),n=t.attr("show-wave-label","false"),r=P.state("below"),i=fu({attr:(o,s)=>o==="target-node-id"?e:t.attr(o,s),mount:t.mount,$this:t.$this}),a=zu({attr:(o,s)=>o==="target-node-id"?e:o==="label-position"?r:o==="show-label"?n:t.attr(o,s),mount:t.mount,$this:t.$this});return Sp({style:Ep,class:"am-modulation-composite"},i,a)},{div:Cp}=P.tags,Pp=t=>{const e=t.attr("target-node-id",""),n=P.state("No sampler found"),r=Jr(t,e),{createMountHandler:i}=du(r,$,()=>n.val="Initialized");return t.mount(()=>{n.val="Click to start",i(t)();const a=s=>{var u;((u=s.detail)==null?void 0:u.nodeId)===r()&&(n.val="Sample loaded")},o=s=>{var u;const h=s;((u=h.detail)==null?void 0:u.nodeId)===r()&&(n.val=`Error: ${h.detail.error}`)};return document.addEventListener("sample-loaded",a),document.addEventListener("sampler-error",o),()=>{document.removeEventListener("sample-loaded",a),document.removeEventListener("sampler-error",o)}}),Cp({"target-node-id":()=>e.val,role:"status","aria-live":"polite","aria-atomic":"true",style:"font-family: monospace; font-size: 12px;"},()=>`${n.val}`)},{div:gi}=P.tags;function Ap(t){const e=t.numberOfChannels,n=t.sampleRate,r=t.length,i=e*2,a=n*i,o=r*i,s=44+o,u=new ArrayBuffer(s),h=new DataView(u);let d=0;function c(f){for(let l=0;l<f.length;l++)h.setUint8(d++,f.charCodeAt(l))}c("RIFF"),h.setUint32(d,36+o,!0),d+=4,c("WAVE"),c("fmt "),h.setUint32(d,16,!0),d+=4,h.setUint16(d,1,!0),d+=2,h.setUint16(d,e,!0),d+=2,h.setUint32(d,n,!0),d+=4,h.setUint32(d,a,!0),d+=4,h.setUint16(d,i,!0),d+=2,h.setUint16(d,16,!0),d+=2,c("data"),h.setUint32(d,o,!0),d+=4;for(let f=0;f<r;f++)for(let l=0;l<e;l++){let p=t.getChannelData(l)[f];p=Math.max(-1,Math.min(1,p));const g=Math.round(p*32767);h.setInt16(d,g,!0),d+=2}return u}function Dp(t){const e=new Uint8Array(t);return e[0]===82&&e[1]===73&&e[2]===70&&e[3]===70&&e[8]===87&&e[9]===65&&e[10]===86&&e[11]===69}function Op(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return btoa(e)}function Rp(t){const e=atob(t),n=e.length,r=new ArrayBuffer(n),i=new Uint8Array(r);for(let a=0;a<n;a++)i[a]=e.charCodeAt(a);return r}const Vp=t=>{let e=null;const n=t.attr("node-id",""),r=t.attr("polyphony","16"),i=t.attr("debug-mode","false"),a=P.state("Click to start");return t.mount(()=>((async()=>{var o;try{let s;const u=localStorage.getItem("currentSample");if(u!=null&&u.length){const h=Rp(u);Dp(h)&&(s=h)}e=await Nu(s,parseInt(r.val)),n.val||(n.val=e.nodeId),Yu(n.val,e),a.val="Initialized",document.dispatchEvent(new CustomEvent("sampler-initialized",{detail:{nodeId:n.val}})),e.onMessage("sample:loaded",h=>{a.val="Loaded";const d=e==null?void 0:e.audiobuffer;if(document.dispatchEvent(new CustomEvent("sample-loaded",{detail:{nodeId:n.val,buffer:d,durationSeconds:h.durationSeconds}})),d!=null&&d.length){const c=Ap(d),f=Op(c);localStorage.setItem("currentSample",f)}}),Object.assign(t.$this,{nodeId:n.val,getSamplePlayer:()=>e})}catch(s){if(console.error("Sampler initialization error:",s),(o=s==null?void 0:s.message)!=null&&o.includes("AudioWorklet"))a.val="Browser not supported",document.dispatchEvent(new CustomEvent("sampler-error",{detail:{nodeId:n.val,error:"AudioWorklet not supported",message:"This browser does not fully support Web Audio. Please use Chrome, Firefox, or Edge on desktop, or update your mobile browser."}}));else{const u=typeof(s==null?void 0:s.message)=="string"?s.message:String(s);a.val=`Error: ${u}`,document.dispatchEvent(new CustomEvent("sampler-error",{detail:{nodeId:n.val,error:u}}))}}})(),()=>{e&&n.val&&(Ku(n.val),e.dispose())})),i.val==="true"||i.val===""?gi({"node-id":()=>n.val,style:`${On}`},gi(()=>`Sampler: ${n.val}`),gi(()=>`Status: ${a.val}`)):gi({"node-id":()=>n.val,style:"display: none;"})},W=(t,e,n)=>{customElements.get(t)||Uu(t,e,n)},zp=()=>{W("sampler-element",Vp,!1),W("load-button",fp,!1),W("record-button",pp,!1),W("volume-knob",od,!1),W("reverb-send-knob",_d,!1),W("reverb-size-knob",wd,!1),W("lowpass-filter-knob",Ld,!1),W("highpass-filter-knob",Td,!1),W("dry-wet-knob",ld,!1),W("feedback-knob",ud,!1),W("drive-knob",cd,!1),W("clipping-knob",dd,!1),W("glide-knob",fd,!1),W("feedback-pitch-knob",pd,!1),W("feedback-decay-knob",gd,!1),W("feedback-lpf-knob",md,!1),W("gain-lfo-rate-knob",vd,!1),W("gain-lfo-depth-knob",yd,!1),W("pitch-lfo-rate-knob",xd,!1),W("pitch-lfo-depth-knob",bd,!1),W("am-mod-knob",fu,!1),W("loop-start-knob",Sd,!1),W("loop-duration-knob",Ed,!1),W("loop-duration-drift-knob",kd,!1),W("trim-start-knob",Md,!1),W("trim-end-knob",Cd,!1),W("distortion-knob",hd,!1),W("feedback-mode-toggle",Yf,!1),W("midi-toggle",Of,!1),W("loop-lock-toggle",Vf,!1),W("hold-lock-toggle",zf,!1),W("gain-lfo-sync-toggle",Kf,!1),W("pitch-lfo-sync-toggle",$f,!1),W("playback-direction-toggle",Rf,!1),W("pan-drift-toggle",Hf,!1),W("pitch-toggle",Nf,!1),W("envelope-display",np,!1),W("envelope-switcher",rp,!1),W("computer-keyboard",hp,!1),W("piano-keyboard",dp,!1),W("keymap-select",Lp,!1),W("waveform-select",zu,!1),W("input-select",Tp,!1),W("am-modulation",Mp,!1),W("sampler-status",Pp,!1)};zp();class Np extends HTMLElement{constructor(){super(),pt(this,"svg"),pt(this,"thumbs"),pt(this,"track"),pt(this,"minValue",0),pt(this,"maxValue",1),pt(this,"positionsPixels"),pt(this,"sliderMinPx",10),pt(this,"sliderMaxPx",210),pt(this,"sliderWidthPx",200),pt(this,"snapToEdges",rt.utils.snap({values:[0,1],radius:.001})),pt(this,"norm",rt.utils.mapRange(this.sliderMinPx,this.sliderMaxPx,0,1)),pt(this,"isShiftDragging",!1),pt(this,"dragStartPositions",[]),this.positionsPixels=[10,210]}connectedCallback(){this.innerHTML=`
      <style>
        .slider-container {
          position: relative;
          width: 220px;
          height: 20px;
          margin: 20px auto;
        }

        .slider-svg {
          width: 100%;
          height: 100%;
          overflow: visible;
        }

        .slider-thumb {
          cursor: pointer;
          fill: #2196f3;
          stroke: #fff;
          stroke-width: 2;
        }

        .slider-thumb:hover {
          fill: #1976d2;
        }

        .slider-track {
          stroke: #ddd;
          stroke-width: 4;
          stroke-linecap: round;
        }

        .output-values {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 10px;
          padding: 5px;
          background:rgb(100, 100, 100);
          border: 1px solid #ddd;
          border-radius: 4px;

          margin: 5px 0;
          margin-top: 10px;
          font-family: Arial, sans-serif;
          font-size: 14px;
        }
      </style>
      
      <div class="slider-container">
        <svg class="slider-svg" viewBox="0 0 220 20">
          <line class="slider-track" x1="10" y1="10" x2="210" y2="10"></line>
            <circle class="slider-thumb" r="8" cx="0" cy="10" data-thumb="0"></circle>
            <circle class="slider-thumb" r="8" cx="0" cy="10" data-thumb="1"></circle>
        </svg>
      </div>

      <!--
      <div class="output-values">
        <span>Thumb:</span>
        <span>%</span>
        <span>First:</span>
        <span id="value-0">${this.positionsPixels[0].toFixed(2)}</span>
        <span>Second:</span>
        <span id="value-1">${this.positionsPixels[1].toFixed(2)}</span>
      </div>
        -->
    `,this.svg=this.querySelector(".slider-svg"),this.track=this.querySelector(".slider-track"),this.thumbs=Array.from(this.querySelectorAll(".slider-thumb")),this.initializeGSAP(),this.updateThumbs()}valueToNormalized(e){return(e-this.minValue)/(this.maxValue-this.minValue)}normalizedToValue(e){return this.minValue+e*(this.maxValue-this.minValue)}normalizedToPixels(e){return this.sliderMinPx+e*this.sliderWidthPx}pixelsToNormalized(e){return(e-this.sliderMinPx)/this.sliderWidthPx}initializeGSAP(){if(typeof rt>"u"){console.error("GSAP is not loaded");return}rt.registerPlugin(hn),rt.set(this.thumbs[0],{x:this.positionsPixels[0]}),rt.set(this.thumbs[1],{x:this.positionsPixels[1]}),this.thumbs.forEach((e,n)=>{hn.create(e,{type:"x",bounds:{minX:this.sliderMinPx,maxX:this.sliderMaxPx},onDrag:()=>this.onDrag(n),onPress:r=>this.onPress(r,n),onThrowUpdate:()=>this.onDrag(n),throwProps:!0})})}onPress(e,n){this.isShiftDragging=e.shiftKey,this.isShiftDragging&&(this.dragStartPositions=[rt.getProperty(this.thumbs[0],"x"),rt.getProperty(this.thumbs[1],"x")])}onDrag(e){let n=rt.getProperty(this.thumbs[0],"x"),r=rt.getProperty(this.thumbs[1],"x");if(this.isShiftDragging){const i=(e===0?n:r)-this.dragStartPositions[e],a=this.dragStartPositions[0]+i,o=this.dragStartPositions[1]+i,s=Math.max(this.sliderMinPx,Math.min(this.sliderMaxPx,a)),u=Math.max(this.sliderMinPx,Math.min(this.sliderMaxPx,o));rt.set(this.thumbs[0],{x:s}),rt.set(this.thumbs[1],{x:u}),this.positionsPixels[0]=s,this.positionsPixels[1]=u}else n>r-2&&(e===0?n=r-2:r=n+2,rt.set(this.thumbs[e],{x:e===0?n:r})),this.positionsPixels[0]=n,this.positionsPixels[1]=r;this.dispatchChangeEvent()}dispatchChangeEvent(){const e=this.pixelsToNormalized(this.positionsPixels[0]),n=this.pixelsToNormalized(this.positionsPixels[1]),r=this.normalizedToValue(e),i=this.normalizedToValue(n);this.dispatchEvent(new CustomEvent("range-change",{detail:{min:r,max:i,isShiftDragging:this.isShiftDragging,minNormalized:e,maxNormalized:n}}))}updateThumbs(){typeof rt>"u"||(this.thumbs.forEach((e,n)=>{rt.to(e,{x:this.positionsPixels[n],duration:.3,ease:"power2.out"})}),this.dispatchChangeEvent())}refreshDisplay(){this.thumbs.forEach((e,n)=>{const r=this.querySelector(`#value-${n}`);r&&(r.textContent=this.positionsPixels[n].toFixed(0))})}setRange(e,n){this.minValue=e,this.maxValue=n,this.updateThumbs()}setPosition(e,n){if(e>=0&&e<this.positionsPixels.length){const r=this.valueToNormalized(n);this.positionsPixels[e]=this.normalizedToPixels(r),this.updateThumbs()}}getPosition(e){const n=this.pixelsToNormalized(this.positionsPixels[e]);return this.normalizedToValue(n)}getPositionsInPx(){return[...this.positionsPixels]}}customElements.define("slider-gsap",Np);const{div:Bp,label:Xp}=P.tags,{div:Yp}=P.tags,{div:Kp,button:$p}=P.tags,{div:Hp,span:qp,input:Wp,label:Up}=P.tags,{div:jp}=P.tags,{div:Gp,button:Zp,label:Qp}=P.tags;export{zp as H};
//# sourceMappingURL=audio-components-Cu0D8yVT.js.map
