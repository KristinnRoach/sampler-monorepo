(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();let protoOf$1=Object.getPrototypeOf,changedStates$1,derivedStates$1,curDeps$1,curNewDerives$1,alwaysConnectedDom$1={isConnected:1},gcCycleInMs$1=1e3,statesToGc$1,propSetterCache$1={},objProto$1=protoOf$1(alwaysConnectedDom$1),funcProto$1=protoOf$1(protoOf$1),_undefined$1,addAndScheduleOnFirst$1=(i,e,t,n)=>(i??(setTimeout(t,n),new Set)).add(e),runAndCaptureDeps$1=(i,e,t)=>{let n=curDeps$1;curDeps$1=e;try{return i(t)}catch(s){return console.error(s),t}finally{curDeps$1=n}},keepConnected$1=i=>i.filter(e=>{var t;return(t=e._dom)==null?void 0:t.isConnected}),addStatesToGc$1=i=>statesToGc$1=addAndScheduleOnFirst$1(statesToGc$1,i,()=>{for(let e of statesToGc$1)e._bindings=keepConnected$1(e._bindings),e._listeners=keepConnected$1(e._listeners);statesToGc$1=_undefined$1},gcCycleInMs$1),stateProto$2={get val(){var i;return(i=curDeps$1==null?void 0:curDeps$1._getters)==null||i.add(this),this.rawVal},get oldVal(){var i;return(i=curDeps$1==null?void 0:curDeps$1._getters)==null||i.add(this),this._oldVal},set val(i){var e;(e=curDeps$1==null?void 0:curDeps$1._setters)==null||e.add(this),i!==this.rawVal&&(this.rawVal=i,this._bindings.length+this._listeners.length?(derivedStates$1==null||derivedStates$1.add(this),changedStates$1=addAndScheduleOnFirst$1(changedStates$1,this,updateDoms$1)):this._oldVal=i)}},state$1=i=>({__proto__:stateProto$2,rawVal:i,_oldVal:i,_bindings:[],_listeners:[]}),bind$1=(i,e)=>{let t={_getters:new Set,_setters:new Set},n={f:i},s=curNewDerives$1;curNewDerives$1=[];let o=runAndCaptureDeps$1(i,t,e);o=(o??document).nodeType?o:new Text(o);for(let a of t._getters)t._setters.has(a)||(addStatesToGc$1(a),a._bindings.push(n));for(let a of curNewDerives$1)a._dom=o;return curNewDerives$1=s,n._dom=o},derive$1=(i,e=state$1(),t)=>{let n={_getters:new Set,_setters:new Set},s={f:i,s:e};s._dom=t??(curNewDerives$1==null?void 0:curNewDerives$1.push(s))??alwaysConnectedDom$1,e.val=runAndCaptureDeps$1(i,n,e.rawVal);for(let o of n._getters)n._setters.has(o)||(addStatesToGc$1(o),o._listeners.push(s));return e},add$1=(i,...e)=>{for(let t of e.flat(1/0)){let n=protoOf$1(t??0),s=n===stateProto$2?bind$1(()=>t.val):n===funcProto$1?bind$1(t):t;s!=_undefined$1&&i.append(s)}return i},tag$1=(i,e,...t)=>{var l;let[{is:n,...s},...o]=protoOf$1(t[0]??0)===objProto$1?t:[{},...t],a=i?document.createElementNS(i,e,{is:n}):document.createElement(e,{is:n});for(let[c,h]of Object.entries(s)){let f=$=>$?Object.getOwnPropertyDescriptor($,c)??f(protoOf$1($)):_undefined$1,_=e+","+c,y=propSetterCache$1[_]??(propSetterCache$1[_]=((l=f(protoOf$1(a)))==null?void 0:l.set)??0),u=c.startsWith("on")?($,k)=>{let A=c.slice(2);a.removeEventListener(A,k),a.addEventListener(A,$)}:y?y.bind(a):a.setAttribute.bind(a,c),b=protoOf$1(h??0);c.startsWith("on")||b===funcProto$1&&(h=derive$1(h),b=stateProto$2),b===stateProto$2?bind$1(()=>(u(h.val,h._oldVal),a)):u(h)}return add$1(a,o)},handler$1=i=>({get:(e,t)=>tag$1.bind(_undefined$1,i,t)}),update$1=(i,e)=>e?e!==i&&i.replaceWith(e):i.remove(),updateDoms$1=()=>{let i=0,e=[...changedStates$1].filter(n=>n.rawVal!==n._oldVal);do{derivedStates$1=new Set;for(let n of new Set(e.flatMap(s=>s._listeners=keepConnected$1(s._listeners))))derive$1(n.f,n.s,n._dom),n._dom=_undefined$1}while(++i<100&&(e=[...derivedStates$1]).length);let t=[...changedStates$1].filter(n=>n.rawVal!==n._oldVal);changedStates$1=_undefined$1;for(let n of new Set(t.flatMap(s=>s._bindings=keepConnected$1(s._bindings))))update$1(n._dom,bind$1(n.f,n._dom)),n._dom=_undefined$1;for(let n of t)n._oldVal=n.rawVal};const van$1={tags:new Proxy(i=>new Proxy(tag$1,handler$1(i)),handler$1()),hydrate:(i,e)=>update$1(i,bind$1(e,i)),add:add$1,state:state$1,derive:derive$1},qs=(i,e)=>document.querySelector(i);var pc=Object.defineProperty,xu=i=>{throw TypeError(i)},mc=(i,e,t)=>e in i?pc(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,R=(i,e,t)=>mc(i,typeof e!="symbol"?e+"":e,t),fa=(i,e,t)=>e.has(i)||xu("Cannot "+t),r=(i,e,t)=>(fa(i,e,"read from private field"),t?t.call(i):e.get(i)),v=(i,e,t)=>e.has(i)?xu("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),m=(i,e,t,n)=>(fa(i,e,"write to private field"),e.set(i,t),t),H=(i,e,t)=>(fa(i,e,"access private method"),t),Fi=(i,e,t,n)=>({set _(s){m(i,e,s)},get _(){return r(i,e,n)}});const Ts={sampleRate:48e3};function gc(i){if(i==null||i.duration<.01||i.duration>60||i.numberOfChannels<1||i.numberOfChannels>32)return!1;let o=!1,a=0,l=0;for(let c=0;c<i.numberOfChannels;c++)try{const h=i.getChannelData(c);if(!h||h.length===0)return!1;let f=0;for(let y=0;y<h.length;y++){const u=Math.abs(h[y]);u>0&&(o=!0),u>a&&(a=u),f+=u*u}const _=Math.sqrt(f/h.length);if(_>l&&(l=_),o)break}catch{return!1}if(o){const c=20*Math.log10(a),h=20*Math.log10(l);console.log(`AudioBuffer Analysis:
      Duration: ${i.duration} seconds
      Peak amplitude: ${a.toFixed(4)} (${c.toFixed(1)} dB)
      RMS amplitude: ${l.toFixed(4)} (${h.toFixed(1)} dB)
    `)}return o}var qr,Ui,mt,an,Tt,er,tr,nr,jr,rr,xe,Ku,Lu,qu,Aa,wa,Vi;class Su{constructor(e,t,n,s=1024){v(this,xe),v(this,qr),v(this,Ui),v(this,mt),v(this,an),v(this,Tt),v(this,er),v(this,tr),v(this,nr,null),v(this,jr,new Map),v(this,rr,null),m(this,qr,e),m(this,Ui,t),m(this,mt,n),m(this,an,e.createAnalyser()),m(this,Tt,e.createAnalyser()),r(this,an).fftSize=s,r(this,Tt).fftSize=s,m(this,er,new Float32Array(r(this,an).fftSize)),m(this,tr,new Float32Array(r(this,Tt).fftSize))}start(e=1e3,t,n=!1){return this.stop(),H(this,xe,Ku).call(this),m(this,nr,window.setInterval(()=>{const s=this.getLevels();t&&t(s),n&&H(this,xe,qu).call(this,s)},e)),this}getLevels(){r(this,an).getFloatTimeDomainData(r(this,er)),r(this,Tt).getFloatTimeDomainData(r(this,tr));const e=H(this,xe,Aa).call(this,r(this,er)),t=H(this,xe,Aa).call(this,r(this,tr)),n=H(this,xe,wa).call(this,r(this,er)),s=H(this,xe,wa).call(this,r(this,tr)),o=H(this,xe,Vi).call(this,e),a=H(this,xe,Vi).call(this,t),l=H(this,xe,Vi).call(this,n),c=H(this,xe,Vi).call(this,s),h=l-c;return{input:{rms:e,peak:n,rmsDB:o,peakDB:l},output:{rms:t,peak:s,rmsDB:a,peakDB:c},gainChange:h,gainChangeDB:h}}stop(){if(r(this,nr)){window.clearInterval(r(this,nr)),m(this,nr,null);try{r(this,an).disconnect(),r(this,Tt).disconnect(),r(this,rr)&&(r(this,rr).disconnect(),m(this,rr,null));const e=r(this,jr).get(r(this,mt));if(e){r(this,mt).disconnect();for(const t of e)t.node instanceof AudioNode?r(this,mt).connect(t.node,t.output,t.input):t.node instanceof AudioParam&&r(this,mt).connect(t.node,t.output)}r(this,jr).clear()}catch(e){console.error("Error removing level monitoring:",e)}}}}qr=new WeakMap,Ui=new WeakMap,mt=new WeakMap,an=new WeakMap,Tt=new WeakMap,er=new WeakMap,tr=new WeakMap,nr=new WeakMap,jr=new WeakMap,rr=new WeakMap,xe=new WeakSet,Ku=function(){try{const i=H(this,xe,Lu).call(this,r(this,mt));r(this,jr).set(r(this,mt),i);const e=r(this,qr).createGain();e.gain.value=1,r(this,Ui).connect(e),e.connect(r(this,an)),r(this,mt).disconnect(),r(this,mt).connect(r(this,Tt));for(const t of i)t.node instanceof AudioNode?r(this,Tt).connect(t.node,t.output,t.input):t.node instanceof AudioParam&&r(this,Tt).connect(t.node,t.output);m(this,rr,e)}catch(i){console.error("Error setting up level monitoring:",i)}},Lu=function(i){return[{node:r(this,qr).destination,output:0,input:0}]},qu=function(i){console.log(`Audio Levels:
       Input:  RMS ${i.input.rmsDB.toFixed(1)} dB | Peak ${i.input.peakDB.toFixed(1)} dB
       Output: RMS ${i.output.rmsDB.toFixed(1)} dB | Peak ${i.output.peakDB.toFixed(1)} dB
       Gain Change: ${i.gainChangeDB>0?"+":""}${i.gainChangeDB.toFixed(1)} dB`)},Aa=function(i){let e=0;for(let t=0;t<i.length;t++)e+=i[t]*i[t];return Math.sqrt(e/i.length)},wa=function(i){let e=0;for(let t=0;t<i.length;t++){const n=Math.abs(i[t]);n>e&&(e=n)}return e},Vi=function(i){return i<1e-7?-100:20*Math.log10(i)};function yc(i,e,t=.9){const n=e.numberOfChannels,s=e.length,o=e.sampleRate;let a=0;for(let h=0;h<n;h++){const f=e.getChannelData(h);for(let _=0;_<s;_++){const y=Math.abs(f[_]);y>a&&(a=y)}}if(a===0)return e;const l=t/a,c=i.createBuffer(n,s,o);for(let h=0;h<n;h++){const f=e.getChannelData(h),_=c.getChannelData(h);for(let y=0;y<s;y++)_[y]=f[y]*l}return c}const ju=[["C"],["C#","Db"],["D"],["D#","Eb"],["E"],["F"],["F#","Gb"],["G"],["G#","Ab"],["A"],["A#","Bb"],["B"]],vc={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},bc={chromatic:[0,1,2,3,4,5,6,7,8,9,10,11],major:[0,2,4,5,7,9,11],minor:[0,2,3,5,7,8,10],harmonic_minor:[0,2,3,5,7,8,11],melodic_minor:[0,2,3,5,7,9,11],lydian:[0,2,4,6,7,9,10],dorian:[0,2,3,5,7,9,10],phrygian:[0,1,3,5,7,8,10],mixolydian:[0,2,4,5,7,9,10],locrian:[0,1,3,5,6,8,10],diminished:[0,2,3,5,6,8,9,11],augmented:[0,3,4,8,9],major_pentatonic:[0,2,4,7,9],minor_pentatonic:[0,2,3,7,8],blues:[0,3,5,6,7,10],whole_tone:[0,2,4,6,8,10]};function Ac(i,e=440){return e*Math.pow(2,(i-69)/12)}function wc(i,e="semitones",t=440,n){const s=12*Math.log2(i/t)+69;return e==="semitones"?Math.round(s):s}function Pc(i=0,e=9,t=440,n=4){const s=[],o=Math.pow(2,.08333333333333333),a=4*12+9;for(let l=i*12;l<=e*12+(e===8?0:11);l++){const c=t*Math.pow(o,l-a);s.push(Number(c.toFixed(n)))}return s}function Ec(i){return typeof i=="number"&&Number.isInteger(i)&&i>=0&&i<=127}function Gu(i,e=60){return Math.pow(2,(i-e)/12)}const La=Pc(0,9),Tc=La.map(i=>1/i),xc=Array.from({length:La.length},(i,e)=>{const t=Math.floor(e/12)-1,n=e%12;return`${ju[n][0]}${t}`}),Sc=ju,pa=vc,oo=La,kc=Tc,Uu=xc,zu=bc,ao=i=>{const e=oo.reduce((n,s)=>Math.abs(s-i)<Math.abs(n-i)?s:n),t=wc(e);return Ic(t)};function Ic(i){const e=Ac(i),t=Math.floor(i/12)-1,n=i%12;return{name:Sc[n][0],octave:t,midiNote:i,frequency:e,period:1/e}}function Mc(){const i={};return Uu.forEach((e,t)=>{i[e]=oo[t]}),Dc(i),Oc(i)}function Dc(i){const e=[["C#","Db"],["D#","Eb"],["F#","Gb"],["G#","Ab"],["A#","Bb"]];for(let t=0;t<=8;t++)for(const[n,s]of e){const o=`${n}${t}`,a=`${s}${t}`;o in i&&!(a in i)?i[a]=i[o]:a in i&&!(o in i)&&(i[o]=i[a])}}function Oc(i){return Object.fromEntries(Object.entries(i).sort((e,t)=>e[1]-t[1]))}const Cc=Mc();Object.fromEntries(Object.entries(Cc).map(([i,e])=>[i,1/e]));function Nc(i,e,t=0,n=8){if(!pa[i]&&pa[i]!==0)throw new Error(`Unknown root note: ${i}`);const s=[...typeof e=="string"?zu[e]:e],o=pa[i],a=[],l=[],c=[];for(let h=t;h<=n;h++)s.forEach(f=>{const _=h*12+(o+f)%12;_<oo.length&&(a.push(oo[_]),l.push(kc[_]),c.push(Uu[_]))});return{rootIdx:o,frequencies:a,periodsInSec:l,scalePattern:s,noteNames:c}}function Rc(i,e){const t=Math.pow(2,e/12);return i.map(n=>n/t)}function oe(i,e,t){if(!i){const n=t?`
Context: ${JSON.stringify(t)}`:"";throw new Error(`Assertion failed${e?`: ${e}`:""}${n}`)}}function Fc(i){return typeof i=="object"&&i!==null&&typeof i.then=="function"}async function Ut(i,e,t=!0){if(typeof i!="function")throw new Error("tryCatch argument must be a function");try{const n=i();if(Fc(n))try{return{data:await n,error:null}}catch(s){return ku(s,e,t)}return{data:n,error:null}}catch(n){return ku(n,e,t)}}function ku(i,e,t=!0){if(t){const n=e?`${e}: ${i.message??i}`:i.message??i;console.error(n)}return{data:null,error:i}}var Gr;class Vc{constructor(){v(this,Gr,null);try{if(typeof window>"u"||typeof AudioContext>"u"){console.error("Environment util: Window or AudioContext is undefined");return}const e=window.AudioContext||window.webkitAudioContext,t=new e,n=t.createGain().gain,s=typeof navigator<"u"&&"keyboard"in navigator,o=typeof KeyboardEvent<"u"&&typeof KeyboardEvent.prototype.getModifierState=="function";m(this,Gr,{cancelAndHoldSupported:typeof n.cancelAndHoldAtTime=="function",workletSupported:typeof t.audioWorklet=="object",keyboardAPISupported:s,modifierStateSupported:o}),t.close().catch(console.error)}catch{m(this,Gr,{cancelAndHoldSupported:!1,workletSupported:!1,keyboardAPISupported:!1,modifierStateSupported:!1})}}get capabilities(){return r(this,Gr)}}Gr=new WeakMap;const Kr=new Vc,Bc=()=>{var i;return!!((i=Kr==null?void 0:Kr.capabilities)!=null&&i.cancelAndHoldSupported)},Kc=()=>{var i;return!!((i=Kr==null?void 0:Kr.capabilities)!=null&&i.modifierStateSupported)};function Bi(i,e,t){(Array.isArray(i)?i:[i]).forEach(n=>{Bc()?n.cancelAndHoldAtTime(e):(n.cancelScheduledValues(e),n.setValueAtTime(n.value,e))})}function Lc(i,e,t="any",n=o=>o,s=(o,a)=>Math.abs(o-a)){if(i.length===0)throw new Error("Array cannot be empty");if(i.length===1)return 0;const o=e,a=n(i[0]),l=n(i[i.length-1]);if(o<=a)return 0;if(o>=l)return i.length-1;let c=0,h=i.length-1;for(;c<h-1;){const y=Math.floor((c+h)/2),u=n(i[y]);if(u===o)return y;u<o?c=y:h=y}if(t==="left")return c;if(t==="right")return h;const f=s(n(i[c]),o),_=s(n(i[h]),o);return f<=_?c:h}function $s(i,e,t="any",n=o=>o,s=(o,a)=>Math.abs(o-a)){const o=Lc(i,e,t,n,s);return i[o]}const ht=(i,e,t)=>Math.max(e,Math.min(t,i)),Kt=(i,e,t,n,s,o={warn:!0})=>{if(i<e||i>t){const l=o.name?`(${o.name})`:"";o.warn&&console.warn(`Input value${l} ${i} is outside nominal range [${e}, ${t}]`),i=ht(i,e,t)}if(t===e)return(s+n)/2;const a=(i-e)*(s-n)/(t-e)+n;return ht(a,Math.min(n,s),Math.max(n,s))},qc=1e-4;function jc(i,e=qc){const t=i.getChannelData(0),n=i.sampleRate,s=[];for(let o=1;o<t.length;o++)if(Math.abs(t[o])<e)s.push(o/n);else if(Math.sign(t[o])!==Math.sign(t[o-1])){const a=-t[o-1]/(t[o]-t[o-1]),l=(o-1+a)/n;s.push(l)}return s}const ma=i=>{const e=i.values().next();if(!e.done)return i.delete(e.value),e.value};let tn=null,Lr=null;function We(i){return tn||(tn=new AudioContext({sampleRate:Ts.sampleRate,latencyHint:"interactive"}),tn.state==="suspended"&&(Lr=Lr||Qu())),tn}async function Pa(i){const e=We();if(e.state==="running")return e;if(e.state==="closed"){tn=null;const t=await Ut(()=>Pa(i));return oe(t.data instanceof AudioContext&&!t.error,"failed to re-created closed audio context",t.error),t.data}return Lr=Lr||Qu(),await Lr,e}function Qu(){if(typeof document>"u")return Promise.resolve();const i=["click","touchstart","keydown"];return new Promise(e=>{const t=async()=>{tn&&(await tn.resume(),i.forEach(n=>document.removeEventListener(n,t)),e())};i.forEach(n=>document.addEventListener(n,t,{once:!0}))})}function Gc(){tn&&tn.close().catch(i=>{console.warn("[GlobalAudioContext] close() failed",i)}).then(()=>{tn=null,Lr=null})}let Qc=-1;const Ta=[],dt=i=>{const e=`${++Qc}-${i}`;return Ta.push(e),e},Lt=i=>{const e=Ta.indexOf(i);e>-1?Ta.splice(e,1):console.warn("Node ID not found: ",i)};function bn(i){const e=new Map;return{sendMessage(t,n){const s=e.get(t);if(s){const o={type:t,senderId:i,...n};s.forEach(a=>a(o))}},onMessage(t,n){e.has(t)||e.set(t,new Set);const s=e.get(t);return s.add(n),()=>s.delete(n)},forwardFrom(t,n,s){const o=s||(l=>({...l})),a=n.map(l=>t.onMessage(l,c=>{const h=o(c);h!==null&&this.sendMessage(h.type,h)}));return()=>a.forEach(l=>l())}}}var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var to={exports:{}},Zc=to.exports,Iu;function Xc(){return Iu||(Iu=1,function(i,e){(function(t,n){i.exports=n()})(Zc,function(){var t=function(d,p){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,P){w.__proto__=P}||function(w,P){for(var T in P)Object.prototype.hasOwnProperty.call(P,T)&&(w[T]=P[T])})(d,p)},n=function(){return(n=Object.assign||function(d){for(var p,w=1,P=arguments.length;w<P;w++)for(var T in p=arguments[w])Object.prototype.hasOwnProperty.call(p,T)&&(d[T]=p[T]);return d}).apply(this,arguments)};function s(d,p,w){for(var P,T=0,E=p.length;T<E;T++)!P&&T in p||((P=P||Array.prototype.slice.call(p,0,T))[T]=p[T]);return d.concat(P||Array.prototype.slice.call(p))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Hc,a=Object.keys,l=Array.isArray;function c(d,p){return typeof p!="object"||a(p).forEach(function(w){d[w]=p[w]}),d}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var h=Object.getPrototypeOf,f={}.hasOwnProperty;function _(d,p){return f.call(d,p)}function y(d,p){typeof p=="function"&&(p=p(h(d))),(typeof Reflect>"u"?a:Reflect.ownKeys)(p).forEach(function(w){b(d,w,p[w])})}var u=Object.defineProperty;function b(d,p,w,P){u(d,p,c(w&&_(w,"get")&&typeof w.get=="function"?{get:w.get,set:w.set,configurable:!0}:{value:w,configurable:!0,writable:!0},P))}function $(d){return{from:function(p){return d.prototype=Object.create(p.prototype),b(d.prototype,"constructor",d),{extend:y.bind(null,d.prototype)}}}}var k=Object.getOwnPropertyDescriptor,A=[].slice;function C(d,p,w){return A.call(d,p,w)}function I(d,p){return p(d)}function S(d){if(!d)throw new Error("Assertion Failed")}function O(d){o.setImmediate?setImmediate(d):setTimeout(d,0)}function L(d,p){if(typeof p=="string"&&_(d,p))return d[p];if(!p)return d;if(typeof p!="string"){for(var w=[],P=0,T=p.length;P<T;++P){var E=L(d,p[P]);w.push(E)}return w}var D=p.indexOf(".");if(D!==-1){var V=d[p.substr(0,D)];return V==null?void 0:L(V,p.substr(D+1))}}function B(d,p,w){if(d&&p!==void 0&&!("isFrozen"in Object&&Object.isFrozen(d)))if(typeof p!="string"&&"length"in p){S(typeof w!="string"&&"length"in w);for(var P=0,T=p.length;P<T;++P)B(d,p[P],w[P])}else{var E,D,V=p.indexOf(".");V!==-1?(E=p.substr(0,V),(D=p.substr(V+1))===""?w===void 0?l(d)&&!isNaN(parseInt(E))?d.splice(E,1):delete d[E]:d[E]=w:B(V=!(V=d[E])||!_(d,E)?d[E]={}:V,D,w)):w===void 0?l(d)&&!isNaN(parseInt(p))?d.splice(p,1):delete d[p]:d[p]=w}}function N(d){var p,w={};for(p in d)_(d,p)&&(w[p]=d[p]);return w}var j=[].concat;function Ie(d){return j.apply([],d)}var Si="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ie([8,16,32,64].map(function(d){return["Int","Uint","Float"].map(function(p){return p+d+"Array"})}))).filter(function(d){return o[d]}),ae=new Set(Si.map(function(d){return o[d]})),Be=null;function re(d){return Be=new WeakMap,d=function p(w){if(!w||typeof w!="object")return w;var P=Be.get(w);if(P)return P;if(l(w)){P=[],Be.set(w,P);for(var T=0,E=w.length;T<E;++T)P.push(p(w[T]))}else if(ae.has(w.constructor))P=w;else{var D,V=h(w);for(D in P=V===Object.prototype?{}:Object.create(V),Be.set(w,P),w)_(w,D)&&(P[D]=p(w[D]))}return P}(d),Be=null,d}var sn={}.toString;function rt(d){return sn.call(d).slice(8,-1)}var Le=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Je=typeof Le=="symbol"?function(d){var p;return d!=null&&(p=d[Le])&&p.apply(d)}:function(){return null};function on(d,p){return p=d.indexOf(p),0<=p&&d.splice(p,1),0<=p}var Gn={};function Pn(d){var p,w,P,T;if(arguments.length===1){if(l(d))return d.slice();if(this===Gn&&typeof d=="string")return[d];if(T=Je(d)){for(w=[];!(P=T.next()).done;)w.push(P.value);return w}if(d==null)return[d];if(typeof(p=d.length)!="number")return[d];for(w=new Array(p);p--;)w[p]=d[p];return w}for(p=arguments.length,w=new Array(p);p--;)w[p]=arguments[p];return w}var Se=typeof Symbol<"u"?function(d){return d[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Bs=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Fs=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Bs),Gt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function pt(d,p){this.name=d,this.message=p}function jt(d,p){return d+". Errors: "+Object.keys(p).map(function(w){return p[w].toString()}).filter(function(w,P,T){return T.indexOf(w)===P}).join(`
`)}function jn(d,p,w,P){this.failures=p,this.failedKeys=P,this.successCount=w,this.message=jt(d,p)}function En(d,p){this.name="BulkError",this.failures=Object.keys(p).map(function(w){return p[w]}),this.failuresByPos=p,this.message=jt(d,this.failures)}$(pt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),$(jn).from(pt),$(En).from(pt);var Yn=Fs.reduce(function(d,p){return d[p]=p+"Error",d},{}),qn=pt,Tn=Fs.reduce(function(d,p){var w=p+"Error";function P(T,E){this.name=w,T?typeof T=="string"?(this.message="".concat(T).concat(E?`
 `+E:""),this.inner=E||null):typeof T=="object"&&(this.message="".concat(T.name," ").concat(T.message),this.inner=T):(this.message=Gt[p]||w,this.inner=null)}return $(P).from(qn),d[p]=P,d},{});Tn.Syntax=SyntaxError,Tn.Type=TypeError,Tn.Range=RangeError;var wi=Bs.reduce(function(d,p){return d[p+"Error"]=Tn[p],d},{}),Ni=Fs.reduce(function(d,p){return["Syntax","Type","Range"].indexOf(p)===-1&&(d[p+"Error"]=Tn[p]),d},{});function Wn(){}function Nr(d){return d}function ke(d,p){return d==null||d===Nr?p:function(w){return p(d(w))}}function qt(d,p){return function(){d.apply(this,arguments),p.apply(this,arguments)}}function Cr(d,p){return d===Wn?p:function(){var w=d.apply(this,arguments);w!==void 0&&(arguments[0]=w);var P=this.onsuccess,T=this.onerror;this.onsuccess=null,this.onerror=null;var E=p.apply(this,arguments);return P&&(this.onsuccess=this.onsuccess?qt(P,this.onsuccess):P),T&&(this.onerror=this.onerror?qt(T,this.onerror):T),E!==void 0?E:w}}function ki(d,p){return d===Wn?p:function(){d.apply(this,arguments);var w=this.onsuccess,P=this.onerror;this.onsuccess=this.onerror=null,p.apply(this,arguments),w&&(this.onsuccess=this.onsuccess?qt(w,this.onsuccess):w),P&&(this.onerror=this.onerror?qt(P,this.onerror):P)}}function Sn(d,p){return d===Wn?p:function(w){var P=d.apply(this,arguments);c(w,P);var T=this.onsuccess,E=this.onerror;return this.onsuccess=null,this.onerror=null,w=p.apply(this,arguments),T&&(this.onsuccess=this.onsuccess?qt(T,this.onsuccess):T),E&&(this.onerror=this.onerror?qt(E,this.onerror):E),P===void 0?w===void 0?void 0:w:c(P,w)}}function Ci(d,p){return d===Wn?p:function(){return p.apply(this,arguments)!==!1&&d.apply(this,arguments)}}function Ds(d,p){return d===Wn?p:function(){var w=d.apply(this,arguments);if(w&&typeof w.then=="function"){for(var P=this,T=arguments.length,E=new Array(T);T--;)E[T]=arguments[T];return w.then(function(){return p.apply(P,E)})}return p.apply(this,arguments)}}Ni.ModifyError=jn,Ni.DexieError=pt,Ni.BulkError=En;var _s=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Mi(d){_s=d}var Vs={},Is=100,Si=typeof Promise>"u"?[]:function(){var d=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[d,h(d),d];var p=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[p,h(p),d]}(),Bs=Si[0],Fs=Si[1],Si=Si[2],Fs=Fs&&Fs.then,Dr=Bs&&Bs.constructor,zs=!!Si,js=function(d,p){Hs.push([d,p]),Js&&(queueMicrotask(W),Js=!1)},Ws=!0,Js=!0,Gs=[],Ns=[],Ys=Nr,Vr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Wn,pgp:!1,env:{},finalize:Wn},_n=Vr,Hs=[],Fr=0,Ir=[];function nt(d){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var p=this._PSD=_n;if(typeof d!="function"){if(d!==Vs)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Xs(this,this._value))}this._state=null,this._value=null,++p.ref,function w(P,T){try{T(function(E){if(P._state===null){if(E===P)throw new TypeError("A promise cannot be resolved with itself.");var D=P._lib&&F();E&&typeof E.then=="function"?w(P,function(V,K){E instanceof nt?E._then(V,K):E.then(V,K)}):(P._state=!0,P._value=E,_o(P)),D&&Y()}},Xs.bind(null,P))}catch(E){Xs(P,E)}}(this,d)}var Oi={get:function(){var d=_n,p=Un;function w(P,T){var E=this,D=!d.global&&(d!==_n||p!==Un),V=D&&!Pi(),K=new nt(function(q,Z){z(E,new Ls(Zl(P,d,D,V),Zl(T,d,D,V),q,Z,d))});return this._consoleTask&&(K._consoleTask=this._consoleTask),K}return w.prototype=Vs,w},set:function(d){b(this,"then",d&&d.prototype===Vs?Oi:{get:function(){return d},set:Oi.set})}};function Ls(d,p,w,P,T){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof p=="function"?p:null,this.resolve=w,this.reject=P,this.psd=T}function Xs(d,p){var w,P;Ns.push(p),d._state===null&&(w=d._lib&&F(),p=Ys(p),d._state=!1,d._value=p,P=d,Gs.some(function(T){return T._value===P._value})||Gs.push(P),_o(d),w&&Y())}function _o(d){var p=d._listeners;d._listeners=[];for(var w=0,P=p.length;w<P;++w)z(d,p[w]);var T=d._PSD;--T.ref||T.finalize(),Fr===0&&(++Fr,js(function(){--Fr==0&&he()},[]))}function z(d,p){if(d._state!==null){var w=d._state?p.onFulfilled:p.onRejected;if(w===null)return(d._state?p.resolve:p.reject)(d._value);++p.psd.ref,++Fr,js(M,[w,d,p])}else d._listeners.push(p)}function M(d,p,w){try{var P,T=p._value;!p._state&&Ns.length&&(Ns=[]),P=_s&&p._consoleTask?p._consoleTask.run(function(){return d(T)}):d(T),p._state||Ns.indexOf(T)!==-1||function(E){for(var D=Gs.length;D;)if(Gs[--D]._value===E._value)return Gs.splice(D,1)}(p),w.resolve(P)}catch(E){w.reject(E)}finally{--Fr==0&&he(),--w.psd.ref||w.psd.finalize()}}function W(){Co(Vr,function(){F()&&Y()})}function F(){var d=Ws;return Js=Ws=!1,d}function Y(){var d,p,w;do for(;0<Hs.length;)for(d=Hs,Hs=[],w=d.length,p=0;p<w;++p){var P=d[p];P[0].apply(null,P[1])}while(0<Hs.length);Js=Ws=!0}function he(){var d=Gs;Gs=[],d.forEach(function(P){P._PSD.onunhandled.call(null,P._value,P)});for(var p=Ir.slice(0),w=p.length;w;)p[--w]()}function me(d){return new nt(Vs,!1,d)}function fe(d,p){var w=_n;return function(){var P=F(),T=_n;try{return Mr(w,!0),d.apply(this,arguments)}catch(E){p&&p(E)}finally{Mr(T,!1),P&&Y()}}}y(nt.prototype,{then:Oi,_then:function(d,p){z(this,new Ls(null,null,d,p,_n))},catch:function(d){if(arguments.length===1)return this.then(null,d);var p=d,w=arguments[1];return typeof p=="function"?this.then(null,function(P){return(P instanceof p?w:me)(P)}):this.then(null,function(P){return(P&&P.name===p?w:me)(P)})},finally:function(d){return this.then(function(p){return nt.resolve(d()).then(function(){return p})},function(p){return nt.resolve(d()).then(function(){return me(p)})})},timeout:function(d,p){var w=this;return d<1/0?new nt(function(P,T){var E=setTimeout(function(){return T(new Tn.Timeout(p))},d);w.then(P,T).finally(clearTimeout.bind(null,E))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(nt.prototype,Symbol.toStringTag,"Dexie.Promise"),Vr.env=Cs(),y(nt,{all:function(){var d=Pn.apply(null,arguments).map(Hn);return new nt(function(p,w){d.length===0&&p([]);var P=d.length;d.forEach(function(T,E){return nt.resolve(T).then(function(D){d[E]=D,--P||p(d)},w)})})},resolve:function(d){return d instanceof nt?d:d&&typeof d.then=="function"?new nt(function(p,w){d.then(p,w)}):new nt(Vs,!0,d)},reject:me,race:function(){var d=Pn.apply(null,arguments).map(Hn);return new nt(function(p,w){d.map(function(P){return nt.resolve(P).then(p,w)})})},PSD:{get:function(){return _n},set:function(d){return _n=d}},totalEchoes:{get:function(){return Un}},newPSD:Ei,usePSD:Co,scheduler:{get:function(){return js},set:function(d){js=d}},rejectionMapper:{get:function(){return Ys},set:function(d){Ys=d}},follow:function(d,p){return new nt(function(w,P){return Ei(function(T,E){var D=_n;D.unhandleds=[],D.onunhandled=E,D.finalize=qt(function(){var V,K=this;V=function(){K.unhandleds.length===0?T():E(K.unhandleds[0])},Ir.push(function q(){V(),Ir.splice(Ir.indexOf(q),1)}),++Fr,js(function(){--Fr==0&&he()},[])},D.finalize),d()},p,w,P)})}}),Dr&&(Dr.allSettled&&b(nt,"allSettled",function(){var d=Pn.apply(null,arguments).map(Hn);return new nt(function(p){d.length===0&&p([]);var w=d.length,P=new Array(w);d.forEach(function(T,E){return nt.resolve(T).then(function(D){return P[E]={status:"fulfilled",value:D}},function(D){return P[E]={status:"rejected",reason:D}}).then(function(){return--w||p(P)})})})}),Dr.any&&typeof AggregateError<"u"&&b(nt,"any",function(){var d=Pn.apply(null,arguments).map(Hn);return new nt(function(p,w){d.length===0&&w(new AggregateError([]));var P=d.length,T=new Array(P);d.forEach(function(E,D){return nt.resolve(E).then(function(V){return p(V)},function(V){T[D]=V,--P||w(new AggregateError(T))})})})}),Dr.withResolvers&&(nt.withResolvers=Dr.withResolvers));var ye={awaits:0,echoes:0,id:0},An=0,wn=[],zn=0,Un=0,xi=0;function Ei(d,p,w,P){var T=_n,E=Object.create(T);return E.parent=T,E.ref=0,E.global=!1,E.id=++xi,Vr.env,E.env=zs?{Promise:nt,PromiseProp:{value:nt,configurable:!0,writable:!0},all:nt.all,race:nt.race,allSettled:nt.allSettled,any:nt.any,resolve:nt.resolve,reject:nt.reject}:{},p&&c(E,p),++T.ref,E.finalize=function(){--this.parent.ref||this.parent.finalize()},P=Co(E,d,w,P),E.ref===0&&E.finalize(),P}function Di(){return ye.id||(ye.id=++An),++ye.awaits,ye.echoes+=Is,ye.id}function Pi(){return!!ye.awaits&&(--ye.awaits==0&&(ye.id=0),ye.echoes=ye.awaits*Is,!0)}function Hn(d){return ye.echoes&&d&&d.constructor===Dr?(Di(),d.then(function(p){return Pi(),p},function(p){return Pi(),Or(p)})):d}function Ri(){var d=wn[wn.length-1];wn.pop(),Mr(d,!1)}function Mr(d,p){var w,P=_n;(p?!ye.echoes||zn++&&d===_n:!zn||--zn&&d===_n)||queueMicrotask(p?(function(T){++Un,ye.echoes&&--ye.echoes!=0||(ye.echoes=ye.awaits=ye.id=0),wn.push(_n),Mr(T,!0)}).bind(null,d):Ri),d!==_n&&(_n=d,P===Vr&&(Vr.env=Cs()),zs&&(w=Vr.env.Promise,p=d.env,(P.global||d.global)&&(Object.defineProperty(o,"Promise",p.PromiseProp),w.all=p.all,w.race=p.race,w.resolve=p.resolve,w.reject=p.reject,p.allSettled&&(w.allSettled=p.allSettled),p.any&&(w.any=p.any))))}function Cs(){var d=o.Promise;return zs?{Promise:d,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:d.all,race:d.race,allSettled:d.allSettled,any:d.any,resolve:d.resolve,reject:d.reject}:{}}function Co(d,p,w,P,T){var E=_n;try{return Mr(d,!0),p(w,P,T)}finally{Mr(E,!1)}}function Zl(d,p,w,P){return typeof d!="function"?d:function(){var T=_n;w&&Di(),Mr(p,!0);try{return d.apply(this,arguments)}finally{Mr(T,!1),P&&queueMicrotask(Pi)}}}function Ea(d){Promise===Dr&&ye.echoes===0?zn===0?d():enqueueNativeMicroTask(d):setTimeout(d,0)}(""+Fs).indexOf("[native code]")===-1&&(Di=Pi=Wn);var Or=nt.reject,Do="￿",Qs="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Jl="String expected.",Lo=[],Qo="__dbnames",za="readonly",Wa="readwrite";function Oo(d,p){return d?p?function(){return d.apply(this,arguments)&&p.apply(this,arguments)}:d:p}var eu={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Zo(d){return typeof d!="string"||/\./.test(d)?function(p){return p}:function(p){return p[d]===void 0&&d in p&&delete(p=re(p))[d],p}}function tu(){throw Tn.Type()}function Ti(d,p){try{var w=nu(d),P=nu(p);if(w!==P)return w==="Array"?1:P==="Array"?-1:w==="binary"?1:P==="binary"?-1:w==="string"?1:P==="string"?-1:w==="Date"?1:P!=="Date"?NaN:-1;switch(w){case"number":case"Date":case"string":return p<d?1:d<p?-1:0;case"binary":return function(T,E){for(var D=T.length,V=E.length,K=D<V?D:V,q=0;q<K;++q)if(T[q]!==E[q])return T[q]<E[q]?-1:1;return D===V?0:D<V?-1:1}(iu(d),iu(p));case"Array":return function(T,E){for(var D=T.length,V=E.length,K=D<V?D:V,q=0;q<K;++q){var Z=Ti(T[q],E[q]);if(Z!==0)return Z}return D===V?0:D<V?-1:1}(d,p)}}catch{}return NaN}function nu(d){var p=typeof d;return p!="object"?p:ArrayBuffer.isView(d)?"binary":(d=rt(d),d==="ArrayBuffer"?"binary":d)}function iu(d){return d instanceof Uint8Array?d:ArrayBuffer.isView(d)?new Uint8Array(d.buffer,d.byteOffset,d.byteLength):new Uint8Array(d)}var ru=(Ii.prototype._trans=function(d,p,w){var P=this._tx||_n.trans,T=this.name,E=_s&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(d==="readonly"?"read":"write"," ").concat(this.name));function D(q,Z,G){if(!G.schema[T])throw new Tn.NotFound("Table "+T+" not part of transaction");return p(G.idbtrans,G)}var V=F();try{var K=P&&P.db._novip===this.db._novip?P===_n.trans?P._promise(d,D,w):Ei(function(){return P._promise(d,D,w)},{trans:P,transless:_n.transless||_n}):function q(Z,G,ee,U){if(Z.idbdb&&(Z._state.openComplete||_n.letThrough||Z._vip)){var Q=Z._createTransaction(G,ee,Z._dbSchema);try{Q.create(),Z._state.PR1398_maxLoop=3}catch(J){return J.name===Yn.InvalidState&&Z.isOpen()&&0<--Z._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Z.close({disableAutoOpen:!1}),Z.open().then(function(){return q(Z,G,ee,U)})):Or(J)}return Q._promise(G,function(J,X){return Ei(function(){return _n.trans=Q,U(J,X,Q)})}).then(function(J){if(G==="readwrite")try{Q.idbtrans.commit()}catch{}return G==="readonly"?J:Q._completion.then(function(){return J})})}if(Z._state.openComplete)return Or(new Tn.DatabaseClosed(Z._state.dbOpenError));if(!Z._state.isBeingOpened){if(!Z._state.autoOpen)return Or(new Tn.DatabaseClosed);Z.open().catch(Wn)}return Z._state.dbReadyPromise.then(function(){return q(Z,G,ee,U)})}(this.db,d,[this.name],D);return E&&(K._consoleTask=E,K=K.catch(function(q){return console.trace(q),Or(q)})),K}finally{V&&Y()}},Ii.prototype.get=function(d,p){var w=this;return d&&d.constructor===Object?this.where(d).first(p):d==null?Or(new Tn.Type("Invalid argument to Table.get()")):this._trans("readonly",function(P){return w.core.get({trans:P,key:d}).then(function(T){return w.hook.reading.fire(T)})}).then(p)},Ii.prototype.where=function(d){if(typeof d=="string")return new this.db.WhereClause(this,d);if(l(d))return new this.db.WhereClause(this,"[".concat(d.join("+"),"]"));var p=a(d);if(p.length===1)return this.where(p[0]).equals(d[p[0]]);var w=this.schema.indexes.concat(this.schema.primKey).filter(function(V){if(V.compound&&p.every(function(q){return 0<=V.keyPath.indexOf(q)})){for(var K=0;K<p.length;++K)if(p.indexOf(V.keyPath[K])===-1)return!1;return!0}return!1}).sort(function(V,K){return V.keyPath.length-K.keyPath.length})[0];if(w&&this.db._maxKey!==Do){var E=w.keyPath.slice(0,p.length);return this.where(E).equals(E.map(function(K){return d[K]}))}!w&&_s&&console.warn("The query ".concat(JSON.stringify(d)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(p.join("+"),"]"));var P=this.schema.idxByName;function T(V,K){return Ti(V,K)===0}var D=p.reduce(function(G,K){var q=G[0],Z=G[1],G=P[K],ee=d[K];return[q||G,q||!G?Oo(Z,G&&G.multi?function(U){return U=L(U,K),l(U)&&U.some(function(Q){return T(ee,Q)})}:function(U){return T(ee,L(U,K))}):Z]},[null,null]),E=D[0],D=D[1];return E?this.where(E.name).equals(d[E.keyPath]).filter(D):w?this.filter(D):this.where(p).equals("")},Ii.prototype.filter=function(d){return this.toCollection().and(d)},Ii.prototype.count=function(d){return this.toCollection().count(d)},Ii.prototype.offset=function(d){return this.toCollection().offset(d)},Ii.prototype.limit=function(d){return this.toCollection().limit(d)},Ii.prototype.each=function(d){return this.toCollection().each(d)},Ii.prototype.toArray=function(d){return this.toCollection().toArray(d)},Ii.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ii.prototype.orderBy=function(d){return new this.db.Collection(new this.db.WhereClause(this,l(d)?"[".concat(d.join("+"),"]"):d))},Ii.prototype.reverse=function(){return this.toCollection().reverse()},Ii.prototype.mapToClass=function(d){var p,w=this.db,P=this.name;function T(){return p!==null&&p.apply(this,arguments)||this}(this.schema.mappedClass=d).prototype instanceof tu&&(function(K,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function Z(){this.constructor=K}t(K,q),K.prototype=q===null?Object.create(q):(Z.prototype=q.prototype,new Z)}(T,p=d),Object.defineProperty(T.prototype,"db",{get:function(){return w},enumerable:!1,configurable:!0}),T.prototype.table=function(){return P},d=T);for(var E=new Set,D=d.prototype;D;D=h(D))Object.getOwnPropertyNames(D).forEach(function(K){return E.add(K)});function V(K){if(!K)return K;var q,Z=Object.create(d.prototype);for(q in K)if(!E.has(q))try{Z[q]=K[q]}catch{}return Z}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=V,this.hook("reading",V),d},Ii.prototype.defineClass=function(){return this.mapToClass(function(d){c(this,d)})},Ii.prototype.add=function(d,p){var w=this,P=this.schema.primKey,T=P.auto,E=P.keyPath,D=d;return E&&T&&(D=Zo(E)(d)),this._trans("readwrite",function(V){return w.core.mutate({trans:V,type:"add",keys:p!=null?[p]:null,values:[D]})}).then(function(V){return V.numFailures?nt.reject(V.failures[0]):V.lastResult}).then(function(V){if(E)try{B(d,E,V)}catch{}return V})},Ii.prototype.update=function(d,p){return typeof d!="object"||l(d)?this.where(":id").equals(d).modify(p):(d=L(d,this.schema.primKey.keyPath),d===void 0?Or(new Tn.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(p))},Ii.prototype.put=function(d,p){var w=this,P=this.schema.primKey,T=P.auto,E=P.keyPath,D=d;return E&&T&&(D=Zo(E)(d)),this._trans("readwrite",function(V){return w.core.mutate({trans:V,type:"put",values:[D],keys:p!=null?[p]:null})}).then(function(V){return V.numFailures?nt.reject(V.failures[0]):V.lastResult}).then(function(V){if(E)try{B(d,E,V)}catch{}return V})},Ii.prototype.delete=function(d){var p=this;return this._trans("readwrite",function(w){return p.core.mutate({trans:w,type:"delete",keys:[d]})}).then(function(w){return w.numFailures?nt.reject(w.failures[0]):void 0})},Ii.prototype.clear=function(){var d=this;return this._trans("readwrite",function(p){return d.core.mutate({trans:p,type:"deleteRange",range:eu})}).then(function(p){return p.numFailures?nt.reject(p.failures[0]):void 0})},Ii.prototype.bulkGet=function(d){var p=this;return this._trans("readonly",function(w){return p.core.getMany({keys:d,trans:w}).then(function(P){return P.map(function(T){return p.hook.reading.fire(T)})})})},Ii.prototype.bulkAdd=function(d,p,w){var P=this,T=Array.isArray(p)?p:void 0,E=(w=w||(T?void 0:p))?w.allKeys:void 0;return this._trans("readwrite",function(D){var q=P.schema.primKey,V=q.auto,q=q.keyPath;if(q&&T)throw new Tn.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(T&&T.length!==d.length)throw new Tn.InvalidArgument("Arguments objects and keys must have the same length");var K=d.length,q=q&&V?d.map(Zo(q)):d;return P.core.mutate({trans:D,type:"add",keys:T,values:q,wantResults:E}).then(function(Q){var G=Q.numFailures,ee=Q.results,U=Q.lastResult,Q=Q.failures;if(G===0)return E?ee:U;throw new En("".concat(P.name,".bulkAdd(): ").concat(G," of ").concat(K," operations failed"),Q)})})},Ii.prototype.bulkPut=function(d,p,w){var P=this,T=Array.isArray(p)?p:void 0,E=(w=w||(T?void 0:p))?w.allKeys:void 0;return this._trans("readwrite",function(D){var q=P.schema.primKey,V=q.auto,q=q.keyPath;if(q&&T)throw new Tn.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(T&&T.length!==d.length)throw new Tn.InvalidArgument("Arguments objects and keys must have the same length");var K=d.length,q=q&&V?d.map(Zo(q)):d;return P.core.mutate({trans:D,type:"put",keys:T,values:q,wantResults:E}).then(function(Q){var G=Q.numFailures,ee=Q.results,U=Q.lastResult,Q=Q.failures;if(G===0)return E?ee:U;throw new En("".concat(P.name,".bulkPut(): ").concat(G," of ").concat(K," operations failed"),Q)})})},Ii.prototype.bulkUpdate=function(d){var p=this,w=this.core,P=d.map(function(D){return D.key}),T=d.map(function(D){return D.changes}),E=[];return this._trans("readwrite",function(D){return w.getMany({trans:D,keys:P,cache:"clone"}).then(function(V){var K=[],q=[];d.forEach(function(G,ee){var U=G.key,Q=G.changes,J=V[ee];if(J){for(var X=0,ne=Object.keys(Q);X<ne.length;X++){var le=ne[X],ce=Q[le];if(le===p.schema.primKey.keyPath){if(Ti(ce,U)!==0)throw new Tn.Constraint("Cannot update primary key in bulkUpdate()")}else B(J,le,ce)}E.push(ee),K.push(U),q.push(J)}});var Z=K.length;return w.mutate({trans:D,type:"put",keys:K,values:q,updates:{keys:P,changeSpecs:T}}).then(function(G){var ee=G.numFailures,U=G.failures;if(ee===0)return Z;for(var Q=0,J=Object.keys(U);Q<J.length;Q++){var X,ne=J[Q],le=E[Number(ne)];le!=null&&(X=U[ne],delete U[ne],U[le]=X)}throw new En("".concat(p.name,".bulkUpdate(): ").concat(ee," of ").concat(Z," operations failed"),U)})})})},Ii.prototype.bulkDelete=function(d){var p=this,w=d.length;return this._trans("readwrite",function(P){return p.core.mutate({trans:P,type:"delete",keys:d})}).then(function(D){var T=D.numFailures,E=D.lastResult,D=D.failures;if(T===0)return E;throw new En("".concat(p.name,".bulkDelete(): ").concat(T," of ").concat(w," operations failed"),D)})},Ii);function Ii(){}function zo(d){function p(D,V){if(V){for(var K=arguments.length,q=new Array(K-1);--K;)q[K-1]=arguments[K];return w[D].subscribe.apply(null,q),d}if(typeof D=="string")return w[D]}var w={};p.addEventType=E;for(var P=1,T=arguments.length;P<T;++P)E(arguments[P]);return p;function E(D,V,K){if(typeof D!="object"){var q;V=V||Ci;var Z={subscribers:[],fire:K=K||Wn,subscribe:function(G){Z.subscribers.indexOf(G)===-1&&(Z.subscribers.push(G),Z.fire=V(Z.fire,G))},unsubscribe:function(G){Z.subscribers=Z.subscribers.filter(function(ee){return ee!==G}),Z.fire=Z.subscribers.reduce(V,K)}};return w[D]=p[D]=Z}a(q=D).forEach(function(G){var ee=q[G];if(l(ee))E(G,q[G][0],q[G][1]);else{if(ee!=="asap")throw new Tn.InvalidArgument("Invalid event config");var U=E(G,Nr,function(){for(var Q=arguments.length,J=new Array(Q);Q--;)J[Q]=arguments[Q];U.subscribers.forEach(function(X){O(function(){X.apply(null,J)})})})}})}}function Wo(d,p){return $(p).from({prototype:d}),p}function Fo(d,p){return!(d.filter||d.algorithm||d.or)&&(p?d.justLimit:!d.replayFilter)}function Ga(d,p){d.filter=Oo(d.filter,p)}function Ua(d,p,w){var P=d.replayFilter;d.replayFilter=P?function(){return Oo(P(),p())}:p,d.justLimit=w&&!P}function Jo(d,p){if(d.isPrimKey)return p.primaryKey;var w=p.getIndexByKeyPath(d.index);if(!w)throw new Tn.Schema("KeyPath "+d.index+" on object store "+p.name+" is not indexed");return w}function su(d,p,w){var P=Jo(d,p.schema);return p.openCursor({trans:w,values:!d.keysOnly,reverse:d.dir==="prev",unique:!!d.unique,query:{index:P,range:d.range}})}function ea(d,p,w,P){var T=d.replayFilter?Oo(d.filter,d.replayFilter()):d.filter;if(d.or){var E={},D=function(V,K,q){var Z,G;T&&!T(K,q,function(ee){return K.stop(ee)},function(ee){return K.fail(ee)})||((G=""+(Z=K.primaryKey))=="[object ArrayBuffer]"&&(G=""+new Uint8Array(Z)),_(E,G)||(E[G]=!0,p(V,K,q)))};return Promise.all([d.or._iterate(D,w),ou(su(d,P,w),d.algorithm,D,!d.keysOnly&&d.valueMapper)])}return ou(su(d,P,w),Oo(d.algorithm,T),p,!d.keysOnly&&d.valueMapper)}function ou(d,p,w,P){var T=fe(P?function(E,D,V){return w(P(E),D,V)}:w);return d.then(function(E){if(E)return E.start(function(){var D=function(){return E.continue()};p&&!p(E,function(V){return D=V},function(V){E.stop(V),D=Wn},function(V){E.fail(V),D=Wn})||T(E.value,E,function(V){return D=V}),D()})})}var Go=(au.prototype.execute=function(d){var p=this["@@propmod"];if(p.add!==void 0){var w=p.add;if(l(w))return s(s([],l(d)?d:[],!0),w).sort();if(typeof w=="number")return(Number(d)||0)+w;if(typeof w=="bigint")try{return BigInt(d)+w}catch{return BigInt(0)+w}throw new TypeError("Invalid term ".concat(w))}if(p.remove!==void 0){var P=p.remove;if(l(P))return l(d)?d.filter(function(T){return!P.includes(T)}).sort():[];if(typeof P=="number")return Number(d)-P;if(typeof P=="bigint")try{return BigInt(d)-P}catch{return BigInt(0)-P}throw new TypeError("Invalid subtrahend ".concat(P))}return w=(w=p.replacePrefix)===null||w===void 0?void 0:w[0],w&&typeof d=="string"&&d.startsWith(w)?p.replacePrefix[1]+d.substring(w.length):d},au);function au(d){this["@@propmod"]=d}var Hu=(Ai.prototype._read=function(d,p){var w=this._ctx;return w.error?w.table._trans(null,Or.bind(null,w.error)):w.table._trans("readonly",d).then(p)},Ai.prototype._write=function(d){var p=this._ctx;return p.error?p.table._trans(null,Or.bind(null,p.error)):p.table._trans("readwrite",d,"locked")},Ai.prototype._addAlgorithm=function(d){var p=this._ctx;p.algorithm=Oo(p.algorithm,d)},Ai.prototype._iterate=function(d,p){return ea(this._ctx,d,p,this._ctx.table.core)},Ai.prototype.clone=function(d){var p=Object.create(this.constructor.prototype),w=Object.create(this._ctx);return d&&c(w,d),p._ctx=w,p},Ai.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ai.prototype.each=function(d){var p=this._ctx;return this._read(function(w){return ea(p,d,w,p.table.core)})},Ai.prototype.count=function(d){var p=this;return this._read(function(w){var P=p._ctx,T=P.table.core;if(Fo(P,!0))return T.count({trans:w,query:{index:Jo(P,T.schema),range:P.range}}).then(function(D){return Math.min(D,P.limit)});var E=0;return ea(P,function(){return++E,!1},w,T).then(function(){return E})}).then(d)},Ai.prototype.sortBy=function(d,p){var w=d.split(".").reverse(),P=w[0],T=w.length-1;function E(K,q){return q?E(K[w[q]],q-1):K[P]}var D=this._ctx.dir==="next"?1:-1;function V(K,q){return Ti(E(K,T),E(q,T))*D}return this.toArray(function(K){return K.sort(V)}).then(p)},Ai.prototype.toArray=function(d){var p=this;return this._read(function(w){var P=p._ctx;if(P.dir==="next"&&Fo(P,!0)&&0<P.limit){var T=P.valueMapper,E=Jo(P,P.table.core.schema);return P.table.core.query({trans:w,limit:P.limit,values:!0,query:{index:E,range:P.range}}).then(function(V){return V=V.result,T?V.map(T):V})}var D=[];return ea(P,function(V){return D.push(V)},w,P.table.core).then(function(){return D})},d)},Ai.prototype.offset=function(d){var p=this._ctx;return d<=0||(p.offset+=d,Fo(p)?Ua(p,function(){var w=d;return function(P,T){return w===0||(w===1?--w:T(function(){P.advance(w),w=0}),!1)}}):Ua(p,function(){var w=d;return function(){return--w<0}})),this},Ai.prototype.limit=function(d){return this._ctx.limit=Math.min(this._ctx.limit,d),Ua(this._ctx,function(){var p=d;return function(w,P,T){return--p<=0&&P(T),0<=p}},!0),this},Ai.prototype.until=function(d,p){return Ga(this._ctx,function(w,P,T){return!d(w.value)||(P(T),p)}),this},Ai.prototype.first=function(d){return this.limit(1).toArray(function(p){return p[0]}).then(d)},Ai.prototype.last=function(d){return this.reverse().first(d)},Ai.prototype.filter=function(d){var p;return Ga(this._ctx,function(w){return d(w.value)}),(p=this._ctx).isMatch=Oo(p.isMatch,d),this},Ai.prototype.and=function(d){return this.filter(d)},Ai.prototype.or=function(d){return new this.db.WhereClause(this._ctx.table,d,this)},Ai.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ai.prototype.desc=function(){return this.reverse()},Ai.prototype.eachKey=function(d){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(w,P){d(P.key,P)})},Ai.prototype.eachUniqueKey=function(d){return this._ctx.unique="unique",this.eachKey(d)},Ai.prototype.eachPrimaryKey=function(d){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(w,P){d(P.primaryKey,P)})},Ai.prototype.keys=function(d){var p=this._ctx;p.keysOnly=!p.isMatch;var w=[];return this.each(function(P,T){w.push(T.key)}).then(function(){return w}).then(d)},Ai.prototype.primaryKeys=function(d){var p=this._ctx;if(p.dir==="next"&&Fo(p,!0)&&0<p.limit)return this._read(function(P){var T=Jo(p,p.table.core.schema);return p.table.core.query({trans:P,values:!1,limit:p.limit,query:{index:T,range:p.range}})}).then(function(P){return P.result}).then(d);p.keysOnly=!p.isMatch;var w=[];return this.each(function(P,T){w.push(T.primaryKey)}).then(function(){return w}).then(d)},Ai.prototype.uniqueKeys=function(d){return this._ctx.unique="unique",this.keys(d)},Ai.prototype.firstKey=function(d){return this.limit(1).keys(function(p){return p[0]}).then(d)},Ai.prototype.lastKey=function(d){return this.reverse().firstKey(d)},Ai.prototype.distinct=function(){var d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];if(!d||!d.multi)return this;var p={};return Ga(this._ctx,function(T){var P=T.primaryKey.toString(),T=_(p,P);return p[P]=!0,!T}),this},Ai.prototype.modify=function(d){var p=this,w=this._ctx;return this._write(function(P){var T,E,D;D=typeof d=="function"?d:(T=a(d),E=T.length,function(X){for(var ne=!1,le=0;le<E;++le){var ce=T[le],ge=d[ce],ze=L(X,ce);ge instanceof Go?(B(X,ce,ge.execute(ze)),ne=!0):ze!==ge&&(B(X,ce,ge),ne=!0)}return ne});var V=w.table.core,G=V.schema.primaryKey,K=G.outbound,q=G.extractKey,Z=200,G=p.db._options.modifyChunkSize;G&&(Z=typeof G=="object"?G[V.name]||G["*"]||200:G);function ee(X,ce){var le=ce.failures,ce=ce.numFailures;Q+=X-ce;for(var ge=0,ze=a(le);ge<ze.length;ge++){var Pt=ze[ge];U.push(le[Pt])}}var U=[],Q=0,J=[];return p.clone().primaryKeys().then(function(X){function ne(ce){var ge=Math.min(Z,X.length-ce);return V.getMany({trans:P,keys:X.slice(ce,ce+ge),cache:"immutable"}).then(function(ze){for(var Pt=[],Ke=[],it=K?[]:null,rn=[],ft=0;ft<ge;++ft){var xn=ze[ft],Qn={value:re(xn),primKey:X[ce+ft]};D.call(Qn,Qn.value,Qn)!==!1&&(Qn.value==null?rn.push(X[ce+ft]):K||Ti(q(xn),q(Qn.value))===0?(Ke.push(Qn.value),K&&it.push(X[ce+ft])):(rn.push(X[ce+ft]),Pt.push(Qn.value)))}return Promise.resolve(0<Pt.length&&V.mutate({trans:P,type:"add",values:Pt}).then(function(Zn){for(var Jn in Zn.failures)rn.splice(parseInt(Jn),1);ee(Pt.length,Zn)})).then(function(){return(0<Ke.length||le&&typeof d=="object")&&V.mutate({trans:P,type:"put",keys:it,values:Ke,criteria:le,changeSpec:typeof d!="function"&&d,isAdditionalChunk:0<ce}).then(function(Zn){return ee(Ke.length,Zn)})}).then(function(){return(0<rn.length||le&&d===ja)&&V.mutate({trans:P,type:"delete",keys:rn,criteria:le,isAdditionalChunk:0<ce}).then(function(Zn){return ee(rn.length,Zn)})}).then(function(){return X.length>ce+ge&&ne(ce+Z)})})}var le=Fo(w)&&w.limit===1/0&&(typeof d!="function"||d===ja)&&{index:w.index,range:w.range};return ne(0).then(function(){if(0<U.length)throw new jn("Error modifying one or more objects",U,Q,J);return X.length})})})},Ai.prototype.delete=function(){var d=this._ctx,p=d.range;return Fo(d)&&(d.isPrimKey||p.type===3)?this._write(function(w){var P=d.table.core.schema.primaryKey,T=p;return d.table.core.count({trans:w,query:{index:P,range:T}}).then(function(E){return d.table.core.mutate({trans:w,type:"deleteRange",range:T}).then(function(D){var V=D.failures;if(D.lastResult,D.results,D=D.numFailures,D)throw new jn("Could not delete some values",Object.keys(V).map(function(K){return V[K]}),E-D);return E-D})})}):this.modify(ja)},Ai);function Ai(){}var ja=function(d,p){return p.value=null};function Xu(d,p){return d<p?-1:d===p?0:1}function Ju(d,p){return p<d?-1:d===p?0:1}function Os(d,p,w){return d=d instanceof uu?new d.Collection(d):d,d._ctx.error=new(w||TypeError)(p),d}function Vo(d){return new d.Collection(d,function(){return lu("")}).limit(0)}function ta(d,p,w,P){var T,E,D,V,K,q,Z,G=w.length;if(!w.every(function(Q){return typeof Q=="string"}))return Os(d,Jl);function ee(Q){T=Q==="next"?function(X){return X.toUpperCase()}:function(X){return X.toLowerCase()},E=Q==="next"?function(X){return X.toLowerCase()}:function(X){return X.toUpperCase()},D=Q==="next"?Xu:Ju;var J=w.map(function(X){return{lower:E(X),upper:T(X)}}).sort(function(X,ne){return D(X.lower,ne.lower)});V=J.map(function(X){return X.upper}),K=J.map(function(X){return X.lower}),Z=(q=Q)==="next"?"":P}ee("next"),d=new d.Collection(d,function(){return $o(V[0],K[G-1]+P)}),d._ondirectionchange=function(Q){ee(Q)};var U=0;return d._addAlgorithm(function(Q,J,X){var ne=Q.key;if(typeof ne!="string")return!1;var le=E(ne);if(p(le,K,U))return!0;for(var ce=null,ge=U;ge<G;++ge){var ze=function(Pt,Ke,it,rn,ft,xn){for(var Qn=Math.min(Pt.length,rn.length),Zn=-1,Jn=0;Jn<Qn;++Jn){var Rs=Ke[Jn];if(Rs!==rn[Jn])return ft(Pt[Jn],it[Jn])<0?Pt.substr(0,Jn)+it[Jn]+it.substr(Jn+1):ft(Pt[Jn],rn[Jn])<0?Pt.substr(0,Jn)+rn[Jn]+it.substr(Jn+1):0<=Zn?Pt.substr(0,Zn)+Ke[Zn]+it.substr(Zn+1):null;ft(Pt[Jn],Rs)<0&&(Zn=Jn)}return Qn<rn.length&&xn==="next"?Pt+it.substr(Pt.length):Qn<Pt.length&&xn==="prev"?Pt.substr(0,it.length):Zn<0?null:Pt.substr(0,Zn)+rn[Zn]+it.substr(Zn+1)}(ne,le,V[ge],K[ge],D,q);ze===null&&ce===null?U=ge+1:(ce===null||0<D(ce,ze))&&(ce=ze)}return J(ce!==null?function(){Q.continue(ce+Z)}:X),!1}),d}function $o(d,p,w,P){return{type:2,lower:d,upper:p,lowerOpen:w,upperOpen:P}}function lu(d){return{type:1,lower:d,upper:d}}var uu=(Object.defineProperty(Br.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Br.prototype.between=function(d,p,w,P){w=w!==!1,P=P===!0;try{return 0<this._cmp(d,p)||this._cmp(d,p)===0&&(w||P)&&(!w||!P)?Vo(this):new this.Collection(this,function(){return $o(d,p,!w,!P)})}catch{return Os(this,Qs)}},Br.prototype.equals=function(d){return d==null?Os(this,Qs):new this.Collection(this,function(){return lu(d)})},Br.prototype.above=function(d){return d==null?Os(this,Qs):new this.Collection(this,function(){return $o(d,void 0,!0)})},Br.prototype.aboveOrEqual=function(d){return d==null?Os(this,Qs):new this.Collection(this,function(){return $o(d,void 0,!1)})},Br.prototype.below=function(d){return d==null?Os(this,Qs):new this.Collection(this,function(){return $o(void 0,d,!1,!0)})},Br.prototype.belowOrEqual=function(d){return d==null?Os(this,Qs):new this.Collection(this,function(){return $o(void 0,d)})},Br.prototype.startsWith=function(d){return typeof d!="string"?Os(this,Jl):this.between(d,d+Do,!0,!0)},Br.prototype.startsWithIgnoreCase=function(d){return d===""?this.startsWith(d):ta(this,function(p,w){return p.indexOf(w[0])===0},[d],Do)},Br.prototype.equalsIgnoreCase=function(d){return ta(this,function(p,w){return p===w[0]},[d],"")},Br.prototype.anyOfIgnoreCase=function(){var d=Pn.apply(Gn,arguments);return d.length===0?Vo(this):ta(this,function(p,w){return w.indexOf(p)!==-1},d,"")},Br.prototype.startsWithAnyOfIgnoreCase=function(){var d=Pn.apply(Gn,arguments);return d.length===0?Vo(this):ta(this,function(p,w){return w.some(function(P){return p.indexOf(P)===0})},d,Do)},Br.prototype.anyOf=function(){var d=this,p=Pn.apply(Gn,arguments),w=this._cmp;try{p.sort(w)}catch{return Os(this,Qs)}if(p.length===0)return Vo(this);var P=new this.Collection(this,function(){return $o(p[0],p[p.length-1])});P._ondirectionchange=function(E){w=E==="next"?d._ascending:d._descending,p.sort(w)};var T=0;return P._addAlgorithm(function(E,D,V){for(var K=E.key;0<w(K,p[T]);)if(++T===p.length)return D(V),!1;return w(K,p[T])===0||(D(function(){E.continue(p[T])}),!1)}),P},Br.prototype.notEqual=function(d){return this.inAnyRange([[-1/0,d],[d,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Br.prototype.noneOf=function(){var d=Pn.apply(Gn,arguments);if(d.length===0)return new this.Collection(this);try{d.sort(this._ascending)}catch{return Os(this,Qs)}var p=d.reduce(function(w,P){return w?w.concat([[w[w.length-1][1],P]]):[[-1/0,P]]},null);return p.push([d[d.length-1],this.db._maxKey]),this.inAnyRange(p,{includeLowers:!1,includeUppers:!1})},Br.prototype.inAnyRange=function(ne,p){var w=this,P=this._cmp,T=this._ascending,E=this._descending,D=this._min,V=this._max;if(ne.length===0)return Vo(this);if(!ne.every(function(le){return le[0]!==void 0&&le[1]!==void 0&&T(le[0],le[1])<=0}))return Os(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Tn.InvalidArgument);var K=!p||p.includeLowers!==!1,q=p&&p.includeUppers===!0,Z,G=T;function ee(le,ce){return G(le[0],ce[0])}try{(Z=ne.reduce(function(le,ce){for(var ge=0,ze=le.length;ge<ze;++ge){var Pt=le[ge];if(P(ce[0],Pt[1])<0&&0<P(ce[1],Pt[0])){Pt[0]=D(Pt[0],ce[0]),Pt[1]=V(Pt[1],ce[1]);break}}return ge===ze&&le.push(ce),le},[])).sort(ee)}catch{return Os(this,Qs)}var U=0,Q=q?function(le){return 0<T(le,Z[U][1])}:function(le){return 0<=T(le,Z[U][1])},J=K?function(le){return 0<E(le,Z[U][0])}:function(le){return 0<=E(le,Z[U][0])},X=Q,ne=new this.Collection(this,function(){return $o(Z[0][0],Z[Z.length-1][1],!K,!q)});return ne._ondirectionchange=function(le){G=le==="next"?(X=Q,T):(X=J,E),Z.sort(ee)},ne._addAlgorithm(function(le,ce,ge){for(var ze,Pt=le.key;X(Pt);)if(++U===Z.length)return ce(ge),!1;return!Q(ze=Pt)&&!J(ze)||(w._cmp(Pt,Z[U][1])===0||w._cmp(Pt,Z[U][0])===0||ce(function(){G===T?le.continue(Z[U][0]):le.continue(Z[U][1])}),!1)}),ne},Br.prototype.startsWithAnyOf=function(){var d=Pn.apply(Gn,arguments);return d.every(function(p){return typeof p=="string"})?d.length===0?Vo(this):this.inAnyRange(d.map(function(p){return[p,p+Do]})):Os(this,"startsWithAnyOf() only works with strings")},Br);function Br(){}function Ks(d){return fe(function(p){return Ko(p),d(p.target.error),!1})}function Ko(d){d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault()}var Uo="storagemutated",Ya="x-storagemutated-1",ko=zo(null,Uo),ec=(Us.prototype._lock=function(){return S(!_n.global),++this._reculock,this._reculock!==1||_n.global||(_n.lockOwnerFor=this),this},Us.prototype._unlock=function(){if(S(!_n.global),--this._reculock==0)for(_n.global||(_n.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var d=this._blockedFuncs.shift();try{Co(d[1],d[0])}catch{}}return this},Us.prototype._locked=function(){return this._reculock&&_n.lockOwnerFor!==this},Us.prototype.create=function(d){var p=this;if(!this.mode)return this;var w=this.db.idbdb,P=this.db._state.dbOpenError;if(S(!this.idbtrans),!d&&!w)switch(P&&P.name){case"DatabaseClosedError":throw new Tn.DatabaseClosed(P);case"MissingAPIError":throw new Tn.MissingAPI(P.message,P);default:throw new Tn.OpenFailed(P)}if(!this.active)throw new Tn.TransactionInactive;return S(this._completion._state===null),(d=this.idbtrans=d||(this.db.core||w).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=fe(function(T){Ko(T),p._reject(d.error)}),d.onabort=fe(function(T){Ko(T),p.active&&p._reject(new Tn.Abort(d.error)),p.active=!1,p.on("abort").fire(T)}),d.oncomplete=fe(function(){p.active=!1,p._resolve(),"mutatedParts"in d&&ko.storagemutated.fire(d.mutatedParts)}),this},Us.prototype._promise=function(d,p,w){var P=this;if(d==="readwrite"&&this.mode!=="readwrite")return Or(new Tn.ReadOnly("Transaction is readonly"));if(!this.active)return Or(new Tn.TransactionInactive);if(this._locked())return new nt(function(E,D){P._blockedFuncs.push([function(){P._promise(d,p,w).then(E,D)},_n])});if(w)return Ei(function(){var E=new nt(function(D,V){P._lock();var K=p(D,V,P);K&&K.then&&K.then(D,V)});return E.finally(function(){return P._unlock()}),E._lib=!0,E});var T=new nt(function(E,D){var V=p(E,D,P);V&&V.then&&V.then(E,D)});return T._lib=!0,T},Us.prototype._root=function(){return this.parent?this.parent._root():this},Us.prototype.waitFor=function(d){var p,w=this._root(),P=nt.resolve(d);w._waitingFor?w._waitingFor=w._waitingFor.then(function(){return P}):(w._waitingFor=P,w._waitingQueue=[],p=w.idbtrans.objectStore(w.storeNames[0]),function E(){for(++w._spinCount;w._waitingQueue.length;)w._waitingQueue.shift()();w._waitingFor&&(p.get(-1/0).onsuccess=E)}());var T=w._waitingFor;return new nt(function(E,D){P.then(function(V){return w._waitingQueue.push(fe(E.bind(null,V)))},function(V){return w._waitingQueue.push(fe(D.bind(null,V)))}).finally(function(){w._waitingFor===T&&(w._waitingFor=null)})})},Us.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Tn.Abort))},Us.prototype.table=function(d){var p=this._memoizedTables||(this._memoizedTables={});if(_(p,d))return p[d];var w=this.schema[d];if(!w)throw new Tn.NotFound("Table "+d+" not part of transaction");return w=new this.db.Table(d,w,this),w.core=this.db.core.table(d),p[d]=w},Us);function Us(){}function Ha(d,p,w,P,T,E,D){return{name:d,keyPath:p,unique:w,multi:P,auto:T,compound:E,src:(w&&!D?"&":"")+(P?"*":"")+(T?"++":"")+cu(p)}}function cu(d){return typeof d=="string"?d:d?"["+[].join.call(d,"+")+"]":""}function Xa(d,p,w){return{name:d,primKey:p,indexes:w,mappedClass:null,idxByName:(P=function(T){return[T.name,T]},w.reduce(function(T,E,D){return D=P(E,D),D&&(T[D[0]]=D[1]),T},{}))};var P}var jo=function(d){try{return d.only([[]]),jo=function(){return[[]]},[[]]}catch{return jo=function(){return Do},Do}};function Qa(d){return d==null?function(){}:typeof d=="string"?(p=d).split(".").length===1?function(w){return w[p]}:function(w){return L(w,p)}:function(w){return L(w,d)};var p}function hu(d){return[].slice.call(d)}var tc=0;function Yo(d){return d==null?":id":typeof d=="string"?d:"[".concat(d.join("+"),"]")}function nc(d,p,K){function P(X){if(X.type===3)return null;if(X.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var U=X.lower,Q=X.upper,J=X.lowerOpen,X=X.upperOpen;return U===void 0?Q===void 0?null:p.upperBound(Q,!!X):Q===void 0?p.lowerBound(U,!!J):p.bound(U,Q,!!J,!!X)}function T(ee){var U,Q=ee.name;return{name:Q,schema:ee,mutate:function(J){var X=J.trans,ne=J.type,le=J.keys,ce=J.values,ge=J.range;return new Promise(function(ze,Pt){ze=fe(ze);var Ke=X.objectStore(Q),it=Ke.keyPath==null,rn=ne==="put"||ne==="add";if(!rn&&ne!=="delete"&&ne!=="deleteRange")throw new Error("Invalid operation type: "+ne);var ft,xn=(le||ce||{length:1}).length;if(le&&ce&&le.length!==ce.length)throw new Error("Given keys array must have same length as given values array.");if(xn===0)return ze({numFailures:0,failures:{},results:[],lastResult:void 0});function Qn(Ss){++Rs,Ko(Ss)}var Zn=[],Jn=[],Rs=0;if(ne==="deleteRange"){if(ge.type===4)return ze({numFailures:Rs,failures:Jn,results:[],lastResult:void 0});ge.type===3?Zn.push(ft=Ke.clear()):Zn.push(ft=Ke.delete(P(ge)))}else{var it=rn?it?[ce,le]:[ce,null]:[le,null],Xn=it[0],ks=it[1];if(rn)for(var Ms=0;Ms<xn;++Ms)Zn.push(ft=ks&&ks[Ms]!==void 0?Ke[ne](Xn[Ms],ks[Ms]):Ke[ne](Xn[Ms])),ft.onerror=Qn;else for(Ms=0;Ms<xn;++Ms)Zn.push(ft=Ke[ne](Xn[Ms])),ft.onerror=Qn}function $a(Ss){Ss=Ss.target.result,Zn.forEach(function(No,ql){return No.error!=null&&(Jn[ql]=No.error)}),ze({numFailures:Rs,failures:Jn,results:ne==="delete"?le:Zn.map(function(No){return No.result}),lastResult:Ss})}ft.onerror=function(Ss){Qn(Ss),$a(Ss)},ft.onsuccess=$a})},getMany:function(J){var X=J.trans,ne=J.keys;return new Promise(function(le,ce){le=fe(le);for(var ge,ze=X.objectStore(Q),Pt=ne.length,Ke=new Array(Pt),it=0,rn=0,ft=function(Zn){Zn=Zn.target,Ke[Zn._pos]=Zn.result,++rn===it&&le(Ke)},xn=Ks(ce),Qn=0;Qn<Pt;++Qn)ne[Qn]!=null&&((ge=ze.get(ne[Qn]))._pos=Qn,ge.onsuccess=ft,ge.onerror=xn,++it);it===0&&le(Ke)})},get:function(J){var X=J.trans,ne=J.key;return new Promise(function(le,ce){le=fe(le);var ge=X.objectStore(Q).get(ne);ge.onsuccess=function(ze){return le(ze.target.result)},ge.onerror=Ks(ce)})},query:(U=q,function(J){return new Promise(function(X,ne){X=fe(X);var le,ce,ge,it=J.trans,ze=J.values,Pt=J.limit,ft=J.query,Ke=Pt===1/0?void 0:Pt,rn=ft.index,ft=ft.range,it=it.objectStore(Q),rn=rn.isPrimaryKey?it:it.index(rn.name),ft=P(ft);if(Pt===0)return X({result:[]});U?((Ke=ze?rn.getAll(ft,Ke):rn.getAllKeys(ft,Ke)).onsuccess=function(xn){return X({result:xn.target.result})},Ke.onerror=Ks(ne)):(le=0,ce=!ze&&"openKeyCursor"in rn?rn.openKeyCursor(ft):rn.openCursor(ft),ge=[],ce.onsuccess=function(xn){var Qn=ce.result;return Qn?(ge.push(ze?Qn.value:Qn.primaryKey),++le===Pt?X({result:ge}):void Qn.continue()):X({result:ge})},ce.onerror=Ks(ne))})}),openCursor:function(J){var X=J.trans,ne=J.values,le=J.query,ce=J.reverse,ge=J.unique;return new Promise(function(ze,Pt){ze=fe(ze);var rn=le.index,Ke=le.range,it=X.objectStore(Q),it=rn.isPrimaryKey?it:it.index(rn.name),rn=ce?ge?"prevunique":"prev":ge?"nextunique":"next",ft=!ne&&"openKeyCursor"in it?it.openKeyCursor(P(Ke),rn):it.openCursor(P(Ke),rn);ft.onerror=Ks(Pt),ft.onsuccess=fe(function(xn){var Qn,Zn,Jn,Rs,Xn=ft.result;Xn?(Xn.___id=++tc,Xn.done=!1,Qn=Xn.continue.bind(Xn),Zn=(Zn=Xn.continuePrimaryKey)&&Zn.bind(Xn),Jn=Xn.advance.bind(Xn),Rs=function(){throw new Error("Cursor not stopped")},Xn.trans=X,Xn.stop=Xn.continue=Xn.continuePrimaryKey=Xn.advance=function(){throw new Error("Cursor not started")},Xn.fail=fe(Pt),Xn.next=function(){var ks=this,Ms=1;return this.start(function(){return Ms--?ks.continue():ks.stop()}).then(function(){return ks})},Xn.start=function(ks){function Ms(){if(ft.result)try{ks()}catch(Ss){Xn.fail(Ss)}else Xn.done=!0,Xn.start=function(){throw new Error("Cursor behind last entry")},Xn.stop()}var $a=new Promise(function(Ss,No){Ss=fe(Ss),ft.onerror=Ks(No),Xn.fail=No,Xn.stop=function(ql){Xn.stop=Xn.continue=Xn.continuePrimaryKey=Xn.advance=Rs,Ss(ql)}});return ft.onsuccess=fe(function(Ss){ft.onsuccess=Ms,Ms()}),Xn.continue=Qn,Xn.continuePrimaryKey=Zn,Xn.advance=Jn,Ms(),$a},ze(Xn)):ze(null)},Pt)})},count:function(J){var X=J.query,ne=J.trans,le=X.index,ce=X.range;return new Promise(function(ge,ze){var Pt=ne.objectStore(Q),Ke=le.isPrimaryKey?Pt:Pt.index(le.name),Pt=P(ce),Ke=Pt?Ke.count(Pt):Ke.count();Ke.onsuccess=fe(function(it){return ge(it.target.result)}),Ke.onerror=Ks(ze)})}}}var E,D,V,Z=(D=K,V=hu((E=d).objectStoreNames),{schema:{name:E.name,tables:V.map(function(ee){return D.objectStore(ee)}).map(function(ee){var U=ee.keyPath,X=ee.autoIncrement,Q=l(U),J={},X={name:ee.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:U==null,compound:Q,keyPath:U,autoIncrement:X,unique:!0,extractKey:Qa(U)},indexes:hu(ee.indexNames).map(function(ne){return ee.index(ne)}).map(function(ge){var le=ge.name,ce=ge.unique,ze=ge.multiEntry,ge=ge.keyPath,ze={name:le,compound:l(ge),keyPath:ge,unique:ce,multiEntry:ze,extractKey:Qa(ge)};return J[Yo(ge)]=ze}),getIndexByKeyPath:function(ne){return J[Yo(ne)]}};return J[":id"]=X.primaryKey,U!=null&&(J[Yo(U)]=X.primaryKey),X})},hasGetAll:0<V.length&&"getAll"in D.objectStore(V[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),K=Z.schema,q=Z.hasGetAll,Z=K.tables.map(T),G={};return Z.forEach(function(ee){return G[ee.name]=ee}),{stack:"dbcore",transaction:d.transaction.bind(d),table:function(ee){if(!G[ee])throw new Error("Table '".concat(ee,"' not found"));return G[ee]},MIN_KEY:-1/0,MAX_KEY:jo(p),schema:K}}function ic(d,p,w,P){var T=w.IDBKeyRange;return w.indexedDB,{dbcore:(P=nc(p,T,P),d.dbcore.reduce(function(E,D){return D=D.create,n(n({},E),D(E))},P))}}function na(d,P){var w=P.db,P=ic(d._middlewares,w,d._deps,P);d.core=P.dbcore,d.tables.forEach(function(T){var E=T.name;d.core.schema.tables.some(function(D){return D.name===E})&&(T.core=d.core.table(E),d[E]instanceof d.Table&&(d[E].core=T.core))})}function ia(d,p,w,P){w.forEach(function(T){var E=P[T];p.forEach(function(D){var V=function K(q,Z){return k(q,Z)||(q=h(q))&&K(q,Z)}(D,T);(!V||"value"in V&&V.value===void 0)&&(D===d.Transaction.prototype||D instanceof d.Transaction?b(D,T,{get:function(){return this.table(T)},set:function(K){u(this,T,{value:K,writable:!0,configurable:!0,enumerable:!0})}}):D[T]=new d.Table(T,E))})})}function Za(d,p){p.forEach(function(w){for(var P in w)w[P]instanceof d.Table&&delete w[P]})}function rc(d,p){return d._cfg.version-p._cfg.version}function sc(d,p,w,P){var T=d._dbSchema;w.objectStoreNames.contains("$meta")&&!T.$meta&&(T.$meta=Xa("$meta",pu("")[0],[]),d._storeNames.push("$meta"));var E=d._createTransaction("readwrite",d._storeNames,T);E.create(w),E._completion.catch(P);var D=E._reject.bind(E),V=_n.transless||_n;Ei(function(){return _n.trans=E,_n.transless=V,p!==0?(na(d,w),q=p,((K=E).storeNames.includes("$meta")?K.table("$meta").get("version").then(function(Z){return Z??q}):nt.resolve(q)).then(function(Z){return ee=Z,U=E,Q=w,J=[],Z=(G=d)._versions,X=G._dbSchema=sa(0,G.idbdb,Q),(Z=Z.filter(function(ne){return ne._cfg.version>=ee})).length!==0?(Z.forEach(function(ne){J.push(function(){var le=X,ce=ne._cfg.dbschema;oa(G,le,Q),oa(G,ce,Q),X=G._dbSchema=ce;var ge=Ja(le,ce);ge.add.forEach(function(rn){_l(Q,rn[0],rn[1].primKey,rn[1].indexes)}),ge.change.forEach(function(rn){if(rn.recreate)throw new Tn.Upgrade("Not yet support for changing primary key");var ft=Q.objectStore(rn.name);rn.add.forEach(function(xn){return ra(ft,xn)}),rn.change.forEach(function(xn){ft.deleteIndex(xn.name),ra(ft,xn)}),rn.del.forEach(function(xn){return ft.deleteIndex(xn)})});var ze=ne._cfg.contentUpgrade;if(ze&&ne._cfg.version>ee){na(G,Q),U._memoizedTables={};var Pt=N(ce);ge.del.forEach(function(rn){Pt[rn]=le[rn]}),Za(G,[G.Transaction.prototype]),ia(G,[G.Transaction.prototype],a(Pt),Pt),U.schema=Pt;var Ke,it=Se(ze);return it&&Di(),ge=nt.follow(function(){var rn;(Ke=ze(U))&&it&&(rn=Pi.bind(null,null),Ke.then(rn,rn))}),Ke&&typeof Ke.then=="function"?nt.resolve(Ke):ge.then(function(){return Ke})}}),J.push(function(le){var ce,ge,ze=ne._cfg.dbschema;ce=ze,ge=le,[].slice.call(ge.db.objectStoreNames).forEach(function(Pt){return ce[Pt]==null&&ge.db.deleteObjectStore(Pt)}),Za(G,[G.Transaction.prototype]),ia(G,[G.Transaction.prototype],G._storeNames,G._dbSchema),U.schema=G._dbSchema}),J.push(function(le){G.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(G.idbdb.version/10)===ne._cfg.version?(G.idbdb.deleteObjectStore("$meta"),delete G._dbSchema.$meta,G._storeNames=G._storeNames.filter(function(ce){return ce!=="$meta"})):le.objectStore("$meta").put(ne._cfg.version,"version"))})}),function ne(){return J.length?nt.resolve(J.shift()(U.idbtrans)).then(ne):nt.resolve()}().then(function(){du(X,Q)})):nt.resolve();var G,ee,U,Q,J,X}).catch(D)):(a(T).forEach(function(Z){_l(w,Z,T[Z].primKey,T[Z].indexes)}),na(d,w),void nt.follow(function(){return d.on.populate.fire(E)}).catch(D));var K,q})}function oc(d,p){du(d._dbSchema,p),p.db.version%10!=0||p.objectStoreNames.contains("$meta")||p.db.createObjectStore("$meta").add(Math.ceil(p.db.version/10-1),"version");var w=sa(0,d.idbdb,p);oa(d,d._dbSchema,p);for(var P=0,T=Ja(w,d._dbSchema).change;P<T.length;P++){var E=function(D){if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var V=p.objectStore(D.name);D.add.forEach(function(K){_s&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(K.src)),ra(V,K)})}(T[P]);if(typeof E=="object")return E.value}}function Ja(d,p){var w,P={del:[],add:[],change:[]};for(w in d)p[w]||P.del.push(w);for(w in p){var T=d[w],E=p[w];if(T){var D={name:w,def:E,recreate:!1,del:[],add:[],change:[]};if(""+(T.primKey.keyPath||"")!=""+(E.primKey.keyPath||"")||T.primKey.auto!==E.primKey.auto)D.recreate=!0,P.change.push(D);else{var V=T.idxByName,K=E.idxByName,q=void 0;for(q in V)K[q]||D.del.push(q);for(q in K){var Z=V[q],G=K[q];Z?Z.src!==G.src&&D.change.push(G):D.add.push(G)}(0<D.del.length||0<D.add.length||0<D.change.length)&&P.change.push(D)}}else P.add.push([w,E])}return P}function _l(d,p,w,P){var T=d.db.createObjectStore(p,w.keyPath?{keyPath:w.keyPath,autoIncrement:w.auto}:{autoIncrement:w.auto});return P.forEach(function(E){return ra(T,E)}),T}function du(d,p){a(d).forEach(function(w){p.db.objectStoreNames.contains(w)||(_s&&console.debug("Dexie: Creating missing table",w),_l(p,w,d[w].primKey,d[w].indexes))})}function ra(d,p){d.createIndex(p.name,p.keyPath,{unique:p.unique,multiEntry:p.multi})}function sa(d,p,w){var P={};return C(p.objectStoreNames,0).forEach(function(T){for(var E=w.objectStore(T),D=Ha(cu(q=E.keyPath),q||"",!0,!1,!!E.autoIncrement,q&&typeof q!="string",!0),V=[],K=0;K<E.indexNames.length;++K){var Z=E.index(E.indexNames[K]),q=Z.keyPath,Z=Ha(Z.name,q,!!Z.unique,!!Z.multiEntry,!1,q&&typeof q!="string",!1);V.push(Z)}P[T]=Xa(T,D,V)}),P}function oa(d,p,w){for(var P=w.db.objectStoreNames,T=0;T<P.length;++T){var E=P[T],D=w.objectStore(E);d._hasGetAll="getAll"in D;for(var V=0;V<D.indexNames.length;++V){var K=D.indexNames[V],q=D.index(K).keyPath,Z=typeof q=="string"?q:"["+C(q).join("+")+"]";!p[E]||(q=p[E].idxByName[Z])&&(q.name=K,delete p[E].idxByName[Z],p[E].idxByName[K]=q)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(d._hasGetAll=!1)}function pu(d){return d.split(",").map(function(p,w){var P=(p=p.trim()).replace(/([&*]|\+\+)/g,""),T=/^\[/.test(P)?P.match(/^\[(.*)\]$/)[1].split("+"):P;return Ha(P,T||null,/\&/.test(p),/\*/.test(p),/\+\+/.test(p),l(T),w===0)})}var ac=(aa.prototype._parseStoresSpec=function(d,p){a(d).forEach(function(w){if(d[w]!==null){var P=pu(d[w]),T=P.shift();if(T.unique=!0,T.multi)throw new Tn.Schema("Primary key cannot be multi-valued");P.forEach(function(E){if(E.auto)throw new Tn.Schema("Only primary key can be marked as autoIncrement (++)");if(!E.keyPath)throw new Tn.Schema("Index must have a name and cannot be an empty string")}),p[w]=Xa(w,T,P)}})},aa.prototype.stores=function(w){var p=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,w):w;var w=p._versions,P={},T={};return w.forEach(function(E){c(P,E._cfg.storesSource),T=E._cfg.dbschema={},E._parseStoresSpec(P,T)}),p._dbSchema=T,Za(p,[p._allTables,p,p.Transaction.prototype]),ia(p,[p._allTables,p,p.Transaction.prototype,this._cfg.tables],a(T),T),p._storeNames=a(T),this},aa.prototype.upgrade=function(d){return this._cfg.contentUpgrade=Ds(this._cfg.contentUpgrade||Wn,d),this},aa);function aa(){}function $l(d,p){var w=d._dbNamesDB;return w||(w=d._dbNamesDB=new Zs(Qo,{addons:[],indexedDB:d,IDBKeyRange:p})).version(1).stores({dbnames:"name"}),w.table("dbnames")}function Rl(d){return d&&typeof d.databases=="function"}function Nl(d){return Ei(function(){return _n.letThrough=!0,d()})}function Ll(d){return!("from"in d)}var xs=function(d,p){if(!this){var w=new xs;return d&&"d"in d&&c(w,d),w}c(this,arguments.length?{d:1,from:d,to:1<arguments.length?p:d}:{d:0})};function qo(d,p,w){var P=Ti(p,w);if(!isNaN(P)){if(0<P)throw RangeError();if(Ll(d))return c(d,{from:p,to:w,d:1});var T=d.l,P=d.r;if(Ti(w,d.from)<0)return T?qo(T,p,w):d.l={from:p,to:w,d:1,l:null,r:null},gu(d);if(0<Ti(p,d.to))return P?qo(P,p,w):d.r={from:p,to:w,d:1,l:null,r:null},gu(d);Ti(p,d.from)<0&&(d.from=p,d.l=null,d.d=P?P.d+1:1),0<Ti(w,d.to)&&(d.to=w,d.r=null,d.d=d.l?d.l.d+1:1),w=!d.r,T&&!d.l&&Ho(d,T),P&&w&&Ho(d,P)}}function Ho(d,p){Ll(p)||function w(P,K){var E=K.from,D=K.to,V=K.l,K=K.r;qo(P,E,D),V&&w(P,V),K&&w(P,K)}(d,p)}function fu(d,p){var w=la(p),P=w.next();if(P.done)return!1;for(var T=P.value,E=la(d),D=E.next(T.from),V=D.value;!P.done&&!D.done;){if(Ti(V.from,T.to)<=0&&0<=Ti(V.to,T.from))return!0;Ti(T.from,V.from)<0?T=(P=w.next(V.from)).value:V=(D=E.next(T.from)).value}return!1}function la(d){var p=Ll(d)?null:{s:0,n:d};return{next:function(w){for(var P=0<arguments.length;p;)switch(p.s){case 0:if(p.s=1,P)for(;p.n.l&&Ti(w,p.n.from)<0;)p={up:p,n:p.n.l,s:1};else for(;p.n.l;)p={up:p,n:p.n.l,s:1};case 1:if(p.s=2,!P||Ti(w,p.n.to)<=0)return{value:p.n,done:!1};case 2:if(p.n.r){p.s=3,p={up:p,n:p.n.r,s:0};continue}case 3:p=p.up}return{done:!0}}}}function gu(d){var p,w,P=(((p=d.r)===null||p===void 0?void 0:p.d)||0)-(((w=d.l)===null||w===void 0?void 0:w.d)||0),T=1<P?"r":P<-1?"l":"";T&&(p=T=="r"?"l":"r",w=n({},d),P=d[T],d.from=P.from,d.to=P.to,d[T]=P[T],w[T]=P[p],(d[p]=w).d=mu(w)),d.d=mu(d)}function mu(w){var p=w.r,w=w.l;return(p?w?Math.max(p.d,w.d):p.d:w?w.d:0)+1}function ua(d,p){return a(p).forEach(function(w){d[w]?Ho(d[w],p[w]):d[w]=function P(T){var E,D,V={};for(E in T)_(T,E)&&(D=T[E],V[E]=!D||typeof D!="object"||ae.has(D.constructor)?D:P(D));return V}(p[w])}),d}function Fl(d,p){return d.all||p.all||Object.keys(d).some(function(w){return p[w]&&fu(p[w],d[w])})}y(xs.prototype,((Fs={add:function(d){return Ho(this,d),this},addKey:function(d){return qo(this,d,d),this},addKeys:function(d){var p=this;return d.forEach(function(w){return qo(p,w,w)}),this},hasKey:function(d){var p=la(this).next(d).value;return p&&Ti(p.from,d)<=0&&0<=Ti(p.to,d)}})[Le]=function(){return la(this)},Fs));var Ro={},Vl={},Bl=!1;function ca(d){ua(Vl,d),Bl||(Bl=!0,setTimeout(function(){Bl=!1,zl(Vl,!(Vl={}))},0))}function zl(d,p){p===void 0&&(p=!1);var w=new Set;if(d.all)for(var P=0,T=Object.values(Ro);P<T.length;P++)vu(D=T[P],d,w,p);else for(var E in d){var D,V=/^idb\:\/\/(.*)\/(.*)\//.exec(E);V&&(E=V[1],V=V[2],(D=Ro["idb://".concat(E,"/").concat(V)])&&vu(D,d,w,p))}w.forEach(function(K){return K()})}function vu(d,p,w,P){for(var T=[],E=0,D=Object.entries(d.queries.query);E<D.length;E++){for(var V=D[E],K=V[0],q=[],Z=0,G=V[1];Z<G.length;Z++){var ee=G[Z];Fl(p,ee.obsSet)?ee.subscribers.forEach(function(X){return w.add(X)}):P&&q.push(ee)}P&&T.push([K,q])}if(P)for(var U=0,Q=T;U<Q.length;U++){var J=Q[U],K=J[0],q=J[1];d.queries.query[K]=q}}function lc(d){var p=d._state,w=d._deps.indexedDB;if(p.isBeingOpened||d.idbdb)return p.dbReadyPromise.then(function(){return p.dbOpenError?Or(p.dbOpenError):d});p.isBeingOpened=!0,p.dbOpenError=null,p.openComplete=!1;var P=p.openCanceller,T=Math.round(10*d.verno),E=!1;function D(){if(p.openCanceller!==P)throw new Tn.DatabaseClosed("db.open() was cancelled")}function V(){return new nt(function(ee,U){if(D(),!w)throw new Tn.MissingAPI;var Q=d.name,J=p.autoSchema||!T?w.open(Q):w.open(Q,T);if(!J)throw new Tn.MissingAPI;J.onerror=Ks(U),J.onblocked=fe(d._fireOnBlocked),J.onupgradeneeded=fe(function(X){var ne;Z=J.transaction,p.autoSchema&&!d._options.allowEmptyDB?(J.onerror=Ko,Z.abort(),J.result.close(),(ne=w.deleteDatabase(Q)).onsuccess=ne.onerror=fe(function(){U(new Tn.NoSuchDatabase("Database ".concat(Q," doesnt exist")))})):(Z.onerror=Ks(U),X=X.oldVersion>Math.pow(2,62)?0:X.oldVersion,G=X<1,d.idbdb=J.result,E&&oc(d,Z),sc(d,X/10,Z,U))},U),J.onsuccess=fe(function(){Z=null;var X,ne,le,ce,ge,ze=d.idbdb=J.result,Pt=C(ze.objectStoreNames);if(0<Pt.length)try{var Ke=ze.transaction((ce=Pt).length===1?ce[0]:ce,"readonly");if(p.autoSchema)ne=ze,le=Ke,(X=d).verno=ne.version/10,le=X._dbSchema=sa(0,ne,le),X._storeNames=C(ne.objectStoreNames,0),ia(X,[X._allTables],a(le),le);else if(oa(d,d._dbSchema,Ke),((ge=Ja(sa(0,(ge=d).idbdb,Ke),ge._dbSchema)).add.length||ge.change.some(function(it){return it.add.length||it.change.length}))&&!E)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ze.close(),T=ze.version+1,E=!0,ee(V());na(d,Ke)}catch{}Lo.push(d),ze.onversionchange=fe(function(it){p.vcFired=!0,d.on("versionchange").fire(it)}),ze.onclose=fe(function(it){d.on("close").fire(it)}),G&&(ge=d._deps,Ke=Q,ze=ge.indexedDB,ge=ge.IDBKeyRange,Rl(ze)||Ke===Qo||$l(ze,ge).put({name:Ke}).catch(Wn)),ee()},U)}).catch(function(ee){switch(ee==null?void 0:ee.name){case"UnknownError":if(0<p.PR1398_maxLoop)return p.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),V();break;case"VersionError":if(0<T)return T=0,V()}return nt.reject(ee)})}var K,q=p.dbReadyResolve,Z=null,G=!1;return nt.race([P,(typeof navigator>"u"?nt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ee){function U(){return indexedDB.databases().finally(ee)}K=setInterval(U,100),U()}).finally(function(){return clearInterval(K)}):Promise.resolve()).then(V)]).then(function(){return D(),p.onReadyBeingFired=[],nt.resolve(Nl(function(){return d.on.ready.fire(d.vip)})).then(function ee(){if(0<p.onReadyBeingFired.length){var U=p.onReadyBeingFired.reduce(Ds,Wn);return p.onReadyBeingFired=[],nt.resolve(Nl(function(){return U(d.vip)})).then(ee)}})}).finally(function(){p.openCanceller===P&&(p.onReadyBeingFired=null,p.isBeingOpened=!1)}).catch(function(ee){p.dbOpenError=ee;try{Z&&Z.abort()}catch{}return P===p.openCanceller&&d._close(),Or(ee)}).finally(function(){p.openComplete=!0,q()}).then(function(){var ee;return G&&(ee={},d.tables.forEach(function(U){U.schema.indexes.forEach(function(Q){Q.name&&(ee["idb://".concat(d.name,"/").concat(U.name,"/").concat(Q.name)]=new xs(-1/0,[[[]]]))}),ee["idb://".concat(d.name,"/").concat(U.name,"/")]=ee["idb://".concat(d.name,"/").concat(U.name,"/:dels")]=new xs(-1/0,[[[]]])}),ko(Uo).fire(ee),zl(ee,!0)),d})}function Wl(d){function p(E){return d.next(E)}var w=T(p),P=T(function(E){return d.throw(E)});function T(E){return function(K){var V=E(K),K=V.value;return V.done?K:K&&typeof K.then=="function"?K.then(w,P):l(K)?Promise.all(K).then(w,P):w(K)}}return T(p)()}function ha(d,p,w){for(var P=l(d)?d.slice():[d],T=0;T<w;++T)P.push(p);return P}var uc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(d){return n(n({},d),{table:function(p){var w=d.table(p),P=w.schema,T={},E=[];function D(G,ee,U){var Q=Yo(G),J=T[Q]=T[Q]||[],X=G==null?0:typeof G=="string"?1:G.length,ne=0<ee,ne=n(n({},U),{name:ne?"".concat(Q,"(virtual-from:").concat(U.name,")"):U.name,lowLevelIndex:U,isVirtual:ne,keyTail:ee,keyLength:X,extractKey:Qa(G),unique:!ne&&U.unique});return J.push(ne),ne.isPrimaryKey||E.push(ne),1<X&&D(X===2?G[0]:G.slice(0,X-1),ee+1,U),J.sort(function(le,ce){return le.keyTail-ce.keyTail}),ne}p=D(P.primaryKey.keyPath,0,P.primaryKey),T[":id"]=[p];for(var V=0,K=P.indexes;V<K.length;V++){var q=K[V];D(q.keyPath,0,q)}function Z(G){var ee,U=G.query.index;return U.isVirtual?n(n({},G),{query:{index:U.lowLevelIndex,range:(ee=G.query.range,U=U.keyTail,{type:ee.type===1?2:ee.type,lower:ha(ee.lower,ee.lowerOpen?d.MAX_KEY:d.MIN_KEY,U),lowerOpen:!0,upper:ha(ee.upper,ee.upperOpen?d.MIN_KEY:d.MAX_KEY,U),upperOpen:!0})}}):G}return n(n({},w),{schema:n(n({},P),{primaryKey:p,indexes:E,getIndexByKeyPath:function(G){return(G=T[Yo(G)])&&G[0]}}),count:function(G){return w.count(Z(G))},query:function(G){return w.query(Z(G))},openCursor:function(G){var ee=G.query.index,U=ee.keyTail,Q=ee.isVirtual,J=ee.keyLength;return Q?w.openCursor(Z(G)).then(function(ne){return ne&&X(ne)}):w.openCursor(G);function X(ne){return Object.create(ne,{continue:{value:function(le){le!=null?ne.continue(ha(le,G.reverse?d.MAX_KEY:d.MIN_KEY,U)):G.unique?ne.continue(ne.key.slice(0,J).concat(G.reverse?d.MIN_KEY:d.MAX_KEY,U)):ne.continue()}},continuePrimaryKey:{value:function(le,ce){ne.continuePrimaryKey(ha(le,d.MAX_KEY,U),ce)}},primaryKey:{get:function(){return ne.primaryKey}},key:{get:function(){var le=ne.key;return J===1?le[0]:le.slice(0,J)}},value:{get:function(){return ne.value}}})}}})}})}};function Gl(d,p,w,P){return w=w||{},P=P||"",a(d).forEach(function(T){var E,D,V;_(p,T)?(E=d[T],D=p[T],typeof E=="object"&&typeof D=="object"&&E&&D?(V=rt(E))!==rt(D)?w[P+T]=p[T]:V==="Object"?Gl(E,D,w,P+T+"."):E!==D&&(w[P+T]=p[T]):E!==D&&(w[P+T]=p[T])):w[P+T]=void 0}),a(p).forEach(function(T){_(d,T)||(w[P+T]=p[T])}),w}function Kl(d,p){return p.type==="delete"?p.keys:p.keys||p.values.map(d.extractKey)}var cc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(d){return n(n({},d),{table:function(p){var w=d.table(p),P=w.schema.primaryKey;return n(n({},w),{mutate:function(T){var E=_n.trans,D=E.table(p).hook,V=D.deleting,K=D.creating,q=D.updating;switch(T.type){case"add":if(K.fire===Wn)break;return E._promise("readwrite",function(){return Z(T)},!0);case"put":if(K.fire===Wn&&q.fire===Wn)break;return E._promise("readwrite",function(){return Z(T)},!0);case"delete":if(V.fire===Wn)break;return E._promise("readwrite",function(){return Z(T)},!0);case"deleteRange":if(V.fire===Wn)break;return E._promise("readwrite",function(){return function G(ee,U,Q){return w.query({trans:ee,values:!1,query:{index:P,range:U},limit:Q}).then(function(J){var X=J.result;return Z({type:"delete",keys:X,trans:ee}).then(function(ne){return 0<ne.numFailures?Promise.reject(ne.failures[0]):X.length<Q?{failures:[],numFailures:0,lastResult:void 0}:G(ee,n(n({},U),{lower:X[X.length-1],lowerOpen:!0}),Q)})})}(T.trans,T.range,1e4)},!0)}return w.mutate(T);function Z(G){var ee,U,Q,J=_n.trans,X=G.keys||Kl(P,G);if(!X)throw new Error("Keys missing");return(G=G.type==="add"||G.type==="put"?n(n({},G),{keys:X}):n({},G)).type!=="delete"&&(G.values=s([],G.values)),G.keys&&(G.keys=s([],G.keys)),ee=w,Q=X,((U=G).type==="add"?Promise.resolve([]):ee.getMany({trans:U.trans,keys:Q,cache:"immutable"})).then(function(ne){var le=X.map(function(ce,ge){var ze,Pt,Ke,it=ne[ge],rn={onerror:null,onsuccess:null};return G.type==="delete"?V.fire.call(rn,ce,it,J):G.type==="add"||it===void 0?(ze=K.fire.call(rn,ce,G.values[ge],J),ce==null&&ze!=null&&(G.keys[ge]=ce=ze,P.outbound||B(G.values[ge],P.keyPath,ce))):(ze=Gl(it,G.values[ge]),(Pt=q.fire.call(rn,ze,ce,it,J))&&(Ke=G.values[ge],Object.keys(Pt).forEach(function(ft){_(Ke,ft)?Ke[ft]=Pt[ft]:B(Ke,ft,Pt[ft])}))),rn});return w.mutate(G).then(function(ce){for(var ge=ce.failures,ze=ce.results,Pt=ce.numFailures,ce=ce.lastResult,Ke=0;Ke<X.length;++Ke){var it=(ze||X)[Ke],rn=le[Ke];it==null?rn.onerror&&rn.onerror(ge[Ke]):rn.onsuccess&&rn.onsuccess(G.type==="put"&&ne[Ke]?G.values[Ke]:it)}return{failures:ge,results:ze,numFailures:Pt,lastResult:ce}}).catch(function(ce){return le.forEach(function(ge){return ge.onerror&&ge.onerror(ce)}),Promise.reject(ce)})})}}})}})}};function yu(d,p,w){try{if(!p||p.keys.length<d.length)return null;for(var P=[],T=0,E=0;T<p.keys.length&&E<d.length;++T)Ti(p.keys[T],d[E])===0&&(P.push(w?re(p.values[T]):p.values[T]),++E);return P.length===d.length?P:null}catch{return null}}var hc={stack:"dbcore",level:-1,create:function(d){return{table:function(p){var w=d.table(p);return n(n({},w),{getMany:function(P){if(!P.cache)return w.getMany(P);var T=yu(P.keys,P.trans._cache,P.cache==="clone");return T?nt.resolve(T):w.getMany(P).then(function(E){return P.trans._cache={keys:P.keys,values:P.cache==="clone"?re(E):E},E})},mutate:function(P){return P.type!=="add"&&(P.trans._cache=null),w.mutate(P)}})}}}};function wu(d,p){return d.trans.mode==="readonly"&&!!d.subscr&&!d.trans.explicit&&d.trans.db._options.cache!=="disabled"&&!p.schema.primaryKey.outbound}function bu(d,p){switch(d){case"query":return p.values&&!p.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var dc={stack:"dbcore",level:0,name:"Observability",create:function(d){var p=d.schema.name,w=new xs(d.MIN_KEY,d.MAX_KEY);return n(n({},d),{transaction:function(P,T,E){if(_n.subscr&&T!=="readonly")throw new Tn.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(_n.querier));return d.transaction(P,T,E)},table:function(P){var T=d.table(P),E=T.schema,D=E.primaryKey,G=E.indexes,V=D.extractKey,K=D.outbound,q=D.autoIncrement&&G.filter(function(U){return U.compound&&U.keyPath.includes(D.keyPath)}),Z=n(n({},T),{mutate:function(U){function Q(ft){return ft="idb://".concat(p,"/").concat(P,"/").concat(ft),ce[ft]||(ce[ft]=new xs)}var J,X,ne,le=U.trans,ce=U.mutatedParts||(U.mutatedParts={}),ge=Q(""),ze=Q(":dels"),Pt=U.type,rn=U.type==="deleteRange"?[U.range]:U.type==="delete"?[U.keys]:U.values.length<50?[Kl(D,U).filter(function(ft){return ft}),U.values]:[],Ke=rn[0],it=rn[1],rn=U.trans._cache;return l(Ke)?(ge.addKeys(Ke),(rn=Pt==="delete"||Ke.length===it.length?yu(Ke,rn):null)||ze.addKeys(Ke),(rn||it)&&(J=Q,X=rn,ne=it,E.indexes.forEach(function(ft){var xn=J(ft.name||"");function Qn(Jn){return Jn!=null?ft.extractKey(Jn):null}function Zn(Jn){return ft.multiEntry&&l(Jn)?Jn.forEach(function(Rs){return xn.addKey(Rs)}):xn.addKey(Jn)}(X||ne).forEach(function(Jn,ks){var Xn=X&&Qn(X[ks]),ks=ne&&Qn(ne[ks]);Ti(Xn,ks)!==0&&(Xn!=null&&Zn(Xn),ks!=null&&Zn(ks))})}))):Ke?(it={from:(it=Ke.lower)!==null&&it!==void 0?it:d.MIN_KEY,to:(it=Ke.upper)!==null&&it!==void 0?it:d.MAX_KEY},ze.add(it),ge.add(it)):(ge.add(w),ze.add(w),E.indexes.forEach(function(ft){return Q(ft.name).add(w)})),T.mutate(U).then(function(ft){return!Ke||U.type!=="add"&&U.type!=="put"||(ge.addKeys(ft.results),q&&q.forEach(function(xn){for(var Qn=U.values.map(function(Xn){return xn.extractKey(Xn)}),Zn=xn.keyPath.findIndex(function(Xn){return Xn===D.keyPath}),Jn=0,Rs=ft.results.length;Jn<Rs;++Jn)Qn[Jn][Zn]=ft.results[Jn];Q(xn.name).addKeys(Qn)})),le.mutatedParts=ua(le.mutatedParts||{},ce),ft})}}),G=function(Q){var J=Q.query,Q=J.index,J=J.range;return[Q,new xs((Q=J.lower)!==null&&Q!==void 0?Q:d.MIN_KEY,(J=J.upper)!==null&&J!==void 0?J:d.MAX_KEY)]},ee={get:function(U){return[D,new xs(U.key)]},getMany:function(U){return[D,new xs().addKeys(U.keys)]},count:G,query:G,openCursor:G};return a(ee).forEach(function(U){Z[U]=function(Q){var J=_n.subscr,X=!!J,ne=wu(_n,T)&&bu(U,Q)?Q.obsSet={}:J;if(X){var le=function(it){return it="idb://".concat(p,"/").concat(P,"/").concat(it),ne[it]||(ne[it]=new xs)},ce=le(""),ge=le(":dels"),J=ee[U](Q),X=J[0],J=J[1];if((U==="query"&&X.isPrimaryKey&&!Q.values?ge:le(X.name||"")).add(J),!X.isPrimaryKey){if(U!=="count"){var ze=U==="query"&&K&&Q.values&&T.query(n(n({},Q),{values:!1}));return T[U].apply(this,arguments).then(function(it){if(U==="query"){if(K&&Q.values)return ze.then(function(Qn){return Qn=Qn.result,ce.addKeys(Qn),it});var rn=Q.values?it.result.map(V):it.result;(Q.values?ce:ge).addKeys(rn)}else if(U==="openCursor"){var ft=it,xn=Q.values;return ft&&Object.create(ft,{key:{get:function(){return ge.addKey(ft.primaryKey),ft.key}},primaryKey:{get:function(){var Qn=ft.primaryKey;return ge.addKey(Qn),Qn}},value:{get:function(){return xn&&ce.addKey(ft.primaryKey),ft.value}}})}return it})}ge.add(w)}}return T[U].apply(this,arguments)}}),Z}})}};function Pu(d,p,w){if(w.numFailures===0)return p;if(p.type==="deleteRange")return null;var P=p.keys?p.keys.length:"values"in p&&p.values?p.values.length:1;return w.numFailures===P?null:(p=n({},p),l(p.keys)&&(p.keys=p.keys.filter(function(T,E){return!(E in w.failures)})),"values"in p&&l(p.values)&&(p.values=p.values.filter(function(T,E){return!(E in w.failures)})),p)}function Ul(d,p){return w=d,((P=p).lower===void 0||(P.lowerOpen?0<Ti(w,P.lower):0<=Ti(w,P.lower)))&&(d=d,(p=p).upper===void 0||(p.upperOpen?Ti(d,p.upper)<0:Ti(d,p.upper)<=0));var w,P}function Tu(d,p,ee,P,T,E){if(!ee||ee.length===0)return d;var D=p.query.index,V=D.multiEntry,K=p.query.range,q=P.schema.primaryKey.extractKey,Z=D.extractKey,G=(D.lowLevelIndex||D).extractKey,ee=ee.reduce(function(U,Q){var J=U,X=[];if(Q.type==="add"||Q.type==="put")for(var ne=new xs,le=Q.values.length-1;0<=le;--le){var ce,ge=Q.values[le],ze=q(ge);ne.hasKey(ze)||(ce=Z(ge),(V&&l(ce)?ce.some(function(ft){return Ul(ft,K)}):Ul(ce,K))&&(ne.addKey(ze),X.push(ge)))}switch(Q.type){case"add":var Pt=new xs().addKeys(p.values?U.map(function(xn){return q(xn)}):U),J=U.concat(p.values?X.filter(function(xn){return xn=q(xn),!Pt.hasKey(xn)&&(Pt.addKey(xn),!0)}):X.map(function(xn){return q(xn)}).filter(function(xn){return!Pt.hasKey(xn)&&(Pt.addKey(xn),!0)}));break;case"put":var Ke=new xs().addKeys(Q.values.map(function(xn){return q(xn)}));J=U.filter(function(xn){return!Ke.hasKey(p.values?q(xn):xn)}).concat(p.values?X:X.map(function(xn){return q(xn)}));break;case"delete":var it=new xs().addKeys(Q.keys);J=U.filter(function(xn){return!it.hasKey(p.values?q(xn):xn)});break;case"deleteRange":var rn=Q.range;J=U.filter(function(xn){return!Ul(q(xn),rn)})}return J},d);return ee===d?d:(ee.sort(function(U,Q){return Ti(G(U),G(Q))||Ti(q(U),q(Q))}),p.limit&&p.limit<1/0&&(ee.length>p.limit?ee.length=p.limit:d.length===p.limit&&ee.length<p.limit&&(T.dirty=!0)),E?Object.freeze(ee):ee)}function Au(d,p){return Ti(d.lower,p.lower)===0&&Ti(d.upper,p.upper)===0&&!!d.lowerOpen==!!p.lowerOpen&&!!d.upperOpen==!!p.upperOpen}function fc(d,p){return function(w,P,T,E){if(w===void 0)return P!==void 0?-1:0;if(P===void 0)return 1;if((P=Ti(w,P))===0){if(T&&E)return 0;if(T)return 1;if(E)return-1}return P}(d.lower,p.lower,d.lowerOpen,p.lowerOpen)<=0&&0<=function(w,P,T,E){if(w===void 0)return P!==void 0?1:0;if(P===void 0)return-1;if((P=Ti(w,P))===0){if(T&&E)return 0;if(T)return-1;if(E)return 1}return P}(d.upper,p.upper,d.upperOpen,p.upperOpen)}function _c(d,p,w,P){d.subscribers.add(w),P.addEventListener("abort",function(){var T,E;d.subscribers.delete(w),d.subscribers.size===0&&(T=d,E=p,setTimeout(function(){T.subscribers.size===0&&on(E,T)},3e3))})}var $c={stack:"dbcore",level:0,name:"Cache",create:function(d){var p=d.schema.name;return n(n({},d),{transaction:function(w,P,T){var E,D,V=d.transaction(w,P,T);return P==="readwrite"&&(D=(E=new AbortController).signal,T=function(K){return function(){if(E.abort(),P==="readwrite"){for(var q=new Set,Z=0,G=w;Z<G.length;Z++){var ee=G[Z],U=Ro["idb://".concat(p,"/").concat(ee)];if(U){var Q=d.table(ee),J=U.optimisticOps.filter(function(xn){return xn.trans===V});if(V._explicit&&K&&V.mutatedParts)for(var X=0,ne=Object.values(U.queries.query);X<ne.length;X++)for(var le=0,ce=(Pt=ne[X]).slice();le<ce.length;le++)Fl((Ke=ce[le]).obsSet,V.mutatedParts)&&(on(Pt,Ke),Ke.subscribers.forEach(function(xn){return q.add(xn)}));else if(0<J.length){U.optimisticOps=U.optimisticOps.filter(function(xn){return xn.trans!==V});for(var ge=0,ze=Object.values(U.queries.query);ge<ze.length;ge++)for(var Pt,Ke,it,rn=0,ft=(Pt=ze[ge]).slice();rn<ft.length;rn++)(Ke=ft[rn]).res!=null&&V.mutatedParts&&(K&&!Ke.dirty?(it=Object.isFrozen(Ke.res),it=Tu(Ke.res,Ke.req,J,Q,Ke,it),Ke.dirty?(on(Pt,Ke),Ke.subscribers.forEach(function(xn){return q.add(xn)})):it!==Ke.res&&(Ke.res=it,Ke.promise=nt.resolve({result:it}))):(Ke.dirty&&on(Pt,Ke),Ke.subscribers.forEach(function(xn){return q.add(xn)})))}}}q.forEach(function(xn){return xn()})}}},V.addEventListener("abort",T(!1),{signal:D}),V.addEventListener("error",T(!1),{signal:D}),V.addEventListener("complete",T(!0),{signal:D})),V},table:function(w){var P=d.table(w),T=P.schema.primaryKey;return n(n({},P),{mutate:function(E){var D=_n.trans;if(T.outbound||D.db._options.cache==="disabled"||D.explicit||D.idbtrans.mode!=="readwrite")return P.mutate(E);var V=Ro["idb://".concat(p,"/").concat(w)];return V?(D=P.mutate(E),E.type!=="add"&&E.type!=="put"||!(50<=E.values.length||Kl(T,E).some(function(K){return K==null}))?(V.optimisticOps.push(E),E.mutatedParts&&ca(E.mutatedParts),D.then(function(K){0<K.numFailures&&(on(V.optimisticOps,E),(K=Pu(0,E,K))&&V.optimisticOps.push(K),E.mutatedParts&&ca(E.mutatedParts))}),D.catch(function(){on(V.optimisticOps,E),E.mutatedParts&&ca(E.mutatedParts)})):D.then(function(K){var q=Pu(0,n(n({},E),{values:E.values.map(function(Z,G){var ee;return K.failures[G]||(Z=(ee=T.keyPath)!==null&&ee!==void 0&&ee.includes(".")?re(Z):n({},Z),B(Z,T.keyPath,K.results[G])),Z})}),K);V.optimisticOps.push(q),queueMicrotask(function(){return E.mutatedParts&&ca(E.mutatedParts)})}),D):P.mutate(E)},query:function(E){if(!wu(_n,P)||!bu("query",E))return P.query(E);var D=((q=_n.trans)===null||q===void 0?void 0:q.db._options.cache)==="immutable",G=_n,V=G.requery,K=G.signal,q=function(Q,J,X,ne){var le=Ro["idb://".concat(Q,"/").concat(J)];if(!le)return[];if(!(J=le.queries[X]))return[null,!1,le,null];var ce=J[(ne.query?ne.query.index.name:null)||""];if(!ce)return[null,!1,le,null];switch(X){case"query":var ge=ce.find(function(ze){return ze.req.limit===ne.limit&&ze.req.values===ne.values&&Au(ze.req.query.range,ne.query.range)});return ge?[ge,!0,le,ce]:[ce.find(function(ze){return("limit"in ze.req?ze.req.limit:1/0)>=ne.limit&&(!ne.values||ze.req.values)&&fc(ze.req.query.range,ne.query.range)}),!1,le,ce];case"count":return ge=ce.find(function(ze){return Au(ze.req.query.range,ne.query.range)}),[ge,!!ge,le,ce]}}(p,w,"query",E),Z=q[0],G=q[1],ee=q[2],U=q[3];return Z&&G?Z.obsSet=E.obsSet:(G=P.query(E).then(function(Q){var J=Q.result;if(Z&&(Z.res=J),D){for(var X=0,ne=J.length;X<ne;++X)Object.freeze(J[X]);Object.freeze(J)}else Q.result=re(J);return Q}).catch(function(Q){return U&&Z&&on(U,Z),Promise.reject(Q)}),Z={obsSet:E.obsSet,promise:G,subscribers:new Set,type:"query",req:E,dirty:!1},U?U.push(Z):(U=[Z],(ee=ee||(Ro["idb://".concat(p,"/").concat(w)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[E.query.index.name||""]=U)),_c(Z,U,V,K),Z.promise.then(function(Q){return{result:Tu(Q.result,E,ee==null?void 0:ee.optimisticOps,P,Z,D)}})}})}})}};function da(d,p){return new Proxy(d,{get:function(w,P,T){return P==="db"?p:Reflect.get(w,P,T)}})}var Zs=(Rr.prototype.version=function(d){if(isNaN(d)||d<.1)throw new Tn.Type("Given version is not a positive number");if(d=Math.round(10*d)/10,this.idbdb||this._state.isBeingOpened)throw new Tn.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,d);var p=this._versions,w=p.filter(function(P){return P._cfg.version===d})[0];return w||(w=new this.Version(d),p.push(w),p.sort(rc),w.stores({}),this._state.autoSchema=!1,w)},Rr.prototype._whenReady=function(d){var p=this;return this.idbdb&&(this._state.openComplete||_n.letThrough||this._vip)?d():new nt(function(w,P){if(p._state.openComplete)return P(new Tn.DatabaseClosed(p._state.dbOpenError));if(!p._state.isBeingOpened){if(!p._state.autoOpen)return void P(new Tn.DatabaseClosed);p.open().catch(Wn)}p._state.dbReadyPromise.then(w,P)}).then(d)},Rr.prototype.use=function(d){var p=d.stack,w=d.create,P=d.level,T=d.name;return T&&this.unuse({stack:p,name:T}),d=this._middlewares[p]||(this._middlewares[p]=[]),d.push({stack:p,create:w,level:P??10,name:T}),d.sort(function(E,D){return E.level-D.level}),this},Rr.prototype.unuse=function(d){var p=d.stack,w=d.name,P=d.create;return p&&this._middlewares[p]&&(this._middlewares[p]=this._middlewares[p].filter(function(T){return P?T.create!==P:!!w&&T.name!==w})),this},Rr.prototype.open=function(){var d=this;return Co(Vr,function(){return lc(d)})},Rr.prototype._close=function(){var d=this._state,p=Lo.indexOf(this);if(0<=p&&Lo.splice(p,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}d.isBeingOpened||(d.dbReadyPromise=new nt(function(w){d.dbReadyResolve=w}),d.openCanceller=new nt(function(w,P){d.cancelOpen=P}))},Rr.prototype.close=function(w){var p=(w===void 0?{disableAutoOpen:!0}:w).disableAutoOpen,w=this._state;p?(w.isBeingOpened&&w.cancelOpen(new Tn.DatabaseClosed),this._close(),w.autoOpen=!1,w.dbOpenError=new Tn.DatabaseClosed):(this._close(),w.autoOpen=this._options.autoOpen||w.isBeingOpened,w.openComplete=!1,w.dbOpenError=null)},Rr.prototype.delete=function(d){var p=this;d===void 0&&(d={disableAutoOpen:!0});var w=0<arguments.length&&typeof arguments[0]!="object",P=this._state;return new nt(function(T,E){function D(){p.close(d);var V=p._deps.indexedDB.deleteDatabase(p.name);V.onsuccess=fe(function(){var K,q,Z;K=p._deps,q=p.name,Z=K.indexedDB,K=K.IDBKeyRange,Rl(Z)||q===Qo||$l(Z,K).delete(q).catch(Wn),T()}),V.onerror=Ks(E),V.onblocked=p._fireOnBlocked}if(w)throw new Tn.InvalidArgument("Invalid closeOptions argument to db.delete()");P.isBeingOpened?P.dbReadyPromise.then(D):D()})},Rr.prototype.backendDB=function(){return this.idbdb},Rr.prototype.isOpen=function(){return this.idbdb!==null},Rr.prototype.hasBeenClosed=function(){var d=this._state.dbOpenError;return d&&d.name==="DatabaseClosed"},Rr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Rr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Rr.prototype,"tables",{get:function(){var d=this;return a(this._allTables).map(function(p){return d._allTables[p]})},enumerable:!1,configurable:!0}),Rr.prototype.transaction=function(){var d=(function(p,w,P){var T=arguments.length;if(T<2)throw new Tn.InvalidArgument("Too few arguments");for(var E=new Array(T-1);--T;)E[T-1]=arguments[T];return P=E.pop(),[p,Ie(E),P]}).apply(this,arguments);return this._transaction.apply(this,d)},Rr.prototype._transaction=function(d,p,w){var P=this,T=_n.trans;T&&T.db===this&&d.indexOf("!")===-1||(T=null);var E,D,V=d.indexOf("?")!==-1;d=d.replace("!","").replace("?","");try{if(D=p.map(function(q){if(q=q instanceof P.Table?q.name:q,typeof q!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return q}),d=="r"||d===za)E=za;else{if(d!="rw"&&d!=Wa)throw new Tn.InvalidArgument("Invalid transaction mode: "+d);E=Wa}if(T){if(T.mode===za&&E===Wa){if(!V)throw new Tn.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");T=null}T&&D.forEach(function(q){if(T&&T.storeNames.indexOf(q)===-1){if(!V)throw new Tn.SubTransaction("Table "+q+" not included in parent transaction.");T=null}}),V&&T&&!T.active&&(T=null)}}catch(q){return T?T._promise(null,function(Z,G){G(q)}):Or(q)}var K=(function q(Z,G,ee,U,Q){return nt.resolve().then(function(){var J=_n.transless||_n,X=Z._createTransaction(G,ee,Z._dbSchema,U);if(X.explicit=!0,J={trans:X,transless:J},U)X.idbtrans=U.idbtrans;else try{X.create(),X.idbtrans._explicit=!0,Z._state.PR1398_maxLoop=3}catch(ce){return ce.name===Yn.InvalidState&&Z.isOpen()&&0<--Z._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Z.close({disableAutoOpen:!1}),Z.open().then(function(){return q(Z,G,ee,null,Q)})):Or(ce)}var ne,le=Se(Q);return le&&Di(),J=nt.follow(function(){var ce;(ne=Q.call(X,X))&&(le?(ce=Pi.bind(null,null),ne.then(ce,ce)):typeof ne.next=="function"&&typeof ne.throw=="function"&&(ne=Wl(ne)))},J),(ne&&typeof ne.then=="function"?nt.resolve(ne).then(function(ce){return X.active?ce:Or(new Tn.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):J.then(function(){return ne})).then(function(ce){return U&&X._resolve(),X._completion.then(function(){return ce})}).catch(function(ce){return X._reject(ce),Or(ce)})})}).bind(null,this,E,D,T,w);return T?T._promise(E,K,"lock"):_n.trans?Co(_n.transless,function(){return P._whenReady(K)}):this._whenReady(K)},Rr.prototype.table=function(d){if(!_(this._allTables,d))throw new Tn.InvalidTable("Table ".concat(d," does not exist"));return this._allTables[d]},Rr);function Rr(d,p){var w=this;this._middlewares={},this.verno=0;var P=Rr.dependencies;this._options=p=n({addons:Rr.addons,autoOpen:!0,indexedDB:P.indexedDB,IDBKeyRange:P.IDBKeyRange,cache:"cloned"},p),this._deps={indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange},P=p.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var T,E,D,V,K,q={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Wn,dbReadyPromise:null,cancelOpen:Wn,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:p.autoOpen};q.dbReadyPromise=new nt(function(G){q.dbReadyResolve=G}),q.openCanceller=new nt(function(G,ee){q.cancelOpen=ee}),this._state=q,this.name=d,this.on=zo(this,"populate","blocked","versionchange","close",{ready:[Ds,Wn]}),this.on.ready.subscribe=I(this.on.ready.subscribe,function(G){return function(ee,U){Rr.vip(function(){var Q,J=w._state;J.openComplete?(J.dbOpenError||nt.resolve().then(ee),U&&G(ee)):J.onReadyBeingFired?(J.onReadyBeingFired.push(ee),U&&G(ee)):(G(ee),Q=w,U||G(function X(){Q.on.ready.unsubscribe(ee),Q.on.ready.unsubscribe(X)}))})}}),this.Collection=(T=this,Wo(Hu.prototype,function(ne,X){this.db=T;var U=eu,Q=null;if(X)try{U=X()}catch(le){Q=le}var J=ne._ctx,X=J.table,ne=X.hook.reading.fire;this._ctx={table:X,index:J.index,isPrimKey:!J.index||X.schema.primKey.keyPath&&J.index===X.schema.primKey.name,range:U,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Q,or:J.or,valueMapper:ne!==Nr?ne:null}})),this.Table=(E=this,Wo(ru.prototype,function(G,ee,U){this.db=E,this._tx=U,this.name=G,this.schema=ee,this.hook=E._allTables[G]?E._allTables[G].hook:zo(null,{creating:[Cr,Wn],reading:[ke,Nr],updating:[Sn,Wn],deleting:[ki,Wn]})})),this.Transaction=(D=this,Wo(ec.prototype,function(G,ee,U,Q,J){var X=this;this.db=D,this.mode=G,this.storeNames=ee,this.schema=U,this.chromeTransactionDurability=Q,this.idbtrans=null,this.on=zo(this,"complete","error","abort"),this.parent=J||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new nt(function(ne,le){X._resolve=ne,X._reject=le}),this._completion.then(function(){X.active=!1,X.on.complete.fire()},function(ne){var le=X.active;return X.active=!1,X.on.error.fire(ne),X.parent?X.parent._reject(ne):le&&X.idbtrans&&X.idbtrans.abort(),Or(ne)})})),this.Version=(V=this,Wo(ac.prototype,function(G){this.db=V,this._cfg={version:G,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(K=this,Wo(uu.prototype,function(G,ee,U){if(this.db=K,this._ctx={table:G,index:ee===":id"?null:ee,or:U},this._cmp=this._ascending=Ti,this._descending=function(Q,J){return Ti(J,Q)},this._max=function(Q,J){return 0<Ti(Q,J)?Q:J},this._min=function(Q,J){return Ti(Q,J)<0?Q:J},this._IDBKeyRange=K._deps.IDBKeyRange,!this._IDBKeyRange)throw new Tn.MissingAPI})),this.on("versionchange",function(G){0<G.newVersion?console.warn("Another connection wants to upgrade database '".concat(w.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(w.name,"'. Closing db now to resume the delete request.")),w.close({disableAutoOpen:!1})}),this.on("blocked",function(G){!G.newVersion||G.newVersion<G.oldVersion?console.warn("Dexie.delete('".concat(w.name,"') was blocked")):console.warn("Upgrade '".concat(w.name,"' blocked by other connection holding version ").concat(G.oldVersion/10))}),this._maxKey=jo(p.IDBKeyRange),this._createTransaction=function(G,ee,U,Q){return new w.Transaction(G,ee,U,w._options.chromeTransactionDurability,Q)},this._fireOnBlocked=function(G){w.on("blocked").fire(G),Lo.filter(function(ee){return ee.name===w.name&&ee!==w&&!ee._state.vcFired}).map(function(ee){return ee.on("versionchange").fire(G)})},this.use(hc),this.use($c),this.use(dc),this.use(uc),this.use(cc);var Z=new Proxy(this,{get:function(G,ee,U){if(ee==="_vip")return!0;if(ee==="table")return function(J){return da(w.table(J),Z)};var Q=Reflect.get(G,ee,U);return Q instanceof ru?da(Q,Z):ee==="tables"?Q.map(function(J){return da(J,Z)}):ee==="_createTransaction"?function(){return da(Q.apply(this,arguments),Z)}:Q}});this.vip=Z,P.forEach(function(G){return G(w)})}var _a,Fs=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",zc=(jl.prototype.subscribe=function(d,p,w){return this._subscribe(d&&typeof d!="function"?d:{next:d,error:p,complete:w})},jl.prototype[Fs]=function(){return this},jl);function jl(d){this._subscribe=d}try{_a={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{_a={indexedDB:null,IDBKeyRange:null}}function Eu(d){var p,w=!1,P=new zc(function(T){var E=Se(d),D,V=!1,K={},q={},Z={get closed(){return V},unsubscribe:function(){V||(V=!0,D&&D.abort(),G&&ko.storagemutated.unsubscribe(U))}};T.start&&T.start(Z);var G=!1,ee=function(){return Ea(Q)},U=function(J){ua(K,J),Fl(q,K)&&ee()},Q=function(){var J,X,ne;!V&&_a.indexedDB&&(K={},J={},D&&D.abort(),D=new AbortController,ne=function(le){var ce=F();try{E&&Di();var ge=Ei(d,le);return ge=E?ge.finally(Pi):ge}finally{ce&&Y()}}(X={subscr:J,signal:D.signal,requery:ee,querier:d,trans:null}),Promise.resolve(ne).then(function(le){w=!0,p=le,V||X.signal.aborted||(K={},function(ce){for(var ge in ce)if(_(ce,ge))return;return 1}(q=J)||G||(ko(Uo,U),G=!0),Ea(function(){return!V&&T.next&&T.next(le)}))},function(le){w=!1,["DatabaseClosedError","AbortError"].includes(le==null?void 0:le.name)||V||Ea(function(){V||T.error&&T.error(le)})}))};return setTimeout(ee,0),Z});return P.hasValue=function(){return w},P.getValue=function(){return p},P}var Io=Zs;function Yl(d){var p=Mo;try{Mo=!0,ko.storagemutated.fire(d),zl(d,!0)}finally{Mo=p}}y(Io,n(n({},Ni),{delete:function(d){return new Io(d,{addons:[]}).delete()},exists:function(d){return new Io(d,{addons:[]}).open().then(function(p){return p.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(d){try{return p=Io.dependencies,w=p.indexedDB,p=p.IDBKeyRange,(Rl(w)?Promise.resolve(w.databases()).then(function(P){return P.map(function(T){return T.name}).filter(function(T){return T!==Qo})}):$l(w,p).toCollection().primaryKeys()).then(d)}catch{return Or(new Tn.MissingAPI)}var p,w},defineClass:function(){return function(d){c(this,d)}},ignoreTransaction:function(d){return _n.trans?Co(_n.transless,d):d()},vip:Nl,async:function(d){return function(){try{var p=Wl(d.apply(this,arguments));return p&&typeof p.then=="function"?p:nt.resolve(p)}catch(w){return Or(w)}}},spawn:function(d,p,w){try{var P=Wl(d.apply(w,p||[]));return P&&typeof P.then=="function"?P:nt.resolve(P)}catch(T){return Or(T)}},currentTransaction:{get:function(){return _n.trans||null}},waitFor:function(d,p){return p=nt.resolve(typeof d=="function"?Io.ignoreTransaction(d):d).timeout(p||6e4),_n.trans?_n.trans.waitFor(p):p},Promise:nt,debug:{get:function(){return _s},set:function(d){Mi(d)}},derive:$,extend:c,props:y,override:I,Events:zo,on:ko,liveQuery:Eu,extendObservabilitySet:ua,getByKeyPath:L,setByKeyPath:B,delByKeyPath:function(d,p){typeof p=="string"?B(d,p,void 0):"length"in p&&[].map.call(p,function(w){B(d,w,void 0)})},shallowClone:N,deepClone:re,getObjectDiff:Gl,cmp:Ti,asap:O,minKey:-1/0,addons:[],connections:Lo,errnames:Yn,dependencies:_a,cache:Ro,semVer:"4.0.11",version:"4.0.11".split(".").map(function(d){return parseInt(d)}).reduce(function(d,p,w){return d+p/Math.pow(10,2*w)})})),Io.maxKey=jo(Io.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ko(Uo,function(d){Mo||(d=new CustomEvent(Ya,{detail:d}),Mo=!0,dispatchEvent(d),Mo=!1)}),addEventListener(Ya,function(d){d=d.detail,Mo||Yl(d)}));var Bo,Mo=!1,Wu=function(){};return typeof BroadcastChannel<"u"&&((Wu=function(){(Bo=new BroadcastChannel(Ya)).onmessage=function(d){return d.data&&Yl(d.data)}})(),typeof Bo.unref=="function"&&Bo.unref(),ko(Uo,function(d){Mo||Bo.postMessage(d)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(d){if(!Zs.disableBfCache&&d.persisted){_s&&console.debug("Dexie: handling persisted pagehide"),Bo!=null&&Bo.close();for(var p=0,w=Lo;p<w.length;p++)w[p].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(d){!Zs.disableBfCache&&d.persisted&&(_s&&console.debug("Dexie: handling persisted pageshow"),Wu(),Yl({all:new xs(-1/0,[[]])}))})),nt.rejectionMapper=function(d,p){return!d||d instanceof pt||d instanceof TypeError||d instanceof SyntaxError||!d.name||!wi[d.name]?d:(p=new wi[d.name](p||d.message,d),"stack"in d&&b(p,"stack",{get:function(){return this.inner.stack}}),p)},Mi(_s),n(Zs,Object.freeze({__proto__:null,Dexie:Zs,liveQuery:Eu,Entity:tu,cmp:Ti,PropModification:Go,replacePrefix:function(d,p){return new Go({replacePrefix:[d,p]})},add:function(d){return new Go({add:d})},remove:function(d){return new Go({remove:d})},default:Zs,RangeSet:xs,mergeRanges:Ho,rangesOverlap:fu}),{default:Zs}),Zs})}(to)),to.exports}var Wc=Xc();const xa=Yc(Wc),Mu=Symbol.for("Dexie"),uo=globalThis[Mu]||(globalThis[Mu]=xa);if(xa.semVer!==uo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${xa.semVer} and ${uo.semVer}`);const{liveQuery:rd,mergeRanges:id,rangesOverlap:sd,RangeSet:od,cmp:ad,Entity:ud,PropModification:ld,replacePrefix:cd,add:hd,remove:dd}=uo;class Yu extends uo{constructor(){super("AudioSampleDB"),R(this,"samples"),this.version(1).stores({samples:"id, url, dateAdded, isDefaultInitSample, isFromDefaultLib"}),this.samples=this.table("samples")}}const Ae=new Yu;async function Zu(i,e,t,n=0,s=0){try{if(await Ae.samples.get(i))return console.warn(`Sample with ID ${i} already exists. Cancelled.`),i;const o=t.numberOfChannels,a=t.length,l=new Float32Array(o*a);for(let _=0;_<o;_++){const y=t.getChannelData(_);l.set(y,_*a)}const c=l.buffer,h={duration:t.duration,sampleRate:t.sampleRate,channels:o},f={id:i,url:e,audioData:c,dateAdded:new Date,metadata:h,isDefaultInitSample:n,isFromDefaultLib:s};return await Ae.samples.put(f),i}catch(o){throw console.error("Failed to store audio sample:",o),new Error(`Failed to store audio sample: ${o instanceof Error?o.message:String(o)}`)}}const uh="data:video/webm;base64,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";async function _u(){const i=await fetch(uh);if(!i.ok)throw new Error(`Failed to fetch init sample: ${i.statusText}`);const e=await i.arrayBuffer(),t=new(window.AudioContext||window.webkitAudioContext)({sampleRate:Ts.sampleRate}),n=await t.decodeAudioData(e);return await t.close(),n}const lh="../assets/",ch="init_sample.wav";async function $u(){try{await Ae.open(),await el()}catch(i){console.error("Error opening IndexedDB:",i)}}async function el(){try{const i="default-init-sample",e=`${lh}${ch}`,t=await Ae.samples.get(i);if(t){console.info("Init sample from idb: ",{sample:t.id});return}const n=await _u();if(!n||n.length<=0){console.warn("Failed to decode init sample");return}console.debug({audioBuffer:n});const s=await Zu(i,e,n,1,1);console.info(`storing init sample in idb, stored sample ID: ${s}`)}catch(i){console.warn("Error ensuring init sample in IndexedDB:",i)}}const Du={KeyZ:48,KeyS:49,KeyX:50,KeyD:51,KeyC:52,KeyV:53,KeyG:54,KeyB:55,KeyH:56,KeyN:57,KeyJ:58,KeyM:59,Comma:60,KeyL:61,Period:62,Semicolon:63,Slash:64,KeyQ:60,Digit2:61,KeyW:62,Digit3:63,KeyE:64,KeyR:65,Digit5:66,KeyT:67,Digit6:68,KeyY:69,Digit7:70,KeyU:71,KeyI:72,Digit9:73,KeyO:74,Digit0:75,KeyP:76,BracketLeft:77,Equal:78,BracketRight:79};var Ur,qe,zi,ir,_e,un,ln,lo,Qi,zr,co;const $n=class Xo{constructor(e=Du){v(this,co),v(this,qe,new Set),v(this,zi,!1),v(this,ir,!1),v(this,_e,new Set),v(this,un,new Set),v(this,ln),v(this,lo,{loopToggle:"CapsLock",loopMomentary:"Space"}),v(this,Qi,!1),v(this,zr,!1),R(this,"handleKeyDown",t=>{if(t.repeat)return;const n=t.code;if(r(this,_e).has(n))return;r(this,_e).add(n);const s=r(this,ln)[n];if(s===void 0)return;t.preventDefault();const o=100,a=this.getAllModifiers(t);r(this,qe).forEach(l=>{l.onModifierChange&&l.onModifierChange(a)}),r(this,qe).forEach(l=>l.onNoteOn(s,o,a))}),R(this,"handleKeyUp",t=>{m(this,Qi,this.getCapslock(t));const n=this.getAllModifiers(t);if(r(this,qe).forEach(o=>{o.onModifierChange&&o.onModifierChange(n)}),!r(this,_e).has(t.code))return;const s=r(this,ln)[t.code];s!==void 0&&(r(this,qe).forEach(o=>o.onNoteOff(s,n)),r(this,_e).delete(t.code))}),R(this,"handleBlur",t=>{const n=Array.from(r(this,_e));console.log("Blur occured");const s={shift:!1,ctrl:!1,alt:!1,meta:!1,caps:this.getCapslock(),space:!1};n.forEach(o=>{const a=r(this,ln)[o];a!==void 0&&r(this,qe).forEach(l=>l.onNoteOff(a,s)),r(this,_e).delete(o)}),r(this,qe).forEach(o=>{o.onBlur&&o.onBlur()}),r(this,_e).clear()}),m(this,ln,e),m(this,zi,Kc())}static getInstance(e=Du){return r(Xo,Ur)||m(Xo,Ur,new Xo(e)),r(Xo,Ur)}get pressedKeys(){return new Set([...r(this,_e),...r(this,un)])}get pressedNoteKeys(){return new Set(r(this,_e))}getAllModifiers(e){return{shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey,caps:this.getCapslock(e),space:r(this,zr)}}getCapslock(e){return e&&r(this,zi)?e.getModifierState("CapsLock"):r(this,Qi)}getToggleKeysState(e){return{CapsLock:this.getCapslock(e)}}isPressed(e){return r(this,lo).hasOwnProperty(e)?r(this,un).has(e):r(this,_e).has(e)}addHandler(e){return r(this,qe).has(e)?(console.warn("Handler is already registered"),()=>this.removeHandler(e)):(r(this,qe).add(e),this.startListening(),()=>this.removeHandler(e))}removeHandler(e){r(this,qe).delete(e),r(this,qe).size===0&&this.stopListening()}hasHandler(e){return Array.isArray(e)?e.every(t=>r(this,qe).has(t)):r(this,qe).has(e)}setKeymap(e){m(this,ln,e)}getKeymap(){return{...r(this,ln)}}startListening(){r(this,ir)||typeof document<"u"&&(document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp),window.addEventListener("blur",this.handleBlur),m(this,ir,!0))}stopListening(){r(this,ir)&&typeof document<"u"&&(document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),typeof window<"u"&&window.removeEventListener("blur",this.handleBlur),m(this,ir,!1))}dispose(){this.stopListening(),r(this,qe).clear(),r(this,_e).clear()}};Ur=new WeakMap,qe=new WeakMap,zi=new WeakMap,ir=new WeakMap,_e=new WeakMap,un=new WeakMap,ln=new WeakMap,lo=new WeakMap,Qi=new WeakMap,zr=new WeakMap,co=new WeakSet,v($n,Ur);let Sa=$n;const vn=Sa.getInstance();var Hi,sr,or;class yi{constructor(){v(this,Hi,null),v(this,sr,!1),v(this,or,new Map)}async initialize(){if(r(this,sr))return!0;try{m(this,Hi,await navigator.requestMIDIAccess());const e=r(this,Hi).inputs.values();for(const t of e)t.onmidimessage=this.handleMidiMessage.bind(this),console.log(`MIDI input connected: ${t.name}`);return m(this,sr,!0),!0}catch(e){return console.error("Failed to initialize MIDI:",e),!1}}handleMidiMessage(e){const[t,n,s]=e.data,o=t&240;if(o===144&&s>0)for(const a of r(this,or).values())a.onNoteOn(n,s);else if(o===128||o===144&&s===0)for(const a of r(this,or).values())a.onNoteOff(n)}connectInstrument(e,t=0){r(this,sr)?r(this,or).set(t,{onNoteOn:(n,s)=>e.play(n,s),onNoteOff:n=>e.release(n)}):console.log("connectInstrument failed: midi not initialized")}disconnectInstrument(e){r(this,or).delete(e)}get isInitialized(){return r(this,sr)}}Hi=new WeakMap,sr=new WeakMap,or=new WeakMap;async function gh(i={echoCancellation:!1,noiseSuppression:!0,autoGainControl:!0}){return await navigator.mediaDevices.getUserMedia({audio:i})}const yh=30,vh=1e3,bh={off:0,low:.1,medium:.2,high:.3};async function tl(i,e="medium"){const t=i.getChannelData(0),n=bh[e];let s=0;for(let S=0;S<t.length;S++){const O=Math.abs(t[S]);O>s&&(s=O)}const o=n>0?t.map(S=>Math.abs(S)>n*s?S:0):t,a=Math.floor(i.sampleRate/vh),l=Math.floor(i.sampleRate/yh);let c=new Float32Array(l);for(let S=a;S<c.length;S++){let O=0;for(let L=0;L<o.length-S;L++)O+=o[L]*o[L+S];c[S]=O}let h=a;for(let S=a;S<l;S++)c[S]>c[h]&&(h=S);const f=h,_=c[f-1],y=c[f],u=c[f+1],b=2*(2*y-_-u),$=Math.abs(b)<1e-6?0:(u-_)/b,k=c[h],A=Math.sqrt(o.reduce((S,O)=>S+O*O,0)/o.length),C=k/(A*A*o.length),I=Math.max(0,Math.min(1,C));return{frequency:i.sampleRate/(f+$),confidence:I}}function Ah(i,e,t="samples"){const n=i.numberOfChannels,s=i.sampleRate,o=Array.from({length:n},(h,f)=>i.getChannelData(f));if(o.length===0||!o[0])throw new Error("AudioBuffer must contain at least one audio channel");const a=o[0].length;function l(){for(let h=0;h<a;h++)if(Math.max(...o.map(f=>Math.abs(f[h])))>e)return t==="seconds"?h/s:h;return 0}function c(){for(let h=a-1;h>=0;h--)if(Math.max(...o.map(f=>Math.abs(f[h])))>e)return t==="seconds"?h/s:h;return t==="seconds"?(a-1)/s:a-1}return{start:l(),end:c()}}function Ou(i,e,t,n){const s=Math.min(e+t,i.length);for(let o=e;o<s;o++){const a=(o-e)/t,l=n==="in"?a:1-a;i[o]*=l}}function wh(i,e,t,n,s=5){const o=e.numberOfChannels,a=n-t,l=i.createBuffer(o,a,e.sampleRate),c=Math.floor(s/1e3*e.sampleRate);for(let h=0;h<o;h++){const f=e.getChannelData(h),_=l.getChannelData(h);for(let y=0;y<a;y++)_[y]=f[t+y];a>c*2&&c>0&&(Ou(_,0,c,"in"),Ou(_,a-c,c,"out"))}return l}const Ph={normalize:{enabled:!0,maxAmplitudePeak:.9},trimSilence:{enabled:!0,threshold:.01},fadeInOutMs:5,tune:{detectPitch:!0,autotune:!0,targetMidiNote:60},hpf:{auto:!0},getZeroCrossings:!0};async function nl(i,e,t=Ph){var n,s;const{normalize:o,trimSilence:a,fadeInOutMs:l,tune:c,hpf:h,getZeroCrossings:f}=t;let _=e,y={};if(o!=null&&o.enabled&&(_=yc(i,e,o.maxAmplitudePeak)),a!=null&&a.enabled){const{start:u,end:b}=Ah(_,a.threshold??.01);_=wh(i,_,u,b,l)}if(c!=null&&c.detectPitch||c!=null&&c.autotune||h&&"auto"in h&&h.auto){const u=await Th(e),b=(c==null?void 0:c.targetMidiNote)||60,$=xh(u.midiFloat,b);y.detectedPitch={fundamentalHz:u.frequency,transpositionSemitones:$,confidence:u.confidence}}if(c!=null&&c.autotune&&(!((n=y.detectedPitch)!=null&&n.transpositionSemitones)||y.detectedPitch.confidence<.35?console.info("Skipped autotune due to unreliable pitch detection"):_=Eh(i,_,y.detectedPitch.transpositionSemitones)),f){const u=jc(e);y.zeroCrossings=u}if(h){const u=(s=y.detectedPitch)==null?void 0:s.fundamentalHz,b="cutoff"in h?h.cutoff:u;_=await Sh(_,b??80)}return{...y,audiobuffer:_}}function Eh(i,e,t){const n=Math.pow(2,t/12),s=e.length,o=Math.round(s/n),a=i.createBuffer(e.numberOfChannels,o,e.sampleRate);for(let l=0;l<e.numberOfChannels;l++){const c=e.getChannelData(l),h=a.getChannelData(l);for(let f=0;f<o;f++){const _=f*n,y=Math.floor(_),u=_-y;y+1<s?h[f]=c[y]*(1-u)+c[y+1]*u:h[f]=c[y]}}return a}async function Th(i,e=!1){const t=await tl(i),n=ao(t.frequency),s=69+12*Math.log2(t.frequency/440),o=n.frequency/t.frequency;return e&&console.table({pitchSource:t,targetNoteInfo:n,playbackRateMultiplier:o,midiFloat:s}),{frequency:t.frequency,confidence:t.confidence,midiFloat:s,targetNoteInfo:n}}function xh(i,e){let t=e-i;for(;t>6;)t-=12;for(;t<-6;)t+=12;return t}async function Sh(i,e,t=.5){const n=new OfflineAudioContext(i.numberOfChannels,i.length,i.sampleRate),s=n.createBufferSource(),o=n.createBiquadFilter();return o.type="highpass",o.frequency.value=e,o.Q.value=t,s.buffer=i,s.connect(o),o.connect(n.destination),s.start(0),await n.startRendering()}var kn,ar,Yi,cn,zt,De,Oe,Qr,no;class kh{constructor(e=[],t=[0,1],n,s,o){v(this,Qr),v(this,kn),v(this,ar,0),v(this,Yi,!1),v(this,cn),v(this,zt,null),v(this,De),v(this,Oe),R(this,"updateStartPoint",(a,l)=>{this.updatePoint(r(this,cn),a,l)}),R(this,"updateEndPoint",(a,l)=>{this.updatePoint(r(this,Oe),a,l)}),R(this,"setValueRange",a=>m(this,kn,a)),this.points=e,oe(e.length>=2,"EnvelopeData needs at least two points to initialize"),m(this,ar,n),m(this,kn,t),m(this,cn,0),m(this,Oe,e.length-1),m(this,zt,s&&e[s]?s:r(this,Oe)-1),m(this,De,o&&e[o]?o:Math.max(0,r(this,Oe)-1))}addPoint(e,t,n="exponential"){const s={time:e,value:t,curve:n};if(this.points.length>=2){const a=this.points[this.startPointIndex].time,l=this.points[r(this,Oe)].time;if(e<=a||e>=l){console.warn(`Cannot add point at time ${e}. Must be between ${a} and ${l}`);return}}const o=this.points.findIndex(a=>a.time>e);o===-1?(this.points.push(s),m(this,Oe,this.points.length-1)):(this.points.splice(o,0,s),m(this,Oe,this.points.length-1),r(this,zt)!==null&&o<=r(this,zt)&&Fi(this,zt)._++,r(this,De)!==null&&o<=r(this,De)&&Fi(this,De)._++),H(this,Qr,no).call(this)}updatePoint(e,t,n){if(e>=0&&e<this.points.length){const s=this.points[e];let o=t??s.time;if(e===1&&o<=this.points[r(this,cn)].time){console.warn("Second point cannot go before first point");return}if(e===r(this,Oe)-1&&o>=this.points[r(this,Oe)].time){console.warn("Second-to-last point cannot go after last point");return}this.points[e]={...s,time:o,value:n??s.value}}H(this,Qr,no).call(this)}deletePoint(e){this.points.length>2&&e>r(this,cn)&&e<r(this,Oe)&&(this.points.splice(e,1),m(this,Oe,this.points.length-1)),r(this,De)!==null&&(e<r(this,De)?Fi(this,De)._--:e===r(this,De)&&m(this,De,r(this,Oe)>r(this,De)+1?r(this,De)+1:Math.max(0,r(this,Oe)-1))),H(this,Qr,no).call(this)}interpolateValueAtTime(e){if(this.points.length===0)return r(this,kn)[0];if(this.points.length===1)return this.points[0].value;const t=[...this.points].sort((s,o)=>s.time-o.time);let n=0;if(e<=t[0].time)n=t[0].value;else if(e>=t[t.length-1].time)n=t[t.length-1].value;else{n=0;for(let s=0;s<t.length-1;s++){const o=t[s],a=t[s+1];if(e>=o.time&&e<=a.time){const l=a.time-o.time,c=l===0?0:(e-o.time)/l;o.curve==="exponential"&&o.value>0&&a.value>0?n=o.value*Math.pow(a.value/o.value,c):n=o.value+(a.value-o.value)*c;break}}}return n}getSVGPath(e=400,t=200,n,s="none"){if(this.points.length<2)return`M0,${t} L${e},${t}`;const o=[...this.points].sort((f,_)=>f.time-_.time),[a,l]=r(this,kn),c=f=>{if(s==="logarithmic"){const _=Math.log2(Math.max(.1,a)),y=Math.log2(l),u=Math.log2(Math.max(.1,f));return Math.max(0,Math.min(1,(u-_)/(y-_)))}else return(f-a)/(l-a)};let h=`M${o[0].time/n*e},${(1-c(o[0].value))*t}`;for(let f=1;f<o.length;f++){const _=o[f],y=o[f-1],u=_.time/n*e,b=(1-c(_.value))*t;if(y.curve==="exponential"){const $=y.time/n*e,k=(1-c(y.value))*t,A=$+(u-$)*.3,C=k,I=$+(u-$)*.7;h+=` C${A},${C} ${I},${b} ${u},${b}`}else h+=` L${u},${b}`}return h}setSustainPoint(e){if(e==null){m(this,zt,null);return}e>=0&&e<this.points.length&&m(this,zt,e)}setReleasePoint(e){e>=0&&e<this.points.length?m(this,De,e):console.error("EnvelopeData.setReleasePoint: invalid index")}get startPointIndex(){return r(this,cn)}get sustainPointIndex(){return r(this,zt)}get releasePointIndex(){return r(this,De)>=this.points.length&&m(this,De,Math.max(0,this.points.length-2)),r(this,De)}get endPointIndex(){return r(this,Oe)}get valueRange(){return r(this,kn)}get startTime(){var e;return((e=this.points[r(this,cn)])==null?void 0:e.time)??0}get endTime(){var e;return((e=this.points[r(this,Oe)])==null?void 0:e.time)??r(this,ar)}get durationSeconds(){return this.endTime-this.startTime}setDurationSeconds(e){m(this,ar,e)}get hasSharpTransitions(){return r(this,Yi)}}kn=new WeakMap,ar=new WeakMap,Yi=new WeakMap,cn=new WeakMap,zt=new WeakMap,De=new WeakMap,Oe=new WeakMap,Qr=new WeakSet,no=function(){const i=.02*r(this,ar);m(this,Yi,this.points.some((e,t)=>t>0&&Math.abs(e.time-this.points[t-1].time)<i))};var hn,Hr,se,dn,Qt,ur,In,Mn,Dn,xt,pe,Ki,ka,ro,rl,Yr,Ne,St,fn,il,sl,io;class ga{constructor(e,t,n,s=[],o=[0,1],a=1,l="none",c=!0){switch(v(this,pe),R(this,"nodeId"),R(this,"nodeType","default-env"),v(this,hn),v(this,Hr),v(this,se),v(this,dn),R(this,"envelopeType"),v(this,Qt,"none"),v(this,ur),v(this,In,!1),v(this,Mn,!1),v(this,Dn,1),v(this,xt,1),R(this,"addPoint",(h,f,_)=>{r(this,se).addPoint(h,f,_),r(this,Ne)&&m(this,St,!0)}),R(this,"deletePoint",h=>{r(this,se).deletePoint(h),r(this,Ne)&&m(this,St,!0)}),R(this,"updatePoint",(h,f,_)=>{r(this,se).updatePoint(h,f,_),r(this,Ne)&&m(this,St,!0)}),R(this,"updateStartPoint",(h,f)=>{r(this,se).updateStartPoint(h,f),r(this,Ne)&&m(this,St,!0)}),R(this,"updateEndPoint",(h,f)=>{r(this,se).updateEndPoint(h,f),r(this,Ne)&&m(this,St,!0)}),R(this,"getSVGPath",(h,f,_)=>r(this,se).getSVGPath(h,f,_,r(this,Qt))),R(this,"setValueRange",h=>r(this,se).setValueRange(h)),R(this,"enable",()=>m(this,ur,!0)),R(this,"disable",()=>m(this,ur,!1)),v(this,Yr,!1),v(this,Ne,!1),v(this,St,!1),v(this,fn,()=>r(this,In)&&!r(this,Yr)),R(this,"setTimeScale",h=>{m(this,xt,h),r(this,Ne)&&m(this,St,!0)}),R(this,"setLoopEnabled",(h,f="normal")=>{f!=="normal"&&console.info("Only default env loop mode implemented. Other modes coming soon!"),m(this,In,h)}),R(this,"syncToPlaybackRate",h=>{m(this,Mn,h)}),R(this,"setSustainPoint",h=>r(this,se).setSustainPoint(h)),R(this,"setReleasePoint",h=>r(this,se).setReleasePoint(h)),this.envelopeType=t,this.nodeType=t,this.nodeId=dt(this.envelopeType),m(this,hn,e),m(this,Hr,bn(this.nodeId)),t){case"amp-env":m(this,dn,"envGain");break;case"pitch-env":m(this,dn,"playbackRate");break;case"filter-env":m(this,dn,"lpf");break;case"loop-env":m(this,dn,"loopEnd"),console.warn("CustomEnvelope not implemnted for type: loop-env");break;default:console.error(`CustomEnvelope not implemented for type: ${t}`),m(this,dn,"default");break}m(this,ur,c),m(this,Qt,l),m(this,se,n||new kh([...s],o,a))}get data(){return r(this,se)}get param(){return r(this,dn)}get isEnabled(){return r(this,ur)}get points(){return r(this,se).points}get fullDuration(){return r(this,se).durationSeconds}get timeScale(){return r(this,xt)}get valueRange(){return r(this,se).valueRange}get loopEnabled(){return r(this,In)}get syncedToPlaybackRate(){return r(this,Mn)}get numPoints(){return r(this,se).points.length}setSampleDuration(e){return r(this,se).setDurationSeconds(e),this}triggerEnvelope(e,t,n={baseValue:1,playbackRate:1}){m(this,Yr,!1),m(this,Dn,n.playbackRate),r(this,In)?H(this,pe,il).call(this,e,t,n):H(this,pe,rl).call(this,e,t,n)}releaseEnvelope(e,t,n){m(this,Yr,!0);const s=this.releasePointIndex;H(this,pe,sl).call(this,e,t,s,{baseValue:e.value,playbackRate:r(this,Dn),...n})}get sustainPointIndex(){return r(this,se).sustainPointIndex}get releasePointIndex(){return r(this,se).releasePointIndex}get releasePoint(){return this.points[this.releasePointIndex]||null}get releaseTime(){const e=this.points[this.points.length-1].time-this.points[this.releasePointIndex].time;return r(this,Mn)?e/r(this,Dn)/r(this,xt):e/r(this,xt)}get sustainEnabled(){return this.sustainPoint!==null&&!this.loopEnabled}get sustainPoint(){return this.sustainPointIndex!==null?this.points[this.sustainPointIndex]:null}get currentPlaybackRate(){return r(this,Dn)}setCurrentPlaybackRate(e){m(this,Dn,e),r(this,Mn)&&r(this,Ne)&&m(this,St,!0)}onMessage(e,t){return r(this,Hr).onMessage(e,t)}sendUpstreamMessage(e,t){return r(this,Hr).sendMessage(e,t),this}hasVariation(){var e;const t=((e=this.points[0])==null?void 0:e.value)??0;return this.points.some(n=>Math.abs(n.value-t)>.001)}static getDefaults(e,t=1){switch(e){case"amp-env":return{points:[{time:0,value:0,curve:"exponential"},{time:.005,value:1,curve:"exponential"},{time:.67,value:.75,curve:"exponential"},{time:t-.1,value:.5,curve:"exponential"},{time:t,value:0,curve:"exponential"}],paramValueRange:[0,1],scaling:"exponential",initEnable:!0,sustainPointIndex:2,releasePointIndex:3};case"pitch-env":return{points:[{time:0,value:.5,curve:"exponential"},{time:t,value:.5,curve:"exponential"}],paramValueRange:[.5,1.5],scaling:"none",initEnable:!1,sustainPointIndex:null,releasePointIndex:1};case"filter-env":return{points:[{time:0,value:2e3,curve:"exponential"},{time:.05,value:18e3,curve:"exponential"},{time:t,value:500,curve:"exponential"}],paramValueRange:[20,2e4],scaling:"logarithmic",initEnable:!1,sustainPointIndex:null,releasePointIndex:2};default:return{points:[{time:0,value:0,curve:"linear"},{time:t,value:1,curve:"linear"}],paramValueRange:[0,1],scaling:"none",initEnable:!0,sustainPointIndex:null,releasePointIndex:1}}}dispose(){m(this,In,!1),Lt(this.nodeId)}}hn=new WeakMap,Hr=new WeakMap,se=new WeakMap,dn=new WeakMap,Qt=new WeakMap,ur=new WeakMap,In=new WeakMap,Mn=new WeakMap,Dn=new WeakMap,xt=new WeakMap,pe=new WeakSet,Ki=function(i,e,t=1,n=1){if(i<0||e>=this.points.length||i>=e)return 0;const s=this.points[i].time;let o=this.points[e].time-s;return r(this,Mn)&&(o=o/t),o/n},ka=function(i){return r(this,Qt)==="logarithmic"?i<1?1e3:750:r(this,se).hasSharpTransitions?1e3:i<1?500:250},ro=function(i,e=this.fullDuration,t){const n=H(this,pe,ka).call(this,i),s=Math.max(2,Math.floor(i*n)),o=new Float32Array(s),{baseValue:a,minValue:l,maxValue:c}=t;r(this,Qt)==="logarithmic"&&(console.log("=== Curve Generation Debug ==="),console.log("Value range:",this.valueRange),console.log("Scaling:",r(this,Qt)),console.log("Num samples:",s));for(let h=0;h<s;h++){const f=h/(s-1)*e;let _=r(this,se).interpolateValueAtTime(f);if(h<3&&r(this,Qt)==="logarithmic"&&console.log(`Sample ${h}: interpolated=${_}`),r(this,Qt)==="logarithmic"){const[y,u]=this.valueRange,b=(_-y)/(u-y);h<3&&console.log(`  normalized=${b}`);const $=Math.log2(Math.max(.1,y)),k=Math.log2(u);_=Math.pow(2,$+b*(k-$)),h<3&&(console.log(`  logMin=${$}, logMax=${k}`),console.log(`  final=${_}`))}t.baseValue!==1&&(_=_*t.baseValue),l!==void 0&&(_=Math.max(_,l)),c!==void 0&&(_=Math.min(_,c)),o[h]=H(this,pe,io).call(this,_)}return o},rl=function(i,e,t){var n;const s=this.sustainEnabled?this.sustainPointIndex??this.points.length-1:this.points.length-1,o=H(this,pe,Ki).call(this,0,s,t.playbackRate,r(this,xt)),a=H(this,pe,ro).call(this,o,this.sustainEnabled?((n=this.sustainPoint)==null?void 0:n.time)??this.fullDuration:this.fullDuration,t);t.voiceId!==void 0&&this.sendUpstreamMessage(`${this.envelopeType}:trigger`,{voiceId:t.voiceId,midiNote:t.midiNote||60,duration:o,sustainEnabled:this.sustainEnabled,loopEnabled:!1,sustainPoint:this.sustainPoint,releasePoint:this.releasePoint});const l=Math.max(r(this,hn).currentTime,e);try{i.cancelScheduledValues(l),i.setValueAtTime(a[0],l),this.envelopeType==="filter-env"&&(console.log("Current:",i.value,"First point:",a[0]),console.log("First point value:",this.points[0].value),console.log("All points:",this.points)),i.setValueCurveAtTime(a,l,o)}catch{console.debug("Failed to apply envelope curve due to rapid fire.");try{const c=i.value;i.cancelScheduledValues(l),i.setValueAtTime(c,l),i.linearRampToValueAtTime(a[a.length-1],l+o)}catch{try{i.setValueAtTime(a[a.length-1],l)}catch{}}}},Yr=new WeakMap,Ne=new WeakMap,St=new WeakMap,fn=new WeakMap,il=function(i,e,t){if(!r(this,fn).call(this)){m(this,Ne,!1);return}let n=H(this,pe,Ki).call(this,r(this,se).startPointIndex,r(this,se).endPointIndex,t.playbackRate,r(this,xt)),s=H(this,pe,ro).call(this,n,this.fullDuration,t);t.voiceId!==void 0&&this.sendUpstreamMessage(`${this.envelopeType}:trigger`,{voiceId:t.voiceId,midiNote:t.midiNote||60,duration:n,sustainEnabled:!1,loopEnabled:!0,sustainPoint:this.sustainPoint,releasePoint:this.releasePoint});let o=Math.max(r(this,hn).currentTime,e);const a=Math.max(.15,Math.min(n*3,.5)),l=.005;let c=0,h=0;m(this,Ne,!0);let f=!1,_=null;const y=()=>{if(!r(this,fn).call(this)){m(this,Ne,!1);return}if(_!==null&&(clearTimeout(_),_=null),!f){f=!0;try{for(r(this,St)&&(n=H(this,pe,Ki).call(this,r(this,se).startPointIndex,r(this,se).endPointIndex,t.playbackRate,r(this,xt)),s=H(this,pe,ro).call(this,n,this.fullDuration,t));o<r(this,hn).currentTime+a&&o>=c;){if(!r(this,fn).call(this)){m(this,Ne,!1);return}const u=n-l;try{i.setValueCurveAtTime(s,o,u)}catch{h++,h>=100&&(console.debug(`Multiple curve overlaps in looping envelope, nr of overlaps: ${h} 
                (loop duration: ${n.toFixed(3)}s, buffer: ${l})`),h=0)}if(o+=n+l,c=o,t.voiceId!==void 0){const b=r(this,hn).getOutputTimestamp();if(b.contextTime!==void 0&&b.performanceTime!==void 0){const $=o-b.contextTime,k=b.performanceTime+$*1e3,A=Math.max(0,k-performance.now());setTimeout(()=>{if(!r(this,fn).call(this)){m(this,Ne,!1);return}this.sendUpstreamMessage(`${this.envelopeType}:trigger:loop`,{voiceId:t.voiceId,midiNote:t.midiNote||60,duration:n})},A)}else{if(!r(this,fn).call(this)){m(this,Ne,!1);return}this.sendUpstreamMessage(`${this.envelopeType}:trigger:loop`,{voiceId:t.voiceId,midiNote:t.midiNote||60,duration:n})}}}_=setTimeout(()=>{if(!r(this,fn).call(this)){m(this,Ne,!1);return}y()},100)}finally{f=!1}}};y()},sl=function(i,e,t,n){const{baseValue:s=1}=n,o=this.points[t],a=this.points[this.points.length-1],l=Math.max(r(this,hn).currentTime,e),c=a.time-o.time,h=H(this,pe,Ki).call(this,t,this.points.length-1,n.playbackRate,r(this,xt));if(h<=1e-4)return;const f=i.value,_=H(this,pe,io).call(this,r(this,se).interpolateValueAtTime(a.time)),y=H(this,pe,ka).call(this,h),u=Math.max(2,Math.floor(h*y)),b=new Float32Array(u);for(let k=0;k<u;k++){const A=k/(u-1),C=o.time+A*c;b[k]=H(this,pe,io).call(this,r(this,se).interpolateValueAtTime(C))}const $=this.points[this.releasePointIndex];n.voiceId!==void 0&&this.sendUpstreamMessage(`${this.envelopeType}:release`,{voiceId:n.voiceId,midiNote:n.midiNote||60,releasePoint:{normalizedTime:$.time/this.fullDuration,value:$.value},remainingDuration:h});try{i.cancelScheduledValues(l),i.setValueAtTime(f,l);const k=new Float32Array(b.length);for(let A=0;A<b.length;A++){const C=A/(b.length-1);k[A]=f+C*(b[A]-f)}i.setValueCurveAtTime(k,l,h)}catch{try{i.cancelScheduledValues(l),i.setValueAtTime(f,l),i.linearRampToValueAtTime(_,l+h)}catch(k){console.warn("Fallback linear ramp also failed:",k);try{i.setValueAtTime(_,l)}catch(A){console.warn("All AudioParam operations failed:",A)}}}},io=function(i){const[e,t]=r(this,se).valueRange;return Math.max(e,Math.min(t,i))};function ya(i,e,t={}){const{durationSeconds:n=2,points:s,sustainPointIndex:o,releasePointIndex:a,paramValueRange:l,scaling:c,initEnable:h,sharedData:f}=t;if(f)return new ga(i,e,f);const _=ga.getDefaults(e,n),y=s||_.points;let u=l||_.paramValueRange;const b=h!==void 0?h:_.initEnable,$=o!==void 0?o:_.sustainPointIndex,k=a!==void 0?a:_.releasePointIndex,A=c||_.scaling,C=new ga(i,e,void 0,y,u,n,A,b);return C.setSustainPoint($),k&&C.setReleasePoint(k),C}class ol{constructor(){R(this,"timers",new Map)}debounce(e,t,n){return(...s)=>{this.timers.has(e)&&clearTimeout(this.timers.get(e)),this.timers.set(e,setTimeout(()=>{t(...s),this.timers.delete(e)},n))}}cancel(e){this.timers.has(e)&&(clearTimeout(this.timers.get(e)),this.timers.delete(e))}}var ot,Ce,Zi,lr,Ht,Xi,Zr,vi,al,ul,Ra;class Cu{constructor(e,t){v(this,vi),R(this,"nodeType","macro"),R(this,"nodeId"),v(this,ot),v(this,Ce),v(this,Zi),v(this,lr),v(this,Ht,""),v(this,Xi,!1),R(this,"descriptor"),v(this,Zr,0),v(this,Ra,(n,s,o,a,l)=>{console.debug("adjusting param: ",r(this,Ht),"targetValue",n,"constant",s,"targetPeriod",o,"quantizedPeriod",a,"result",l)}),this.descriptor=t,m(this,ot,new Ia(e,t.defaultValue)),m(this,Ce,new Ih),m(this,Zi,new ol),m(this,lr,bn(r(this,ot).nodeId)),this.nodeId=r(this,ot).nodeId,m(this,Xi,!0)}addTarget(e,t,n=1){return r(this,Ht)||m(this,Ht,t),oe(t===r(this,Ht),"Macros only support a single ParamType"),r(this,ot).addTarget(e,n),this}ramp(e,t,n,s={}){if(e===r(this,Zr))return this;m(this,Zr,e);const{method:o="exponential",debounceMs:a=20,onComplete:l,onCompleteDelayMs:c=30}=s,h=()=>{let f=H(this,vi,al).call(this,e,n);r(this,ot).ramp(f,t,o,!0),l&&setTimeout(l,t*1e3+c)};return a===0?h():r(this,Zi).debounce(this.nodeId,h,a)(),this}debugProcessVal(e,t,n){console.log("MacroParam.#processValue input:",{value:e,constant:t,targetPeriod:n,hasValueSnapping:r(this,Ce).hasValueSnapping,hasPeriodSnapping:r(this,Ce).hasPeriodSnapping,longestPeriod:r(this,Ce).longestPeriod})}setAllowedParamValues(e,t){return r(this,Ce).setAllowedValues(e,t)}setAllowedPeriods(e,t,n=!1){return r(this,Ce).setAllowedPeriods(e,t,n)}setScale(e){const{rootNote:t,scale:n,tuningOffset:s=0,lowestOctave:o=0,highestOctave:a=8}=e,l=Array.isArray(n)?n:zu[n];return r(this,Ce).setScale(t,l,s,o,a,e.normalize,e.snapToZeroCrossings)}setValue(e,t){return r(this,ot).setValue(e,t),H(this,vi,ul).call(this,e),m(this,Zr,e),this}getValue(){return r(this,ot).value}get targets(){return r(this,ot).targets}get snapper(){return r(this,Ce)}get isReady(){return r(this,Xi)}get now(){throw new Error("Not implemented")}get audioParam(){return r(this,ot).param}get type(){return r(this,Ht)}get longestPeriod(){return r(this,Ce).longestPeriod}onChange(e){return this.onMessage("value:changed",e)}onMessage(e,t){return r(this,lr).onMessage(e,t)}sendMessage(e,t){r(this,lr).sendMessage(e,t)}dispose(){r(this,ot).dispose()}connect(e,t,n){return this.addTarget(e,t,n),this}disconnect(e){throw new Error("Not implemented")}}ot=new WeakMap,Ce=new WeakMap,Zi=new WeakMap,lr=new WeakMap,Ht=new WeakMap,Xi=new WeakMap,Zr=new WeakMap,vi=new WeakSet,al=function(i,e){if(!Number.isFinite(i)||!Number.isFinite(e))return i;const t=Math.abs(i-e);if(r(this,Ce).hasPeriodSnapping&&t<r(this,Ce).longestPeriod){const n=r(this,Ce).snapToMusicalPeriod(t);let s;if(r(this,Ht)==="loopEnd"&&(s=e+n),r(this,Ht)==="loopStart"&&(s=Math.max(0,e-n),s>=e-.001)){const o=r(this,Ce).periods.filter(a=>a<n);if(o.length>0){const a=Math.max(...o);s=e-a}else s=Math.max(0,e-.001)}if(s!==void 0)return s}else if(r(this,Ce).hasValueSnapping)return r(this,Ce).snapToValue(i);return i},ul=function(i){r(this,lr).sendMessage("value:changed",{value:i})},Ra=new WeakMap;var On,kt,Xr,Wi;const qi=class Hl{constructor(e,t=Hl.MIN_EXPONENTIAL_RAMP_VALUE){R(this,"nodeId"),v(this,On),v(this,kt),v(this,Xr,[]),v(this,Wi,!1),m(this,On,e),this.nodeId=dt("audio-param-controller"),m(this,kt,e.createConstantSource()),r(this,kt).start(),r(this,kt).offset.setValueAtTime(t,e.currentTime),m(this,Wi,!0)}addTarget(e,t=1){if(t===1)r(this,kt).connect(e),r(this,Xr).push({param:e});else{const n=new GainNode(r(this,On),{gain:t});r(this,kt).connect(n),n.connect(e),r(this,Xr).push({param:e,scaler:n})}return this}ramp(e,t,n="exponential",s=!0){const o=r(this,On).currentTime;s&&this.param.cancelScheduledValues(o);const a=this.param.value;if(this.param.setValueAtTime(a,o),n==="exponential"){const l=Math.max(e,Hl.MIN_EXPONENTIAL_RAMP_VALUE);this.param.exponentialRampToValueAtTime(l,o+t)}else this.param.linearRampToValueAtTime(e,o+t);return this}setValue(e,t=this.now,n=!0){return n&&this.param.cancelScheduledValues(t),this.param.setValueAtTime(e,t),this}get targets(){return r(this,Xr)}get context(){return r(this,On)}get now(){return r(this,On).currentTime}get param(){return r(this,kt).offset}get value(){return this.param.value}get isReady(){return r(this,Wi)}dispose(){r(this,kt).stop(),r(this,kt).disconnect(),Lt(this.nodeId)}};On=new WeakMap,kt=new WeakMap,Xr=new WeakMap,Wi=new WeakMap,R(qi,"MIN_EXPONENTIAL_RAMP_VALUE",1e-6);let Ia=qi;const Nu=(i,e)=>{const{from:t,to:n}=e,[s,o]=t,[a,l]=n,c=(l-a)/(o-s);if(Array.isArray(i))return i.map(h=>{const f=Math.max(s,Math.min(o,h));return a+(f-s)*c});{const h=Math.max(s,Math.min(o,i));return a+(h-s)*c}};var cr,$e,Wr,Fa;class Ih{constructor(){v(this,Fa),v(this,cr,[]),v(this,$e,[]),v(this,Wr,0),R(this,"paramType",null)}setScale(e,t,n=0,s=0,o=8,a,l=!1){const c=[...t];let h=Nc(e,c,s,o).periodsInSec.sort((f,_)=>f-_);return n!==0&&(h=Rc(h,-n)),this.setAllowedPeriods(h,a,l)}setAllowedPeriods(e,t,n=!1,s="any"){let o=t?Nu([...e],t):e;return m(this,$e,[...o].sort((a,l)=>a-l)),m(this,Wr,r(this,$e).length-1),r(this,$e)}snapToValue(e,t=r(this,cr),n,s="any"){if(t.length===0)return e;if(n===void 0)return $s(t,e);const o=t.filter(a=>Math.abs(a-e)<=n);if(o.length>0)return $s(o,e,s);if(n!==void 0){const a=$s(t,e,s),l=Math.sign(a-e);return e+l*n}return e}snapToMusicalPeriod(e,t=r(this,$e)){if(t.length===0||e>this.longestPeriod)return e;if(e<=this.shortestPeriod)return this.shortestPeriod;const n=r(this,$e)[r(this,Wr)];if(e===n)return e;const s=e>n?"right":"left",o=$s(t,e,s);return m(this,Wr,r(this,$e).indexOf(o)),o}setAllowedValues(e,t){const n=t?Nu(e,t):e;return m(this,cr,[...n].sort((s,o)=>s-o)),r(this,cr)}get periods(){return r(this,$e)}get shortestPeriod(){return r(this,$e)[0]}get longestPeriod(){const e=r(this,$e).length-1;return r(this,$e)[e]}get hasValueSnapping(){return r(this,cr).length>0}get hasPeriodSnapping(){return r(this,$e).length>0}}cr=new WeakMap,$e=new WeakMap,Wr=new WeakMap,Fa=new WeakSet;const ll=i=>Math.floor(i/2-1e3),Ma=ll(48e3),Ru=10,Dh=100,Oh=Ma,Fu=10,Qe={PLAYBACK_RATE:{nodeId:"playback-rate",name:"playback-rate",dataType:"number",minValue:-4,maxValue:4,step:1e-4,defaultValue:1,group:"pitch",automationRate:"k-rate"},ATTACK:{nodeId:"attack-time",name:"attack-time",dataType:"number",minValue:0,maxValue:5,step:.001,defaultValue:.01,group:"amp-env",automationRate:"k-rate"},RELEASE:{nodeId:"release-time",name:"release-time",dataType:"number",minValue:0,maxValue:5,step:.001,defaultValue:.05,group:"amp-env",automationRate:"k-rate"},LOOP_START:{nodeId:"loop-start",name:"loop-start",dataType:"number",minValue:0,maxValue:9999,step:.001,defaultValue:0,group:"loop-points",automationRate:"k-rate"},LOOP_END:{nodeId:"loop-end",name:"loop-end",dataType:"number",minValue:0,maxValue:9999,step:.001,defaultValue:9999,group:"loop-points",automationRate:"k-rate"},LOOP_RAMP_DURATION:{nodeId:"loop-point-ramp",name:"loop-point-ramp",dataType:"number",minValue:.001,maxValue:1,step:.001,defaultValue:.5,group:"loop-points",automationRate:"k-rate"},START_POINT:{nodeId:"start-point",name:"start-point",dataType:"number",minValue:0,maxValue:9999,step:.001,defaultValue:0,group:"trim-sample",automationRate:"k-rate"},END_POINT:{nodeId:"end-point",name:"end-point",dataType:"number",minValue:0,maxValue:9999,step:.001,defaultValue:9999,group:"trim-sample",automationRate:"k-rate"},LOWPASS_CUTOFF:{nodeId:"lpf-freq",name:"lpf-freq",dataType:"number",minValue:Ru,maxValue:Ma,step:Fu,defaultValue:Oh,group:"filter:lpf",automationRate:"k-rate"},HIGHPASS_CUTOFF:{nodeId:"hpf-freq",name:"hpf-freq",dataType:"number",minValue:Ru,maxValue:Ma,step:Fu,defaultValue:Dh,group:"filter:hpf",automationRate:"k-rate"}};var Ji,It,pn,Jr;class Vu{constructor(e){v(this,Ji),v(this,It),v(this,pn),v(this,Jr,new Set),m(this,Ji,e),m(this,It,e.createOscillator()),m(this,pn,e.createGain()),r(this,It).connect(r(this,pn)),r(this,It).start()}setFrequency(e){r(this,It).frequency.value=e}setDepth(e){r(this,pn).gain.value=e}setWaveform(e){e instanceof PeriodicWave?r(this,It).setPeriodicWave(e):r(this,It).type=e}setPeriodicWave(e){r(this,It).setPeriodicWave(e)}connect(e){r(this,pn).connect(e),r(this,Jr).add(e)}disconnect(e){e?(r(this,pn).disconnect(e),r(this,Jr).delete(e)):(r(this,pn).disconnect(),r(this,Jr).clear())}setMusicalNote(e){const t=440*Math.pow(2,(e-69)/12);this.setFrequency(t)}getPitchWobbleWaveform(){const e=new Float32Array(8),t=new Float32Array(8);e[0]=0,t[0]=0;for(let n=1;n<8;n++)e[n]=Math.random()*.5,t[n]=Math.random()*.5;return r(this,Ji).createPeriodicWave(e,t,{disableNormalization:!0})}dispose(){r(this,It).stop(),this.disconnect()}}Ji=new WeakMap,It=new WeakMap,pn=new WeakMap,Jr=new WeakMap;var _i,at,hr,Yt,dr,_r;class Et{constructor(e,t,n,s={}){R(this,"nodeId"),R(this,"nodeType"),v(this,_i,!1),v(this,at),v(this,hr),v(this,Yt),v(this,dr,new Set),v(this,_r,new Set),this.nodeType=n,this.nodeId=dt(n),m(this,at,e),s.createIOGains?(m(this,hr,new GainNode(t,{gain:1})),m(this,Yt,new GainNode(t,{gain:1})),r(this,hr).connect(r(this,at)),r(this,at).connect(r(this,Yt))):(m(this,hr,e),m(this,Yt,e)),m(this,_i,!0)}connect(e){var t;const n="input"in e?e.input:e;r(this,Yt).connect(n),r(this,dr).add(e),"nodeId"in e&&((t=e.addIncoming)==null||t.call(e,this))}disconnect(e){var t;if(e){const n="input"in e?e.input:e;r(this,Yt).disconnect(n),r(this,dr).delete(e),"nodeId"in e&&((t=e.removeIncoming)==null||t.call(e,this))}else r(this,Yt).disconnect(),r(this,dr).clear()}addIncoming(e){r(this,_r).add(e)}removeIncoming(e){r(this,_r).delete(e)}get connections(){return{outgoing:Array.from(r(this,dr)),incoming:Array.from(r(this,_r))}}setParam(e,t,n=this.now){if("parameters"in r(this,at)){const o=r(this,at).parameters.get(e);if(o){o.setValueAtTime(t,n);return}}const s=r(this,at)[e];if(s!=null&&s.setValueAtTime){s.setValueAtTime(t,n);return}console.warn(`Parameter '${e}' not found on node`)}getParam(e){return r(this,at)[e]||null}get audioNode(){return r(this,at)}get input(){return r(this,hr)}get output(){return r(this,Yt)}get context(){return r(this,at).context}get now(){return r(this,at).context.currentTime}get initialized(){return r(this,_i)}dispose(){this.disconnect(),Lt(this.nodeId)}}_i=new WeakMap,at=new WeakMap,hr=new WeakMap,Yt=new WeakMap,dr=new WeakMap,_r=new WeakMap;const Ch={threshold:-13,knee:6,ratio:4,attack:.003,release:.05},Nh={threshold:-1,ratio:20,attack:.001,release:.01,knee:0};var ho,$i,fr,$r,ve,pr;const ji=class Xl{constructor(e=We()){R(this,"nodeId"),R(this,"nodeType","dattorro-reverb"),v(this,ho,!1),v(this,$i),v(this,fr,new Set),v(this,$r,new Set),v(this,ve),v(this,pr),this.nodeId=dt(this.nodeType),m(this,$i,e),m(this,ve,new AudioWorkletNode(e,"dattorro-reverb-processor",{outputChannelCount:[2]})),this.setParam("dry",0),this.setPreset("default"),m(this,pr,"default"),this.setAmountMacro(0)}connect(e){var t;const n="input"in e?e.input:e;r(this,ve).connect(n),r(this,fr).add(e),"nodeId"in e&&((t=e.addIncoming)==null||t.call(e,this))}disconnect(e){var t;if(e){const n="input"in e?e.input:e;r(this,ve).disconnect(n),r(this,fr).delete(e),"nodeId"in e&&((t=e.removeIncoming)==null||t.call(e,this))}else r(this,ve).disconnect(),r(this,fr).clear()}addIncoming(e){r(this,$r).add(e)}removeIncoming(e){r(this,$r).delete(e)}setParam(e,t,n=this.now){var s;if(!isFinite(t)){console.warn(`Skipping non-finite value for ${e}:`,t);return}if(e==="amount"){this.setAmountMacro(t);return}if(e==="diffusion"){this.setDiffusionMacro(t);return}(s=r(this,ve).parameters.get(e))==null||s.setValueAtTime(t,n)}getParam(e){return e==="diffusion"?{value:this.getDiffusionMacroValue(),setValueAtTime:(t,n)=>this.setDiffusionMacro(t)}:r(this,ve).parameters.get(e)||null}setAmountMacro(e){var t;if(e<0||e>1){console.warn("Reverb amount must be 0-1 range");return}const n=Xl.PRESETS[r(this,pr)],s=Kt(e,0,1,n.decay,.98),o=Kt(e,0,1,n.excursionRate,2),a=Kt(e,0,1,n.excursionDepth,2),l=Kt(e,0,1,n.damping,.65),c=Kt(e,0,1,n.bandwidth,.2),h=Kt(e,0,1,0,.7);this.setDiffusionMacro(h),(t=this.getParam("decay"))==null||t.setTargetAtTime(s,this.now,.1),this.setParam("excursionRate",o),this.setParam("excursionDepth",a),this.setParam("damping",l),this.setParam("bandwidth",c)}setPreset(e="default",t=.5){m(this,pr,e);const n=Xl.PRESETS[e],s=r(this,ve).context.currentTime;Object.entries(n).forEach(([o,a])=>{const l=r(this,ve).parameters.get(o);l?l.linearRampToValueAtTime(a,s+t):console.warn(`Parameter '${o}' not found in reverb node`)})}setDiffusionMacro(e){const t=Math.max(.1,e*.75),n=Math.max(.1,e*.625),s=Math.min(.7,Math.max(.1,e*.6)),o=Math.max(.2,e*.4);this.setParam("inputDiffusion1",t),this.setParam("inputDiffusion2",n),this.setParam("decayDiffusion1",s),this.setParam("decayDiffusion2",o)}getDiffusionMacroValue(){var e;return((((e=this.getParam("inputDiffusion1"))==null?void 0:e.value)??.75)-.1)/(.75-.1)}getCurrentSettings(){const e={};return Array.from(r(this,ve).parameters.keys()).forEach(t=>{var n;e[t]=((n=r(this,ve).parameters.get(t))==null?void 0:n.value)??0}),e}get audioNode(){return r(this,ve)}get context(){return r(this,$i)}get input(){return r(this,ve)}get output(){return r(this,ve)}get now(){return r(this,ve).context.currentTime}get initialized(){return r(this,ho)}get currentPreset(){return r(this,pr)}get connections(){return{outgoing:Array.from(r(this,fr)),incoming:Array.from(r(this,$r))}}get numberOfInputs(){return this.input.numberOfInputs}get numberOfOutputs(){return this.output.numberOfOutputs}get workletInfo(){return{numberOfInputs:r(this,ve).numberOfInputs,numberOfOutputs:r(this,ve).numberOfOutputs,channelCount:r(this,ve).channelCount,channelCountMode:r(this,ve).channelCountMode}}dispose(){this.disconnect(),Lt(this.nodeId)}};ho=new WeakMap,$i=new WeakMap,fr=new WeakMap,$r=new WeakMap,ve=new WeakMap,pr=new WeakMap,R(ji,"PRESETS",{room:{preDelay:1525,bandwidth:.5683,inputDiffusion1:.4666,inputDiffusion2:.5853,decay:.3226,decayDiffusion1:.6954,decayDiffusion2:.6022,damping:.6446,excursionRate:0,excursionDepth:0},church:{preDelay:0,bandwidth:.928,inputDiffusion1:.7331,inputDiffusion2:.4534,decay:.7,decayDiffusion1:.7839,decayDiffusion2:.1992,damping:.5975,excursionRate:0,excursionDepth:0},freeze:{preDelay:0,bandwidth:.999,inputDiffusion1:.75,inputDiffusion2:.625,decay:1,decayDiffusion1:.5,decayDiffusion2:.711,damping:.005,excursionRate:.3,excursionDepth:1.4},ether:{preDelay:0,bandwidth:.999,inputDiffusion1:.23,inputDiffusion2:.667,decay:.45,decayDiffusion1:.7,decayDiffusion2:.5,damping:.3,excursionRate:.85,excursionDepth:1.2},default:{preDelay:100,bandwidth:.9,inputDiffusion1:.4,inputDiffusion2:.55,decay:.2,decayDiffusion1:.65,decayDiffusion2:.6,damping:.2,excursionRate:.5,excursionDepth:.5}});let Da=ji;class qa extends AudioWorkletNode{constructor(e,t){super(e,t)}setParam(e,t){var n;return(n=this.parameters.get(e))==null||n.setValueAtTime(t,this.context.currentTime),this}getParam(e){return this.parameters.get(e)}sendProcessorMessage(e){return this.port.postMessage(e),this}onProcessorMessage(e){return this.port.onmessage=e,this}dispose(){this.disconnect()}}function Rh(i){return new qa(i,"feedback-delay-processor")}function Fh(i){return new qa(i,"distortion-processor")}var es,ei,Ye,mr,Zt,Mt,Xt,gr,ti,ni,ts,fo,po,mo,ns;class cl{constructor(e=We()){R(this,"nodeId"),R(this,"nodeType","karplus-effect"),v(this,es,!1),v(this,ei),v(this,Ye),v(this,mr),v(this,Zt),v(this,Mt),v(this,Xt),v(this,gr,new Set),v(this,ti,new Set),v(this,ni),v(this,ts,.5),v(this,fo,.95),v(this,po,.999),v(this,mo,95556e-8),v(this,ns,.0004774632),this.nodeId=dt(this.nodeType),m(this,ei,e),m(this,Ye,Rh(e)),m(this,mr,new GainNode(e,{gain:1})),m(this,Zt,new GainNode(e,{gain:1})),m(this,Mt,new GainNode(e,{gain:0})),m(this,Xt,new GainNode(e,{gain:1})),r(this,mr).connect(r(this,Mt)),r(this,Mt).connect(r(this,Ye)),r(this,Ye).connect(r(this,Zt)),r(this,mr).connect(r(this,Xt)),r(this,Xt).connect(r(this,Zt));const t=this.setPitch(60);m(this,ni,t),m(this,es,!0)}trigger(e,t={}){const{secondsFromNow:n=0,cents:s=0,velocity:o=100,glideTime:a=0}=t,l=this.now+n;return this.setPitch(e,s,l,a),this}setMix(e){const t=this.now;if(e.dry!==void 0){const n=Math.max(0,Math.min(1,e.dry));r(this,Xt).gain.setValueAtTime(n,t)}if(e.wet!==void 0){const n=Math.max(0,Math.min(1,e.wet));r(this,Mt).gain.setValueAtTime(n,t)}return this}setAmountMacro(e){const t=ht(e,0,1);return r(this,Mt).gain.setValueAtTime(e,this.now),this.setFeedback(t),this}setPitch(e,t=0,n=this.now,s=0){const o=440*Math.pow(2,(e-69)/12),a=1/(t!==0?o*Math.pow(2,t/1200):o),l=r(this,mo),c=Math.max(l,a);return this.setDelay(c,n,s),c}setDelay(e,t=this.now,n=0){m(this,ni,e);const s=e*r(this,ts),o=ht(s,r(this,ns),4);return n===0||!isFinite(n)?(this.getParam("delayTime").setValueAtTime(o,t),this):(this.getParam("delayTime").linearRampToValueAtTime(o,t+n),this)}setDelayMultiplier(e,t=this.now,n=.75){if(typeof e!="number"||!isFinite(e)){console.warn("setDelayMultiplier:Invalid multiplier:",e);return}const s=Kt(e,1,4,.5,2),o=this.getParam("delayTime");m(this,ts,s);const a=ht(s*r(this,ni),r(this,ns),4);return n===0||!isFinite(n)?(o.setValueAtTime(a,t),this):(o.setTargetAtTime(a,t,n/3),this)}setFeedback(e,t=this.now){const n=Kt(e,0,1,r(this,fo),r(this,po),{warn:!0});return r(this,Ye).parameters.get("feedbackAmount").setValueAtTime(n,t),this}setAutoGain(e,t=.965){return r(this,Ye).port.postMessage({type:"setAutoGain",enabled:e,amount:t}),this}connect(e){var t;const n="input"in e?e.input:e;r(this,Zt).connect(n),r(this,gr).add(e),"nodeId"in e&&((t=e.addIncoming)==null||t.call(e,this))}disconnect(e){var t;if(e){const n="input"in e?e.input:e;r(this,Zt).disconnect(n),r(this,gr).delete(e),"nodeId"in e&&((t=e.removeIncoming)==null||t.call(e,this))}else r(this,Zt).disconnect(),r(this,gr).clear()}addIncoming(e){r(this,ti).add(e)}removeIncoming(e){r(this,ti).delete(e)}setParam(e,t,n=this.now){var s;switch(e){case"feedback":this.setFeedback(t,n);break;case"delayTime":this.setDelay(t,n);break;case"wetAmount":r(this,Mt).gain.setValueAtTime(ht(t,0,1),n);break;case"dryAmount":r(this,Xt).gain.setValueAtTime(ht(t,0,1),n);break;case"amount":this.setAmountMacro(t);break;default:(s=r(this,Ye).parameters.get(e))==null||s.setValueAtTime(t,n);break}}getParam(e){switch(e){case"wetAmount":return r(this,Mt).gain;case"dryAmount":return r(this,Xt).gain;default:return r(this,Ye).parameters.get(e)||null}}get audioNode(){return r(this,Ye)}get context(){return r(this,ei)}get now(){return r(this,ei).currentTime}get input(){return r(this,mr)}get output(){return r(this,Zt)}get connections(){return{outgoing:Array.from(r(this,gr)),incoming:Array.from(r(this,ti))}}get mix(){return{dry:r(this,Xt).gain.value,wet:r(this,Mt).gain.value}}get initialized(){return r(this,es)}get numberOfInputs(){return this.input.numberOfInputs}get numberOfOutputs(){return this.output.numberOfOutputs}get workletInfo(){return{numberOfInputs:r(this,Ye).numberOfInputs,numberOfOutputs:r(this,Ye).numberOfOutputs,channelCount:r(this,Ye).channelCount,channelCountMode:r(this,Ye).channelCountMode}}dispose(){this.disconnect(),Lt(this.nodeId)}}es=new WeakMap,ei=new WeakMap,Ye=new WeakMap,mr=new WeakMap,Zt=new WeakMap,Mt=new WeakMap,Xt=new WeakMap,gr=new WeakMap,ti=new WeakMap,ni=new WeakMap,ts=new WeakMap,fo=new WeakMap,po=new WeakMap,mo=new WeakMap,ns=new WeakMap;var rs,ie,Va,Pe,be,yr,ri,Dt,is,go,hl,Ot;class Vh{constructor(e){v(this,go),R(this,"nodeId"),R(this,"nodeType","InstrumentBus"),v(this,rs),v(this,ie),v(this,Va,null),v(this,Pe,new Map),v(this,be,new Map),v(this,yr,new Set),v(this,ri,new Set),v(this,Dt,new Map),v(this,is,!1),v(this,Ot,null),this.nodeId=dt(this.nodeType),m(this,ie,e||We()),m(this,rs,bn(this.nodeId)),H(this,go,hl).call(this),m(this,is,!0)}addNode(e,t,n="effect"){return r(this,Pe).set(e,{node:t,type:n}),r(this,be).set(e,[]),this}addEffect(e,t){this.addNode(e,t,"effect");const n=new Et(new GainNode(r(this,ie),{gain:0}),r(this,ie),"gain");this.addNode(`${e}_send`,n,"gain");const s=new Et(new GainNode(r(this,ie),{gain:1}),r(this,ie),"gain");return this.addNode(`${e}_bypass`,s,"gain"),r(this,Dt).set(e,{send:n.audioNode,bypass:s.audioNode,enabled:!1}),this}connectFromTo(e,t){var n,s;const o=(n=r(this,Pe).get(e))==null?void 0:n.node,a=(s=r(this,Pe).get(t))==null?void 0:s.node;if(!o||!a)return console.warn(`Cannot connect ${e} -> ${t}: node not found`),this;o.connect(a);const l=r(this,be).get(e)||[];return l.includes(t)||(l.push(t),r(this,be).set(e,l)),this}connectSend(e,t,n,s=0){var o,a,l,c;const h=(o=r(this,Pe).get(e))==null?void 0:o.node,f=(a=r(this,Pe).get(t))==null?void 0:a.node,_=(l=r(this,Pe).get(n))==null?void 0:l.node,y=(c=r(this,Pe).get(`${t}_send`))==null?void 0:c.node;if(!h||!f||!_||!y)return console.warn("Cannot setup send routing: missing nodes"),this;h.connect(y),y.connect(f),f.connect(_),y.setParam("gain",s);const u=r(this,be).get(e)||[];u.includes(`${t}_send`)||(u.push(`${t}_send`),r(this,be).set(e,u));const b=r(this,be).get(`${t}_send`)||[];b.includes(t)||(b.push(t),r(this,be).set(`${t}_send`,b));const $=r(this,be).get(t)||[];return $.includes(n)||($.push(n),r(this,be).set(t,$)),this}disconnectFromTo(e,t){var n,s;const o=(n=r(this,Pe).get(e))==null?void 0:n.node;if(!o)return this;if(t){const a=(s=r(this,Pe).get(t))==null?void 0:s.node;if(a){o.disconnect(a);const l=r(this,be).get(e)||[],c=l.indexOf(t);c>-1&&(l.splice(c,1),r(this,be).set(e,l))}}else o.disconnect(),r(this,be).set(e,[]);return this}removeNode(e){if(r(this,Pe).get(e)){this.disconnectFromTo(e);for(const[t,n]of r(this,be)){const s=n.indexOf(e);s>-1&&(n.splice(s,1),r(this,be).set(t,n))}r(this,Pe).delete(e),r(this,be).delete(e),r(this,Dt).delete(e)}return this}getNode(e){var t;return((t=r(this,Pe).get(e))==null?void 0:t.node)||null}getEffect(e){return this.getNode(e)}send(e,t){var n;const s=(n=r(this,Pe).get(`${e}_send`))==null?void 0:n.node;if(s){const o=Math.max(0,Math.min(1,t));s.setParam("gain",o)}return this}setEffectEnabled(e,t){const n=r(this,Dt).get(e);if(n){if(n.enabled=t,n.send){const s=n.send.gain.value;n.send.gain.setValueAtTime(t?s:0,this.now)}n.bypass&&n.bypass.gain.setValueAtTime(t?0:1,this.now)}return this}noteOn(e,t=100,n=0,s=0){const o=this.getEffect("karplus");return o&&o.trigger&&o.trigger(e,{velocity:t,secondsFromNow:n,glideTime:s}),this}setDryWetMix(e){const t=this.getNode("dryMix"),n=this.getNode("wetMix");if(t&&e.dry!==void 0){const s=Math.max(0,Math.min(1,e.dry));t.setParam("gain",s)}if(n&&e.wet!==void 0){const s=Math.max(0,Math.min(1,e.wet));n.setParam("gain",s)}return this}setReverbAmount(e){this.send("reverb",e);const t=this.getEffect("reverb");return t&&t.setAmountMacro&&t.setAmountMacro(e),this}setReverbDecay(e){const t=this.getEffect("reverb");return t&&t.setParam("decay",e),this}setDrive(e){const t=this.getEffect("distortion");return t&&t.setParam("distortionDrive",e),this}setClippingMacro(e){const t=this.getNode("distortion");if(t){const n=ht(e,0,1);t.setParam("clippingAmount",n);const s=Kt(n,0,1,.5,.1);t.setParam("clippingThreshold",s)}return this}setClippingMode(e){const t=this.getEffect("distortion");t instanceof qa&&t.sendProcessorMessage({type:"setLimitingMode",mode:e})}setFeedbackPitchScale(e){const t=this.getEffect("karplus");return t&&t.setDelayMultiplier&&t.setDelayMultiplier(e),this}setKarplusAmount(e){const t=this.getEffect("karplus");return t&&t.setAmountMacro&&t.setAmountMacro(e),this}setHpfCutoff(e){const t=this.getNode("hpf");return t&&t.setParam("frequency",e),this}setLpfCutoff(e){const t=this.getNode("lpf");return t&&t.setParam("frequency",e),this}setCompressorParams(e){const t=this.getEffect("compressor");return t?(e.threshold!==void 0&&t.setParam("threshold",e.threshold),e.knee!==void 0&&t.setParam("knee",e.knee),e.ratio!==void 0&&t.setParam("ratio",e.ratio),e.attack!==void 0&&t.setParam("attack",e.attack),e.release!==void 0&&t.setParam("release",e.release),this):this}getRoutingMap(){const e={};for(const[t,n]of r(this,be))e[t]=[...n];return e}debugRouting(){console.log("=== Bus Routing Map ===");for(const[e,t]of r(this,be))t.length>0&&console.log(`${e} -> ${t.join(", ")}`);console.log("======================")}debugChannelCounts(){["reverb","wetMix","limiter","karplus"].forEach(e=>{const t=this.getNode(e);t&&(console.log(`${e}:`,{numberOfInputs:t.numberOfInputs||"unknown",numberOfOutputs:t.numberOfOutputs||"unknown",channelCount:t.channelCount||"unknown",channelCountMode:t.channelCountMode||"unknown"}),t.workletInfo!==void 0&&console.log(`processor info for ${e}:`,t.workletInfo))})}listNodes(){return Array.from(r(this,Pe).keys())}connect(e){var t;const n=this.getNode("output");n&&(n.connect(e),r(this,yr).add(e),"nodeId"in e&&((t=e.addIncoming)==null||t.call(e,this)))}disconnect(e){var t;const n=this.getNode("output");n&&(n.disconnect(e),e?(r(this,yr).delete(e),"nodeId"in e&&((t=e.removeIncoming)==null||t.call(e,this))):r(this,yr).clear())}addIncoming(e){r(this,ri).add(e)}removeIncoming(e){r(this,ri).delete(e)}setParam(e,t){switch(e){case"outputLevel":this.outputLevel=t;break;case"reverbAmount":this.setReverbAmount(t);break;case"karplusAmount":this.setKarplusAmount(t);break;case"drive":this.setDrive(t);break;case"hpfCutoff":this.setHpfCutoff(t);break;case"lpfCutoff":this.setLpfCutoff(t);break;default:console.warn(`Parameter '${e}' not recognized on InstrumentMasterBus`);break}}getParam(e){var t,n,s;switch(e){case"outputLevel":return((t=this.getNode("output"))==null?void 0:t.getParam("gain"))||null;case"hpfCutoff":return((n=this.getNode("hpf"))==null?void 0:n.getParam("frequency"))||null;case"lpfCutoff":return((s=this.getNode("lpf"))==null?void 0:s.getParam("frequency"))||null;default:return null}}dispose(){for(const[e]of r(this,Pe))this.disconnectFromTo(e);r(this,Pe).clear(),r(this,be).clear(),r(this,Dt).clear()}get audioNode(){return this.getNode("output")}get context(){return r(this,ie)}get connections(){return{outgoing:Array.from(r(this,yr)),incoming:Array.from(r(this,ri))}}get input(){return this.getNode("input").input}get output(){return this.getNode("output").output}get now(){return r(this,ie).currentTime}set outputLevel(e){const t=this.getNode("output");if(t){const n=Math.max(0,Math.min(1,e));t.setParam("gain",n)}}get outputLevel(){const e=this.getNode("output"),t=e==null?void 0:e.getParam("gain");return(t==null?void 0:t.value)||0}get compressorEnabled(){var e;return((e=r(this,Dt).get("compressor"))==null?void 0:e.enabled)??!1}get reverbEnabled(){var e;return((e=r(this,Dt).get("reverb"))==null?void 0:e.enabled)??!1}get karplusFxEnabled(){var e;return((e=r(this,Dt).get("karplus"))==null?void 0:e.enabled)??!1}get initialized(){return r(this,is)}get reverbSend(){var e,t;return((t=(e=r(this,Dt).get("reverb"))==null?void 0:e.send)==null?void 0:t.gain.value)||0}get dryWetMix(){var e,t;const n=this.getNode("dryMix"),s=this.getNode("wetMix");return{dry:((e=n==null?void 0:n.getParam("gain"))==null?void 0:e.value)||0,wet:((t=s==null?void 0:s.getParam("gain"))==null?void 0:t.value)||0}}startLevelMonitoring(e=1e3,t=1024,n=!1){this.stopLevelMonitoring();const s=this.getNode("input"),o=this.getNode("output");s&&o&&(m(this,Ot,new Su(r(this,ie),s.input,o.output,t)),r(this,Ot).start(e,void 0,n),console.log("Level monitoring started"))}stopLevelMonitoring(){r(this,Ot)&&(r(this,Ot).stop(),m(this,Ot,null),console.log("Level monitoring stopped"))}logLevels(){const e=this.getNode("input"),t=this.getNode("output");if(!r(this,Ot)&&e&&t){const n=new Su(r(this,ie),e.input,t.output).getLevels();console.log(`Levels: Input RMS ${n.input.rmsDB.toFixed(1)} dB | Output RMS ${n.output.rmsDB.toFixed(1)} dB`)}else if(r(this,Ot)){const n=r(this,Ot).getLevels();console.log(`Levels: Input RMS ${n.input.rmsDB.toFixed(1)} dB | Output RMS ${n.output.rmsDB.toFixed(1)} dB`)}}onMessage(e,t){return r(this,rs).onMessage(e,t)}}rs=new WeakMap,ie=new WeakMap,Va=new WeakMap,Pe=new WeakMap,be=new WeakMap,yr=new WeakMap,ri=new WeakMap,Dt=new WeakMap,is=new WeakMap,go=new WeakSet,hl=function(){const i=new Et(new GainNode(r(this,ie),{gain:.75}),r(this,ie),"gain"),e=new Et(new BiquadFilterNode(r(this,ie),{Q:.707}),r(this,ie),"filter"),t=new Et(new BiquadFilterNode(r(this,ie),{type:"highpass",Q:.5}),r(this,ie),"filter"),n=new Et(new GainNode(r(this,ie),{gain:1}),r(this,ie),"gain"),s=new Et(new GainNode(r(this,ie),{gain:1}),r(this,ie),"gain"),o=new Et(new GainNode(r(this,ie),{gain:1}),r(this,ie),"gain"),a=new Et(new DynamicsCompressorNode(r(this,ie),Ch),r(this,ie),"compressor"),l=new Et(new DynamicsCompressorNode(r(this,ie),Nh),r(this,ie),"limiter"),c=new Et(Fh(r(this,ie)),r(this,ie),"distortion"),h=new Da(r(this,ie)),f=new cl(r(this,ie));this.addNode("input",i,"gain"),this.addNode("lpf",e,"filter"),this.addNode("hpf",t,"filter"),this.addNode("dryMix",n,"gain"),this.addNode("wetMix",s,"gain"),this.addNode("output",o,"gain"),this.addEffect("compressor",a),this.addEffect("limiter",l),this.addEffect("distortion",c),this.addEffect("reverb",h),this.addEffect("karplus",f),this.connectFromTo("input","hpf"),this.connectFromTo("hpf","lpf"),this.connectFromTo("lpf","compressor"),this.connectFromTo("compressor","karplus"),this.connectFromTo("karplus","dryMix"),this.connectSend("karplus","reverb","wetMix"),this.connectFromTo("dryMix","distortion"),this.connectFromTo("wetMix","distortion"),this.connectFromTo("distortion","limiter"),this.connectFromTo("limiter","output"),this.setEffectEnabled("karplus",!0),this.setEffectEnabled("compressor",!0),this.setEffectEnabled("limiter",!0),this.setEffectEnabled("reverb",!0)},Ot=new WeakMap;function Bh(i,e){localStorage.setItem(i,e.toString())}function Kh(i,e){const t=localStorage.getItem(i);return t===null?e:typeof e=="number"?Number(t):t}class dl{constructor(e,t,n=16,s,o){R(this,"nodeId"),R(this,"nodeType"),R(this,"messages"),R(this,"keyboardHandler",null),R(this,"midiController",null),R(this,"voicePool",null),R(this,"audioContext"),R(this,"outBus"),R(this,"destination",null),R(this,"panic",a=>this.releaseAll(a)),this.nodeType=e,this.nodeId=dt(this.nodeType),this.audioContext=t,this.messages=bn(this.nodeId),this.outBus=new Vh,this.midiController=o||null}storeParamValue(e,t){const n=this.getLocalStorageKey(e);Bh(n,t)}getStoredParamValue(e,t){const n=this.getLocalStorageKey(e);return Kh(n,t)}getLocalStorageKey(e){return`${e}-${this.nodeId}`}onMessage(e,t){return this.messages.onMessage(e,t)}sendUpstreamMessage(e,t){return this.messages.sendMessage(e,t),this}enableKeyboard(){return this.keyboardHandler||(this.keyboardHandler={onNoteOn:this.play.bind(this),onNoteOff:this.release.bind(this),onBlur:this.handleBlur.bind(this),onModifierChange:this.handleModifierKeys.bind(this)},vn.addHandler(this.keyboardHandler)),this}disableKeyboard(){return this.keyboardHandler&&(vn.removeHandler(this.keyboardHandler),this.keyboardHandler=null),this}async enableMIDI(e,t=0){return e||(e=new yi,await e.initialize()),e.isInitialized&&(this.midiController=e,e.connectInstrument(this,t)),this}disableMIDI(e,t=0){const n=e||this.midiController;return n==null||n.disconnectInstrument(t),n===this.midiController&&(this.midiController=null),this}handleBlur(){return this.panic(),this}handleModifierKeys(e){return this}connect(e){return oe(e instanceof AudioNode,"remember to fix this"),this.outBus.connect(e),this.destination=e,e}disconnect(){return this.outBus.disconnect(),this.destination=null,this}get now(){return this.audioContext.currentTime}dispose(){this.panic(0),this.disconnect(),this.disableKeyboard(),this.disableMIDI(),this.audioContext=null,this.messages=null,this.keyboardHandler&&(vn.removeHandler(this.keyboardHandler),this.keyboardHandler=null)}}const Me={NOT_READY:"NOT_READY",LOADED:"LOADED",PLAYING:"PLAYING",RELEASING:"RELEASING",STOPPING:"STOPPING",STOPPED:"STOPPED"};var Cn,ii,je,vr,we,ss,Ge,os,si,ue,as,us,Nn,Ct,Nt,ls,yo,cs,vo,nn,fl,pl,mn,ml,gl;class Lh{constructor(e=We(),t,n={}){v(this,nn),R(this,"nodeId"),R(this,"nodeType","sample"),v(this,Cn,null),v(this,ii),v(this,je),v(this,vr),v(this,we,Me.NOT_READY),v(this,ss,!1),v(this,Ge,null),v(this,os,-1),v(this,si,0),v(this,ue,new Map),R(this,"feedback"),v(this,as,.1),v(this,us,0),v(this,Nn),v(this,Ct,null),v(this,Nt,null),v(this,ls,40),v(this,yo,.707),v(this,cs,18e3),v(this,vo,.707),R(this,"logAvailableParams",()=>{console.table("Available worklet params:",Array.from(r(this,je).parameters.keys()))}),v(this,mn,null),R(this,"enableEnvelope",s=>{var o;(o=r(this,ue).get(s))==null||o.enable()}),R(this,"disableEnvelope",s=>{var o;if((o=r(this,ue).get(s))==null||o.disable(),s==="filter-env"&&r(this,Nn)){const a=this.getParam("lpf");a==null||a.cancelScheduledValues(this.now),a==null||a.exponentialRampToValueAtTime(ll(this.context.sampleRate),this.now+.1)}}),R(this,"setEnvelopeTimeScale",(s,o)=>{var a;(a=r(this,ue).get(s))==null||a.setTimeScale(o)}),R(this,"setEnvelopeSustainPoint",(s,o)=>{const a=r(this,ue).get(s);a!=null&&a.isEnabled&&a.setSustainPoint(o)}),R(this,"setEnvelopeReleasePoint",(s,o)=>{const a=r(this,ue).get(s);a!=null&&a.isEnabled&&a.setReleasePoint(o)}),R(this,"getEnvelope",s=>r(this,ue).get(s)),R(this,"setStartPoint",(s,o=this.now)=>{this.setParam("startPoint",s,o)}),R(this,"setEndPoint",(s,o=this.now)=>{this.setParam("endPoint",s,o)}),R(this,"setAttack",s=>{console.info("setAttack called, to be replaced with envelope")}),R(this,"setRelease",s=>{m(this,as,s),console.info("setRelease called, to be replaced with envelope")}),R(this,"setEnvelopeLoop",(s,o,a="normal")=>{const l=r(this,ue).get(s);return l==null||l.setLoopEnabled(o,a),this}),R(this,"syncEnvelopeToPlaybackRate",(s,o)=>{const a=r(this,ue).get(s);return a==null||a.syncToPlaybackRate(o),this}),this.context=e,this.nodeId=dt(this.nodeType),m(this,vr,bn(this.nodeId)),m(this,je,new AudioWorkletNode(e,"sample-player-processor",{numberOfInputs:0,numberOfOutputs:1,processorOptions:n.processorOptions||{}})),this.feedback=new cl(this.context),this.feedback.input.gain.setValueAtTime(1.5,this.now),m(this,Nn,n.enableFilters??!0),r(this,Nn)?(m(this,ls,50),m(this,cs,this.context.sampleRate/2-1e3),r(this,Ct)||m(this,Ct,new BiquadFilterNode(e,{type:"highpass",frequency:r(this,ls),Q:r(this,yo)})),r(this,Nt)||m(this,Nt,new BiquadFilterNode(e,{type:"lowpass",frequency:r(this,cs),Q:r(this,vo)})),r(this,je).connect(this.feedback.input),r(this,je).connect(r(this,Ct)),this.feedback.output.connect(r(this,Ct)),r(this,Ct).connect(r(this,Nt)),r(this,Nt).connect(t),m(this,ii,r(this,Nt)),m(this,Cn,t)):(r(this,je).connect(t),m(this,ii,r(this,je)),m(this,Cn,t)),H(this,nn,gl).call(this),this.sendToProcessor({type:"voice:init"}),r(this,je).port.start()}addEnvelope(e,t){console.warn("Currently using createEnvelopes instead.")}async loadBuffer(e,t){if(m(this,we,Me.NOT_READY),e.sampleRate!==this.context.sampleRate)return console.warn(`Sample rate mismatch - buffer: ${e.sampleRate}, context: ${this.context.sampleRate}`),!1;const n=Array.from({length:e.numberOfChannels},(s,o)=>e.getChannelData(o).slice());return this.sendToProcessor({type:"voice:set_buffer",buffer:n,durationSeconds:e.duration}),t!=null&&t.length&&(H(this,nn,pl).call(this,t),this.sendToProcessor({type:"voice:set_zero_crossings",zeroCrossings:t})),!0}set transposeSemitones(e){this.sendToProcessor({type:"transpose",semitones:e})}setGlideTime(e){m(this,us,e)}trigger(e){var t,n;const{midiNote:s=60,velocity:o=100,secondsFromNow:a=0}={...e},l=this.now+a,c=((t=e.glide)==null?void 0:t.glideTime)??r(this,us);if((n=this.feedback)==null||n.trigger(s,{velocity:o,secondsFromNow:a,glideTime:c}),m(this,os,l),m(this,Ge,s),r(this,we)===Me.PLAYING||r(this,we)===Me.RELEASING)return console.log(`had to stop a playing voice, midinote: ${s}`),this.stop(l),null;m(this,we,Me.PLAYING),this.setParam("velocity",o,l);const h=Gu(s);return e.glide&&c>0?this.getParam("playbackRate").linearRampToValueAtTime(h,l+c):this.setParam("playbackRate",h,l),this.sendToProcessor({type:"voice:start",timestamp:l}),this.applyEnvelopes(l,h,s),r(this,Ge)}applyEnvelopes(e,t,n,s){r(this,ue).forEach((c,h)=>{if(!c.isEnabled)return;const f=this.getParam(c.param);if(!f||h==="pitch-env"&&!c.hasVariation())return;const _=(()=>{switch(h){case"amp-env":return n?n/127:1;case"pitch-env":return t;case"filter-env":return 1;default:return 1}})();c.triggerEnvelope(f,e,{baseValue:_,playbackRate:t,voiceId:this.nodeId,midiNote:s??60})});const o=r(this,ue).get("amp-env"),a=r(this,ue).get("pitch-env"),l=r(this,ue).get("filter-env");this.sendUpstreamMessage("sample-envelopes:trigger",{voiceId:this.nodeId,midiNote:r(this,Ge),envDurations:{"amp-env":o.syncedToPlaybackRate?o.fullDuration/t/o.timeScale:o.fullDuration/o.timeScale,"pitch-env":a.syncedToPlaybackRate?a.fullDuration/t/a.timeScale:a.fullDuration/a.timeScale,"filter-env":l.syncedToPlaybackRate?l.fullDuration/t/l.timeScale:l.fullDuration/l.timeScale},loopEnabled:{"amp-env":o.loopEnabled,"pitch-env":a.loopEnabled,"filter-env":l.loopEnabled}})}release({release:e=r(this,as),secondsFromNow:t=0}){var n;if(r(this,we)===Me.RELEASING)return this;if(!this.getParam("envGain"))throw new Error("Cannot release - envGain parameter is null");m(this,we,Me.RELEASING);const s=this.now+t,o=((n=this.getParam("playbackRate"))==null?void 0:n.value)??1;if(r(this,ue).forEach(c=>{if(!c.isEnabled)return;const h=this.getParam(c.param);h&&c.releaseEnvelope(h,s,{playbackRate:o,voiceId:this.nodeId,midiNote:r(this,Ge)??60})}),e<=0)return this.stop(s);this.sendToProcessor({type:"voice:release",timestamp:s});const a=Array.from(r(this,ue).values()).filter(c=>c.isEnabled),l=a.length>0?Math.max(...a.map(c=>c.releaseTime)):e;return r(this,mn)&&clearTimeout(r(this,mn)),m(this,mn,setTimeout(()=>{try{r(this,we)===Me.RELEASING&&this.stop()}finally{m(this,mn,null)}},l*1e3+50)),this}stop(e=this.now){return r(this,we)===Me.STOPPED||r(this,we)===Me.STOPPING?this:(m(this,we,Me.STOPPING),this.setParam("envGain",0,e,{cancelPrevious:!0,glideTime:0}),this.sendToProcessor({type:"voice:stop",timestamp:e}),m(this,we,Me.STOPPED),this)}addEnvelopePoint(e,t,n){const s=r(this,ue).get(e);s!=null&&s.isEnabled&&s.addPoint(t,n)}updateEnvelopePoint(e,t,n,s){const o=r(this,ue).get(e);o!=null&&o.isEnabled&&o.updatePoint(t,n,s)}deleteEnvelopePoint(e,t){const n=r(this,ue).get(e);n!=null&&n.isEnabled&&n.deletePoint(t)}get envelopes(){return r(this,ue)}setParam(e,t,n,s={}){const o=this.getParam(e);if(!o||o.value===t)return this;const{glideTime:a=0,cancelPrevious:l=!0}=s;return l&&o.cancelScheduledValues(n),a<=0?o.setValueAtTime(t,Math.max(n,this.now+.001)):o.linearRampToValueAtTime(t,n+Math.max(a,.001)),this}setParams(e,t,n={}){const s=e.filter(o=>this.getParam(o.name)!==null);return s.length===0?this:(s.forEach(({name:o,value:a})=>{this.setParam(o,a,t,{...n})}),this)}setLoopPoints(e,t,n=this.now,s=0){return e>=t?this:(e!==void 0&&this.setParam("loopStart",e,n,{glideTime:s,cancelPrevious:!0}),t!==void 0&&this.setParam("loopEnd",t,n,{glideTime:s,cancelPrevious:!0}),this)}setAllowedPeriods(e){return this.sendToProcessor({type:"setAllowedPeriods",allowedPeriods:e}),this}connect(e,t,n){return e===r(this,Cn)?r(this,Cn):(e instanceof AudioParam?this.out.connect(e,t):e instanceof AudioNode?this.out.connect(e,t,n):console.warn(`SampleVoice: Unsupported destination: ${e}`),e)}disconnect(e="main",t){return e==="alt"?(console.warn('SampleVoice has no "alt" output to disconnect'),this):(t?t instanceof AudioNode?this.out.disconnect(t):t instanceof AudioParam&&this.out.disconnect(t):this.out.disconnect(),this)}onMessage(e,t){return r(this,vr).onMessage(e,t)}sendToProcessor(e){return r(this,je).port.postMessage(e),this}sendUpstreamMessage(e,t){return r(this,vr).sendMessage(e,t),this}getPlaybackDuration(){const e=this.getParam("startPoint").value;return this.getParam("endPoint").value-e}get currMidiNote(){return r(this,Ge)}get hpf(){return r(this,Ct)}get lpf(){return r(this,Nt)}get in(){return null}get out(){return r(this,ii)}get destination(){return r(this,Cn)}get state(){return r(this,we)}get initialized(){return r(this,ss)}get now(){return this.context.currentTime}get activeNoteId(){return r(this,Ge)}get triggerTimestamp(){return r(this,os)}get sampleDurationSeconds(){return r(this,si)}get startPoint(){return this.getParam("startPoint").value}get endPoint(){return this.getParam("endPoint").value}enablePositionTracking(e){return this.sendToProcessor({type:"voice:usePlaybackPosition",value:e}),this}setLoopEnabled(e){return this.sendToProcessor({type:"setLoopEnabled",value:e}),this}setPlaybackRate(e,t=this.now,n){return this.setParam("playbackRate",e,t,n),this}debugDuration(){console.info(`
      sample duration: ${this.sampleDurationSeconds}, 
      startPoint: ${this.getParam("startPoint").value}, 
      endPoint: ${this.getParam("endPoint").value}, 
      playback duration: ${this.getPlaybackDuration()}
      `)}dispose(){this.stop(),this.disconnect(),r(this,ue).forEach(e=>e.dispose()),r(this,je).port.close(),r(this,mn)&&clearTimeout(r(this,mn)),Lt(this.nodeId)}getParam(e){var t,n,s,o;if(r(this,je)&&r(this,je).parameters.has(e))return r(this,je).parameters.get(e)??null;if(r(this,Nn))switch(e){case"highpass":case"hpf":return((t=r(this,Ct))==null?void 0:t.frequency)||null;case"lowpass":case"lpf":return((n=r(this,Nt))==null?void 0:n.frequency)||null;case"hpfQ":return((s=r(this,Ct))==null?void 0:s.Q)||null;case"lpfQ":return((o=r(this,Nt))==null?void 0:o.Q)||null}return null}}Cn=new WeakMap,ii=new WeakMap,je=new WeakMap,vr=new WeakMap,we=new WeakMap,ss=new WeakMap,Ge=new WeakMap,os=new WeakMap,si=new WeakMap,ue=new WeakMap,as=new WeakMap,us=new WeakMap,Nn=new WeakMap,Ct=new WeakMap,Nt=new WeakMap,ls=new WeakMap,yo=new WeakMap,cs=new WeakMap,vo=new WeakMap,nn=new WeakSet,fl=function(){r(this,ue).forEach(n=>n.dispose()),r(this,ue).clear();const i=r(this,si)||void 0,e=ya(this.context,"amp-env",{durationSeconds:i});r(this,ue).set("amp-env",e);const t=ya(this.context,"pitch-env",{durationSeconds:i});if(r(this,ue).set("pitch-env",t),r(this,Nn)){const n=this.context.sampleRate/2-1e3,s=ya(this.context,"filter-env",{durationSeconds:i,paramValueRange:[20,n],initEnable:!1});r(this,ue).set("filter-env",s)}H(this,nn,ml).call(this)},pl=function(i){return this.sendToProcessor({type:"voice:set_zero_crossings",zeroCrossings:i}),this},mn=new WeakMap,ml=function(){r(this,ue).forEach((i,e)=>{r(this,vr).forwardFrom(i,[`${e}:trigger`,`${e}:release`,`${e}:trigger:loop`],t=>({...t,voiceId:this.nodeId,midiNote:r(this,Ge)}))})},gl=function(){r(this,je).port.onmessage=i=>{var e;let{type:t,...n}=i.data;switch(t){case"initialized":m(this,ss,!0),m(this,we,Me.NOT_READY);break;case"voice:loaded":m(this,Ge,null),m(this,we,Me.LOADED),n.durationSeconds&&(m(this,Ge,null),m(this,si,n.durationSeconds),H(this,nn,fl).call(this),this.setStartPoint(0),this.setEndPoint(n.durationSeconds),this.setParam("loopEnd",0,this.now));break;case"voice:transposed":break;case"voice:started":m(this,we,Me.PLAYING),n={voice:this,midiNote:r(this,Ge)};break;case"voice:stopped":m(this,we,Me.STOPPED),n={voiceId:this.nodeId,voice:this,midiNote:r(this,Ge)},m(this,Ge,null);break;case"voice:releasing":m(this,we,Me.RELEASING),n={voiceId:this.nodeId,voice:this,midiNote:r(this,Ge)};break;case"loop:enabled":break;case"voice:looped":break;case"voice:position":(e=this.getParam("playbackPosition"))==null||e.setValueAtTime(n.position,this.context.currentTime);break;case"debug:params":console.debug("Debug params: ",{loopStart:n.loopStart},{loopStartSamples:n.loopStartSamples},{loopEnd:n.loopEnd},{loopEndSamples:n.loopEndSamples});break;case"debug:loop":console.log("Loop debug:",n);break;default:console.warn(`Unhandled message type: ${t}`);break}this.sendUpstreamMessage(t,n)}};var br,gt,Ar,Ze,et,Rt$1,Ft,oi,bo,yl;class qh{constructor(e,t,n,s=!0){v(this,bo),R(this,"nodeId"),R(this,"nodeType","pool"),v(this,br),v(this,gt),v(this,Ar,new Set),v(this,Ze,new Map),v(this,et,new Set),v(this,Rt$1,new Set),v(this,Ft,new Set),v(this,oi,!1),R(this,"prevPlayRate",1),this.nodeId=dt(this.nodeType),m(this,br,bn(this.nodeId)),m(this,gt,Array.from({length:t},()=>{const o=new Lh(e,n,{enableFilters:s});return o.connect(n),o})),r(this,gt).forEach(o=>{r(this,et).add(o),H(this,bo,yl).call(this,o)}),m(this,oi,!0)}onMessage(e,t){return r(this,br).onMessage(e,t)}sendUpstreamMessage(e,t){return r(this,br).sendMessage(e,t),this}setBuffer(e,t){return r(this,Ar).clear(),r(this,gt).forEach(n=>n.loadBuffer(e,t)),this}allocate(e=r(this,et),t=r(this,Ft),n=r(this,Rt$1)){let s;if(e.size?s=ma(e):t.size?(s=ma(t),s==null||s.stop()):n.size&&(s=ma(n),s==null||s.stop()),!s)throw new Error("Could not allocate voice");return s}noteOn(e,t=100,n=0,s=0,o){const a=this.allocate();return a.trigger({midiNote:e,velocity:t,secondsFromNow:n,currentLoopEnd:o,glide:{fromPlaybackRate:this.prevPlayRate,glideTime:s}})?(r(this,Ze).set(e,a),this.prevPlayRate=Gu(e),e):null}noteOff(e,t=.2,n=0){const s=r(this,Ze).get(e);if(s)return(s==null?void 0:s.state)===Me.PLAYING&&s.release({release:t,secondsFromNow:n}),this}allNotesOff(e=0){return r(this,Ze).forEach(t=>{t.release({release:e})}),r(this,Ze).clear(),this}applyToAllVoices(e){r(this,gt).forEach(t=>e(t))}applyToActiveVoices(e){r(this,Ze).forEach(t=>e(t))}applyToInactiveVoices(e){r(this,et).forEach(t=>e(t))}applyToActiveNote(e,t){const n=r(this,Ze).get(e);n?t(n):console.warn(`No active voice found for midiNote: ${e}`)}debug(){console.debug(`
      releasing: ${r(this,Ft).size}
      playing: ${r(this,Rt$1).size}
      available: ${r(this,et).size}
      Sum: ${r(this,Ft).size+r(this,Rt$1).size+r(this,et).size}
      Sum should be: ${this.allVoicesCount}
      `,{midiToVoiceMap:r(this,Ze)})}dispose(){this.applyToAllVoices(e=>e.dispose()),m(this,gt,[]),r(this,Ze).clear(),r(this,et).clear(),r(this,Ft).clear(),r(this,Rt$1).clear(),r(this,Ar).clear(),m(this,oi,!1),Lt(this.nodeId)}get isReady(){return r(this,oi)}get availableVoices(){return r(this,et)}get playingVoicesCount(){return r(this,Rt$1).size}get releasingVoicesCount(){return r(this,Ft).size}get availableVoicesCount(){return r(this,et).size}get allVoices(){return r(this,gt)}get allVoicesCount(){return r(this,gt).length}get assignedVoicesMidiMap(){return r(this,Ze)}set transposeSemitones(e){r(this,gt).forEach(t=>t.transposeSemitones=e)}}br=new WeakMap,gt=new WeakMap,Ar=new WeakMap,Ze=new WeakMap,et=new WeakMap,Rt$1=new WeakMap,Ft=new WeakMap,oi=new WeakMap,bo=new WeakSet,yl=function(i){i.onMessage("voice:started",e=>{r(this,et).delete(e.voice),r(this,Ft).delete(e.voice),r(this,Rt$1).add(e.voice),r(this,Ze).set(e.midiNote,e.voice)}),i.onMessage("voice:releasing",e=>{r(this,et).delete(e.voice),r(this,Rt$1).delete(e.voice),r(this,Ft).add(e.voice),r(this,Ze).get(e.midiNote)===e.voice&&r(this,Ze).delete(e.midiNote)}),i.onMessage("voice:stopped",e=>{r(this,Rt$1).delete(e.voice),r(this,Ft).delete(e.voice),r(this,et).add(e.voice)}),r(this,br).forwardFrom(i,["voice:started","voice:stopped","voice:releasing","voice:loaded","voice:transposed","amp-env:trigger","amp-env:trigger:loop","amp-env:release","pitch-env:trigger","pitch-env:trigger:loop","pitch-env:release","filter-env:trigger","filter-env:trigger:loop","filter-env:release"],e=>e.type==="voice:loaded"?(r(this,Ar).add(e.senderId),r(this,Ar).size===r(this,gt).length?{...e,type:"sample:loaded"}:null):e)};var ai,Vt,wr,ui,li,Pr,gn,Ue,Re,Wt,Jt$1,Ao,Ba,ci,Er,Rn,hs,wo,Ve,bl,Al,wl,Pl,Oa,yt,so;class vl extends dl{constructor(e,t=16,n,s){super("sample-player",e,t,n,s),v(this,Ve),v(this,ai,null),v(this,Vt,0),v(this,wr,!1),v(this,ui,!1),v(this,li,!1),v(this,Pr,!1),v(this,gn),v(this,Ue),v(this,Re),v(this,Wt,null),v(this,Jt$1,null),R(this,"syncLFOsToMidiNote",!1),v(this,Ao,new Map),v(this,Ba,0),v(this,ci,!1),v(this,Er,!1),v(this,Rn,[]),v(this,hs,!0),v(this,wo,!0),R(this,"randomizeVelocity",!1),R(this,"voicePool"),R(this,"setTransposition",o=>{this.voicePool.transposeSemitones=o,console.info(`transposing by ${o} semitones`),this.sendUpstreamMessage("sample:auto-transpose:success",{transposedBy:o})}),R(this,"panic",o=>(this.releaseAll(o),this)),R(this,"MIN_LOOP_DURATION_SECONDS",1/1046.502),R(this,"setLoopStart",(o,a=this.getLoopRampDuration())=>this.setLoopPoint("start",o,this.loopEnd,a)),R(this,"setLoopEnd",(o,a=this.getLoopRampDuration())=>this.setLoopPoint("end",this.loopStart,o,a)),R(this,"getHpfCutoff",()=>this.getStoredParamValue("hpfCutoff",NaN)),R(this,"getLpfCutoff",()=>this.getStoredParamValue("lpfCutoff",NaN)),R(this,"enableEnvelope",o=>{this.voicePool.applyToAllVoices(a=>a.enableEnvelope(o))}),R(this,"disableEnvelope",o=>{this.voicePool.applyToAllVoices(a=>a.disableEnvelope(o))}),R(this,"setEnvelopeLoop",(o,a,l="normal")=>{this.voicePool.applyToAllVoices(c=>c.setEnvelopeLoop(o,a,l))}),R(this,"setEnvelopeSync",(o,a)=>{this.voicePool.applyToAllVoices(l=>l.syncEnvelopeToPlaybackRate(o,a))}),R(this,"setEnvelopeTimeScale",(o,a)=>{this.voicePool.applyToAllVoices(l=>l.setEnvelopeTimeScale(o,a))}),R(this,"setDryWetMix",o=>{this.outBus.setDryWetMix(o)}),R(this,"send",(o,a)=>{this.outBus.send(o,a)}),R(this,"setLpfCutoff",o=>this.outBus.setLpfCutoff(o)),R(this,"setHpfCutoff",o=>this.outBus.setHpfCutoff(o)),R(this,"setReverbAmount",o=>{this.outBus.setReverbAmount(o)}),v(this,yt,"monophonic"),R(this,"setKarplusAmount",o=>{(r(this,yt)==="monophonic"||r(this,yt)==="double-trouble")&&this.outBus.setKarplusAmount(o),(r(this,yt)==="polyphonic"||r(this,yt)==="double-trouble")&&this.voicePool.applyToAllVoices(a=>{var l;(l=a.feedback)==null||l.setAmountMacro(o)})}),this.voicePool=new qh(e,t,this.outBus.input,!0),m(this,gn,new GainNode(e,{gain:.5})),this.outBus.connect(r(this,gn)),r(this,gn).connect(e.destination),this.outBus.debugRouting(),m(this,Ue,new Cu(e,Qe.LOOP_START)),m(this,Re,new Cu(e,Qe.LOOP_END)),H(this,Ve,Al).call(this),H(this,Ve,Pl).call(this),H(this,Ve,bl).call(this),m(this,ci,!0),n!=null&&n.duration&&this.loadSample(n,n.sampleRate)}onMessage(e,t){return this.messages.onMessage(e,t)}sendUpstreamMessage(e,t){return this.messages.sendMessage(e,t),this}getMacrosAudioParam(e){switch(e){case"loopStart":return r(this,Ue).audioParam;case"loopEnd":return r(this,Re).audioParam;default:const t=e;throw new Error(`Unknown macro parameter: ${t}`)}}getMacro(e){switch(e){case"loopStart":return r(this,Ue);case"loopEnd":return r(this,Re);default:const t=e;throw new Error(`Unknown macro parameter: ${t}`)}}async loadSample(e,t,n=!0,s=!0,o){e instanceof ArrayBuffer&&(e=await We().decodeAudioData(e)),oe(gc(e)),(e.sampleRate!==this.audioContext.sampleRate||t&&this.audioContext.sampleRate!==t)&&console.warn(`sample rate mismatch, 
        buffer rate: ${e.sampleRate}, 
        context rate: ${this.audioContext.sampleRate}
        requested rate: ${t}
        `),this.releaseAll(0),this.voicePool.transposeSemitones=0,m(this,Er,!1),m(this,ai,null);let a;r(this,wo)&&(a=await nl(this.context,e,o),e=a.audiobuffer,r(this,hs)&&a.zeroCrossings&&m(this,Rn,a.zeroCrossings)),this.voicePool.setBuffer(e,r(this,Rn)),m(this,Vt,e.duration),H(this,Ve,wl).call(this,e.duration);const l={rootNote:"C",scale:[0],lowestOctave:0,highestOctave:6,tuningOffset:0,normalize:!1};return this.setScale(l),m(this,ai,e),e}async detectPitch(e){const t=await tl(e),n=ao(t.frequency),s=69+12*Math.log2(t.frequency/440),o=n.frequency/t.frequency;return console.table({pitchSource:t,targetNoteInfo:n,playbackRateMultiplier:o,midiFloat:s}),this.sendUpstreamMessage("sample:pitch-detected",{pitchResults:t,closestNoteInfo:n}),{frequency:t.frequency,confidence:t.confidence,midiFloat:s,targetNoteInfo:n}}detectedPitchToTransposition(e,t){let n=t-e;for(;n>6;)n-=12;for(;n<-6;)n+=12;return n}play(e,t=100,n,s=this.getGlideTime()){var o,a;n&&(H(this,Ve,so).call(this,n),n.alt&&(e+=12));const l=Ec(t)?t:100;return this.syncLFOsToMidiNote&&((o=r(this,Wt))==null||o.setMusicalNote(e),(a=r(this,Jt$1))==null||a.setMusicalNote(e)),this.outBus.noteOn(e,l,0,s),this.voicePool.noteOn(e,l,0,s,r(this,Re).getValue())}release(e,t){return t&&H(this,Ve,so).call(this,t),this.holdEnabled||r(this,Pr)?this:(this.voicePool.noteOff(e,this.getReleaseTime(),0),this.sendUpstreamMessage("note:off",{midiNote:e}),this)}releaseAll(e=this.getReleaseTime()){return this.voicePool.allNotesOff(e),this}setScale(e){return r(this,Ue).setScale({snapToZeroCrossings:r(this,Rn),...e}),r(this,Re).setScale({snapToZeroCrossings:r(this,Rn),...e}),this}setAttackTime(e){return this.storeParamValue("attack",e),this.voicePool.applyToAllVoices(t=>t.setAttack(e)),this}setReleaseTime(e){return this.storeParamValue("release",e),this.voicePool.applyToAllVoices(t=>t.setRelease(e)),this}setSampleStartPoint(e){return this.storeParamValue("startPoint",e),this.voicePool.applyToAllVoices(t=>t.setStartPoint(e)),this}setSampleEndPoint(e){return this.storeParamValue("endPoint",e),this.voicePool.applyToAllVoices(t=>t.setEndPoint(e)),this}setLoopRampDuration(e){return this.storeParamValue("loopRampDuration",e),this}setGlideTime(e){return this.storeParamValue("glideTime",e),this}setLoopEnabled(e){return r(this,wr)===e?this:r(this,ui)&&!e?this:(this.voicePool.allVoices.forEach(t=>t.setLoopEnabled(e)),m(this,wr,e),this.sendUpstreamMessage("loop:enabled",{enabled:e}),this)}setHoldEnabled(e){return r(this,li)===e?this:r(this,Pr)&&!e?this:(m(this,li,e),e||this.releaseAll(this.getReleaseTime()),this.sendUpstreamMessage("hold:enabled",{enabled:e}),this)}setLoopLocked(e){return r(this,ui)===e?this:(m(this,ui,e),this.setLoopEnabled(e),this.sendUpstreamMessage("loop:locked",{locked:e}),this)}setHoldLocked(e){return r(this,Pr)===e?this:(m(this,Pr,e),e===!1&&this.releaseAll(),console.debug(`sending hold:locked message, locked: ${e}`),this.sendUpstreamMessage("hold:locked",{locked:e}),this)}isNormalized(e,t=[0,1]){return e>=t[0]&&e<=t[1]}setLoopPoint(e,t,n,s=this.getLoopRampDuration()){t>=n&&(console.debug(`samplePlayer.setLoopPoint: Loop points out of bounds.
      Adjusting: ${e}, loopStart: ${t}, loopEnd: ${n}`),e==="start"?t=Math.max(0,n-.001):n=Math.min(r(this,Vt),t+.001)),this.isLoaded&&n>=r(this,Vt)&&(n=r(this,Vt)-.001);const o=s*1;if(e==="start"&&t!==this.loopStart){const a=()=>this.storeParamValue("loopStart",t);r(this,Ue).ramp(t,o,n,{onComplete:()=>{a()}})}else if(e==="end"&&n!==this.loopEnd){const a=()=>this.storeParamValue("loopEnd",n);r(this,Re).ramp(n,o,t,{onComplete:()=>{a()}})}return this}scrollLoopPoints(e,t){const n=this.now;return r(this,Ue).setValue(e,n),r(this,Re).setValue(t,n),this}setParameterValue(e,t){switch(e){case"attack":this.setAttackTime(t);break;case"release":this.setReleaseTime(t);break;case"startPoint":this.setSampleStartPoint(t);break;case"endPoint":this.setSampleEndPoint(t);break;case"glideTime":this.setGlideTime(t);break;case"loopStart":this.setLoopStart(t);break;case"loopEnd":this.setLoopEnd(t);break;case"loopRampDuration":this.setLoopRampDuration(t);break;default:console.warn(`Unknown parameter: ${e}`)}return this}getAttackTime(){return this.getStoredParamValue("attack",Qe.ATTACK.defaultValue)}getReleaseTime(){return this.getStoredParamValue("release",Qe.RELEASE.defaultValue)}getStartPoint(){return this.getStoredParamValue("startPoint",Qe.START_POINT.defaultValue)}getEndPoint(){return this.getStoredParamValue("endPoint",Qe.END_POINT.defaultValue)}getLoopRampDuration(){return this.getStoredParamValue("loopRampDuration",Qe.LOOP_RAMP_DURATION.defaultValue)}getGlideTime(){return this.getStoredParamValue("glideTime",0)}getParameterDescriptors(){return{attack:Qe.ATTACK,release:Qe.RELEASE,startPoint:Qe.START_POINT,endPoint:Qe.END_POINT,playbackRate:Qe.PLAYBACK_RATE,loopStart:r(this,Ue).descriptor,loopEnd:r(this,Re).descriptor,loopRampDuration:Qe.LOOP_RAMP_DURATION,hpfCutoff:Qe.HIGHPASS_CUTOFF,lpfCutoff:Qe.LOWPASS_CUTOFF}}getParameterValue(e){switch(e){case"loopStart":return this.loopStart;case"loopEnd":return this.loopEnd;case"loopRampDuration":return this.getLoopRampDuration();case"attack":return this.getAttackTime();case"release":return this.getReleaseTime();case"startPoint":return this.getStartPoint();case"endPoint":return this.getEndPoint();case"glideTime":return this.getGlideTime();case"hpfCutoff":return this.getHpfCutoff();case"lpfCutoff":return this.getLpfCutoff();default:console.warn(`Unknown parameter: ${e}`);return}}getEnvelope(e){const t=this.voicePool.allVoices[0];if(!t)throw new Error("No voices available in voice pool");const n=t.getEnvelope(e);if(!n)throw new Error(`Envelope type '${e}' not found`);return n}setEnvelopeSustainPoint(e,t){this.voicePool.applyToAllVoices(n=>n.setEnvelopeSustainPoint(e,t))}setEnvelopeReleasePoint(e,t){this.voicePool.applyToAllVoices(n=>n.setEnvelopeReleasePoint(e,t))}updateEnvelopePoint(e,t,n,s){this.voicePool.applyToAllVoices(o=>o.updateEnvelopePoint(e,t,n,s))}addEnvelopePoint(e,t,n){this.voicePool.applyToAllVoices(s=>s.addEnvelopePoint(e,t,n))}deleteEnvelopePoint(e,t){this.voicePool.applyToAllVoices(n=>n.deleteEnvelopePoint(e,t))}startLevelMonitoring(e){this.outBus.startLevelMonitoring(e)}setFeedbackMode(e){console.log("feedbackMode set to ",e),m(this,yt,e),e==="monophonic"?this.voicePool.applyToAllVoices(t=>{var n;(n=t.feedback)==null||n.setAmountMacro(0)}):e==="polyphonic"?this.outBus.setKarplusAmount(0):console.info("Feedback mode set to double-trouble, experimental!")}setFeedbackPitchScale(e){(r(this,yt)==="monophonic"||r(this,yt)==="double-trouble")&&this.outBus.setFeedbackPitchScale(e),(r(this,yt)==="polyphonic"||r(this,yt)==="double-trouble")&&this.voicePool.applyToAllVoices(t=>{var n;(n=t.feedback)==null||n.setDelayMultiplier(e)})}enableKeyboard(){return this.keyboardHandler||(this.keyboardHandler={onNoteOn:this.play.bind(this),onNoteOff:this.release.bind(this),onBlur:()=>this.panic(),onModifierChange:H(this,Ve,so).bind(this)},vn.addHandler(this.keyboardHandler)),this}disableKeyboard(){return this.keyboardHandler&&(vn.removeHandler(this.keyboardHandler),this.keyboardHandler=null),this}async initMidiController(){var e;if((e=this.midiController)!=null&&e.isInitialized)return!0;this.midiController||(this.midiController=new yi),oe(this.midiController,"SamplePlayer: Failed to create MIDI controller");const t=await Ut(()=>this.midiController.initialize());return oe(!t.error,"SamplePlayer: Failed to initialize MIDI"),t.data}async enableMIDI(e,t=0){const n=e||this.midiController;return await this.initMidiController()&&n!=null&&n.isInitialized&&n.connectInstrument(this,t),this}disableMIDI(e,t=0){const n=e||this.midiController;return n&&n.disconnectInstrument(t),this}setMidiController(e){return this.midiController=e,this}get mainOut(){return r(this,gn)}get outputBus(){return this.outBus}get context(){return this.audioContext}get now(){return this.audioContext.currentTime}get sampleDuration(){return r(this,Vt)}get volume(){return r(this,gn).gain.value}set volume(e){r(this,gn).gain.setValueAtTime(e,this.now)}get loopEnabled(){return r(this,wr)}get holdEnabled(){return r(this,li)}get gainLFO(){return r(this,Wt)}get pitchLFO(){return r(this,Jt$1)}get loopStart(){return r(this,Ue).getValue()}get loopEnd(){return r(this,Re).getValue()}get initialized(){return r(this,ci)}get isLoaded(){return r(this,Er)}get audiobuffer(){return r(this,ai)}dispose(){var e,t,n,s;try{this.releaseAll(),this.voicePool&&(this.voicePool.dispose(),this.voicePool=null),this.outBus&&(this.outBus.dispose(),this.outBus=null),(e=r(this,Ue))==null||e.dispose(),(t=r(this,Re))==null||t.dispose(),m(this,Ue,null),m(this,Re,null),(n=r(this,Wt))==null||n.dispose(),(s=r(this,Jt$1))==null||s.dispose(),m(this,Vt,0),m(this,ci,!1),m(this,Er,!1),m(this,Rn,[]),m(this,hs,!1),m(this,wr,!1),this.audioContext=null,this.messages=null,this.keyboardHandler&&(vn.removeHandler(this.keyboardHandler),this.keyboardHandler=null)}catch(o){console.error(`Error disposing Sampler ${this.nodeId}:`,o)}}}ai=new WeakMap,Vt=new WeakMap,wr=new WeakMap,ui=new WeakMap,li=new WeakMap,Pr=new WeakMap,gn=new WeakMap,Ue=new WeakMap,Re=new WeakMap,Wt=new WeakMap,Jt$1=new WeakMap,Ao=new WeakMap,Ba=new WeakMap,ci=new WeakMap,Er=new WeakMap,Rn=new WeakMap,hs=new WeakMap,wo=new WeakMap,Ve=new WeakSet,bl=function(){return this.voicePool.onMessage("sample:loaded",i=>{r(this,Ao).forEach(e=>{e.setDurationSeconds(i.durationSeconds)}),m(this,Er,!0)}),this.messages.forwardFrom(this.voicePool,["voice:started","voice:stopped","voice:releasing","sample:loaded","amp-env:trigger","amp-env:trigger:loop","amp-env:release","pitch-env:trigger","pitch-env:trigger:loop","pitch-env:release","filter-env:trigger","filter-env:trigger:loop","filter-env:release"]),this},Al=function(){const i=this.voicePool.allVoices;return r(this,Ue).audioParam.setValueAtTime(0,this.now),r(this,Re).audioParam.setValueAtTime(r(this,Vt),this.now),i.forEach((e,t)=>{const n=e.getParam("loopStart"),s=e.getParam("loopEnd");n?r(this,Ue).addTarget(n,"loopStart"):console.error("loopStart param is null!"),s?r(this,Re).addTarget(s,"loopEnd"):console.error("loopEnd param is null!")}),this},wl=function(i=r(this,Vt)){return r(this,Ue).audioParam.setValueAtTime(0,this.now),r(this,Re).audioParam.setValueAtTime(i,this.now),this},Pl=function(){m(this,Wt,new Vu(this.context)),r(this,Wt).setWaveform("sine"),m(this,Jt$1,new Vu(this.context));const i=r(this,Jt$1).getPitchWobbleWaveform();r(this,Jt$1).setWaveform(i),H(this,Ve,Oa).call(this,r(this,Jt$1),"playbackRate"),r(this,Wt).connect(this.outBus.input.gain),H(this,Ve,Oa).call(this,r(this,Wt),"playbackPosition")},Oa=function(i,e){this.voicePool.applyToAllVoices(t=>{const n=t.getParam(e);n&&i.connect(n)})},yt=new WeakMap,so=function(i){return i.caps!==void 0&&this.setLoopEnabled(i.caps),i.shift!==void 0&&this.setHoldEnabled(i.shift),this};const He={noiseTime:.02,decay:.75,volume:.5,attack:.01};var hi,Tr,di,fi,Fn,ds,fs,ps,_t,ms,tt,ut,xr,Sr,Po,Eo,To,xo;class jh{constructor(e=We(),t={}){R(this,"nodeId"),R(this,"nodeType","karplus-strong"),R(this,"processorNames",["random-noise-processor","feedback-delay-processor"]),v(this,hi),R(this,"paramMap"),R(this,"delayParam"),R(this,"fbParamMap"),R(this,"noiseParamMap"),R(this,"audioContext"),R(this,"noiseGenerator"),R(this,"feedbackDelay"),R(this,"noiseGain"),R(this,"outputGain"),v(this,Tr,.1),v(this,di,0),v(this,fi,He.attack),v(this,Fn,He.noiseTime),v(this,ds,0),v(this,fs,null),v(this,ps,0),v(this,_t,!1),v(this,ms,!1),v(this,tt,null),v(this,ut,null),v(this,xr,18e3),v(this,Sr,!0),v(this,Po,80),v(this,Eo,18e3),v(this,To,.5),v(this,xo,.5),this.nodeId=dt(this.nodeType),m(this,hi,bn(this.nodeId)),this.audioContext=e,this.noiseGenerator=new AudioWorkletNode(e,"random-noise-processor"),this.noiseGain=new GainNode(e,{gain:0}),this.outputGain=new GainNode(e),this.feedbackDelay=new AudioWorkletNode(e,"feedback-delay-processor",{parameterData:{delayTime:.005,gain:.95}}),this.configureProcessor(),this.fbParamMap=this.feedbackDelay.parameters,this.noiseParamMap=this.noiseGenerator.parameters,this.paramMap=new Map([["decay",this.fbParamMap.get("feedbackAmount")],["noiseTime",{value:r(this,Fn),setValueAtTime:n=>(m(this,Fn,n),n)}]]),this.delayParam=this.fbParamMap.get("delayTime"),t.enableFilters!==void 0&&m(this,Sr,t.enableFilters),this.setupAudioGraph(),m(this,ms,!0)}configureProcessor(){this.setMaxOutput(.3),this.setAutoGain(!0,.13),this.setLimiting("hard-clipping")}setupAudioGraph(){m(this,xr,this.audioContext.sampleRate/2-1e3),m(this,Eo,r(this,xr)),r(this,Sr)?(m(this,tt,new BiquadFilterNode(this.audioContext,{type:"highpass",frequency:r(this,Po),Q:r(this,xo)})),m(this,ut,new BiquadFilterNode(this.audioContext,{type:"lowpass",frequency:r(this,xr),Q:r(this,To)})),this.noiseGenerator.connect(this.noiseGain),this.noiseGain.connect(this.feedbackDelay),this.noiseGain.connect(r(this,tt)),this.feedbackDelay.connect(r(this,tt)),r(this,tt).connect(r(this,ut)),r(this,ut).connect(this.outputGain)):(this.noiseGenerator.connect(this.noiseGain),this.noiseGain.connect(this.outputGain),this.noiseGain.connect(this.feedbackDelay),this.feedbackDelay.connect(this.outputGain))}connect(e,t,n){return e instanceof AudioParam?this.outputGain.connect(e,t):e instanceof AudioNode?this.outputGain.connect(e,t,n):console.warn(`SampleVoice: Unsupported destination: ${e}`),e}disconnect(){return this.outputGain.disconnect(),this}trigger(e){if(r(this,_t))return this;m(this,_t,!0),m(this,ds,this.now);const{midiNote:t,velocity:n,noteId:s}=e;m(this,ps,t),m(this,fs,s??null);const o=1/(440*Math.pow(2,(t-69)/12));if(this.setDelay(o),r(this,di)===0){console.debug("this.#constantGain === 0",r(this,di)===0),Bi(this.outputGain.gain,this.now),this.outputGain.gain.cancelScheduledValues(this.now),this.outputGain.gain.setValueAtTime(r(this,Tr),this.now);const a=this.noiseGain.gain.value;Bi(this.noiseGain.gain,this.now),this.noiseGain.gain.cancelScheduledValues(this.now),this.noiseGain.gain.setValueAtTime(a,this.now),this.noiseGain.gain.linearRampToValueAtTime(r(this,Tr)*n,this.now+r(this,fi)),this.noiseGain.gain.linearRampToValueAtTime(0,this.now+r(this,Fn)+r(this,fi))}return this.sendMessage("voice:started",{...e}),this}release({release_sec:e=.3,secondsFromNow:t=0}={}){if(!r(this,_t))return this;const n=this.now+t;return Bi(this.noiseGain.gain,this.now),this.noiseGain.gain.linearRampToValueAtTime(0,n+e),Bi(this.outputGain.gain,n),this.outputGain.gain.linearRampToValueAtTime(0,n+e),setTimeout(()=>{m(this,_t,!1),this.sendMessage("voice:ended",{noteId:r(this,fs),midiNote:r(this,ps)})},(e+t)*1e3),this}stop(){return r(this,_t)?(this.noiseGain.gain.cancelScheduledValues(this.now),this.outputGain.gain.cancelScheduledValues(this.now),this.outputGain.gain.setValueAtTime(0,this.now),this.noiseGain.gain.setValueAtTime(0,this.now),m(this,_t,!1),this):this}set volume(e){m(this,Tr,e)}set attack(e){const t=ht(e,.001,2);m(this,fi,t)}setDelay(e,t=this.now,n=0){const s=ht(n,0,4),o=ht(e,0,4);return s===0?this.delayParam.setValueAtTime(e,t):this.delayParam.linearRampToValueAtTime(o,this.now+s),this}setDecay(e,t=this.now){const n=Kt(e,0,1,1.1,1.2);return this.fbParamMap.get("feedbackAmount").setValueAtTime(n,t),this}setNoiseHpfHz(e){return this.noiseGenerator.port.postMessage({type:"setHpfHz",value:e}),this}setNoiseTime(e){const t=ht(e,.003,1);return m(this,Fn,t),this}setNoiseGain(e){const t=Kt(e,0,1,.01,r(this,Tr)+.01);this.noiseGain.gain.cancelScheduledValues(this.now),this.noiseGain.gain.setValueAtTime(t,this.now),m(this,di,t)}setLimiting(e){return this.feedbackDelay.port.postMessage({type:"setLimiting",mode:e}),this}setAutoGain(e,t=.1){return this.feedbackDelay.port.postMessage({type:"setAutoGain",enabled:e,amount:t}),this}setMaxOutput(e){return this.feedbackDelay.port.postMessage({type:"setMaxOutput",level:e}),this}setParam(e,t){var n;const s=this.paramMap.get(e);if(s)e==="noiseTime"?(console.debug(t),m(this,Fn,t)):e==="decay"?this.setDecay(t):s.setValueAtTime(t,this.now+1e-4);else if(r(this,Sr))switch(e){case"noiseHpfHz":this.setNoiseHpfHz(t);break;case"highpass":case"hpf":r(this,tt)&&r(this,tt).frequency.setValueAtTime(t,this.now+1e-4);break;case"lowpass":case"lpf":r(this,ut)&&oe(t>10&&t<r(this,xr),`Invalid lpf cutoff! Value: ${t}`),(n=r(this,ut))==null||n.frequency.setValueAtTime(t,this.now+1e-4);break;case"hpfQ":r(this,tt)&&r(this,tt).Q.setValueAtTime(t,this.now+1e-4);break;case"lpfQ":r(this,ut)&&r(this,ut).Q.setValueAtTime(t,this.now+1e-4);break}return this}get in(){return this.noiseGain}get initialized(){return r(this,ms)}get ctx(){return this.audioContext}get now(){return this.audioContext.currentTime}get isPlaying(){return r(this,_t)}get startTime(){return r(this,ds)}get hpf(){return r(this,tt)}get lpf(){return r(this,ut)}getParam(e){var t,n,s,o;const a=this.paramMap.get(e);if(a)return a;if(r(this,Sr))switch(e){case"highpass":case"hpf":return((t=r(this,tt))==null?void 0:t.frequency)||null;case"lowpass":case"lpf":return((n=r(this,ut))==null?void 0:n.frequency)||null;case"hpfQ":return((s=r(this,tt))==null?void 0:s.Q)||null;case"lpfQ":return((o=r(this,ut))==null?void 0:o.Q)||null}return null}onMessage(e,t){return r(this,hi).onMessage(e,t)}sendMessage(e,t){r(this,hi).sendMessage(e,t)}sendToProcessor(e){this.noiseGenerator.port.postMessage(e),this.feedbackDelay.port.postMessage(e)}dispose(){this.stop(),this.disconnect(),this.noiseGenerator.port.close(),Lt(this.nodeId)}}hi=new WeakMap,Tr=new WeakMap,di=new WeakMap,fi=new WeakMap,Fn=new WeakMap,ds=new WeakMap,fs=new WeakMap,ps=new WeakMap,_t=new WeakMap,ms=new WeakMap,tt=new WeakMap,ut=new WeakMap,xr=new WeakMap,Sr=new WeakMap,Po=new WeakMap,Eo=new WeakMap,To=new WeakMap,xo=new WeakMap;var lt,gs,vt,ys,vs;class Gh{constructor(e,t,n){R(this,"nodeId"),R(this,"nodeType","karplus-pool"),v(this,lt),v(this,gs),v(this,vt),v(this,ys),v(this,vs,!1),R(this,"connect",s=>{r(this,lt).forEach(o=>o.connect(s))}),this.nodeId=dt(this.nodeType),m(this,gs,e),m(this,lt,Array.from({length:t},()=>{const s=new jh(e);return s.connect(n),s})),m(this,vt,new Map),m(this,ys,0),m(this,vs,!0)}get isReady(){return r(this,vs)}findVoice(){return r(this,lt).find(t=>!t.isPlaying)||r(this,lt).reduce((t,n)=>!t||n.startTime<t.startTime?n:t,null)}noteOn(e,t=100,n=r(this,gs).currentTime){const s=Fi(this,ys)._++,o=this.findVoice();return o&&(o.isPlaying&&o.stop(),o.trigger({midiNote:e,velocity:t,noteId:s}),r(this,vt).set(s,o)),s}noteOff(e,t=.2,n=0){const s=r(this,vt).get(e);return s&&(s.release({release_sec:t,secondsFromNow:n}),r(this,vt).delete(e)),this}allNotesOff(){return r(this,lt).forEach(e=>e.stop()),r(this,vt).clear(),this}applyToAllVoices(e){r(this,lt).forEach(t=>e(t))}applyToActiveVoices(e){r(this,vt).forEach(t=>e(t))}applyToVoice(e,t){const n=r(this,vt).get(e);n?t(n):console.warn(`No active voice found for noteId: ${e}`)}dispose(){r(this,lt).forEach(e=>e.dispose()),m(this,lt,[]),r(this,vt).clear(),Lt(this.nodeId)}get allVoices(){return[...r(this,lt)]}get activeVoicesCount(){return r(this,vt).size}set auxIn(e){this.ins.forEach(t=>{"connect"in e&&(e instanceof AudioNode||"connect"in e)&&e.connect(t)})}get ins(){const e=[];return r(this,lt).forEach(t=>e.push(t.in)),e}}lt=new WeakMap,gs=new WeakMap,vt=new WeakMap,ys=new WeakMap,vs=new WeakMap;var Vn,bt,Ka,bs,bi,El,Tl,As,ws,Ps;class Uh extends dl{constructor(e=8,t=We(),n={}){super("synth",t||We(),e),v(this,bi),v(this,Vn),v(this,bt,new Map),v(this,Ka,new ol),v(this,bs,!1),R(this,"voicePool"),R(this,"panic",s=>this.releaseAll(s)),R(this,"SET_TARGET_TIMECONSTANT",.05),v(this,As,0),v(this,ws,0),v(this,Ps,.05),this.voicePool=new Gh(this.audioContext,e,this.outBus.input),m(this,Vn,new GainNode(t,{gain:.5})),this.outBus.connect(r(this,Vn)),r(this,Vn).connect(t.destination),this.setParameterValue("volume",this.getStoredParamValue("volume",He.volume)),this.setParameterValue("attack",this.getStoredParamValue("attack",He.attack)),this.setParameterValue("decay",this.getStoredParamValue("decay",He.decay)),this.setParameterValue("noiseTime",this.getStoredParamValue("noiseTime",He.noiseTime)),m(this,bs,!0)}onMessage(e,t){return this.messages.onMessage(e,t)}play(e,t=100,n={}){if(r(this,bt).has(e)){const o=r(this,bt).get(e);this.voicePool.noteOff(o,0)}const s=this.voicePool.noteOn(e,t);return r(this,bt).set(e,s),this.sendUpstreamMessage("note:on",{midiNote:e,velocity:t,noteId:s}),s}release(e,t={}){const n=r(this,bt).get(e);return n===void 0?(console.warn(`Could not release note ${e}`),this):(this.voicePool.noteOff(n,this.decaySeconds),r(this,bt).delete(e),this.sendUpstreamMessage("note:off",{midiNote:e}),this)}releaseAll(e){return console.debug(`todo: implement fade out. 
      Current fadeout value is ${e} seconds`),this.stopAll(),this}stopAll(){return this.voicePool.allNotesOff(),r(this,bt).clear(),this}setParameterValue(e,t){return(()=>{switch(e){case"volume":this.volume=t,this.storeParamValue("volume",t);break;case"attack":this.voicePool.allVoices.forEach(s=>{s.attack=t});const n=ht(t,.001,2);this.storeParamValue("attack",n);break;case"decay":this.voicePool.allVoices.forEach(s=>s.setDecay(t)),this.storeParamValue("decay",t);break;case"noiseTime":this.voicePool.allVoices.forEach(s=>s.setNoiseTime(t)),this.storeParamValue("noiseTime",t);break;case"noiseGain":this.voicePool.allVoices.forEach(s=>s.setNoiseGain(t)),this.storeParamValue("noiseGain",t);break;default:console.warn(`Unknown parameter: ${e}`)}})(),this}getParameterValue(e){switch(e){case"volume":return this.volume;case"attack":return this.getStoredParamValue("attack",He.attack);case"decay":return this.getStoredParamValue("decay",He.decay);case"noiseTime":return this.getStoredParamValue("noiseTime",He.noiseTime);default:console.warn(`Unknown parameter: ${e}`);return}}getParameterDescriptors(){return{volume:{nodeId:`${this.nodeId}-volume`,name:"Volume",dataType:"number",defaultValue:He.volume,minValue:0,maxValue:1,group:"output",automationRate:"k-rate"},attack:{nodeId:`${this.nodeId}-attack`,name:"Attack",dataType:"number",defaultValue:He.attack,minValue:0,maxValue:2,group:"envelope",automationRate:"k-rate"},decay:{nodeId:`${this.nodeId}-decay`,name:"Decay",dataType:"number",defaultValue:He.decay,minValue:.001,maxValue:1.5,group:"envelope",automationRate:"k-rate"},noiseTime:{nodeId:`${this.nodeId}-noiseTime`,name:"Noise Time",dataType:"number",defaultValue:He.noiseTime,minValue:.001,maxValue:1,group:"synthesis",automationRate:"k-rate"}}}enableKeyboard(){return this.keyboardHandler||(this.keyboardHandler={onNoteOn:this.play.bind(this),onNoteOff:this.release.bind(this),onBlur:H(this,bi,El).bind(this),onModifierChange:H(this,bi,Tl).bind(this)},vn.addHandler(this.keyboardHandler)),console.info("Karplus-strong synth: keyboard enabled"),this}disableKeyboard(){return this.keyboardHandler&&(vn.removeHandler(this.keyboardHandler),this.keyboardHandler=null),console.info("Karplus-strong synth: keyboard disabled"),this}async enableMIDI(e=this.midiController,t=0){return e||(e=new yi,await e.initialize()),e.isInitialized&&(e.connectInstrument(this,t),console.info("Karplus-strong synth: MIDI enabled")),this}disableMIDI(e,t=0){var n;return e==null||e.disconnectInstrument(t),(n=this.midiController)==null||n.disconnectInstrument(t),console.info("Karplus-strong synth: MIDI disabled"),this}dispose(){this.stopAll(),this.disconnect(),this.keyboardHandler&&(vn.removeHandler(this.keyboardHandler),this.keyboardHandler=null),this.voicePool.dispose(),r(this,bt).clear(),this.outBus.dispose(),this.outBus=null,this.audioContext=null}set volume(e){r(this,Vn).gain.setValueAtTime(e,this.now)}set attackTime(e){this.storeParamValue("attack",e)}get attackSeconds(){return this.getStoredParamValue("attack",He.attack)}get decaySeconds(){return this.getStoredParamValue("decay",He.decay)}setHpfCutoff(e){if(isNaN(e)||!isFinite(e))return console.warn(`Invalid LPF frequency: ${e}`),this;const t=this.now;return t-r(this,As)<r(this,Ps)?this:(this.storeParamValue("karplus:hpfCutoff",e),this.voicePool.applyToAllVoices(n=>n.setParam("hpf",e)),m(this,As,t),this)}setLpfCutoff(e){const t=this.audioContext.sampleRate/1-100;if(isNaN(e)||!isFinite(e))return console.warn(`Invalid LPF frequency: ${e}`),this;const n=Math.max(20,Math.min(e,t));this.storeParamValue("karplus:lpfCutoff",n);const s=this.now;return s-r(this,ws)<r(this,Ps)?this:(this.voicePool.applyToAllVoices(o=>{o.lpf&&(Bi(o.lpf.frequency,s),o.lpf.frequency.setTargetAtTime(n,s,this.SET_TARGET_TIMECONSTANT))}),m(this,ws,s),this)}get context(){return this.audioContext}get initialized(){return r(this,bs)}get now(){return this.audioContext.currentTime}get volume(){return r(this,Vn).gain.value}get isPlaying(){return r(this,bt).size>0}get activeVoices(){return r(this,bt).size}get maxVoices(){return this.voicePool.allVoices.length}}Vn=new WeakMap,bt=new WeakMap,Ka=new WeakMap,bs=new WeakMap,bi=new WeakSet,El=function(){return console.debug("Blur occurred"),this.stopAll(),this},Tl=function(i){return this},As=new WeakMap,ws=new WeakMap,Ps=new WeakMap;function zh(i,e=16,t=We(),n){oe(t,"Audio context is not available");const s=new vl(t,e,i,n);return oe(s,"Failed to create SamplePlayer"),s}function Qh(i=16,e=We(),t=!1,n){oe(e,"Audio context is not available");const s=new Uh(i,e);return oe(s,"Failed to create KarplusStrongSynth"),s}const st={IDLE:"IDLE",ARMED:"ARMED",RECORDING:"RECORDING",STOPPED:"STOPPED"},Hh={mimeType:"audio/webm"},Yh={mediaRecorderOptions:Hh,useThreshold:!0,startThreshold:-30,autoStop:!1,stopThreshold:-40,silenceTimeoutMs:1e3,preprocess:!1,preprocessOptions:void 0};var yn,Bt,ct$1,pi,$t,Ee,Bn,At,Kn,Ln,Fe,de,xl,Ca,Na,Sl,kl,Li,Il,Ml,Dl;class Zh{constructor(e){v(this,de),R(this,"nodeId"),R(this,"nodeType","recorder"),v(this,yn),v(this,Bt,null),v(this,ct$1,null),v(this,pi),v(this,$t,null),v(this,Ee,st.IDLE),v(this,Bn,null),v(this,At,null),v(this,Kn,null),v(this,Ln,null),v(this,Fe,null),this.nodeId=dt(this.nodeType),m(this,yn,e),m(this,pi,bn(this.nodeId))}async init(){return console.warn("Recorder: init() method is deprecated and will be removed in a future version."),this}async start(e){const t=await Ut(()=>gh());if(oe(!t.error,`Failed to get microphone: ${t.error}`,t),m(this,Bt,t.data),m(this,Fe,{...Yh,...e}),m(this,ct$1,new MediaRecorder(r(this,Bt),r(this,Fe).mediaRecorderOptions)),!r(this,ct$1))throw new Error("Recorder not initialized");if(r(this,Ee)===st.RECORDING)return this;try{return r(this,Fe).useThreshold?H(this,de,xl).call(this):H(this,de,Ca).call(this),this}catch(n){throw console.error("Error starting recording:",n),n}}async stop(){var e,t;if(!r(this,ct$1))throw new Error("Recorder not initialized");if(r(this,Ee)===st.ARMED)throw H(this,de,Li).call(this),m(this,Ee,st.STOPPED),console.info(`Recorder state: ${r(this,Ee)}`),this.sendMessage("record:cancelled",{}),new Error("Recording was armed but never triggered");if(r(this,Ee)!==st.RECORDING)throw new Error("Not recording");H(this,de,Li).call(this);const n=await H(this,de,Il).call(this);let s=await H(this,de,Ml).call(this,n),o;return(e=r(this,Fe))!=null&&e.preprocess&&(o=await nl(r(this,yn),s,r(this,Fe).preprocessOptions),s=o.audiobuffer),r(this,$t)&&await r(this,$t).loadSample(s),m(this,Ee,st.STOPPED),console.info(`Recorder state: ${r(this,Ee)}`),this.sendMessage("record:stop",{duration:s.duration}),(t=r(this,Bt))==null||t.getTracks().forEach(a=>a.stop()),m(this,Bt,null),m(this,ct$1,null),s}onMessage(e,t){return r(this,pi).onMessage(e,t)}sendMessage(e,t){r(this,pi).sendMessage(e,t)}connect(e){return m(this,$t,e),this}disconnect(){m(this,$t,null)}dispose(){var e;H(this,de,Li).call(this),(e=r(this,Bt))==null||e.getTracks().forEach(t=>t.stop()),m(this,Bt,null),m(this,ct$1,null),m(this,Ee,st.IDLE),m(this,Fe,null),Lt(this.nodeId)}get isArmed(){return r(this,Ee)===st.ARMED}get isRecording(){return r(this,Ee)===st.RECORDING}get state(){return r(this,Ee)}get initialized(){return r(this,ct$1)!==null&&r(this,Bt)!==null}get now(){return r(this,yn).currentTime}get destination(){return r(this,$t)}}yn=new WeakMap,Bt=new WeakMap,ct$1=new WeakMap,pi=new WeakMap,$t=new WeakMap,Ee=new WeakMap,Bn=new WeakMap,At=new WeakMap,Kn=new WeakMap,Ln=new WeakMap,Fe=new WeakMap,de=new WeakSet,xl=function(){if(!H(this,de,Dl).call(this,r(this,Fe).startThreshold)){console.warn(`Threshold ${r(this,Fe).startThreshold}dB out of range (-60 to 0)`);return}m(this,Ee,st.ARMED),console.info("Recorder state: ARMED"),this.sendMessage("record:armed",{threshold:r(this,Fe).startThreshold,destination:r(this,$t)}),H(this,de,Na).call(this)},Ca=function(){r(this,ct$1).start(),m(this,Ee,st.RECORDING),console.info(`Recorder state: ${r(this,Ee)}`),this.sendMessage("record:start",{destination:r(this,$t)}),r(this,Fe).autoStop&&H(this,de,Na).call(this)},Na=function(){m(this,Bn,r(this,yn).createMediaStreamSource(r(this,Bt))),m(this,At,r(this,yn).createAnalyser()),r(this,At).fftSize=1024,r(this,Bn).connect(r(this,At));const i=new Float32Array(r(this,At).fftSize),e=()=>{if(!r(this,At))return;r(this,At).getFloatTimeDomainData(i);const t=Math.max(...i.map(Math.abs)),n=t>1e-7?20*Math.log10(t):-100;if(r(this,Ee)===st.ARMED)H(this,de,Sl).call(this,n);else if(r(this,Ee)===st.RECORDING)H(this,de,kl).call(this,n);else{H(this,de,Li).call(this);return}m(this,Kn,requestAnimationFrame(e))};m(this,Kn,requestAnimationFrame(e))},Sl=function(i){i>=r(this,Fe).startThreshold&&H(this,de,Ca).call(this)},kl=function(i){if(!r(this,Fe).autoStop)return;const e=performance.now();i<r(this,Fe).stopThreshold?r(this,Ln)===null?m(this,Ln,e):e-r(this,Ln)>=r(this,Fe).silenceTimeoutMs&&(this.sendMessage("record:stopping",{}),this.stop().catch(t=>console.error("Error auto-stopping:",t))):m(this,Ln,null)},Li=function(){r(this,Kn)!==null&&(cancelAnimationFrame(r(this,Kn)),m(this,Kn,null)),r(this,Bn)&&(r(this,Bn).disconnect(),m(this,Bn,null)),r(this,At)&&(r(this,At).disconnect(),m(this,At,null)),m(this,Ln,null)},Il=function(){return new Promise(i=>{var e,t,n;((e=r(this,ct$1))==null?void 0:e.state)!=="inactive"&&((t=r(this,ct$1))==null||t.addEventListener("dataavailable",s=>i(s.data),{once:!0}),(n=r(this,ct$1))==null||n.stop())})},Ml=async function(i){const e=await i.arrayBuffer();return await r(this,yn).decodeAudioData(e)},Dl=function(i){return i>-60&&i<0};async function Bu(i){const e=i||We();return new Zh(e)}const Gi=[];function Xh(i){Gi.push(i)}function Wh(i){return Gi.includes(i)}function Jh(){return[...Gi]}function _h(){return Gi.length=0,Gi.length===0}const eo={has:Wh,add:Xh,getAll:Jh,clear:_h};let va=!1;const $h=["/node_modules/@repo/audiolib/dist/processors/processors.js","./processors/processors.js","/processors/processors.js",new URL(""+new URL("processors-BOQM_aVi.js",import.meta.url).href,import.meta.url).href];async function ed(){try{const i=[new URL(""+new URL("processors-BOQM_aVi.js",import.meta.url).href,import.meta.url).href,"/processors/processors.js","./processors/processors.js"];let e=null,t=null;for(const s of i)try{const o=await fetch(s);if(!o.ok)throw new Error(`HTTP error ${o.status}`);e=await o.text(),console.info(`Fetched processor code from: ${s}`);break}catch(o){console.debug(`Failed to fetch from ${s}:`,o),t=o}if(!e)throw t||new Error("Couldn't fetch processor code from any URL");const n=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(n)}catch(i){throw console.error("Failed to create Blob URL:",i),i}}async function td(i){if(va)return console.info("AudioWorklet processors already initialized, skipping"),{success:!0,loadedPath:"already-initialized",timestamp:new Date().toISOString()};let e=null;for(const t of $h)if(!eo.has(t))try{return await i.audioWorklet.addModule(t),eo.add(t),va=!0,console.info("AudioWorklet module loaded successfully from:",t),{success:!0,loadedPath:t,timestamp:new Date().toISOString()}}catch(n){e=n}try{const t=await ed();return eo.has(t)||(await i.audioWorklet.addModule(t),eo.add(t),va=!0,console.info("AudioWorklet module loaded from Blob URL")),URL.revokeObjectURL(t),{success:!0,loadedPath:"blob-url",timestamp:new Date().toISOString()}}catch(t){console.error("Failed to load AudioWorklet from Blob URL:",t),e=new Error(`Failed to load AudioWorklet from all paths. Last error: ${e instanceof Error&&e.message||"Unknown error"}. Blob URL error: ${typeof t=="object"&&t&&"message"in t?t.message:String(t)}`)}throw e||new Error("Failed to load AudioWorklet from all paths")}var Es,mi,Te,Xe,en,wt,kr,gi,So,Cl;class Ol{constructor(e={}){v(this,So),R(this,"nodeId"),R(this,"nodeType","audiograph"),v(this,Es,!1),v(this,mi,new yi),v(this,Te,null),v(this,Xe),v(this,en,new Map),v(this,wt,null),v(this,kr,null),v(this,gi),this.nodeId=dt(this.nodeType),m(this,gi,bn(this.nodeId)),m(this,Te,e.audioContext||We()),oe(r(this,Te),"Failed to get audio context",{nodeId:this.nodeId}),m(this,mi,e.midiController||new yi),m(this,Xe,r(this,Te).createGain()),r(this,Xe).gain.value=1,r(this,Xe).connect(r(this,Te).destination)}async init(){if(this.initialized)return this;const e=await Ut(()=>Pa());oe(!e.error,"Could not initialize audio context",e),await H(this,So,Cl).call(this,e.data);const t=e.data,n=await Ut(()=>$u());oe(!n.error,"IndexedDB initialization failed",n);const s=await Ut(()=>_u());oe(!s.error,"Failed to fetch initial sample"),m(this,kr,s.data);const o=await Ut(()=>td(t));oe(!o.error,"Failed to register processors",o);const a=await Ut(()=>Bu(t));return oe(!a.error,"Failed to create audio recorder",a),m(this,wt,a.data),await this.initMidiController()||console.warn("Midi initialization failed"),console.log("Audiolib initialized"),m(this,Es,!0),this}get initialized(){return r(this,Es)}async initMidiController(){const e=await Ut(()=>r(this,mi).initialize());return oe(!e.error,"Failed to initialize MIDI"),e.data}async createRecorder(e){oe(r(this,Te),"AudioContext must be initialized before creating Recorder");const t=await Bu(r(this,Te));return e&&t.connect(e),t}createSamplePlayer(e=r(this,Te),t=16,n){oe(e,"Audio context is not available",{nodeId:this.nodeId});let s=n||r(this,kr);oe(s,"No audio buffer available for SamplePlayer",{providedSample:!!n,initSampleAvailable:!!r(this,kr)});const o=zh(s,t,e,r(this,mi));return r(this,en).set(o.nodeId,o),o}createKarplusStrongSynth(e=8,t=r(this,Te)){oe(t,"Audio context is not available",{nodeId:this.nodeId});const n=Qh(e,t);oe(n,"Failed to create Karplus Strong synth");const s=r(this,en).has(n.nodeId);return oe(!s,`Instrument with id: ${n.nodeId} already loaded`),r(this,en).set(n.nodeId,n),n}async recordAudioSample(e){oe(r(this,wt),"Audio recorder not initialized");const t=e||this.getCurrentSamplePlayer();return t&&r(this,wt)&&r(this,wt).connect(t),await r(this,wt).start(),r(this,wt).stop()}getCurrentSamplePlayer(){for(const e of r(this,en).values())if(e instanceof vl)return e;return null}get globalAudioRecorder(){return r(this,wt)}onMessage(e,t){return r(this,gi).onMessage(e,t)}sendMessage(e,t){r(this,gi).sendMessage(e,t)}connect(e,t,n){var s;if(e)r(this,Xe).connect(e,t,n);else{const o=(s=r(this,Te))==null?void 0:s.destination;o&&r(this,Xe).connect(o)}return this}disconnect(e){e?r(this,Xe).disconnect(e):r(this,Xe).disconnect()}add(e){return this.firstChildren.push(e),this}remove(e){const t=this.firstChildren.indexOf(e);return t>-1&&this.firstChildren.splice(t,1),this}get in(){return r(this,Xe)}get out(){return r(this,Xe)}get destination(){var e;return(e=r(this,Te))==null?void 0:e.destination}get firstChildren(){return Array.from(r(this,en).values())}async ensureAudioCtx(){const e=await Ut(()=>Pa(),"Failed to ensure audio context");if(e.error)throw console.error("Could not ensure audio context:",e.error),e.error;return e.data}get audioContext(){return r(this,Te)||console.error("Audio context not initialized!"),r(this,Te)}get now(){return We().currentTime}dispose(){var e,t;try{console.debug("Audiolib dispose called");for(const n of r(this,en).values())n.dispose();r(this,en).clear(),r(this,Xe)&&(r(this,Xe).disconnect(),m(this,Xe,null)),Ae.close(),Lt(this.nodeId),Gc(),(e=r(this,Te))==null||e.close(),m(this,Te,null),(t=r(this,wt))==null||t.dispose(),m(this,wt,null),m(this,kr,null)}catch(n){console.error(`Error during Audiolib disposal: ${n instanceof Error?n.message:String(n)}`)}}}Es=new WeakMap,mi=new WeakMap,Te=new WeakMap,Xe=new WeakMap,en=new WeakMap,wt=new WeakMap,kr=new WeakMap,gi=new WeakMap,So=new WeakSet,Cl=async function(i){oe(i===r(this,Te),"Singleton globalAudioContext compromised",{expected:r(this,Te),received:i}),oe(i.audioWorklet,"AudioWorklet not available in this context",{context:i})};async function pd(i={}){const e=i.audioContext||We(),t=i.midiController||new yi,n=new Ol({audioContext:e,midiController:t});return i.autoInit&&await n.init(),n}let ba=null;const md=()=>(ba||(ba=new Ol),ba);var Jt=Object.defineProperty,te=(i,e,t)=>e in i?Jt(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,ct=(i,e,t)=>te(i,typeof e!="symbol"?e+"":e,t);let protoOf=Object.getPrototypeOf,changedStates,derivedStates,curDeps,curNewDerives,alwaysConnectedDom={isConnected:1},gcCycleInMs=1e3,statesToGc,propSetterCache={},objProto=protoOf(alwaysConnectedDom),funcProto=protoOf(protoOf),_undefined,addAndScheduleOnFirst=(i,e,t,n)=>(i??(setTimeout(t,n),new Set)).add(e),runAndCaptureDeps=(i,e,t)=>{let n=curDeps;curDeps=e;try{return i(t)}catch(s){return console.error(s),t}finally{curDeps=n}},keepConnected=i=>i.filter(e=>{var t;return(t=e._dom)==null?void 0:t.isConnected}),addStatesToGc=i=>statesToGc=addAndScheduleOnFirst(statesToGc,i,()=>{for(let e of statesToGc)e._bindings=keepConnected(e._bindings),e._listeners=keepConnected(e._listeners);statesToGc=_undefined},gcCycleInMs),stateProto$1={get val(){var i;return(i=curDeps==null?void 0:curDeps._getters)==null||i.add(this),this.rawVal},get oldVal(){var i;return(i=curDeps==null?void 0:curDeps._getters)==null||i.add(this),this._oldVal},set val(i){var e;(e=curDeps==null?void 0:curDeps._setters)==null||e.add(this),i!==this.rawVal&&(this.rawVal=i,this._bindings.length+this._listeners.length?(derivedStates==null||derivedStates.add(this),changedStates=addAndScheduleOnFirst(changedStates,this,updateDoms)):this._oldVal=i)}},state=i=>({__proto__:stateProto$1,rawVal:i,_oldVal:i,_bindings:[],_listeners:[]}),bind=(i,e)=>{let t={_getters:new Set,_setters:new Set},n={f:i},s=curNewDerives;curNewDerives=[];let o=runAndCaptureDeps(i,t,e);o=(o??document).nodeType?o:new Text(o);for(let a of t._getters)t._setters.has(a)||(addStatesToGc(a),a._bindings.push(n));for(let a of curNewDerives)a._dom=o;return curNewDerives=s,n._dom=o},derive=(i,e=state(),t)=>{let n={_getters:new Set,_setters:new Set},s={f:i,s:e};s._dom=t??(curNewDerives==null?void 0:curNewDerives.push(s))??alwaysConnectedDom,e.val=runAndCaptureDeps(i,n,e.rawVal);for(let o of n._getters)n._setters.has(o)||(addStatesToGc(o),o._listeners.push(s));return e},add=(i,...e)=>{for(let t of e.flat(1/0)){let n=protoOf(t??0),s=n===stateProto$1?bind(()=>t.val):n===funcProto?bind(t):t;s!=_undefined&&i.append(s)}return i},tag=(i,e,...t)=>{var n;let[{is:s,...o},...a]=protoOf(t[0]??0)===objProto?t:[{},...t],l=i?document.createElementNS(i,e,{is:s}):document.createElement(e,{is:s});for(let[c,h]of Object.entries(o)){let f=$=>$?Object.getOwnPropertyDescriptor($,c)??f(protoOf($)):_undefined,_=e+","+c,y=propSetterCache[_]??(propSetterCache[_]=((n=f(protoOf(l)))==null?void 0:n.set)??0),u=c.startsWith("on")?($,k)=>{let A=c.slice(2);l.removeEventListener(A,k),l.addEventListener(A,$)}:y?y.bind(l):l.setAttribute.bind(l,c),b=protoOf(h??0);c.startsWith("on")||b===funcProto&&(h=derive(h),b=stateProto$1),b===stateProto$1?bind(()=>(u(h.val,h._oldVal),l)):u(h)}return add(l,a)},handler=i=>({get:(e,t)=>tag.bind(_undefined,i,t)}),update=(i,e)=>e?e!==i&&i.replaceWith(e):i.remove(),updateDoms=()=>{let i=0,e=[...changedStates].filter(n=>n.rawVal!==n._oldVal);do{derivedStates=new Set;for(let n of new Set(e.flatMap(s=>s._listeners=keepConnected(s._listeners))))derive(n.f,n.s,n._dom),n._dom=_undefined}while(++i<100&&(e=[...derivedStates]).length);let t=[...changedStates].filter(n=>n.rawVal!==n._oldVal);changedStates=_undefined;for(let n of new Set(t.flatMap(s=>s._bindings=keepConnected(s._bindings))))update(n._dom,bind(n.f,n._dom)),n._dom=_undefined;for(let n of t)n._oldVal=n.rawVal};const van={tags:new Proxy(i=>new Proxy(tag,handler(i)),handler()),hydrate:(i,e)=>update(i,bind(e,i)),add,state,derive};function define(i,e,t={mode:"open"}){window.customElements.define(i,class extends HTMLElement{constructor(){super(),this.a=[],this.p=new Map}setAttribute(n,s){super.setAttribute(n,s),this.a[n]&&(this.a[n].val=s)}connectedCallback(){let n;van.add(t?this.attachShadow(t):this,e({attr:(s,o)=>{var a;return(a=this.a)[s]??(a[s]=van.state(this.getAttribute(s)??o))},prop:(s,o)=>(this.p.has(s)||this.p.set(s,van.state(o)),this.p.get(s)),mount:s=>{let o=n;n=()=>{let a=o==null?void 0:o(),l=s();return()=>{a==null||a(),l==null||l()}}},$this:this})),this.d=n==null?void 0:n()}disconnectedCallback(){var n;(n=this.d)==null||n.call(this)}setProp(n,s){return this.p.has(n)?this.p.get(n).val=s:this.p.set(n,van.state(s)),this}getProp(n){return this.p.has(n)?this.p.get(n).val:void 0}})}const midiSvgRaw=`<?xml version="1.0" encoding="utf-8"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" role="img" xmlns="http://www.w3.org/2000/svg"><title>MIDI icon</title><path d="M21.775 7.517H24v8.966h-2.225zm-8.562 0h6.506c.66 0 1.045.57 1.045 1.247v6.607c0 .84-.35 1.112-1.112 1.112h-6.439v-5.696h2.225v3.505h3.135V9.54h-5.36zm-3.235 0h2.19v8.966h-2.19zM0 7.517h7.854c.66 0 1.045.57 1.045 1.247v7.72H6.708V9.774H5.427v6.708H3.438V9.775H2.191v6.708H0Z"/></svg>`,keysSvgRaw=`<?xml version="1.0" encoding="utf-8"?>\r
\r
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r
<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->\r
<svg version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \r
	 viewBox="0 0 512 512"  xml:space="preserve">\r
<style type="text/css">\r
	.st0{fill:#000000;}\r
</style>\r
<g>\r
	<path class="st0" d="M459.576,99.307H52.423C23.524,99.307,0,122.837,0,151.736v192.879c0,37.536,30.537,68.078,68.068,68.078\r
		h375.862c37.532,0,68.069-30.542,68.069-68.078V151.736C512,122.837,488.475,99.307,459.576,99.307z M485.515,344.615\r
		c0,22.934-18.655,41.589-41.584,41.589H68.068c-22.929,0-41.584-18.655-41.584-41.589V151.736\r
		c0-14.306,11.638-25.938,25.938-25.938h407.154c14.301,0,25.938,11.633,25.938,25.938V344.615z"/>\r
	<rect x="189.792" y="233.929" class="st0" width="44.138" height="44.142"/>\r
	<rect x="256.002" y="233.929" class="st0" width="44.134" height="44.142"/>\r
	<rect x="322.207" y="233.929" class="st0" width="44.138" height="44.142"/>\r
	<rect x="410.484" y="300.139" class="st0" width="44.134" height="44.134"/>\r
	<rect x="189.792" y="167.729" class="st0" width="44.138" height="44.134"/>\r
	<rect x="123.587" y="233.929" class="st0" width="44.138" height="44.142"/>\r
	<rect x="123.587" y="167.729" class="st0" width="44.138" height="44.134"/>\r
	<rect x="57.382" y="300.139" class="st0" width="44.134" height="44.134"/>\r
	<rect x="57.382" y="233.929" class="st0" width="44.134" height="44.142"/>\r
	<rect x="57.382" y="167.729" class="st0" width="44.134" height="44.134"/>\r
	<rect x="256.002" y="167.729" class="st0" width="44.134" height="44.134"/>\r
	<rect x="322.207" y="167.729" class="st0" width="44.138" height="44.134"/>\r
	<rect x="123.587" y="300.139" class="st0" width="264.825" height="44.134"/>\r
	<rect x="388.412" y="167.729" class="st0" width="66.205" height="110.343"/>\r
</g>\r
</svg>`,loopOnSvgRaw=`<?xml version="1.0" encoding="utf-8"?>\r
\r
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r
<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg width="800px" height="800px" viewBox="0 0 17 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r
	<path d="M1 9c0 2.206 1.711 4 3.813 4v1c-2.654 0-4.813-2.243-4.813-5s2.159-5 4.813-5h4.229l-1.646-1.646 0.707-0.707 2.854 2.853-2.853 2.854-0.708-0.708 1.647-1.646h-4.23c-2.102 0-3.813 1.794-3.813 4zM12.187 4v1c2.102 0 3.813 1.794 3.813 4s-1.711 4-3.813 4h-4.23l1.646-1.646-0.707-0.707-2.853 2.853 2.854 2.854 0.707-0.707-1.647-1.647h4.229c2.655 0 4.814-2.243 4.814-5s-2.159-5-4.813-5z" fill="#000000" />\r
</svg>`,loopOffSvgRaw=`<svg viewBox="0 0 17 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000">
<g id="SVGRepo_bgCarrier" stroke-width="0"></g>
<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
<g id="SVGRepo_iconCarrier"> 
<path d="M1 9c0 2.206 1.711 4 3.813 4v1c-2.654 0-4.813-2.243-4.813-5s2.159-5 4.813-5h4.229l-1.646-1.646 0.707-0.707 2.854 2.853-2.853 2.854-0.708-0.708 1.647-1.646h-4.23c-2.102 0-3.813 1.794-3.813 4zM12.187 4v1c2.102 0 3.813 1.794 3.813 4s-1.711 4-3.813 4h-4.23l1.646-1.646-0.707-0.707-2.853 2.853 2.854 2.854 0.707-0.707-1.647-1.647h4.229c2.655 0 4.814-2.243 4.814-5s-2.159-5-4.813-5z" fill="#000000"></path>
<!-- Diagonal line to indicate "off" state -->
<line x1="2" y1="15" x2="15" y2="2" stroke="#000000" stroke-width="1" stroke-linecap="round"></line>
</g>
</svg>
`,listeningSvgRaw=`<?xml version="1.0" encoding="utf-8"?>\r
<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->\r
<svg fill="#000000" height="800px" width="800px" version="1.1" id="Listening" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \r
	 viewBox="0 0 128 128" xml:space="preserve">\r
<path id="_x34__1_" d="M39.6,108.1c-8.8,0-16-7.2-16-16c0-2.2,1.8-4,4-4s4,1.8,4,4c0,4.4,3.6,8,8,8c2.8,0,5.4-1.5,6.9-3.9\r
	c0.6-1,1.4-2.8,2.3-4.7c1.7-3.8,3.6-8.1,6-11.2c1.9-2.5,4.7-5,7.4-7.5c2.7-2.5,5.8-5.4,6.8-7.2c2-3.5,3-7.4,3-11.4\r
	c0-12.7-10.3-23-23-23s-23,10.3-23,23c0,2.2-1.8,4-4,4s-4-1.8-4-4c0-17.1,13.9-31,31-31c17.1,0,31,13.9,31,31\r
	c0,5.4-1.4,10.7-4.1,15.4c-1.6,2.9-4.9,5.9-8.4,9.1c-2.4,2.3-5,4.6-6.5,6.5c-1.8,2.3-3.6,6.3-5,9.5c-1,2.2-1.8,4.1-2.7,5.6\r
	C50.5,105.1,45.2,108.1,39.6,108.1z"/>\r
<path id="_x33__2_" d="M34,79.6c-2.2,0-4-1.8-4-4s1.8-4,4-4c2,0,3.7-1.6,3.7-3.7c0-2-1.6-3.7-3.7-3.7c-2.2,0-4-1.8-4-4v-6\r
	c0-10.5,8.5-19,19-19s19,8.5,19,19c0,3.3-0.8,6.5-2.4,9.3c-0.1,0.1-0.1,0.2-0.2,0.3c-0.8,1.2-2.7,3-5.9,6l-1.2,1.1\r
	c-1.6,1.5-4.2,1.4-5.7-0.2c-1.5-1.6-1.4-4.2,0.2-5.7L54,64c2.6-2.4,4.2-3.9,4.7-4.6c0.8-1.6,1.3-3.4,1.3-5.2c0-6.1-4.9-11-11-11\r
	s-11,4.9-11,11v2.7c4.5,1.6,7.7,5.9,7.7,11C45.7,74.3,40.5,79.6,34,79.6z"/>\r
<path id="_x32__15_" d="M85,78.7c-0.6,0-1.2-0.2-1.7-0.5c-1.7-1-2.2-3.1-1.3-4.8c3.3-5.8,5.1-12.3,5.1-19c0-6.8-1.8-13.4-5.2-19.2\r
	c-1-1.7-0.4-3.8,1.2-4.8c1.7-1,3.8-0.4,4.8,1.2c4.1,6.9,6.2,14.8,6.2,22.8c0,7.9-2.1,15.6-6,22.5C87.4,78.1,86.2,78.7,85,78.7z"/>\r
<path id="_x31__17_" d="M95.9,90.1c-0.8,0-1.5-0.2-2.2-0.7c-1.8-1.2-2.3-3.7-1.1-5.6c5.9-8.7,9-18.8,9-29.4\r
	c0-10.6-3.2-20.9-9.2-29.6c-1.2-1.8-0.8-4.3,1-5.6c1.8-1.2,4.3-0.8,5.6,1c6.9,10.1,10.6,21.9,10.6,34.1c0,12.1-3.6,23.8-10.3,33.8\r
	C98.4,89.5,97.1,90.1,95.9,90.1z"/>\r
</svg>`,recordSvgRaw=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256">
  <rect width="256" height="256" fill="none" />
  <circle
    cx="128"
    cy="128"
    r="96"
    fill="none"
    stroke="currentColor"
    stroke-miterlimit="10"
    stroke-width="16"
  />
  <circle
    cx="128"
    cy="128"
    r="64"
    fill="none"
    stroke="currentColor"
    stroke-miterlimit="10"
    stroke-width="16"
  />
</svg>
`,stopSvgRaw=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><rect x="48" y="48" width="160" height="160" rx="8" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>
`,createIcons=()=>{const i={width:"2rem",height:"2rem"};return{midi:createSvgIcon(midiSvgRaw,i,"white","MIDI"),keys:createSvgIcon(keysSvgRaw,i,"white","Keyboard"),loopOn:createSvgIcon(loopOnSvgRaw,i,"white","Loop"),loopOff:createSvgIcon(loopOffSvgRaw,i,"white","Loop Off"),record:createSvgIcon(recordSvgRaw,i,"currentColor","Rec"),armed:createSvgIcon(listeningSvgRaw,i,"white","ARMED"),stop:createSvgIcon(stopSvgRaw,i,"currentColor","Stop")}};function createSvgIcon(i,e={width:"2rem",height:"2rem"},t="currentColor",n){try{const s=document.createElement("div");s.innerHTML=i;const o=s.querySelector("svg");if(o)return o.setAttribute("width",e.width),o.setAttribute("height",e.height),o.setAttribute("fill",t),o.style.verticalAlign="middle",t==="white"?o.style.filter="brightness(0) invert(1)":o.querySelectorAll("path, circle, rect, polygon, ellipse").forEach(a=>{a.setAttribute("fill",t)}),o;if(n){const a=document.createElement("span");return a.textContent=n,a.style.verticalAlign="middle",a}return""}catch(s){if(console.debug("Failed to create SVG icon:",s),n){const o=document.createElement("span");return o.textContent=n,o.style.verticalAlign="middle",o}return""}}const when=(i,e)=>i?e():null,{div:div$7,span:span$1,input:input$1,label:label$3}=van.tags,renderLabelContent=i=>{const e=typeof i=="function"?i():i;return Array.isArray(e)?div$7({style:"display: inline-flex; align-items: center;"},...e):e},createSlider=(i,e,t,n,s,o=!1,a="%",l=100)=>div$7({style:"margin-bottom: 20px;"},typeof i=="function"?()=>{const c=i();return typeof c=="string"?label$3(c+": "):div$7({style:"display: inline-block; margin-right: 5px;"},c)}:typeof i=="string"?label$3(i+": "):div$7({style:"display: inline-block; margin-right: 5px;"},i),input$1({type:"range",min:t,max:n,step:s,value:e,oninput:c=>e.val=parseFloat(c.target.value),style:"margin-left: 10px;",class:"interactive-element"}),when(o,()=>span$1({style:"margin-left: 10px;"},()=>a==="%"?Math.round(e.val*l)+a:e.val+a))),createCheckbox=(i,e,t)=>t?div$7({style:"display: flex; align-items: center; gap: 8px; cursor: pointer;",onclick:()=>e.val=!e.val,role:"checkbox","aria-checked":()=>e.val},()=>{const n=e.val?t.checked:t.unchecked;return typeof n=="string"?span$1({style:"font-size: 1.2rem; display: inline-flex; align-items: center;",class:"custom-checkbox-text"},n):div$7({style:"display: inline-flex; align-items: center;",class:"custom-checkbox"},n)},typeof i=="function"?()=>renderLabelContent(i()):renderLabelContent(i)):label$3({style:"display: flex; align-items: center; gap: 8px; cursor: pointer;"},input$1({type:"checkbox",checked:e,onchange:n=>e.val=n.target.checked}),typeof i=="function"?()=>renderLabelContent(i()):renderLabelContent(i)),{div:div$6}=van.tags,ExpandableHeader=(i,e,t)=>div$6({class:"expandable-header"},div$6({style:"display: flex; flex-direction: row; column-gap: 1rem; padding-right: 3rem;"},div$6({style:"cursor: pointer;",onclick:()=>e.val=e.val==="true"?"false":"true"},()=>`${e.val==="true"?"▼":"▶"} ${i}`),t)),locked="🔒",unlocked="🔓",UNICODES={locked,unlocked},{div:div$5}=van.tags,VolumeSlider=i=>createSlider("Volume",i,0,1,.001),InputControls=(i,e,t,n)=>div$5({style:"display: flex; gap: 10px;"},createCheckbox(t,i),createCheckbox(n,e)),LoopHoldControls=(i,e,t,n)=>div$5({style:"display: flex; gap: 10px;"},createCheckbox(()=>i.val||e.val?n.loopOn:n.loopOff,e,{unchecked:UNICODES.unlocked,checked:UNICODES.locked}),createCheckbox("Hold",t,{unchecked:UNICODES.unlocked,checked:UNICODES.locked})),FilterSliders=(i,e)=>div$5({class:"filter-controls",style:"display: flex; flex-direction: column; gap: 10px;"},createSlider("HighCut",i,20,2e4,1),createSlider("LowCut",e,20,2e4,1)),registeredElements=new Set;function defineElement(i,e){registeredElements.has(i)||(customElements.define(i,e),registeredElements.add(i))}function _assertThisInitialized$1$1(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _inheritsLoose$1$1(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _config$1={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_defaults$1={duration:.5,overwrite:!1,delay:0},_suppressOverwrites$1,_reverting$3,_context$1$1,_bigNum$3=1e8,_tinyNum$1=1/_bigNum$3,_2PI$1=Math.PI*2,_HALF_PI$1=_2PI$1/4,_gsID$1=0,_sqrt$2=Math.sqrt,_cos$1=Math.cos,_sin$1=Math.sin,_isString$1=function(i){return typeof i=="string"},_isFunction$1$1=function(i){return typeof i=="function"},_isNumber$1=function(i){return typeof i=="number"},_isUndefined$2=function(i){return typeof i>"u"},_isObject$1$1=function(i){return typeof i=="object"},_isNotFalse$1=function(i){return i!==!1},_windowExists$3=function(){return typeof window<"u"},_isFuncOrString$1=function(i){return _isFunction$1$1(i)||_isString$1(i)},_isTypedArray$1=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_isArray$1$1=Array.isArray,_strictNumExp$1=/(?:-?\.?\d|\.)+/gi,_numExp$3=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_numWithUnitExp$1=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_complexStringNumExp$1=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_relExp$1=/[+-]=-?[.\d]+/,_delimitedValueExp$1=/[^,'"\[\]\s]+/gi,_unitExp$1=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,_globalTimeline$1,_win$4,_coreInitted$3,_doc$3$1,_globals$1={},_installScope$1={},_coreReady$1,_install$1=function(i){return(_installScope$1=_merge$1(i,_globals$1))&&gsap$4},_missingPlugin$1=function(i,e){return console.warn("Invalid property",i,"set to",e,"Missing plugin? gsap.registerPlugin()")},_warn$1=function(i,e){return!e&&console.warn(i)},_addGlobal$1=function(i,e){return i&&(_globals$1[i]=e)&&_installScope$1&&(_installScope$1[i]=e)||_globals$1},_emptyFunc$2=function(){return 0},_startAtRevertConfig$1={suppressEvents:!0,isStart:!0,kill:!1},_revertConfigNoKill$1={suppressEvents:!0,kill:!1},_revertConfig$1={suppressEvents:!0},_reservedProps$1={},_lazyTweens$1=[],_lazyLookup$1={},_lastRenderedFrame$1,_plugins$1={},_effects$1={},_nextGCFrame$1=30,_harnessPlugins$1=[],_callbackNames$1="",_harness$1=function(i){var e=i[0],t,n;if(_isObject$1$1(e)||_isFunction$1$1(e)||(i=[i]),!(t=(e._gsap||{}).harness)){for(n=_harnessPlugins$1.length;n--&&!_harnessPlugins$1[n].targetTest(e););t=_harnessPlugins$1[n]}for(n=i.length;n--;)i[n]&&(i[n]._gsap||(i[n]._gsap=new GSCache$1(i[n],t)))||i.splice(n,1);return i},_getCache$1=function(i){return i._gsap||_harness$1(toArray$1(i))[0]._gsap},_getProperty$1=function(i,e,t){return(t=i[e])&&_isFunction$1$1(t)?i[e]():_isUndefined$2(t)&&i.getAttribute&&i.getAttribute(e)||t},_forEachName$1=function(i,e){return(i=i.split(",")).forEach(e)||i},_round$4=function(i){return Math.round(i*1e5)/1e5||0},_roundPrecise$1=function(i){return Math.round(i*1e7)/1e7||0},_parseRelative$1=function(i,e){var t=e.charAt(0),n=parseFloat(e.substr(2));return i=parseFloat(i),t==="+"?i+n:t==="-"?i-n:t==="*"?i*n:i/n},_arrayContainsAny$1=function(i,e){for(var t=e.length,n=0;i.indexOf(e[n])<0&&++n<t;);return n<t},_lazyRender$1=function(){var i=_lazyTweens$1.length,e=_lazyTweens$1.slice(0),t,n;for(_lazyLookup$1={},_lazyTweens$1.length=0,t=0;t<i;t++)n=e[t],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},_isRevertWorthy$1=function(i){return!!(i._initted||i._startAt||i.add)},_lazySafeRender$1=function(i,e,t,n){_lazyTweens$1.length&&!_reverting$3&&_lazyRender$1(),i.render(e,t,!!(_reverting$3&&e<0&&_isRevertWorthy$1(i))),_lazyTweens$1.length&&!_reverting$3&&_lazyRender$1()},_numericIfPossible$1=function(i){var e=parseFloat(i);return(e||e===0)&&(i+"").match(_delimitedValueExp$1).length<2?e:_isString$1(i)?i.trim():i},_passThrough$1=function(i){return i},_setDefaults$1$1=function(i,e){for(var t in e)t in i||(i[t]=e[t]);return i},_setKeyframeDefaults$1=function(i){return function(e,t){for(var n in t)n in e||n==="duration"&&i||n==="ease"||(e[n]=t[n])}},_merge$1=function(i,e){for(var t in e)i[t]=e[t];return i},_mergeDeep$1=function i(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=_isObject$1$1(t[n])?i(e[n]||(e[n]={}),t[n]):t[n]);return e},_copyExcluding$1=function(i,e){var t={},n;for(n in i)n in e||(t[n]=i[n]);return t},_inheritDefaults$1=function(i){var e=i.parent||_globalTimeline$1,t=i.keyframes?_setKeyframeDefaults$1(_isArray$1$1(i.keyframes)):_setDefaults$1$1;if(_isNotFalse$1(i.inherit))for(;e;)t(i,e.vars.defaults),e=e.parent||e._dp;return i},_arraysMatch$1=function(i,e){for(var t=i.length,n=t===e.length;n&&t--&&i[t]===e[t];);return t<0},_addLinkedListItem$1=function(i,e,t,n,s){var o=i[n],a;if(s)for(a=e[s];o&&o[s]>a;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=i[t],i[t]=e),e._next?e._next._prev=e:i[n]=e,e._prev=o,e.parent=e._dp=i,e},_removeLinkedListItem$1=function(i,e,t,n){t===void 0&&(t="_first"),n===void 0&&(n="_last");var s=e._prev,o=e._next;s?s._next=o:i[t]===e&&(i[t]=o),o?o._prev=s:i[n]===e&&(i[n]=s),e._next=e._prev=e.parent=null},_removeFromParent$1=function(i,e){i.parent&&(!e||i.parent.autoRemoveChildren)&&i.parent.remove&&i.parent.remove(i),i._act=0},_uncache$1=function(i,e){if(i&&(!e||e._end>i._dur||e._start<0))for(var t=i;t;)t._dirty=1,t=t.parent;return i},_recacheAncestors$1=function(i){for(var e=i.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return i},_rewindStartAt$1=function(i,e,t,n){return i._startAt&&(_reverting$3?i._startAt.revert(_revertConfigNoKill$1):i.vars.immediateRender&&!i.vars.autoRevert||i._startAt.render(e,!0,n))},_hasNoPausedAncestors$1=function i(e){return!e||e._ts&&i(e.parent)},_elapsedCycleDuration$1=function(i){return i._repeat?_animationCycle$1(i._tTime,i=i.duration()+i._rDelay)*i:0},_animationCycle$1=function(i,e){var t=Math.floor(i=_roundPrecise$1(i/e));return i&&t===i?t-1:t},_parentToChildTotalTime$1=function(i,e){return(i-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},_setEnd$1=function(i){return i._end=_roundPrecise$1(i._start+(i._tDur/Math.abs(i._ts||i._rts||_tinyNum$1)||0))},_alignPlayhead$1=function(i,e){var t=i._dp;return t&&t.smoothChildTiming&&i._ts&&(i._start=_roundPrecise$1(t._time-(i._ts>0?e/i._ts:((i._dirty?i.totalDuration():i._tDur)-e)/-i._ts)),_setEnd$1(i),t._dirty||_uncache$1(t,i)),i},_postAddChecks$1=function(i,e){var t;if((e._time||!e._dur&&e._initted||e._start<i._time&&(e._dur||!e.add))&&(t=_parentToChildTotalTime$1(i.rawTime(),e),(!e._dur||_clamp$1(0,e.totalDuration(),t)-e._tTime>_tinyNum$1)&&e.render(t,!0)),_uncache$1(i,e)._dp&&i._initted&&i._time>=i._dur&&i._ts){if(i._dur<i.duration())for(t=i;t._dp;)t.rawTime()>=0&&t.totalTime(t._tTime),t=t._dp;i._zTime=-1e-8}},_addToTimeline$1=function(i,e,t,n){return e.parent&&_removeFromParent$1(e),e._start=_roundPrecise$1((_isNumber$1(t)?t:t||i!==_globalTimeline$1?_parsePosition$1(i,t,e):i._time)+e._delay),e._end=_roundPrecise$1(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),_addLinkedListItem$1(i,e,"_first","_last",i._sort?"_start":0),_isFromOrFromStart$1(e)||(i._recent=e),n||_postAddChecks$1(i,e),i._ts<0&&_alignPlayhead$1(i,i._tTime),i},_scrollTrigger$1=function(i,e){return(_globals$1.ScrollTrigger||_missingPlugin$1("scrollTrigger",e))&&_globals$1.ScrollTrigger.create(e,i)},_attemptInitTween$1=function(i,e,t,n,s){if(_initTween$1(i,e,s),!i._initted)return 1;if(!t&&i._pt&&!_reverting$3&&(i._dur&&i.vars.lazy!==!1||!i._dur&&i.vars.lazy)&&_lastRenderedFrame$1!==_ticker$1.frame)return _lazyTweens$1.push(i),i._lazy=[s,n],1},_parentPlayheadIsBeforeStart$1=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},_isFromOrFromStart$1=function(i){var e=i.data;return e==="isFromStart"||e==="isStart"},_renderZeroDurationTween$1=function(i,e,t,n){var s=i.ratio,o=e<0||!e&&(!i._start&&_parentPlayheadIsBeforeStart$1(i)&&!(!i._initted&&_isFromOrFromStart$1(i))||(i._ts<0||i._dp._ts<0)&&!_isFromOrFromStart$1(i))?0:1,a=i._rDelay,l=0,c,h,f;if(a&&i._repeat&&(l=_clamp$1(0,i._tDur,e),h=_animationCycle$1(l,a),i._yoyo&&h&1&&(o=1-o),h!==_animationCycle$1(i._tTime,a)&&(s=1-o,i.vars.repeatRefresh&&i._initted&&i.invalidate())),o!==s||_reverting$3||n||i._zTime===_tinyNum$1||!e&&i._zTime){if(!i._initted&&_attemptInitTween$1(i,e,n,t,l))return;for(f=i._zTime,i._zTime=e||(t?_tinyNum$1:0),t||(t=e&&!f),i.ratio=o,i._from&&(o=1-o),i._time=0,i._tTime=l,c=i._pt;c;)c.r(o,c.d),c=c._next;e<0&&_rewindStartAt$1(i,e,t,!0),i._onUpdate&&!t&&_callback$1(i,"onUpdate"),l&&i._repeat&&!t&&i.parent&&_callback$1(i,"onRepeat"),(e>=i._tDur||e<0)&&i.ratio===o&&(o&&_removeFromParent$1(i,1),!t&&!_reverting$3&&(_callback$1(i,o?"onComplete":"onReverseComplete",!0),i._prom&&i._prom()))}else i._zTime||(i._zTime=e)},_findNextPauseTween$1=function(i,e,t){var n;if(t>e)for(n=i._first;n&&n._start<=t;){if(n.data==="isPause"&&n._start>e)return n;n=n._next}else for(n=i._last;n&&n._start>=t;){if(n.data==="isPause"&&n._start<e)return n;n=n._prev}},_setDuration$1=function(i,e,t,n){var s=i._repeat,o=_roundPrecise$1(e)||0,a=i._tTime/i._tDur;return a&&!n&&(i._time*=o/i._dur),i._dur=o,i._tDur=s?s<0?1e10:_roundPrecise$1(o*(s+1)+i._rDelay*s):o,a>0&&!n&&_alignPlayhead$1(i,i._tTime=i._tDur*a),i.parent&&_setEnd$1(i),t||_uncache$1(i.parent,i),i},_onUpdateTotalDuration$1=function(i){return i instanceof Timeline$1?_uncache$1(i):_setDuration$1(i,i._dur)},_zeroPosition$1={_start:0,endTime:_emptyFunc$2,totalDuration:_emptyFunc$2},_parsePosition$1=function i(e,t,n){var s=e.labels,o=e._recent||_zeroPosition$1,a=e.duration()>=_bigNum$3?o.endTime(!1):e._dur,l,c,h;return _isString$1(t)&&(isNaN(t)||t in s)?(c=t.charAt(0),h=t.substr(-1)==="%",l=t.indexOf("="),c==="<"||c===">"?(l>=0&&(t=t.replace(/=/,"")),(c==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(l<0?o:n).totalDuration()/100:1)):l<0?(t in s||(s[t]=a),s[t]):(c=parseFloat(t.charAt(l-1)+t.substr(l+1)),h&&n&&(c=c/100*(_isArray$1$1(n)?n[0]:n).totalDuration()),l>1?i(e,t.substr(0,l-1),n)+c:a+c)):t==null?a:+t},_createTweenType$1=function(i,e,t){var n=_isNumber$1(e[1]),s=(n?2:1)+(i<2?0:1),o=e[s],a,l;if(n&&(o.duration=e[1]),o.parent=t,i){for(a=o,l=t;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=_isNotFalse$1(l.vars.inherit)&&l.parent;o.immediateRender=_isNotFalse$1(a.immediateRender),i<2?o.runBackwards=1:o.startAt=e[s-1]}return new Tween$1(e[0],o,e[s+1])},_conditionalReturn$1=function(i,e){return i||i===0?e(i):e},_clamp$1=function(i,e,t){return t<i?i:t>e?e:t},getUnit$1=function(i,e){return!_isString$1(i)||!(e=_unitExp$1.exec(i))?"":e[1]},clamp$1=function(i,e,t){return _conditionalReturn$1(t,function(n){return _clamp$1(i,e,n)})},_slice$1=[].slice,_isArrayLike$1=function(i,e){return i&&_isObject$1$1(i)&&"length"in i&&(!e&&!i.length||i.length-1 in i&&_isObject$1$1(i[0]))&&!i.nodeType&&i!==_win$4},_flatten$1=function(i,e,t){return t===void 0&&(t=[]),i.forEach(function(n){var s;return _isString$1(n)&&!e||_isArrayLike$1(n,1)?(s=t).push.apply(s,toArray$1(n)):t.push(n)})||t},toArray$1=function(i,e,t){return _context$1$1&&!e&&_context$1$1.selector?_context$1$1.selector(i):_isString$1(i)&&!t&&(_coreInitted$3||!_wake$1())?_slice$1.call((e||_doc$3$1).querySelectorAll(i),0):_isArray$1$1(i)?_flatten$1(i,t):_isArrayLike$1(i)?_slice$1.call(i,0):i?[i]:[]},selector$1=function(i){return i=toArray$1(i)[0]||_warn$1("Invalid scope")||{},function(e){var t=i.current||i.nativeElement||i;return toArray$1(e,t.querySelectorAll?t:t===i?_warn$1("Invalid scope")||_doc$3$1.createElement("div"):i)}},shuffle$1=function(i){return i.sort(function(){return .5-Math.random()})},distribute$1=function(i){if(_isFunction$1$1(i))return i;var e=_isObject$1$1(i)?i:{each:i},t=_parseEase$1(e.ease),n=e.from||0,s=parseFloat(e.base)||0,o={},a=n>0&&n<1,l=isNaN(n)||a,c=e.axis,h=n,f=n;return _isString$1(n)?h=f={center:.5,edges:.5,end:1}[n]||0:!a&&l&&(h=n[0],f=n[1]),function(_,y,u){var b=(u||e).length,$=o[b],k,A,C,I,S,O,L,B,N;if(!$){if(N=e.grid==="auto"?0:(e.grid||[1,_bigNum$3])[1],!N){for(L=-1e8;L<(L=u[N++].getBoundingClientRect().left)&&N<b;);N<b&&N--}for($=o[b]=[],k=l?Math.min(N,b)*h-.5:n%N,A=N===_bigNum$3?0:l?b*f/N-.5:n/N|0,L=0,B=_bigNum$3,O=0;O<b;O++)C=O%N-k,I=A-(O/N|0),$[O]=S=c?Math.abs(c==="y"?I:C):_sqrt$2(C*C+I*I),S>L&&(L=S),S<B&&(B=S);n==="random"&&shuffle$1($),$.max=L-B,$.min=B,$.v=b=(parseFloat(e.amount)||parseFloat(e.each)*(N>b?b-1:c?c==="y"?b/N:N:Math.max(N,b/N))||0)*(n==="edges"?-1:1),$.b=b<0?s-b:s,$.u=getUnit$1(e.amount||e.each)||0,t=t&&b<0?_invertEase$1(t):t}return b=($[_]-$.min)/$.max||0,_roundPrecise$1($.b+(t?t(b):b)*$.v)+$.u}},_roundModifier$1=function(i){var e=Math.pow(10,((i+"").split(".")[1]||"").length);return function(t){var n=_roundPrecise$1(Math.round(parseFloat(t)/i)*i*e);return(n-n%1)/e+(_isNumber$1(t)?0:getUnit$1(t))}},snap$1=function(i,e){var t=_isArray$1$1(i),n,s;return!t&&_isObject$1$1(i)&&(n=t=i.radius||_bigNum$3,i.values?(i=toArray$1(i.values),(s=!_isNumber$1(i[0]))&&(n*=n)):i=_roundModifier$1(i.increment)),_conditionalReturn$1(e,t?_isFunction$1$1(i)?function(o){return s=i(o),Math.abs(s-o)<=n?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=_bigNum$3,h=0,f=i.length,_,y;f--;)s?(_=i[f].x-a,y=i[f].y-l,_=_*_+y*y):_=Math.abs(i[f]-a),_<c&&(c=_,h=f);return h=!n||c<=n?i[h]:o,s||h===o||_isNumber$1(o)?h:h+getUnit$1(o)}:_roundModifier$1(i))},random$1=function(i,e,t,n){return _conditionalReturn$1(_isArray$1$1(i)?!e:t===!0?!!(t=0):!n,function(){return _isArray$1$1(i)?i[~~(Math.random()*i.length)]:(t=t||1e-5)&&(n=t<1?Math.pow(10,(t+"").length-2):1)&&Math.floor(Math.round((i-t/2+Math.random()*(e-i+t*.99))/t)*t*n)/n})},pipe$1=function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(n){return e.reduce(function(s,o){return o(s)},n)}},unitize$1=function(i,e){return function(t){return i(parseFloat(t))+(e||getUnit$1(t))}},normalize$1=function(i,e,t){return mapRange$1(i,e,0,1,t)},_wrapArray$1=function(i,e,t){return _conditionalReturn$1(t,function(n){return i[~~e(n)]})},wrap$1=function i(e,t,n){var s=t-e;return _isArray$1$1(e)?_wrapArray$1(e,i(0,e.length),t):_conditionalReturn$1(n,function(o){return(s+(o-e)%s)%s+e})},wrapYoyo$1=function i(e,t,n){var s=t-e,o=s*2;return _isArray$1$1(e)?_wrapArray$1(e,i(0,e.length-1),t):_conditionalReturn$1(n,function(a){return a=(o+(a-e)%o)%o||0,e+(a>s?o-a:a)})},_replaceRandom$1=function(i){for(var e=0,t="",n,s,o,a;~(n=i.indexOf("random(",e));)o=i.indexOf(")",n),a=i.charAt(n+7)==="[",s=i.substr(n+7,o-n-7).match(a?_delimitedValueExp$1:_strictNumExp$1),t+=i.substr(e,n-e)+random$1(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),e=o+1;return t+i.substr(e,i.length-e)},mapRange$1=function(i,e,t,n,s){var o=e-i,a=n-t;return _conditionalReturn$1(s,function(l){return t+((l-i)/o*a||0)})},interpolate$1=function i(e,t,n,s){var o=isNaN(e+t)?0:function(u){return(1-u)*e+u*t};if(!o){var a=_isString$1(e),l={},c,h,f,_,y;if(n===!0&&(s=1)&&(n=null),a)e={p:e},t={p:t};else if(_isArray$1$1(e)&&!_isArray$1$1(t)){for(f=[],_=e.length,y=_-2,h=1;h<_;h++)f.push(i(e[h-1],e[h]));_--,o=function(u){u*=_;var b=Math.min(y,~~u);return f[b](u-b)},n=t}else s||(e=_merge$1(_isArray$1$1(e)?[]:{},e));if(!f){for(c in t)_addPropTween$1.call(l,e,c,"get",t[c]);o=function(u){return _renderPropTweens$1(u,l)||(a?e.p:e)}}}return _conditionalReturn$1(n,o)},_getLabelInDirection$1=function(i,e,t){var n=i.labels,s=_bigNum$3,o,a,l;for(o in n)a=n[o]-e,a<0==!!t&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},_callback$1=function(i,e,t){var n=i.vars,s=n[e],o=_context$1$1,a=i._ctx,l,c,h;if(s)return l=n[e+"Params"],c=n.callbackScope||i,t&&_lazyTweens$1.length&&_lazyRender$1(),a&&(_context$1$1=a),h=l?s.apply(c,l):s.call(c),_context$1$1=o,h},_interrupt$1=function(i){return _removeFromParent$1(i),i.scrollTrigger&&i.scrollTrigger.kill(!!_reverting$3),i.progress()<1&&_callback$1(i,"onInterrupt"),i},_quickTween$1,_registerPluginQueue$1=[],_createPlugin$1=function(i){if(i)if(i=!i.name&&i.default||i,_windowExists$3()||i.headless){var e=i.name,t=_isFunction$1$1(i),n=e&&!t&&i.init?function(){this._props=[]}:i,s={init:_emptyFunc$2,render:_renderPropTweens$1,add:_addPropTween$1,kill:_killPropTweensOf$1,modifier:_addPluginModifier$1,rawVars:0},o={targetTest:0,get:0,getSetter:_getSetter$1,aliases:{},register:0};if(_wake$1(),i!==n){if(_plugins$1[e])return;_setDefaults$1$1(n,_setDefaults$1$1(_copyExcluding$1(i,s),o)),_merge$1(n.prototype,_merge$1(s,_copyExcluding$1(i,o))),_plugins$1[n.prop=e]=n,i.targetTest&&(_harnessPlugins$1.push(n),_reservedProps$1[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}_addGlobal$1(e,n),i.register&&i.register(gsap$4,n,PropTween$1)}else _registerPluginQueue$1.push(i)},_255$1=255,_colorLookup$1={aqua:[0,_255$1,_255$1],lime:[0,_255$1,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_255$1],navy:[0,0,128],white:[_255$1,_255$1,_255$1],olive:[128,128,0],yellow:[_255$1,_255$1,0],orange:[_255$1,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_255$1,0,0],pink:[_255$1,192,203],cyan:[0,_255$1,_255$1],transparent:[_255$1,_255$1,_255$1,0]},_hue$1=function(i,e,t){return i+=i<0?1:i>1?-1:0,(i*6<1?e+(t-e)*i*6:i<.5?t:i*3<2?e+(t-e)*(2/3-i)*6:e)*_255$1+.5|0},splitColor$1=function(i,e,t){var n=i?_isNumber$1(i)?[i>>16,i>>8&_255$1,i&_255$1]:0:_colorLookup$1.black,s,o,a,l,c,h,f,_,y,u;if(!n){if(i.substr(-1)===","&&(i=i.substr(0,i.length-1)),_colorLookup$1[i])n=_colorLookup$1[i];else if(i.charAt(0)==="#"){if(i.length<6&&(s=i.charAt(1),o=i.charAt(2),a=i.charAt(3),i="#"+s+s+o+o+a+a+(i.length===5?i.charAt(4)+i.charAt(4):"")),i.length===9)return n=parseInt(i.substr(1,6),16),[n>>16,n>>8&_255$1,n&_255$1,parseInt(i.substr(7),16)/255];i=parseInt(i.substr(1),16),n=[i>>16,i>>8&_255$1,i&_255$1]}else if(i.substr(0,3)==="hsl"){if(n=u=i.match(_strictNumExp$1),!e)l=+n[0]%360/360,c=+n[1]/100,h=+n[2]/100,o=h<=.5?h*(c+1):h+c-h*c,s=h*2-o,n.length>3&&(n[3]*=1),n[0]=_hue$1(l+1/3,s,o),n[1]=_hue$1(l,s,o),n[2]=_hue$1(l-1/3,s,o);else if(~i.indexOf("="))return n=i.match(_numExp$3),t&&n.length<4&&(n[3]=1),n}else n=i.match(_strictNumExp$1)||_colorLookup$1.transparent;n=n.map(Number)}return e&&!u&&(s=n[0]/_255$1,o=n[1]/_255$1,a=n[2]/_255$1,f=Math.max(s,o,a),_=Math.min(s,o,a),h=(f+_)/2,f===_?l=c=0:(y=f-_,c=h>.5?y/(2-f-_):y/(f+_),l=f===s?(o-a)/y+(o<a?6:0):f===o?(a-s)/y+2:(s-o)/y+4,l*=60),n[0]=~~(l+.5),n[1]=~~(c*100+.5),n[2]=~~(h*100+.5)),t&&n.length<4&&(n[3]=1),n},_colorOrderData$1=function(i){var e=[],t=[],n=-1;return i.split(_colorExp$1).forEach(function(s){var o=s.match(_numWithUnitExp$1)||[];e.push.apply(e,o),t.push(n+=o.length+1)}),e.c=t,e},_formatColors$1=function(i,e,t){var n="",s=(i+n).match(_colorExp$1),o=e?"hsla(":"rgba(",a=0,l,c,h,f;if(!s)return i;if(s=s.map(function(_){return(_=splitColor$1(_,e,1))&&o+(e?_[0]+","+_[1]+"%,"+_[2]+"%,"+_[3]:_.join(","))+")"}),t&&(h=_colorOrderData$1(i),l=t.c,l.join(n)!==h.c.join(n)))for(c=i.replace(_colorExp$1,"1").split(_numWithUnitExp$1),f=c.length-1;a<f;a++)n+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(h.length?h:s.length?s:t).shift());if(!c)for(c=i.split(_colorExp$1),f=c.length-1;a<f;a++)n+=c[a]+s[a];return n+c[f]},_colorExp$1=function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in _colorLookup$1)i+="|"+e+"\\b";return new RegExp(i+")","gi")}(),_hslExp$1=/hsl[a]?\(/,_colorStringFilter$1=function(i){var e=i.join(" "),t;if(_colorExp$1.lastIndex=0,_colorExp$1.test(e))return t=_hslExp$1.test(e),i[1]=_formatColors$1(i[1],t),i[0]=_formatColors$1(i[0],t,_colorOrderData$1(i[1])),!0},_tickerActive$1,_ticker$1=function(){var i=Date.now,e=500,t=33,n=i(),s=n,o=1e3/240,a=o,l=[],c,h,f,_,y,u,b=function $(k){var A=i()-s,C=k===!0,I,S,O,L;if((A>e||A<0)&&(n+=A-t),s+=A,O=s-n,I=O-a,(I>0||C)&&(L=++_.frame,y=O-_.time*1e3,_.time=O=O/1e3,a+=I+(I>=o?4:o-I),S=1),C||(c=h($)),S)for(u=0;u<l.length;u++)l[u](O,y,L,k)};return _={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function($){return y/(1e3/($||60))},wake:function(){_coreReady$1&&(!_coreInitted$3&&_windowExists$3()&&(_win$4=_coreInitted$3=window,_doc$3$1=_win$4.document||{},_globals$1.gsap=gsap$4,(_win$4.gsapVersions||(_win$4.gsapVersions=[])).push(gsap$4.version),_install$1(_installScope$1||_win$4.GreenSockGlobals||!_win$4.gsap&&_win$4||{}),_registerPluginQueue$1.forEach(_createPlugin$1)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&_.sleep(),h=f||function($){return setTimeout($,a-_.time*1e3+1|0)},_tickerActive$1=1,b(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(c),_tickerActive$1=0,h=_emptyFunc$2},lagSmoothing:function($,k){e=$||1/0,t=Math.min(k||33,e)},fps:function($){o=1e3/($||240),a=_.time*1e3+o},add:function($,k,A){var C=k?function(I,S,O,L){$(I,S,O,L),_.remove(C)}:$;return _.remove($),l[A?"unshift":"push"](C),_wake$1(),C},remove:function($,k){~(k=l.indexOf($))&&l.splice(k,1)&&u>=k&&u--},_listeners:l},_}(),_wake$1=function(){return!_tickerActive$1&&_ticker$1.wake()},_easeMap$1={},_customEaseExp$1=/^[\d.\-M][\d.\-,\s]/,_quotesExp$1=/["']/g,_parseObjectInString$1=function(i){for(var e={},t=i.substr(1,i.length-3).split(":"),n=t[0],s=1,o=t.length,a,l,c;s<o;s++)l=t[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),e[n]=isNaN(c)?c.replace(_quotesExp$1,"").trim():+c,n=l.substr(a+1).trim();return e},_valueInParentheses$1=function(i){var e=i.indexOf("(")+1,t=i.indexOf(")"),n=i.indexOf("(",e);return i.substring(e,~n&&n<t?i.indexOf(")",t+1):t)},_configEaseFromString$1=function(i){var e=(i+"").split("("),t=_easeMap$1[e[0]];return t&&e.length>1&&t.config?t.config.apply(null,~i.indexOf("{")?[_parseObjectInString$1(e[1])]:_valueInParentheses$1(i).split(",").map(_numericIfPossible$1)):_easeMap$1._CE&&_customEaseExp$1.test(i)?_easeMap$1._CE("",i):t},_invertEase$1=function(i){return function(e){return 1-i(1-e)}},_propagateYoyoEase$1=function i(e,t){for(var n=e._first,s;n;)n instanceof Timeline$1?i(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?i(n.timeline,t):(s=n._ease,n._ease=n._yEase,n._yEase=s,n._yoyo=t)),n=n._next},_parseEase$1=function(i,e){return i&&(_isFunction$1$1(i)?i:_easeMap$1[i]||_configEaseFromString$1(i))||e},_insertEase$1=function(i,e,t,n){t===void 0&&(t=function(a){return 1-e(1-a)}),n===void 0&&(n=function(a){return a<.5?e(a*2)/2:1-e((1-a)*2)/2});var s={easeIn:e,easeOut:t,easeInOut:n},o;return _forEachName$1(i,function(a){_easeMap$1[a]=_globals$1[a]=s,_easeMap$1[o=a.toLowerCase()]=t;for(var l in s)_easeMap$1[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=_easeMap$1[a+"."+l]=s[l]}),s},_easeInOutFromOut$1=function(i){return function(e){return e<.5?(1-i(1-e*2))/2:.5+i((e-.5)*2)/2}},_configElastic$1=function i(e,t,n){var s=t>=1?t:1,o=(n||(e?.3:.45))/(t<1?t:1),a=o/_2PI$1*(Math.asin(1/s)||0),l=function(h){return h===1?1:s*Math.pow(2,-10*h)*_sin$1((h-a)*o)+1},c=e==="out"?l:e==="in"?function(h){return 1-l(1-h)}:_easeInOutFromOut$1(l);return o=_2PI$1/o,c.config=function(h,f){return i(e,h,f)},c},_configBack$1=function i(e,t){t===void 0&&(t=1.70158);var n=function(o){return o?--o*o*((t+1)*o+t)+1:0},s=e==="out"?n:e==="in"?function(o){return 1-n(1-o)}:_easeInOutFromOut$1(n);return s.config=function(o){return i(e,o)},s};_forEachName$1("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;_insertEase$1(i+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});_easeMap$1.Linear.easeNone=_easeMap$1.none=_easeMap$1.Linear.easeIn;_insertEase$1("Elastic",_configElastic$1("in"),_configElastic$1("out"),_configElastic$1());(function(i,e){var t=1/e,n=2*t,s=2.5*t,o=function(a){return a<t?i*a*a:a<n?i*Math.pow(a-1.5/e,2)+.75:a<s?i*(a-=2.25/e)*a+.9375:i*Math.pow(a-2.625/e,2)+.984375};_insertEase$1("Bounce",function(a){return 1-o(1-a)},o)})(7.5625,2.75);_insertEase$1("Expo",function(i){return Math.pow(2,10*(i-1))*i+i*i*i*i*i*i*(1-i)});_insertEase$1("Circ",function(i){return-(_sqrt$2(1-i*i)-1)});_insertEase$1("Sine",function(i){return i===1?1:-_cos$1(i*_HALF_PI$1)+1});_insertEase$1("Back",_configBack$1("in"),_configBack$1("out"),_configBack$1());_easeMap$1.SteppedEase=_easeMap$1.steps=_globals$1.SteppedEase={config:function(i,e){i===void 0&&(i=1);var t=1/i,n=i+(e?0:1),s=e?1:0,o=1-_tinyNum$1;return function(a){return((n*_clamp$1(0,o,a)|0)+s)*t}}};_defaults$1.ease=_easeMap$1["quad.out"];_forEachName$1("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return _callbackNames$1+=i+","+i+"Params,"});var GSCache$1=function(i,e){this.id=_gsID$1++,i._gsap=this,this.target=i,this.harness=e,this.get=e?e.get:_getProperty$1,this.set=e?e.getSetter:_getSetter$1},Animation$1=function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,_setDuration$1(this,+t.duration,1,1),this.data=t.data,_context$1$1&&(this._ctx=_context$1$1,_context$1$1.data.push(this)),_tickerActive$1||_ticker$1.wake()}var e=i.prototype;return e.delay=function(t){return t||t===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,_setDuration$1(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,n){if(_wake$1(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(_alignPlayhead$1(this,t),!s._dp||s.parent||_postAddChecks$1(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&_addToTimeline$1(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===_tinyNum$1||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),_lazySafeRender$1(this,t,n)),this},e.time=function(t,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+_elapsedCycleDuration$1(this))%(this._dur+this._rDelay)||(t?this._dur:0),n):this._time},e.totalProgress=function(t,n){return arguments.length?this.totalTime(this.totalDuration()*t,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(t,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-t:t)+_elapsedCycleDuration$1(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,n){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*s,n):this._repeat?_animationCycle$1(this._tTime,s)+1:1},e.timeScale=function(t,n){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===t)return this;var s=this.parent&&this._ts?_parentToChildTotalTime$1(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-1e-8?0:this._rts,this.totalTime(_clamp$1(-Math.abs(this._delay),this.totalDuration(),s),n!==!1),_setEnd$1(this),_recacheAncestors$1(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_wake$1(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==_tinyNum$1&&(this._tTime-=_tinyNum$1)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&_addToTimeline$1(n,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(_isNotFalse$1(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var n=this.parent||this._dp;return n?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_parentToChildTotalTime$1(n.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){t===void 0&&(t=_revertConfig$1);var n=_reverting$3;return _reverting$3=t,_isRevertWorthy$1(this)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),this.data!=="nested"&&t.kill!==!1&&this.kill(),_reverting$3=n,this},e.globalTime=function(t){for(var n=this,s=arguments.length?t:n.rawTime();n;)s=n._start+s/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(t):s},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,_onUpdateTotalDuration$1(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var n=this._time;return this._rDelay=t,_onUpdateTotalDuration$1(this),n?this.time(n):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,n){return this.totalTime(_parsePosition$1(this,t),_isNotFalse$1(n))},e.restart=function(t,n){return this.play().totalTime(t?-this._delay:0,_isNotFalse$1(n)),this._dur||(this._zTime=-1e-8),this},e.play=function(t,n){return t!=null&&this.seek(t,n),this.reversed(!1).paused(!1)},e.reverse=function(t,n){return t!=null&&this.seek(t||this.totalDuration(),n),this.reversed(!0).paused(!1)},e.pause=function(t,n){return t!=null&&this.seek(t,n),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t=this.parent||this._dp,n=this._start,s;return!!(!t||this._ts&&this._initted&&t.isActive()&&(s=t.rawTime(!0))>=n&&s<this.endTime(!0)-_tinyNum$1)},e.eventCallback=function(t,n,s){var o=this.vars;return arguments.length>1?(n?(o[t]=n,s&&(o[t+"Params"]=s),t==="onUpdate"&&(this._onUpdate=n)):delete o[t],this):o[t]},e.then=function(t){var n=this;return new Promise(function(s){var o=_isFunction$1$1(t)?t:_passThrough$1,a=function(){var l=n.then;n.then=null,_isFunction$1$1(o)&&(o=o(n))&&(o.then||o===n)&&(n.then=l),s(o),n.then=l};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?a():n._prom=a})},e.kill=function(){_interrupt$1(this)},i}();_setDefaults$1$1(Animation$1.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Timeline$1=function(i){_inheritsLoose$1$1(e,i);function e(n,s){var o;return n===void 0&&(n={}),o=i.call(this,n)||this,o.labels={},o.smoothChildTiming=!!n.smoothChildTiming,o.autoRemoveChildren=!!n.autoRemoveChildren,o._sort=_isNotFalse$1(n.sortChildren),_globalTimeline$1&&_addToTimeline$1(n.parent||_globalTimeline$1,_assertThisInitialized$1$1(o),s),n.reversed&&o.reverse(),n.paused&&o.paused(!0),n.scrollTrigger&&_scrollTrigger$1(_assertThisInitialized$1$1(o),n.scrollTrigger),o}var t=e.prototype;return t.to=function(n,s,o){return _createTweenType$1(0,arguments,this),this},t.from=function(n,s,o){return _createTweenType$1(1,arguments,this),this},t.fromTo=function(n,s,o,a){return _createTweenType$1(2,arguments,this),this},t.set=function(n,s,o){return s.duration=0,s.parent=this,_inheritDefaults$1(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Tween$1(n,s,_parsePosition$1(this,o),1),this},t.call=function(n,s,o){return _addToTimeline$1(this,Tween$1.delayedCall(0,n,s),o)},t.staggerTo=function(n,s,o,a,l,c,h){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=h,o.parent=this,new Tween$1(n,o,_parsePosition$1(this,l)),this},t.staggerFrom=function(n,s,o,a,l,c,h){return o.runBackwards=1,_inheritDefaults$1(o).immediateRender=_isNotFalse$1(o.immediateRender),this.staggerTo(n,s,o,a,l,c,h)},t.staggerFromTo=function(n,s,o,a,l,c,h,f){return a.startAt=o,_inheritDefaults$1(a).immediateRender=_isNotFalse$1(a.immediateRender),this.staggerTo(n,s,a,l,c,h,f)},t.render=function(n,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,h=n<=0?0:_roundPrecise$1(n),f=this._zTime<0!=n<0&&(this._initted||!c),_,y,u,b,$,k,A,C,I,S,O,L;if(this!==_globalTimeline$1&&h>l&&n>=0&&(h=l),h!==this._tTime||o||f){if(a!==this._time&&c&&(h+=this._time-a,n+=this._time-a),_=h,I=this._start,C=this._ts,k=!C,f&&(c||(a=this._zTime),(n||!s)&&(this._zTime=n)),this._repeat){if(O=this._yoyo,$=c+this._rDelay,this._repeat<-1&&n<0)return this.totalTime($*100+n,s,o);if(_=_roundPrecise$1(h%$),h===l?(b=this._repeat,_=c):(S=_roundPrecise$1(h/$),b=~~S,b&&b===S&&(_=c,b--),_>c&&(_=c)),S=_animationCycle$1(this._tTime,$),!a&&this._tTime&&S!==b&&this._tTime-S*$-this._dur<=0&&(S=b),O&&b&1&&(_=c-_,L=1),b!==S&&!this._lock){var B=O&&S&1,N=B===(O&&b&1);if(b<S&&(B=!B),a=B?0:h%c?c:h,this._lock=1,this.render(a||(L?0:_roundPrecise$1(b*$)),s,!c)._lock=0,this._tTime=h,!s&&this.parent&&_callback$1(this,"onRepeat"),this.vars.repeatRefresh&&!L&&(this.invalidate()._lock=1),a&&a!==this._time||k!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,N&&(this._lock=2,a=B?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!L&&this.invalidate()),this._lock=0,!this._ts&&!k)return this;_propagateYoyoEase$1(this,L)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(A=_findNextPauseTween$1(this,_roundPrecise$1(a),_roundPrecise$1(_)),A&&(h-=_-(_=A._start))),this._tTime=h,this._time=_,this._act=!C,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,a=0),!a&&h&&!s&&!S&&(_callback$1(this,"onStart"),this._tTime!==h))return this;if(_>=a&&n>=0)for(y=this._first;y;){if(u=y._next,(y._act||_>=y._start)&&y._ts&&A!==y){if(y.parent!==this)return this.render(n,s,o);if(y.render(y._ts>0?(_-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(_-y._start)*y._ts,s,o),_!==this._time||!this._ts&&!k){A=0,u&&(h+=this._zTime=-1e-8);break}}y=u}else{y=this._last;for(var j=n<0?n:_;y;){if(u=y._prev,(y._act||j<=y._end)&&y._ts&&A!==y){if(y.parent!==this)return this.render(n,s,o);if(y.render(y._ts>0?(j-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(j-y._start)*y._ts,s,o||_reverting$3&&_isRevertWorthy$1(y)),_!==this._time||!this._ts&&!k){A=0,u&&(h+=this._zTime=j?-1e-8:_tinyNum$1);break}}y=u}}if(A&&!s&&(this.pause(),A.render(_>=a?0:-1e-8)._zTime=_>=a?1:-1,this._ts))return this._start=I,_setEnd$1(this),this.render(n,s,o);this._onUpdate&&!s&&_callback$1(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&a)&&(I===this._start||Math.abs(C)!==Math.abs(this._ts))&&(this._lock||((n||!c)&&(h===l&&this._ts>0||!h&&this._ts<0)&&_removeFromParent$1(this,1),!s&&!(n<0&&!a)&&(h||a||!l)&&(_callback$1(this,h===l&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(n,s){var o=this;if(_isNumber$1(s)||(s=_parsePosition$1(this,s,n)),!(n instanceof Animation$1)){if(_isArray$1$1(n))return n.forEach(function(a){return o.add(a,s)}),this;if(_isString$1(n))return this.addLabel(n,s);if(_isFunction$1$1(n))n=Tween$1.delayedCall(0,n);else return this}return this!==n?_addToTimeline$1(this,n,s):this},t.getChildren=function(n,s,o,a){n===void 0&&(n=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-1e8);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Tween$1?s&&l.push(c):(o&&l.push(c),n&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(n){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===n)return s[o]},t.remove=function(n){return _isString$1(n)?this.removeLabel(n):_isFunction$1$1(n)?this.killTweensOf(n):(n.parent===this&&_removeLinkedListItem$1(this,n),n===this._recent&&(this._recent=this._last),_uncache$1(this))},t.totalTime=function(n,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_roundPrecise$1(_ticker$1.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),i.prototype.totalTime.call(this,n,s),this._forcing=0,this):this._tTime},t.addLabel=function(n,s){return this.labels[n]=_parsePosition$1(this,s),this},t.removeLabel=function(n){return delete this.labels[n],this},t.addPause=function(n,s,o){var a=Tween$1.delayedCall(0,s||_emptyFunc$2,o);return a.data="isPause",this._hasPause=1,_addToTimeline$1(this,a,_parsePosition$1(this,n))},t.removePause=function(n){var s=this._first;for(n=_parsePosition$1(this,n);s;)s._start===n&&s.data==="isPause"&&_removeFromParent$1(s),s=s._next},t.killTweensOf=function(n,s,o){for(var a=this.getTweensOf(n,o),l=a.length;l--;)_overwritingTween$1!==a[l]&&a[l].kill(n,s);return this},t.getTweensOf=function(n,s){for(var o=[],a=toArray$1(n),l=this._first,c=_isNumber$1(s),h;l;)l instanceof Tween$1?_arrayContainsAny$1(l._targets,a)&&(c?(!_overwritingTween$1||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(h=l.getTweensOf(a,s)).length&&o.push.apply(o,h),l=l._next;return o},t.tweenTo=function(n,s){s=s||{};var o=this,a=_parsePosition$1(o,n),l=s,c=l.startAt,h=l.onStart,f=l.onStartParams,_=l.immediateRender,y,u=Tween$1.to(o,_setDefaults$1$1({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||_tinyNum$1,onStart:function(){if(o.pause(),!y){var b=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());u._dur!==b&&_setDuration$1(u,b,0,1).render(u._time,!0,!0),y=1}h&&h.apply(u,f||[])}},s));return _?u.render(0):u},t.tweenFromTo=function(n,s,o){return this.tweenTo(s,_setDefaults$1$1({startAt:{time:_parsePosition$1(this,n)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(n){return n===void 0&&(n=this._time),_getLabelInDirection$1(this,_parsePosition$1(this,n))},t.previousLabel=function(n){return n===void 0&&(n=this._time),_getLabelInDirection$1(this,_parsePosition$1(this,n),1)},t.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+_tinyNum$1)},t.shiftChildren=function(n,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=n,a._end+=n),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=n);return _uncache$1(this)},t.invalidate=function(n){var s=this._first;for(this._lock=0;s;)s.invalidate(n),s=s._next;return i.prototype.invalidate.call(this,n)},t.clear=function(n){n===void 0&&(n=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),_uncache$1(this)},t.totalDuration=function(n){var s=0,o=this,a=o._last,l=_bigNum$3,c,h,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-n:n));if(o._dirty){for(f=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,_addToTimeline$1(o,a,h-a._delay,1)._lock=0):l=h,h<0&&a._ts&&(s-=h,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;_setDuration$1(o,o===_globalTimeline$1&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(n){if(_globalTimeline$1._ts&&(_lazySafeRender$1(_globalTimeline$1,_parentToChildTotalTime$1(n,_globalTimeline$1)),_lastRenderedFrame$1=_ticker$1.frame),_ticker$1.frame>=_nextGCFrame$1){_nextGCFrame$1+=_config$1.autoSleep||120;var s=_globalTimeline$1._first;if((!s||!s._ts)&&_config$1.autoSleep&&_ticker$1._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||_ticker$1.sleep()}}},e}(Animation$1);_setDefaults$1$1(Timeline$1.prototype,{_lock:0,_hasPause:0,_forcing:0});var _addComplexStringPropTween$1=function(i,e,t,n,s,o,a){var l=new PropTween$1(this._pt,i,e,0,1,_renderComplexString$1,null,s),c=0,h=0,f,_,y,u,b,$,k,A;for(l.b=t,l.e=n,t+="",n+="",(k=~n.indexOf("random("))&&(n=_replaceRandom$1(n)),o&&(A=[t,n],o(A,i,e),t=A[0],n=A[1]),_=t.match(_complexStringNumExp$1)||[];f=_complexStringNumExp$1.exec(n);)u=f[0],b=n.substring(c,f.index),y?y=(y+1)%5:b.substr(-5)==="rgba("&&(y=1),u!==_[h++]&&($=parseFloat(_[h-1])||0,l._pt={_next:l._pt,p:b||h===1?b:",",s:$,c:u.charAt(1)==="="?_parseRelative$1($,u)-$:parseFloat(u)-$,m:y&&y<4?Math.round:0},c=_complexStringNumExp$1.lastIndex);return l.c=c<n.length?n.substring(c,n.length):"",l.fp=a,(_relExp$1.test(n)||k)&&(l.e=0),this._pt=l,l},_addPropTween$1=function(i,e,t,n,s,o,a,l,c,h){_isFunction$1$1(n)&&(n=n(s||0,i,o));var f=i[e],_=t!=="get"?t:_isFunction$1$1(f)?c?i[e.indexOf("set")||!_isFunction$1$1(i["get"+e.substr(3)])?e:"get"+e.substr(3)](c):i[e]():f,y=_isFunction$1$1(f)?c?_setterFuncWithParam$1:_setterFunc$1:_setterPlain$1,u;if(_isString$1(n)&&(~n.indexOf("random(")&&(n=_replaceRandom$1(n)),n.charAt(1)==="="&&(u=_parseRelative$1(_,n)+(getUnit$1(_)||0),(u||u===0)&&(n=u))),!h||_!==n||_forceAllPropTweens$1)return!isNaN(_*n)&&n!==""?(u=new PropTween$1(this._pt,i,e,+_||0,n-(_||0),typeof f=="boolean"?_renderBoolean$1:_renderPlain$1,0,y),c&&(u.fp=c),a&&u.modifier(a,this,i),this._pt=u):(!f&&!(e in i)&&_missingPlugin$1(e,n),_addComplexStringPropTween$1.call(this,i,e,_,n,y,l||_config$1.stringFilter,c))},_processVars$1=function(i,e,t,n,s){if(_isFunction$1$1(i)&&(i=_parseFuncOrString$1(i,s,e,t,n)),!_isObject$1$1(i)||i.style&&i.nodeType||_isArray$1$1(i)||_isTypedArray$1(i))return _isString$1(i)?_parseFuncOrString$1(i,s,e,t,n):i;var o={},a;for(a in i)o[a]=_parseFuncOrString$1(i[a],s,e,t,n);return o},_checkPlugin$1=function(i,e,t,n,s,o){var a,l,c,h;if(_plugins$1[i]&&(a=new _plugins$1[i]).init(s,a.rawVars?e[i]:_processVars$1(e[i],n,s,o,t),t,n,o)!==!1&&(t._pt=l=new PropTween$1(t._pt,s,i,0,1,a.render,a,0,a.priority),t!==_quickTween$1))for(c=t._ptLookup[t._targets.indexOf(s)],h=a._props.length;h--;)c[a._props[h]]=l;return a},_overwritingTween$1,_forceAllPropTweens$1,_initTween$1=function i(e,t,n){var s=e.vars,o=s.ease,a=s.startAt,l=s.immediateRender,c=s.lazy,h=s.onUpdate,f=s.runBackwards,_=s.yoyoEase,y=s.keyframes,u=s.autoRevert,b=e._dur,$=e._startAt,k=e._targets,A=e.parent,C=A&&A.data==="nested"?A.vars.targets:k,I=e._overwrite==="auto"&&!_suppressOverwrites$1,S=e.timeline,O,L,B,N,j,Ie,ae,Be,re,sn,rt,Le,Je;if(S&&(!y||!o)&&(o="none"),e._ease=_parseEase$1(o,_defaults$1.ease),e._yEase=_?_invertEase$1(_parseEase$1(_===!0?o:_,_defaults$1.ease)):0,_&&e._yoyo&&!e._repeat&&(_=e._yEase,e._yEase=e._ease,e._ease=_),e._from=!S&&!!s.runBackwards,!S||y&&!s.stagger){if(Be=k[0]?_getCache$1(k[0]).harness:0,Le=Be&&s[Be.prop],O=_copyExcluding$1(s,_reservedProps$1),$&&($._zTime<0&&$.progress(1),t<0&&f&&l&&!u?$.render(-1,!0):$.revert(f&&b?_revertConfigNoKill$1:_startAtRevertConfig$1),$._lazy=0),a){if(_removeFromParent$1(e._startAt=Tween$1.set(k,_setDefaults$1$1({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:!$&&_isNotFalse$1(c),startAt:null,delay:0,onUpdate:h&&function(){return _callback$1(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(_reverting$3||!l&&!u)&&e._startAt.revert(_revertConfigNoKill$1),l&&b&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(f&&b&&!$){if(t&&(l=!1),B=_setDefaults$1$1({overwrite:!1,data:"isFromStart",lazy:l&&!$&&_isNotFalse$1(c),immediateRender:l,stagger:0,parent:A},O),Le&&(B[Be.prop]=Le),_removeFromParent$1(e._startAt=Tween$1.set(k,B)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(_reverting$3?e._startAt.revert(_revertConfigNoKill$1):e._startAt.render(-1,!0)),e._zTime=t,!l)i(e._startAt,_tinyNum$1,_tinyNum$1);else if(!t)return}for(e._pt=e._ptCache=0,c=b&&_isNotFalse$1(c)||c&&!b,L=0;L<k.length;L++){if(j=k[L],ae=j._gsap||_harness$1(k)[L]._gsap,e._ptLookup[L]=sn={},_lazyLookup$1[ae.id]&&_lazyTweens$1.length&&_lazyRender$1(),rt=C===k?L:C.indexOf(j),Be&&(re=new Be).init(j,Le||O,e,rt,C)!==!1&&(e._pt=N=new PropTween$1(e._pt,j,re.name,0,1,re.render,re,0,re.priority),re._props.forEach(function(on){sn[on]=N}),re.priority&&(Ie=1)),!Be||Le)for(B in O)_plugins$1[B]&&(re=_checkPlugin$1(B,O,e,rt,j,C))?re.priority&&(Ie=1):sn[B]=N=_addPropTween$1.call(e,j,B,"get",O[B],rt,C,0,s.stringFilter);e._op&&e._op[L]&&e.kill(j,e._op[L]),I&&e._pt&&(_overwritingTween$1=e,_globalTimeline$1.killTweensOf(j,sn,e.globalTime(t)),Je=!e.parent,_overwritingTween$1=0),e._pt&&c&&(_lazyLookup$1[ae.id]=1)}Ie&&_sortPropTweensByPriority$1(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!Je,y&&t<=0&&S.render(_bigNum$3,!0,!0)},_updatePropTweens$1=function(i,e,t,n,s,o,a,l){var c=(i._pt&&i._ptCache||(i._ptCache={}))[e],h,f,_,y;if(!c)for(c=i._ptCache[e]=[],_=i._ptLookup,y=i._targets.length;y--;){if(h=_[y][e],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==e&&h.fp!==e;)h=h._next;if(!h)return _forceAllPropTweens$1=1,i.vars[e]="+=0",_initTween$1(i,a),_forceAllPropTweens$1=0,l?_warn$1(e+" not eligible for reset"):1;c.push(h)}for(y=c.length;y--;)f=c[y],h=f._pt||f,h.s=(n||n===0)&&!s?n:h.s+(n||0)+o*h.c,h.c=t-h.s,f.e&&(f.e=_round$4(t)+getUnit$1(f.e)),f.b&&(f.b=h.s+getUnit$1(f.b))},_addAliasesToVars$1=function(i,e){var t=i[0]?_getCache$1(i[0]).harness:0,n=t&&t.aliases,s,o,a,l;if(!n)return e;s=_merge$1({},e);for(o in n)if(o in s)for(l=n[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},_parseKeyframe$1=function(i,e,t,n){var s=e.ease||n||"power1.inOut",o,a;if(_isArray$1$1(e))a=t[i]||(t[i]=[]),e.forEach(function(l,c){return a.push({t:c/(e.length-1)*100,v:l,e:s})});else for(o in e)a=t[o]||(t[o]=[]),o==="ease"||a.push({t:parseFloat(i),v:e[o],e:s})},_parseFuncOrString$1=function(i,e,t,n,s){return _isFunction$1$1(i)?i.call(e,t,n,s):_isString$1(i)&&~i.indexOf("random(")?_replaceRandom$1(i):i},_staggerTweenProps$1=_callbackNames$1+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",_staggerPropsToSkip$1={};_forEachName$1(_staggerTweenProps$1+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return _staggerPropsToSkip$1[i]=1});var Tween$1=function(i){_inheritsLoose$1$1(e,i);function e(n,s,o,a){var l;typeof s=="number"&&(o.duration=s,s=o,o=null),l=i.call(this,a?s:_inheritDefaults$1(s))||this;var c=l.vars,h=c.duration,f=c.delay,_=c.immediateRender,y=c.stagger,u=c.overwrite,b=c.keyframes,$=c.defaults,k=c.scrollTrigger,A=c.yoyoEase,C=s.parent||_globalTimeline$1,I=(_isArray$1$1(n)||_isTypedArray$1(n)?_isNumber$1(n[0]):"length"in s)?[n]:toArray$1(n),S,O,L,B,N,j,Ie,ae;if(l._targets=I.length?_harness$1(I):_warn$1("GSAP target "+n+" not found. https://gsap.com",!_config$1.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=u,b||y||_isFuncOrString$1(h)||_isFuncOrString$1(f)){if(s=l.vars,S=l.timeline=new Timeline$1({data:"nested",defaults:$||{},targets:C&&C.data==="nested"?C.vars.targets:I}),S.kill(),S.parent=S._dp=_assertThisInitialized$1$1(l),S._start=0,y||_isFuncOrString$1(h)||_isFuncOrString$1(f)){if(B=I.length,Ie=y&&distribute$1(y),_isObject$1$1(y))for(N in y)~_staggerTweenProps$1.indexOf(N)&&(ae||(ae={}),ae[N]=y[N]);for(O=0;O<B;O++)L=_copyExcluding$1(s,_staggerPropsToSkip$1),L.stagger=0,A&&(L.yoyoEase=A),ae&&_merge$1(L,ae),j=I[O],L.duration=+_parseFuncOrString$1(h,_assertThisInitialized$1$1(l),O,j,I),L.delay=(+_parseFuncOrString$1(f,_assertThisInitialized$1$1(l),O,j,I)||0)-l._delay,!y&&B===1&&L.delay&&(l._delay=f=L.delay,l._start+=f,L.delay=0),S.to(j,L,Ie?Ie(O,j,I):0),S._ease=_easeMap$1.none;S.duration()?h=f=0:l.timeline=0}else if(b){_inheritDefaults$1(_setDefaults$1$1(S.vars.defaults,{ease:"none"})),S._ease=_parseEase$1(b.ease||s.ease||"none");var Be=0,re,sn,rt;if(_isArray$1$1(b))b.forEach(function(Le){return S.to(I,Le,">")}),S.duration();else{L={};for(N in b)N==="ease"||N==="easeEach"||_parseKeyframe$1(N,b[N],L,b.easeEach);for(N in L)for(re=L[N].sort(function(Le,Je){return Le.t-Je.t}),Be=0,O=0;O<re.length;O++)sn=re[O],rt={ease:sn.e,duration:(sn.t-(O?re[O-1].t:0))/100*h},rt[N]=sn.v,S.to(I,rt,Be),Be+=rt.duration;S.duration()<h&&S.to({},{duration:h-S.duration()})}}h||l.duration(h=S.duration())}else l.timeline=0;return u===!0&&!_suppressOverwrites$1&&(_overwritingTween$1=_assertThisInitialized$1$1(l),_globalTimeline$1.killTweensOf(I),_overwritingTween$1=0),_addToTimeline$1(C,_assertThisInitialized$1$1(l),o),s.reversed&&l.reverse(),s.paused&&l.paused(!0),(_||!h&&!b&&l._start===_roundPrecise$1(C._time)&&_isNotFalse$1(_)&&_hasNoPausedAncestors$1(_assertThisInitialized$1$1(l))&&C.data!=="nested")&&(l._tTime=-1e-8,l.render(Math.max(0,-f)||0)),k&&_scrollTrigger$1(_assertThisInitialized$1$1(l),k),l}var t=e.prototype;return t.render=function(n,s,o){var a=this._time,l=this._tDur,c=this._dur,h=n<0,f=n>l-_tinyNum$1&&!h?l:n<_tinyNum$1?0:n,_,y,u,b,$,k,A,C,I;if(!c)_renderZeroDurationTween$1(this,n,s,o);else if(f!==this._tTime||!n||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(_=f,C=this.timeline,this._repeat){if(b=c+this._rDelay,this._repeat<-1&&h)return this.totalTime(b*100+n,s,o);if(_=_roundPrecise$1(f%b),f===l?(u=this._repeat,_=c):($=_roundPrecise$1(f/b),u=~~$,u&&u===$?(_=c,u--):_>c&&(_=c)),k=this._yoyo&&u&1,k&&(I=this._yEase,_=c-_),$=_animationCycle$1(this._tTime,b),_===a&&!o&&this._initted&&u===$)return this._tTime=f,this;u!==$&&(C&&this._yEase&&_propagateYoyoEase$1(C,k),this.vars.repeatRefresh&&!k&&!this._lock&&_!==b&&this._initted&&(this._lock=o=1,this.render(_roundPrecise$1(b*u),!0).invalidate()._lock=0))}if(!this._initted){if(_attemptInitTween$1(this,h?n:_,o,s,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&u!==$))return this;if(c!==this._dur)return this.render(n,s,o)}if(this._tTime=f,this._time=_,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=A=(I||this._ease)(_/c),this._from&&(this.ratio=A=1-A),!a&&f&&!s&&!$&&(_callback$1(this,"onStart"),this._tTime!==f))return this;for(y=this._pt;y;)y.r(A,y.d),y=y._next;C&&C.render(n<0?n:C._dur*C._ease(_/this._dur),s,o)||this._startAt&&(this._zTime=n),this._onUpdate&&!s&&(h&&_rewindStartAt$1(this,n,s,o),_callback$1(this,"onUpdate")),this._repeat&&u!==$&&this.vars.onRepeat&&!s&&this.parent&&_callback$1(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(h&&!this._onUpdate&&_rewindStartAt$1(this,n,!0,!0),(n||!c)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&_removeFromParent$1(this,1),!s&&!(h&&!a)&&(f||a||k)&&(_callback$1(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),i.prototype.invalidate.call(this,n)},t.resetTo=function(n,s,o,a,l){_tickerActive$1||_ticker$1.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||_initTween$1(this,c),h=this._ease(c/this._dur),_updatePropTweens$1(this,n,s,o,a,h,c,l)?this.resetTo(n,s,o,a,1):(_alignPlayhead$1(this,0),this.parent||_addLinkedListItem$1(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(n,s){if(s===void 0&&(s="all"),!n&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?_interrupt$1(this):this.scrollTrigger&&this.scrollTrigger.kill(!!_reverting$3),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(n,s,_overwritingTween$1&&_overwritingTween$1.vars.overwrite!==!0)._first||_interrupt$1(this),this.parent&&o!==this.timeline.totalDuration()&&_setDuration$1(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=n?toArray$1(n):a,c=this._ptLookup,h=this._pt,f,_,y,u,b,$,k;if((!s||s==="all")&&_arraysMatch$1(a,l))return s==="all"&&(this._pt=0),_interrupt$1(this);for(f=this._op=this._op||[],s!=="all"&&(_isString$1(s)&&(b={},_forEachName$1(s,function(A){return b[A]=1}),s=b),s=_addAliasesToVars$1(a,s)),k=a.length;k--;)if(~l.indexOf(a[k])){_=c[k],s==="all"?(f[k]=s,u=_,y={}):(y=f[k]=f[k]||{},u=s);for(b in u)$=_&&_[b],$&&((!("kill"in $.d)||$.d.kill(b)===!0)&&_removeLinkedListItem$1(this,$,"_pt"),delete _[b]),y!=="all"&&(y[b]=1)}return this._initted&&!this._pt&&h&&_interrupt$1(this),this},e.to=function(n,s){return new e(n,s,arguments[2])},e.from=function(n,s){return _createTweenType$1(1,arguments)},e.delayedCall=function(n,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(n,s,o){return _createTweenType$1(2,arguments)},e.set=function(n,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(n,s)},e.killTweensOf=function(n,s,o){return _globalTimeline$1.killTweensOf(n,s,o)},e}(Animation$1);_setDefaults$1$1(Tween$1.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});_forEachName$1("staggerTo,staggerFrom,staggerFromTo",function(i){Tween$1[i]=function(){var e=new Timeline$1,t=_slice$1.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});var _setterPlain$1=function(i,e,t){return i[e]=t},_setterFunc$1=function(i,e,t){return i[e](t)},_setterFuncWithParam$1=function(i,e,t,n){return i[e](n.fp,t)},_setterAttribute$1=function(i,e,t){return i.setAttribute(e,t)},_getSetter$1=function(i,e){return _isFunction$1$1(i[e])?_setterFunc$1:_isUndefined$2(i[e])&&i.setAttribute?_setterAttribute$1:_setterPlain$1},_renderPlain$1=function(i,e){return e.set(e.t,e.p,Math.round((e.s+e.c*i)*1e6)/1e6,e)},_renderBoolean$1=function(i,e){return e.set(e.t,e.p,!!(e.s+e.c*i),e)},_renderComplexString$1=function(i,e){var t=e._pt,n="";if(!i&&e.b)n=e.b;else if(i===1&&e.e)n=e.e;else{for(;t;)n=t.p+(t.m?t.m(t.s+t.c*i):Math.round((t.s+t.c*i)*1e4)/1e4)+n,t=t._next;n+=e.c}e.set(e.t,e.p,n,e)},_renderPropTweens$1=function(i,e){for(var t=e._pt;t;)t.r(i,t.d),t=t._next},_addPluginModifier$1=function(i,e,t,n){for(var s=this._pt,o;s;)o=s._next,s.p===n&&s.modifier(i,e,t),s=o},_killPropTweensOf$1=function(i){for(var e=this._pt,t,n;e;)n=e._next,e.p===i&&!e.op||e.op===i?_removeLinkedListItem$1(this,e,"_pt"):e.dep||(t=1),e=n;return!t},_setterWithModifier$1=function(i,e,t,n){n.mSet(i,e,n.m.call(n.tween,t,n.mt),n)},_sortPropTweensByPriority$1=function(i){for(var e=i._pt,t,n,s,o;e;){for(t=e._next,n=s;n&&n.pr>e.pr;)n=n._next;(e._prev=n?n._prev:o)?e._prev._next=e:s=e,(e._next=n)?n._prev=e:o=e,e=t}i._pt=s},PropTween$1=function(){function i(t,n,s,o,a,l,c,h,f){this.t=n,this.s=o,this.c=a,this.p=s,this.r=l||_renderPlain$1,this.d=c||this,this.set=h||_setterPlain$1,this.pr=f||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(t,n,s){this.mSet=this.mSet||this.set,this.set=_setterWithModifier$1,this.m=t,this.mt=s,this.tween=n},i}();_forEachName$1(_callbackNames$1+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return _reservedProps$1[i]=1});_globals$1.TweenMax=_globals$1.TweenLite=Tween$1;_globals$1.TimelineLite=_globals$1.TimelineMax=Timeline$1;_globalTimeline$1=new Timeline$1({sortChildren:!1,defaults:_defaults$1,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});_config$1.stringFilter=_colorStringFilter$1;var _media$1=[],_listeners$1={},_emptyArray$1=[],_lastMediaTime$1=0,_contextID$1=0,_dispatch$1=function(i){return(_listeners$1[i]||_emptyArray$1).map(function(e){return e()})},_onMediaChange$1=function(){var i=Date.now(),e=[];i-_lastMediaTime$1>2&&(_dispatch$1("matchMediaInit"),_media$1.forEach(function(t){var n=t.queries,s=t.conditions,o,a,l,c;for(a in n)o=_win$4.matchMedia(n[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(t.revert(),l&&e.push(t))}),_dispatch$1("matchMediaRevert"),e.forEach(function(t){return t.onMatch(t,function(n){return t.add(null,n)})}),_lastMediaTime$1=i,_dispatch$1("matchMedia"))},Context$1=function(){function i(t,n){this.selector=n&&selector$1(n),this.data=[],this._r=[],this.isReverted=!1,this.id=_contextID$1++,t&&this.add(t)}var e=i.prototype;return e.add=function(t,n,s){_isFunction$1$1(t)&&(s=n,n=t,t=_isFunction$1$1);var o=this,a=function(){var l=_context$1$1,c=o.selector,h;return l&&l!==o&&l.data.push(o),s&&(o.selector=selector$1(s)),_context$1$1=o,h=n.apply(o,arguments),_isFunction$1$1(h)&&o._r.push(h),_context$1$1=l,o.selector=c,o.isReverted=!1,h};return o.last=a,t===_isFunction$1$1?a(o,function(l){return o.add(null,l)}):t?o[t]=a:a},e.ignore=function(t){var n=_context$1$1;_context$1$1=null,t(this),_context$1$1=n},e.getTweens=function(){var t=[];return this.data.forEach(function(n){return n instanceof i?t.push.apply(t,n.getTweens()):n instanceof Tween$1&&!(n.parent&&n.parent.data==="nested")&&t.push(n)}),t},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,n){var s=this;if(t?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(h){return a.splice(a.indexOf(h),1)}));for(a.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,f){return f.g-h.g||-1/0}).forEach(function(h){return h.t.revert(t)}),l=s.data.length;l--;)c=s.data[l],c instanceof Timeline$1?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof Tween$1)&&c.revert&&c.revert(t);s._r.forEach(function(h){return h(t,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),n)for(var o=_media$1.length;o--;)_media$1[o].id===this.id&&_media$1.splice(o,1)},e.revert=function(t){this.kill(t||{})},i}(),MatchMedia$1=function(){function i(t){this.contexts=[],this.scope=t,_context$1$1&&_context$1$1.data.push(this)}var e=i.prototype;return e.add=function(t,n,s){_isObject$1$1(t)||(t={matches:t});var o=new Context$1(0,s||this.scope),a=o.conditions={},l,c,h;_context$1$1&&!o.selector&&(o.selector=_context$1$1.selector),this.contexts.push(o),n=o.add("onMatch",n),o.queries=t;for(c in t)c==="all"?h=1:(l=_win$4.matchMedia(t[c]),l&&(_media$1.indexOf(o)<0&&_media$1.push(o),(a[c]=l.matches)&&(h=1),l.addListener?l.addListener(_onMediaChange$1):l.addEventListener("change",_onMediaChange$1)));return h&&n(o,function(f){return o.add(null,f)}),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach(function(n){return n.kill(t,!0)})},i}(),_gsap$1={registerPlugin:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];e.forEach(function(n){return _createPlugin$1(n)})},timeline:function(i){return new Timeline$1(i)},getTweensOf:function(i,e){return _globalTimeline$1.getTweensOf(i,e)},getProperty:function(i,e,t,n){_isString$1(i)&&(i=toArray$1(i)[0]);var s=_getCache$1(i||{}).get,o=t?_passThrough$1:_numericIfPossible$1;return t==="native"&&(t=""),i&&(e?o((_plugins$1[e]&&_plugins$1[e].get||s)(i,e,t,n)):function(a,l,c){return o((_plugins$1[a]&&_plugins$1[a].get||s)(i,a,l,c))})},quickSetter:function(i,e,t){if(i=toArray$1(i),i.length>1){var n=i.map(function(h){return gsap$4.quickSetter(h,e,t)}),s=n.length;return function(h){for(var f=s;f--;)n[f](h)}}i=i[0]||{};var o=_plugins$1[e],a=_getCache$1(i),l=a.harness&&(a.harness.aliases||{})[e]||e,c=o?function(h){var f=new o;_quickTween$1._pt=0,f.init(i,t?h+t:h,_quickTween$1,0,[i]),f.render(1,f),_quickTween$1._pt&&_renderPropTweens$1(1,_quickTween$1)}:a.set(i,l);return o?c:function(h){return c(i,l,t?h+t:h,a,1)}},quickTo:function(i,e,t){var n,s=gsap$4.to(i,_setDefaults$1$1((n={},n[e]="+=0.1",n.paused=!0,n.stagger=0,n),t||{})),o=function(a,l,c){return s.resetTo(e,a,l,c)};return o.tween=s,o},isTweening:function(i){return _globalTimeline$1.getTweensOf(i,!0).length>0},defaults:function(i){return i&&i.ease&&(i.ease=_parseEase$1(i.ease,_defaults$1.ease)),_mergeDeep$1(_defaults$1,i||{})},config:function(i){return _mergeDeep$1(_config$1,i||{})},registerEffect:function(i){var e=i.name,t=i.effect,n=i.plugins,s=i.defaults,o=i.extendTimeline;(n||"").split(",").forEach(function(a){return a&&!_plugins$1[a]&&!_globals$1[a]&&_warn$1(e+" effect requires "+a+" plugin.")}),_effects$1[e]=function(a,l,c){return t(toArray$1(a),_setDefaults$1$1(l||{},s),c)},o&&(Timeline$1.prototype[e]=function(a,l,c){return this.add(_effects$1[e](a,_isObject$1$1(l)?l:(c=l)&&{},this),c)})},registerEase:function(i,e){_easeMap$1[i]=_parseEase$1(e)},parseEase:function(i,e){return arguments.length?_parseEase$1(i,e):_easeMap$1},getById:function(i){return _globalTimeline$1.getById(i)},exportRoot:function(i,e){i===void 0&&(i={});var t=new Timeline$1(i),n,s;for(t.smoothChildTiming=_isNotFalse$1(i.smoothChildTiming),_globalTimeline$1.remove(t),t._dp=0,t._time=t._tTime=_globalTimeline$1._time,n=_globalTimeline$1._first;n;)s=n._next,(e||!(!n._dur&&n instanceof Tween$1&&n.vars.onComplete===n._targets[0]))&&_addToTimeline$1(t,n,n._start-n._delay),n=s;return _addToTimeline$1(_globalTimeline$1,t,0),t},context:function(i,e){return i?new Context$1(i,e):_context$1$1},matchMedia:function(i){return new MatchMedia$1(i)},matchMediaRefresh:function(){return _media$1.forEach(function(i){var e=i.conditions,t,n;for(n in e)e[n]&&(e[n]=!1,t=1);t&&i.revert()})||_onMediaChange$1()},addEventListener:function(i,e){var t=_listeners$1[i]||(_listeners$1[i]=[]);~t.indexOf(e)||t.push(e)},removeEventListener:function(i,e){var t=_listeners$1[i],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)},utils:{wrap:wrap$1,wrapYoyo:wrapYoyo$1,distribute:distribute$1,random:random$1,snap:snap$1,normalize:normalize$1,getUnit:getUnit$1,clamp:clamp$1,splitColor:splitColor$1,toArray:toArray$1,selector:selector$1,mapRange:mapRange$1,pipe:pipe$1,unitize:unitize$1,interpolate:interpolate$1,shuffle:shuffle$1},install:_install$1,effects:_effects$1,ticker:_ticker$1,updateRoot:Timeline$1.updateRoot,plugins:_plugins$1,globalTimeline:_globalTimeline$1,core:{PropTween:PropTween$1,globals:_addGlobal$1,Tween:Tween$1,Timeline:Timeline$1,Animation:Animation$1,getCache:_getCache$1,_removeLinkedListItem:_removeLinkedListItem$1,reverting:function(){return _reverting$3},context:function(i){return i&&_context$1$1&&(_context$1$1.data.push(i),i._ctx=_context$1$1),_context$1$1},suppressOverwrites:function(i){return _suppressOverwrites$1=i}}};_forEachName$1("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return _gsap$1[i]=Tween$1[i]});_ticker$1.add(Timeline$1.updateRoot);_quickTween$1=_gsap$1.to({},{duration:0});var _getPluginPropTween$1=function(i,e){for(var t=i._pt;t&&t.p!==e&&t.op!==e&&t.fp!==e;)t=t._next;return t},_addModifiers$1=function(i,e){var t=i._targets,n,s,o;for(n in e)for(s=t.length;s--;)o=i._ptLookup[s][n],o&&(o=o.d)&&(o._pt&&(o=_getPluginPropTween$1(o,n)),o&&o.modifier&&o.modifier(e[n],i,t[s],n))},_buildModifierPlugin$1=function(i,e){return{name:i,headless:1,rawVars:1,init:function(t,n,s){s._onInit=function(o){var a,l;if(_isString$1(n)&&(a={},_forEachName$1(n,function(c){return a[c]=1}),n=a),e){a={};for(l in n)a[l]=e(n[l]);n=a}_addModifiers$1(o,n)}}}},gsap$4=_gsap$1.registerPlugin({name:"attr",init:function(i,e,t,n,s){var o,a,l;this.tween=t;for(o in e)l=i.getAttribute(o)||"",a=this.add(i,"setAttribute",(l||0)+"",e[o],n,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(i,e){for(var t=e._pt;t;)_reverting$3?t.set(t.t,t.p,t.b,t):t.r(i,t.d),t=t._next}},{name:"endArray",headless:1,init:function(i,e){for(var t=e.length;t--;)this.add(i,t,i[t]||0,e[t],0,0,0,0,0,1)}},_buildModifierPlugin$1("roundProps",_roundModifier$1),_buildModifierPlugin$1("modifiers"),_buildModifierPlugin$1("snap",snap$1))||_gsap$1;Tween$1.version=Timeline$1.version=gsap$4.version="3.13.0";_coreReady$1=1;_windowExists$3()&&_wake$1();_easeMap$1.Power0;_easeMap$1.Power1;_easeMap$1.Power2;_easeMap$1.Power3;_easeMap$1.Power4;_easeMap$1.Linear;_easeMap$1.Quad;_easeMap$1.Cubic;_easeMap$1.Quart;_easeMap$1.Quint;_easeMap$1.Strong;_easeMap$1.Elastic;_easeMap$1.Back;_easeMap$1.SteppedEase;_easeMap$1.Bounce;_easeMap$1.Sine;_easeMap$1.Expo;_easeMap$1.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _win$3$1,_doc$2$1,_docElement$2$1,_pluginInitted$1,_tempDiv$1$1,_recentSetterPlugin$1,_reverting$2,_windowExists$2$1=function(){return typeof window<"u"},_transformProps$1={},_RAD2DEG$2=180/Math.PI,_DEG2RAD$2=Math.PI/180,_atan2$1=Math.atan2,_bigNum$2$1=1e8,_capsExp$1=/([A-Z])/g,_horizontalExp$1=/(left|right|width|margin|padding|x)/i,_complexExp$1=/[\s,\(]\S/,_propertyAliases$1={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_renderCSSProp$1=function(i,e){return e.set(e.t,e.p,Math.round((e.s+e.c*i)*1e4)/1e4+e.u,e)},_renderPropWithEnd$1=function(i,e){return e.set(e.t,e.p,i===1?e.e:Math.round((e.s+e.c*i)*1e4)/1e4+e.u,e)},_renderCSSPropWithBeginning$1=function(i,e){return e.set(e.t,e.p,i?Math.round((e.s+e.c*i)*1e4)/1e4+e.u:e.b,e)},_renderRoundedCSSProp$1=function(i,e){var t=e.s+e.c*i;e.set(e.t,e.p,~~(t+(t<0?-.5:.5))+e.u,e)},_renderNonTweeningValue$1=function(i,e){return e.set(e.t,e.p,i?e.e:e.b,e)},_renderNonTweeningValueOnlyAtEnd$1=function(i,e){return e.set(e.t,e.p,i!==1?e.b:e.e,e)},_setterCSSStyle$1=function(i,e,t){return i.style[e]=t},_setterCSSProp$1=function(i,e,t){return i.style.setProperty(e,t)},_setterTransform$1=function(i,e,t){return i._gsap[e]=t},_setterScale$1=function(i,e,t){return i._gsap.scaleX=i._gsap.scaleY=t},_setterScaleWithRender$1=function(i,e,t,n,s){var o=i._gsap;o.scaleX=o.scaleY=t,o.renderTransform(s,o)},_setterTransformWithRender$1=function(i,e,t,n,s){var o=i._gsap;o[e]=t,o.renderTransform(s,o)},_transformProp$2$1="transform",_transformOriginProp$2$1=_transformProp$2$1+"Origin",_saveStyle$1=function i(e,t){var n=this,s=this.target,o=s.style,a=s._gsap;if(e in _transformProps$1&&o){if(this.tfm=this.tfm||{},e!=="transform")e=_propertyAliases$1[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return n.tfm[l]=_get$1(s,l)}):this.tfm[e]=a.x?a[e]:_get$1(s,e),e===_transformOriginProp$2$1&&(this.tfm.zOrigin=a.zOrigin);else return _propertyAliases$1.transform.split(",").forEach(function(l){return i.call(n,l,t)});if(this.props.indexOf(_transformProp$2$1)>=0)return;a.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(_transformOriginProp$2$1,t,"")),e=_transformProp$2$1}(o||t)&&this.props.push(e,t,o[e])},_removeIndependentTransforms$1=function(i){i.translate&&(i.removeProperty("translate"),i.removeProperty("scale"),i.removeProperty("rotate"))},_revertStyle$1=function(){var i=this.props,e=this.target,t=e.style,n=e._gsap,s,o;for(s=0;s<i.length;s+=3)i[s+1]?i[s+1]===2?e[i[s]](i[s+2]):e[i[s]]=i[s+2]:i[s+2]?t[i[s]]=i[s+2]:t.removeProperty(i[s].substr(0,2)==="--"?i[s]:i[s].replace(_capsExp$1,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)n[o]=this.tfm[o];n.svg&&(n.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),s=_reverting$2(),(!s||!s.isStart)&&!t[_transformProp$2$1]&&(_removeIndependentTransforms$1(t),n.zOrigin&&t[_transformOriginProp$2$1]&&(t[_transformOriginProp$2$1]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},_getStyleSaver$3=function(i,e){var t={target:i,props:[],revert:_revertStyle$1,save:_saveStyle$1};return i._gsap||gsap$4.core.getCache(i),e&&i.style&&i.nodeType&&e.split(",").forEach(function(n){return t.save(n)}),t},_supports3D$1$1,_createElement$1$1=function(i,e){var t=_doc$2$1.createElementNS?_doc$2$1.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),i):_doc$2$1.createElement(i);return t&&t.style?t:_doc$2$1.createElement(i)},_getComputedProperty$1=function i(e,t,n){var s=getComputedStyle(e);return s[t]||s.getPropertyValue(t.replace(_capsExp$1,"-$1").toLowerCase())||s.getPropertyValue(t)||!n&&i(e,_checkPropPrefix$1(t)||t,1)||""},_prefixes$1="O,Moz,ms,Ms,Webkit".split(","),_checkPropPrefix$1=function(i,e,t){var n=e||_tempDiv$1$1,s=n.style,o=5;if(i in s&&!t)return i;for(i=i.charAt(0).toUpperCase()+i.substr(1);o--&&!(_prefixes$1[o]+i in s););return o<0?null:(o===3?"ms":o>=0?_prefixes$1[o]:"")+i},_initCore$3=function(){_windowExists$2$1()&&window.document&&(_win$3$1=window,_doc$2$1=_win$3$1.document,_docElement$2$1=_doc$2$1.documentElement,_tempDiv$1$1=_createElement$1$1("div")||{style:{}},_createElement$1$1("div"),_transformProp$2$1=_checkPropPrefix$1(_transformProp$2$1),_transformOriginProp$2$1=_transformProp$2$1+"Origin",_tempDiv$1$1.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_supports3D$1$1=!!_checkPropPrefix$1("perspective"),_reverting$2=gsap$4.core.reverting,_pluginInitted$1=1)},_getReparentedCloneBBox$1=function(i){var e=i.ownerSVGElement,t=_createElement$1$1("svg",e&&e.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=i.cloneNode(!0),s;n.style.display="block",t.appendChild(n),_docElement$2$1.appendChild(t);try{s=n.getBBox()}catch{}return t.removeChild(n),_docElement$2$1.removeChild(t),s},_getAttributeFallbacks$1=function(i,e){for(var t=e.length;t--;)if(i.hasAttribute(e[t]))return i.getAttribute(e[t])},_getBBox$1=function(i){var e,t;try{e=i.getBBox()}catch{e=_getReparentedCloneBBox$1(i),t=1}return e&&(e.width||e.height)||t||(e=_getReparentedCloneBBox$1(i)),e&&!e.width&&!e.x&&!e.y?{x:+_getAttributeFallbacks$1(i,["x","cx","x1"])||0,y:+_getAttributeFallbacks$1(i,["y","cy","y1"])||0,width:0,height:0}:e},_isSVG$1=function(i){return!!(i.getCTM&&(!i.parentNode||i.ownerSVGElement)&&_getBBox$1(i))},_removeProperty$1=function(i,e){if(e){var t=i.style,n;e in _transformProps$1&&e!==_transformOriginProp$2$1&&(e=_transformProp$2$1),t.removeProperty?(n=e.substr(0,2),(n==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),t.removeProperty(n==="--"?e:e.replace(_capsExp$1,"-$1").toLowerCase())):t.removeAttribute(e)}},_addNonTweeningPT$1=function(i,e,t,n,s,o){var a=new PropTween$1(i._pt,e,t,0,1,o?_renderNonTweeningValueOnlyAtEnd$1:_renderNonTweeningValue$1);return i._pt=a,a.b=n,a.e=s,i._props.push(t),a},_nonConvertibleUnits$1={deg:1,rad:1,turn:1},_nonStandardLayouts$1={grid:1,flex:1},_convertToUnit$1=function i(e,t,n,s){var o=parseFloat(n)||0,a=(n+"").trim().substr((o+"").length)||"px",l=_tempDiv$1$1.style,c=_horizontalExp$1.test(t),h=e.tagName.toLowerCase()==="svg",f=(h?"client":"offset")+(c?"Width":"Height"),_=100,y=s==="px",u=s==="%",b,$,k,A;if(s===a||!o||_nonConvertibleUnits$1[s]||_nonConvertibleUnits$1[a])return o;if(a!=="px"&&!y&&(o=i(e,t,n,"px")),A=e.getCTM&&_isSVG$1(e),(u||a==="%")&&(_transformProps$1[t]||~t.indexOf("adius")))return b=A?e.getBBox()[c?"width":"height"]:e[f],_round$4(u?o/b*_:o/100*b);if(l[c?"width":"height"]=_+(y?a:s),$=s!=="rem"&&~t.indexOf("adius")||s==="em"&&e.appendChild&&!h?e:e.parentNode,A&&($=(e.ownerSVGElement||{}).parentNode),(!$||$===_doc$2$1||!$.appendChild)&&($=_doc$2$1.body),k=$._gsap,k&&u&&k.width&&c&&k.time===_ticker$1.time&&!k.uncache)return _round$4(o/k.width*_);if(u&&(t==="height"||t==="width")){var C=e.style[t];e.style[t]=_+s,b=e[f],C?e.style[t]=C:_removeProperty$1(e,t)}else(u||a==="%")&&!_nonStandardLayouts$1[_getComputedProperty$1($,"display")]&&(l.position=_getComputedProperty$1(e,"position")),$===e&&(l.position="static"),$.appendChild(_tempDiv$1$1),b=_tempDiv$1$1[f],$.removeChild(_tempDiv$1$1),l.position="absolute";return c&&u&&(k=_getCache$1($),k.time=_ticker$1.time,k.width=$[f]),_round$4(y?b*o/_:b&&o?_/b*o:0)},_get$1=function(i,e,t,n){var s;return _pluginInitted$1||_initCore$3(),e in _propertyAliases$1&&e!=="transform"&&(e=_propertyAliases$1[e],~e.indexOf(",")&&(e=e.split(",")[0])),_transformProps$1[e]&&e!=="transform"?(s=_parseTransform$1(i,n),s=e!=="transformOrigin"?s[e]:s.svg?s.origin:_firstTwoOnly$1(_getComputedProperty$1(i,_transformOriginProp$2$1))+" "+s.zOrigin+"px"):(s=i.style[e],(!s||s==="auto"||n||~(s+"").indexOf("calc("))&&(s=_specialProps$1[e]&&_specialProps$1[e](i,e,t)||_getComputedProperty$1(i,e)||_getProperty$1(i,e)||(e==="opacity"?1:0))),t&&!~(s+"").trim().indexOf(" ")?_convertToUnit$1(i,e,s,t)+t:s},_tweenComplexCSSString$1=function(i,e,t,n){if(!t||t==="none"){var s=_checkPropPrefix$1(e,i,1),o=s&&_getComputedProperty$1(i,s,1);o&&o!==t?(e=s,t=o):e==="borderColor"&&(t=_getComputedProperty$1(i,"borderTopColor"))}var a=new PropTween$1(this._pt,i.style,e,0,1,_renderComplexString$1),l=0,c=0,h,f,_,y,u,b,$,k,A,C,I,S;if(a.b=t,a.e=n,t+="",n+="",n.substring(0,6)==="var(--"&&(n=_getComputedProperty$1(i,n.substring(4,n.indexOf(")")))),n==="auto"&&(b=i.style[e],i.style[e]=n,n=_getComputedProperty$1(i,e)||n,b?i.style[e]=b:_removeProperty$1(i,e)),h=[t,n],_colorStringFilter$1(h),t=h[0],n=h[1],_=t.match(_numWithUnitExp$1)||[],S=n.match(_numWithUnitExp$1)||[],S.length){for(;f=_numWithUnitExp$1.exec(n);)$=f[0],A=n.substring(l,f.index),u?u=(u+1)%5:(A.substr(-5)==="rgba("||A.substr(-5)==="hsla(")&&(u=1),$!==(b=_[c++]||"")&&(y=parseFloat(b)||0,I=b.substr((y+"").length),$.charAt(1)==="="&&($=_parseRelative$1(y,$)+I),k=parseFloat($),C=$.substr((k+"").length),l=_numWithUnitExp$1.lastIndex-C.length,C||(C=C||_config$1.units[e]||I,l===n.length&&(n+=C,a.e+=C)),I!==C&&(y=_convertToUnit$1(i,e,b,C)||0),a._pt={_next:a._pt,p:A||c===1?A:",",s:y,c:k-y,m:u&&u<4||e==="zIndex"?Math.round:0});a.c=l<n.length?n.substring(l,n.length):""}else a.r=e==="display"&&n==="none"?_renderNonTweeningValueOnlyAtEnd$1:_renderNonTweeningValue$1;return _relExp$1.test(n)&&(a.e=0),this._pt=a,a},_keywordToPercent$1={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_convertKeywordsToPercentages$1=function(i){var e=i.split(" "),t=e[0],n=e[1]||"50%";return(t==="top"||t==="bottom"||n==="left"||n==="right")&&(i=t,t=n,n=i),e[0]=_keywordToPercent$1[t]||t,e[1]=_keywordToPercent$1[n]||n,e.join(" ")},_renderClearProps$1=function(i,e){if(e.tween&&e.tween._time===e.tween._dur){var t=e.t,n=t.style,s=e.u,o=t._gsap,a,l,c;if(s==="all"||s===!0)n.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],_transformProps$1[a]&&(l=1,a=a==="transformOrigin"?_transformOriginProp$2$1:_transformProp$2$1),_removeProperty$1(t,a);l&&(_removeProperty$1(t,_transformProp$2$1),o&&(o.svg&&t.removeAttribute("transform"),n.scale=n.rotate=n.translate="none",_parseTransform$1(t,1),o.uncache=1,_removeIndependentTransforms$1(n)))}},_specialProps$1={clearProps:function(i,e,t,n,s){if(s.data!=="isFromStart"){var o=i._pt=new PropTween$1(i._pt,e,t,0,0,_renderClearProps$1);return o.u=n,o.pr=-10,o.tween=s,i._props.push(t),1}}},_identity2DMatrix$1=[1,0,0,1,0,0],_rotationalProperties$1={},_isNullTransform$1=function(i){return i==="matrix(1, 0, 0, 1, 0, 0)"||i==="none"||!i},_getComputedTransformMatrixAsArray$1=function(i){var e=_getComputedProperty$1(i,_transformProp$2$1);return _isNullTransform$1(e)?_identity2DMatrix$1:e.substr(7).match(_numExp$3).map(_round$4)},_getMatrix$1=function(i,e){var t=i._gsap||_getCache$1(i),n=i.style,s=_getComputedTransformMatrixAsArray$1(i),o,a,l,c;return t.svg&&i.getAttribute("transform")?(l=i.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?_identity2DMatrix$1:s):(s===_identity2DMatrix$1&&!i.offsetParent&&i!==_docElement$2$1&&!t.svg&&(l=n.display,n.display="block",o=i.parentNode,(!o||!i.offsetParent&&!i.getBoundingClientRect().width)&&(c=1,a=i.nextElementSibling,_docElement$2$1.appendChild(i)),s=_getComputedTransformMatrixAsArray$1(i),l?n.display=l:_removeProperty$1(i,"display"),c&&(a?o.insertBefore(i,a):o?o.appendChild(i):_docElement$2$1.removeChild(i))),e&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},_applySVGOrigin$1=function(i,e,t,n,s,o){var a=i._gsap,l=s||_getMatrix$1(i,!0),c=a.xOrigin||0,h=a.yOrigin||0,f=a.xOffset||0,_=a.yOffset||0,y=l[0],u=l[1],b=l[2],$=l[3],k=l[4],A=l[5],C=e.split(" "),I=parseFloat(C[0])||0,S=parseFloat(C[1])||0,O,L,B,N;t?l!==_identity2DMatrix$1&&(L=y*$-u*b)&&(B=I*($/L)+S*(-b/L)+(b*A-$*k)/L,N=I*(-u/L)+S*(y/L)-(y*A-u*k)/L,I=B,S=N):(O=_getBBox$1(i),I=O.x+(~C[0].indexOf("%")?I/100*O.width:I),S=O.y+(~(C[1]||C[0]).indexOf("%")?S/100*O.height:S)),n||n!==!1&&a.smooth?(k=I-c,A=S-h,a.xOffset=f+(k*y+A*b)-k,a.yOffset=_+(k*u+A*$)-A):a.xOffset=a.yOffset=0,a.xOrigin=I,a.yOrigin=S,a.smooth=!!n,a.origin=e,a.originIsAbsolute=!!t,i.style[_transformOriginProp$2$1]="0px 0px",o&&(_addNonTweeningPT$1(o,a,"xOrigin",c,I),_addNonTweeningPT$1(o,a,"yOrigin",h,S),_addNonTweeningPT$1(o,a,"xOffset",f,a.xOffset),_addNonTweeningPT$1(o,a,"yOffset",_,a.yOffset)),i.setAttribute("data-svg-origin",I+" "+S)},_parseTransform$1=function(i,e){var t=i._gsap||new GSCache$1(i);if("x"in t&&!e&&!t.uncache)return t;var n=i.style,s=t.scaleX<0,o="px",a="deg",l=getComputedStyle(i),c=_getComputedProperty$1(i,_transformOriginProp$2$1)||"0",h,f,_,y,u,b,$,k,A,C,I,S,O,L,B,N,j,Ie,ae,Be,re,sn,rt,Le,Je,on,Gn,Pn,Se,Gt,pt,jt;return h=f=_=b=$=k=A=C=I=0,y=u=1,t.svg=!!(i.getCTM&&_isSVG$1(i)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(n[_transformProp$2$1]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[_transformProp$2$1]!=="none"?l[_transformProp$2$1]:"")),n.scale=n.rotate=n.translate="none"),L=_getMatrix$1(i,t.svg),t.svg&&(t.uncache?(Je=i.getBBox(),c=t.xOrigin-Je.x+"px "+(t.yOrigin-Je.y)+"px",Le=""):Le=!e&&i.getAttribute("data-svg-origin"),_applySVGOrigin$1(i,Le||c,!!Le||t.originIsAbsolute,t.smooth!==!1,L)),S=t.xOrigin||0,O=t.yOrigin||0,L!==_identity2DMatrix$1&&(Ie=L[0],ae=L[1],Be=L[2],re=L[3],h=sn=L[4],f=rt=L[5],L.length===6?(y=Math.sqrt(Ie*Ie+ae*ae),u=Math.sqrt(re*re+Be*Be),b=Ie||ae?_atan2$1(ae,Ie)*_RAD2DEG$2:0,A=Be||re?_atan2$1(Be,re)*_RAD2DEG$2+b:0,A&&(u*=Math.abs(Math.cos(A*_DEG2RAD$2))),t.svg&&(h-=S-(S*Ie+O*Be),f-=O-(S*ae+O*re))):(jt=L[6],Gt=L[7],Gn=L[8],Pn=L[9],Se=L[10],pt=L[11],h=L[12],f=L[13],_=L[14],B=_atan2$1(jt,Se),$=B*_RAD2DEG$2,B&&(N=Math.cos(-B),j=Math.sin(-B),Le=sn*N+Gn*j,Je=rt*N+Pn*j,on=jt*N+Se*j,Gn=sn*-j+Gn*N,Pn=rt*-j+Pn*N,Se=jt*-j+Se*N,pt=Gt*-j+pt*N,sn=Le,rt=Je,jt=on),B=_atan2$1(-Be,Se),k=B*_RAD2DEG$2,B&&(N=Math.cos(-B),j=Math.sin(-B),Le=Ie*N-Gn*j,Je=ae*N-Pn*j,on=Be*N-Se*j,pt=re*j+pt*N,Ie=Le,ae=Je,Be=on),B=_atan2$1(ae,Ie),b=B*_RAD2DEG$2,B&&(N=Math.cos(B),j=Math.sin(B),Le=Ie*N+ae*j,Je=sn*N+rt*j,ae=ae*N-Ie*j,rt=rt*N-sn*j,Ie=Le,sn=Je),$&&Math.abs($)+Math.abs(b)>359.9&&($=b=0,k=180-k),y=_round$4(Math.sqrt(Ie*Ie+ae*ae+Be*Be)),u=_round$4(Math.sqrt(rt*rt+jt*jt)),B=_atan2$1(sn,rt),A=Math.abs(B)>2e-4?B*_RAD2DEG$2:0,I=pt?1/(pt<0?-pt:pt):0),t.svg&&(Le=i.getAttribute("transform"),t.forceCSS=i.setAttribute("transform","")||!_isNullTransform$1(_getComputedProperty$1(i,_transformProp$2$1)),Le&&i.setAttribute("transform",Le))),Math.abs(A)>90&&Math.abs(A)<270&&(s?(y*=-1,A+=b<=0?180:-180,b+=b<=0?180:-180):(u*=-1,A+=A<=0?180:-180)),e=e||t.uncache,t.x=h-((t.xPercent=h&&(!e&&t.xPercent||(Math.round(i.offsetWidth/2)===Math.round(-h)?-50:0)))?i.offsetWidth*t.xPercent/100:0)+o,t.y=f-((t.yPercent=f&&(!e&&t.yPercent||(Math.round(i.offsetHeight/2)===Math.round(-f)?-50:0)))?i.offsetHeight*t.yPercent/100:0)+o,t.z=_+o,t.scaleX=_round$4(y),t.scaleY=_round$4(u),t.rotation=_round$4(b)+a,t.rotationX=_round$4($)+a,t.rotationY=_round$4(k)+a,t.skewX=A+a,t.skewY=C+a,t.transformPerspective=I+o,(t.zOrigin=parseFloat(c.split(" ")[2])||!e&&t.zOrigin||0)&&(n[_transformOriginProp$2$1]=_firstTwoOnly$1(c)),t.xOffset=t.yOffset=0,t.force3D=_config$1.force3D,t.renderTransform=t.svg?_renderSVGTransforms$1:_supports3D$1$1?_renderCSSTransforms$1:_renderNon3DTransforms$1,t.uncache=0,t},_firstTwoOnly$1=function(i){return(i=i.split(" "))[0]+" "+i[1]},_addPxTranslate$1=function(i,e,t){var n=getUnit$1(e);return _round$4(parseFloat(e)+parseFloat(_convertToUnit$1(i,"x",t+"px",n)))+n},_renderNon3DTransforms$1=function(i,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,_renderCSSTransforms$1(i,e)},_zeroDeg$1="0deg",_zeroPx$1="0px",_endParenthesis$1=") ",_renderCSSTransforms$1=function(i,e){var t=e||this,n=t.xPercent,s=t.yPercent,o=t.x,a=t.y,l=t.z,c=t.rotation,h=t.rotationY,f=t.rotationX,_=t.skewX,y=t.skewY,u=t.scaleX,b=t.scaleY,$=t.transformPerspective,k=t.force3D,A=t.target,C=t.zOrigin,I="",S=k==="auto"&&i&&i!==1||k===!0;if(C&&(f!==_zeroDeg$1||h!==_zeroDeg$1)){var O=parseFloat(h)*_DEG2RAD$2,L=Math.sin(O),B=Math.cos(O),N;O=parseFloat(f)*_DEG2RAD$2,N=Math.cos(O),o=_addPxTranslate$1(A,o,L*N*-C),a=_addPxTranslate$1(A,a,-Math.sin(O)*-C),l=_addPxTranslate$1(A,l,B*N*-C+C)}$!==_zeroPx$1&&(I+="perspective("+$+_endParenthesis$1),(n||s)&&(I+="translate("+n+"%, "+s+"%) "),(S||o!==_zeroPx$1||a!==_zeroPx$1||l!==_zeroPx$1)&&(I+=l!==_zeroPx$1||S?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+_endParenthesis$1),c!==_zeroDeg$1&&(I+="rotate("+c+_endParenthesis$1),h!==_zeroDeg$1&&(I+="rotateY("+h+_endParenthesis$1),f!==_zeroDeg$1&&(I+="rotateX("+f+_endParenthesis$1),(_!==_zeroDeg$1||y!==_zeroDeg$1)&&(I+="skew("+_+", "+y+_endParenthesis$1),(u!==1||b!==1)&&(I+="scale("+u+", "+b+_endParenthesis$1),A.style[_transformProp$2$1]=I||"translate(0, 0)"},_renderSVGTransforms$1=function(i,e){var t=e||this,n=t.xPercent,s=t.yPercent,o=t.x,a=t.y,l=t.rotation,c=t.skewX,h=t.skewY,f=t.scaleX,_=t.scaleY,y=t.target,u=t.xOrigin,b=t.yOrigin,$=t.xOffset,k=t.yOffset,A=t.forceCSS,C=parseFloat(o),I=parseFloat(a),S,O,L,B,N;l=parseFloat(l),c=parseFloat(c),h=parseFloat(h),h&&(h=parseFloat(h),c+=h,l+=h),l||c?(l*=_DEG2RAD$2,c*=_DEG2RAD$2,S=Math.cos(l)*f,O=Math.sin(l)*f,L=Math.sin(l-c)*-_,B=Math.cos(l-c)*_,c&&(h*=_DEG2RAD$2,N=Math.tan(c-h),N=Math.sqrt(1+N*N),L*=N,B*=N,h&&(N=Math.tan(h),N=Math.sqrt(1+N*N),S*=N,O*=N)),S=_round$4(S),O=_round$4(O),L=_round$4(L),B=_round$4(B)):(S=f,B=_,O=L=0),(C&&!~(o+"").indexOf("px")||I&&!~(a+"").indexOf("px"))&&(C=_convertToUnit$1(y,"x",o,"px"),I=_convertToUnit$1(y,"y",a,"px")),(u||b||$||k)&&(C=_round$4(C+u-(u*S+b*L)+$),I=_round$4(I+b-(u*O+b*B)+k)),(n||s)&&(N=y.getBBox(),C=_round$4(C+n/100*N.width),I=_round$4(I+s/100*N.height)),N="matrix("+S+","+O+","+L+","+B+","+C+","+I+")",y.setAttribute("transform",N),A&&(y.style[_transformProp$2$1]=N)},_addRotationalPropTween$1=function(i,e,t,n,s){var o=360,a=_isString$1(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?_RAD2DEG$2:1),c=l-n,h=n+c+"deg",f,_;return a&&(f=s.split("_")[1],f==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-360)),f==="cw"&&c<0?c=(c+o*_bigNum$2$1)%o-~~(c/o)*o:f==="ccw"&&c>0&&(c=(c-o*_bigNum$2$1)%o-~~(c/o)*o)),i._pt=_=new PropTween$1(i._pt,e,t,n,c,_renderPropWithEnd$1),_.e=h,_.u="deg",i._props.push(t),_},_assign$1=function(i,e){for(var t in e)i[t]=e[t];return i},_addRawTransformPTs$1=function(i,e,t){var n=_assign$1({},t._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=t.style,a,l,c,h,f,_,y,u;n.svg?(c=t.getAttribute("transform"),t.setAttribute("transform",""),o[_transformProp$2$1]=e,a=_parseTransform$1(t,1),_removeProperty$1(t,_transformProp$2$1),t.setAttribute("transform",c)):(c=getComputedStyle(t)[_transformProp$2$1],o[_transformProp$2$1]=e,a=_parseTransform$1(t,1),o[_transformProp$2$1]=c);for(l in _transformProps$1)c=n[l],h=a[l],c!==h&&s.indexOf(l)<0&&(y=getUnit$1(c),u=getUnit$1(h),f=y!==u?_convertToUnit$1(t,l,c,u):parseFloat(c),_=parseFloat(h),i._pt=new PropTween$1(i._pt,a,l,f,_-f,_renderCSSProp$1),i._pt.u=u||0,i._props.push(l));_assign$1(a,n)};_forEachName$1("padding,margin,Width,Radius",function(i,e){var t="Top",n="Right",s="Bottom",o="Left",a=(e<3?[t,n,s,o]:[t+o,t+n,s+n,s+o]).map(function(l){return e<2?i+l:"border"+l+i});_specialProps$1[e>1?"border"+i:i]=function(l,c,h,f,_){var y,u;if(arguments.length<4)return y=a.map(function(b){return _get$1(l,b,h)}),u=y.join(" "),u.split(y[0]).length===5?y[0]:u;y=(f+"").split(" "),u={},a.forEach(function(b,$){return u[b]=y[$]=y[$]||y[($-1)/2|0]}),l.init(c,u,_)}});var CSSPlugin$1={name:"css",register:_initCore$3,targetTest:function(i){return i.style&&i.nodeType},init:function(i,e,t,n,s){var o=this._props,a=i.style,l=t.vars.startAt,c,h,f,_,y,u,b,$,k,A,C,I,S,O,L,B;_pluginInitted$1||_initCore$3(),this.styles=this.styles||_getStyleSaver$3(i),B=this.styles.props,this.tween=t;for(b in e)if(b!=="autoRound"&&(h=e[b],!(_plugins$1[b]&&_checkPlugin$1(b,e,t,n,i,s)))){if(y=typeof h,u=_specialProps$1[b],y==="function"&&(h=h.call(t,n,i,s),y=typeof h),y==="string"&&~h.indexOf("random(")&&(h=_replaceRandom$1(h)),u)u(this,i,b,h,t)&&(L=1);else if(b.substr(0,2)==="--")c=(getComputedStyle(i).getPropertyValue(b)+"").trim(),h+="",_colorExp$1.lastIndex=0,_colorExp$1.test(c)||($=getUnit$1(c),k=getUnit$1(h)),k?$!==k&&(c=_convertToUnit$1(i,b,c,k)+k):$&&(h+=$),this.add(a,"setProperty",c,h,n,s,0,0,b),o.push(b),B.push(b,0,a[b]);else if(y!=="undefined"){if(l&&b in l?(c=typeof l[b]=="function"?l[b].call(t,n,i,s):l[b],_isString$1(c)&&~c.indexOf("random(")&&(c=_replaceRandom$1(c)),getUnit$1(c+"")||c==="auto"||(c+=_config$1.units[b]||getUnit$1(_get$1(i,b))||""),(c+"").charAt(1)==="="&&(c=_get$1(i,b))):c=_get$1(i,b),_=parseFloat(c),A=y==="string"&&h.charAt(1)==="="&&h.substr(0,2),A&&(h=h.substr(2)),f=parseFloat(h),b in _propertyAliases$1&&(b==="autoAlpha"&&(_===1&&_get$1(i,"visibility")==="hidden"&&f&&(_=0),B.push("visibility",0,a.visibility),_addNonTweeningPT$1(this,a,"visibility",_?"inherit":"hidden",f?"inherit":"hidden",!f)),b!=="scale"&&b!=="transform"&&(b=_propertyAliases$1[b],~b.indexOf(",")&&(b=b.split(",")[0]))),C=b in _transformProps$1,C){if(this.styles.save(b),y==="string"&&h.substring(0,6)==="var(--"&&(h=_getComputedProperty$1(i,h.substring(4,h.indexOf(")"))),f=parseFloat(h)),I||(S=i._gsap,S.renderTransform&&!e.parseTransform||_parseTransform$1(i,e.parseTransform),O=e.smoothOrigin!==!1&&S.smooth,I=this._pt=new PropTween$1(this._pt,a,_transformProp$2$1,0,1,S.renderTransform,S,0,-1),I.dep=1),b==="scale")this._pt=new PropTween$1(this._pt,S,"scaleY",S.scaleY,(A?_parseRelative$1(S.scaleY,A+f):f)-S.scaleY||0,_renderCSSProp$1),this._pt.u=0,o.push("scaleY",b),b+="X";else if(b==="transformOrigin"){B.push(_transformOriginProp$2$1,0,a[_transformOriginProp$2$1]),h=_convertKeywordsToPercentages$1(h),S.svg?_applySVGOrigin$1(i,h,0,O,0,this):(k=parseFloat(h.split(" ")[2])||0,k!==S.zOrigin&&_addNonTweeningPT$1(this,S,"zOrigin",S.zOrigin,k),_addNonTweeningPT$1(this,a,b,_firstTwoOnly$1(c),_firstTwoOnly$1(h)));continue}else if(b==="svgOrigin"){_applySVGOrigin$1(i,h,1,O,0,this);continue}else if(b in _rotationalProperties$1){_addRotationalPropTween$1(this,S,b,_,A?_parseRelative$1(_,A+h):h);continue}else if(b==="smoothOrigin"){_addNonTweeningPT$1(this,S,"smooth",S.smooth,h);continue}else if(b==="force3D"){S[b]=h;continue}else if(b==="transform"){_addRawTransformPTs$1(this,h,i);continue}}else b in a||(b=_checkPropPrefix$1(b)||b);if(C||(f||f===0)&&(_||_===0)&&!_complexExp$1.test(h)&&b in a)$=(c+"").substr((_+"").length),f||(f=0),k=getUnit$1(h)||(b in _config$1.units?_config$1.units[b]:$),$!==k&&(_=_convertToUnit$1(i,b,c,k)),this._pt=new PropTween$1(this._pt,C?S:a,b,_,(A?_parseRelative$1(_,A+f):f)-_,!C&&(k==="px"||b==="zIndex")&&e.autoRound!==!1?_renderRoundedCSSProp$1:_renderCSSProp$1),this._pt.u=k||0,$!==k&&k!=="%"&&(this._pt.b=c,this._pt.r=_renderCSSPropWithBeginning$1);else if(b in a)_tweenComplexCSSString$1.call(this,i,b,c,A?A+h:h);else if(b in i)this.add(i,b,c||i[b],A?A+h:h,n,s);else if(b!=="parseTransform"){_missingPlugin$1(b,h);continue}C||(b in a?B.push(b,0,a[b]):typeof i[b]=="function"?B.push(b,2,i[b]()):B.push(b,1,c||i[b])),o.push(b)}}L&&_sortPropTweensByPriority$1(this)},render:function(i,e){if(e.tween._time||!_reverting$2())for(var t=e._pt;t;)t.r(i,t.d),t=t._next;else e.styles.revert()},get:_get$1,aliases:_propertyAliases$1,getSetter:function(i,e,t){var n=_propertyAliases$1[e];return n&&n.indexOf(",")<0&&(e=n),e in _transformProps$1&&e!==_transformOriginProp$2$1&&(i._gsap.x||_get$1(i,"x"))?t&&_recentSetterPlugin$1===t?e==="scale"?_setterScale$1:_setterTransform$1:(_recentSetterPlugin$1=t||{})&&(e==="scale"?_setterScaleWithRender$1:_setterTransformWithRender$1):i.style&&!_isUndefined$2(i.style[e])?_setterCSSStyle$1:~e.indexOf("-")?_setterCSSProp$1:_getSetter$1(i,e)},core:{_removeProperty:_removeProperty$1,_getMatrix:_getMatrix$1}};gsap$4.utils.checkPrefix=_checkPropPrefix$1;gsap$4.core.getStyleSaver=_getStyleSaver$3;(function(i,e,t,n){var s=_forEachName$1(i+","+e+","+t,function(o){_transformProps$1[o]=1});_forEachName$1(e,function(o){_config$1.units[o]="deg",_rotationalProperties$1[o]=1}),_propertyAliases$1[s[13]]=i+","+e,_forEachName$1(n,function(o){var a=o.split(":");_propertyAliases$1[a[1]]=s[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");_forEachName$1("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){_config$1.units[i]="px"});gsap$4.registerPlugin(CSSPlugin$1);var gsapWithCSS$1=gsap$4.registerPlugin(CSSPlugin$1)||gsap$4;gsapWithCSS$1.core.Tween;/*!
 * matrix 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _doc$1$1,_win$2$1,_docElement$1$1,_body$1$1,_divContainer$1,_svgContainer$1,_identityMatrix$1$1,_gEl$1,_transformProp$1$1="transform",_transformOriginProp$1$1=_transformProp$1$1+"Origin",_hasOffsetBug$1,_setDoc$1=function(i){var e=i.ownerDocument||i;for(!(_transformProp$1$1 in i.style)&&("msTransform"in i.style)&&(_transformProp$1$1="msTransform",_transformOriginProp$1$1=_transformProp$1$1+"Origin");e.parentNode&&(e=e.parentNode););if(_win$2$1=window,_identityMatrix$1$1=new Matrix2D$1,e){_doc$1$1=e,_docElement$1$1=e.documentElement,_body$1$1=e.body,_gEl$1=_doc$1$1.createElementNS("http://www.w3.org/2000/svg","g"),_gEl$1.style.transform="none";var t=e.createElement("div"),n=e.createElement("div"),s=e&&(e.body||e.firstElementChild);s&&s.appendChild&&(s.appendChild(t),t.appendChild(n),t.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),_hasOffsetBug$1=n.offsetParent!==t,s.removeChild(t))}return e},_forceNonZeroScale$1=function(i){for(var e,t;i&&i!==_body$1$1;)t=i._gsap,t&&t.uncache&&t.get(i,"x"),t&&!t.scaleX&&!t.scaleY&&t.renderTransform&&(t.scaleX=t.scaleY=1e-4,t.renderTransform(1,t),e?e.push(t):e=[t]),i=i.parentNode;return e},_svgTemps$1=[],_divTemps$1=[],_getDocScrollTop$1$1=function(){return _win$2$1.pageYOffset||_doc$1$1.scrollTop||_docElement$1$1.scrollTop||_body$1$1.scrollTop||0},_getDocScrollLeft$1$1=function(){return _win$2$1.pageXOffset||_doc$1$1.scrollLeft||_docElement$1$1.scrollLeft||_body$1$1.scrollLeft||0},_svgOwner$1=function(i){return i.ownerSVGElement||((i.tagName+"").toLowerCase()==="svg"?i:null)},_isFixed$1$1=function i(e){if(_win$2$1.getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return i(e)},_createSibling$1=function i(e,t){if(e.parentNode&&(_doc$1$1||_setDoc$1(e))){var n=_svgOwner$1(e),s=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",o=n?t?"rect":"g":"div",a=t!==2?0:100,l=t===3?100:0,c="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",h=_doc$1$1.createElementNS?_doc$1$1.createElementNS(s.replace(/^https/,"http"),o):_doc$1$1.createElement(o);return t&&(n?(_svgContainer$1||(_svgContainer$1=i(e)),h.setAttribute("width",.01),h.setAttribute("height",.01),h.setAttribute("transform","translate("+a+","+l+")"),_svgContainer$1.appendChild(h)):(_divContainer$1||(_divContainer$1=i(e),_divContainer$1.style.cssText=c),h.style.cssText=c+"width:0.1px;height:0.1px;top:"+l+"px;left:"+a+"px",_divContainer$1.appendChild(h))),h}throw"Need document and parent."},_consolidate$1=function(i){for(var e=new Matrix2D$1,t=0;t<i.numberOfItems;t++)e.multiply(i.getItem(t).matrix);return e},_getCTM$1=function(i){var e=i.getCTM(),t;return e||(t=i.style[_transformProp$1$1],i.style[_transformProp$1$1]="none",i.appendChild(_gEl$1),e=_gEl$1.getCTM(),i.removeChild(_gEl$1),t?i.style[_transformProp$1$1]=t:i.style.removeProperty(_transformProp$1$1.replace(/([A-Z])/g,"-$1").toLowerCase())),e||_identityMatrix$1$1.clone()},_placeSiblings$1=function(i,e){var t=_svgOwner$1(i),n=i===t,s=t?_svgTemps$1:_divTemps$1,o=i.parentNode,a=o&&!t&&o.shadowRoot&&o.shadowRoot.appendChild?o.shadowRoot:o,l,c,h,f,_,y;if(i===_win$2$1)return i;if(s.length||s.push(_createSibling$1(i,1),_createSibling$1(i,2),_createSibling$1(i,3)),l=t?_svgContainer$1:_divContainer$1,t)n?(h=_getCTM$1(i),f=-h.e/h.a,_=-h.f/h.d,c=_identityMatrix$1$1):i.getBBox?(h=i.getBBox(),c=i.transform?i.transform.baseVal:{},c=c.numberOfItems?c.numberOfItems>1?_consolidate$1(c):c.getItem(0).matrix:_identityMatrix$1$1,f=c.a*h.x+c.c*h.y,_=c.b*h.x+c.d*h.y):(c=new Matrix2D$1,f=_=0),e&&i.tagName.toLowerCase()==="g"&&(f=_=0),(n?t:o).appendChild(l),l.setAttribute("transform","matrix("+c.a+","+c.b+","+c.c+","+c.d+","+(c.e+f)+","+(c.f+_)+")");else{if(f=_=0,_hasOffsetBug$1)for(c=i.offsetParent,h=i;h&&(h=h.parentNode)&&h!==c&&h.parentNode;)(_win$2$1.getComputedStyle(h)[_transformProp$1$1]+"").length>4&&(f=h.offsetLeft,_=h.offsetTop,h=0);if(y=_win$2$1.getComputedStyle(i),y.position!=="absolute"&&y.position!=="fixed")for(c=i.offsetParent;o&&o!==c;)f+=o.scrollLeft||0,_+=o.scrollTop||0,o=o.parentNode;h=l.style,h.top=i.offsetTop-_+"px",h.left=i.offsetLeft-f+"px",h[_transformProp$1$1]=y[_transformProp$1$1],h[_transformOriginProp$1$1]=y[_transformOriginProp$1$1],h.position=y.position==="fixed"?"fixed":"absolute",a.appendChild(l)}return l},_setMatrix$1=function(i,e,t,n,s,o,a){return i.a=e,i.b=t,i.c=n,i.d=s,i.e=o,i.f=a,i},Matrix2D$1=function(){function i(t,n,s,o,a,l){t===void 0&&(t=1),n===void 0&&(n=0),s===void 0&&(s=0),o===void 0&&(o=1),a===void 0&&(a=0),l===void 0&&(l=0),_setMatrix$1(this,t,n,s,o,a,l)}var e=i.prototype;return e.inverse=function(){var t=this.a,n=this.b,s=this.c,o=this.d,a=this.e,l=this.f,c=t*o-n*s||1e-10;return _setMatrix$1(this,o/c,-n/c,-s/c,t/c,(s*l-o*a)/c,-(t*l-n*a)/c)},e.multiply=function(t){var n=this.a,s=this.b,o=this.c,a=this.d,l=this.e,c=this.f,h=t.a,f=t.c,_=t.b,y=t.d,u=t.e,b=t.f;return _setMatrix$1(this,h*n+_*o,h*s+_*a,f*n+y*o,f*s+y*a,l+u*n+b*o,c+u*s+b*a)},e.clone=function(){return new i(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(t){var n=this.a,s=this.b,o=this.c,a=this.d,l=this.e,c=this.f;return n===t.a&&s===t.b&&o===t.c&&a===t.d&&l===t.e&&c===t.f},e.apply=function(t,n){n===void 0&&(n={});var s=t.x,o=t.y,a=this.a,l=this.b,c=this.c,h=this.d,f=this.e,_=this.f;return n.x=s*a+o*c+f||0,n.y=s*l+o*h+_||0,n},i}();function getGlobalMatrix$1(i,e,t,n){if(!i||!i.parentNode||(_doc$1$1||_setDoc$1(i)).documentElement===i)return new Matrix2D$1;var s=_forceNonZeroScale$1(i),o=_svgOwner$1(i),a=o?_svgTemps$1:_divTemps$1,l=_placeSiblings$1(i,t),c=a[0].getBoundingClientRect(),h=a[1].getBoundingClientRect(),f=a[2].getBoundingClientRect(),_=l.parentNode,y=!n&&_isFixed$1$1(i),u=new Matrix2D$1((h.left-c.left)/100,(h.top-c.top)/100,(f.left-c.left)/100,(f.top-c.top)/100,c.left+(y?0:_getDocScrollLeft$1$1()),c.top+(y?0:_getDocScrollTop$1$1()));if(_.removeChild(l),s)for(c=s.length;c--;)h=s[c],h.scaleX=h.scaleY=0,h.renderTransform(1,h);return e?u.inverse():u}function _assertThisInitialized$2(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _inheritsLoose$2(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}var gsap$3,_win$1$1,_doc$4,_docElement$3,_body$2,_tempDiv$2,_placeholderDiv$1,_coreInitted$2,_checkPrefix$1,_toArray$2,_supportsPassive$1,_isTouchDevice$1,_touchEventLookup$1,_isMultiTouching$1,_isAndroid$1,InertiaPlugin$1,_defaultCursor$1,_supportsPointer$1,_context$2,_getStyleSaver$2,_dragCount$1=0,_windowExists$1$1=function(){return typeof window<"u"},_getGSAP$3=function(){return gsap$3||_windowExists$1$1()&&(gsap$3=window.gsap)&&gsap$3.registerPlugin&&gsap$3},_isFunction$2=function(i){return typeof i=="function"},_isObject$2=function(i){return typeof i=="object"},_isUndefined$1$1=function(i){return typeof i>"u"},_emptyFunc$1$1=function(){return!1},_transformProp$3="transform",_transformOriginProp$3="transformOrigin",_round$3=function(i){return Math.round(i*1e4)/1e4},_isArray$2=Array.isArray,_createElement$2=function(i,e){var t=_doc$4.createElementNS?_doc$4.createElementNS("http://www.w3.org/1999/xhtml".replace(/^https/,"http"),i):_doc$4.createElement(i);return t.style?t:_doc$4.createElement(i)},_RAD2DEG$1$1=180/Math.PI,_bigNum$1$1=1e20,_identityMatrix$2=new Matrix2D$1,_getTime$1=Date.now||function(){return new Date().getTime()},_renderQueue$1=[],_lookup$1={},_lookupCount$1=0,_clickableTagExp$1=/^(?:a|input|textarea|button|select)$/i,_lastDragTime$1=0,_temp1$1={},_windowProxy$1={},_copy$1=function(i,e){var t={},n;for(n in i)t[n]=e?i[n]*e:i[n];return t},_extend$1=function(i,e){for(var t in e)t in i||(i[t]=e[t]);return i},_setTouchActionForAllDescendants$1=function i(e,t){for(var n=e.length,s;n--;)t?e[n].style.touchAction=t:e[n].style.removeProperty("touch-action"),s=e[n].children,s&&s.length&&i(s,t)},_renderQueueTick$1=function(){return _renderQueue$1.forEach(function(i){return i()})},_addToRenderQueue$1=function(i){_renderQueue$1.push(i),_renderQueue$1.length===1&&gsap$3.ticker.add(_renderQueueTick$1)},_renderQueueTimeout$1=function(){return!_renderQueue$1.length&&gsap$3.ticker.remove(_renderQueueTick$1)},_removeFromRenderQueue$1=function(i){for(var e=_renderQueue$1.length;e--;)_renderQueue$1[e]===i&&_renderQueue$1.splice(e,1);gsap$3.to(_renderQueueTimeout$1,{overwrite:!0,delay:15,duration:0,onComplete:_renderQueueTimeout$1,data:"_draggable"})},_setDefaults$2=function(i,e){for(var t in e)t in i||(i[t]=e[t]);return i},_addListener$1=function(i,e,t,n){if(i.addEventListener){var s=_touchEventLookup$1[e];n=n||(_supportsPassive$1?{passive:!1}:null),i.addEventListener(s||e,t,n),s&&e!==s&&i.addEventListener(e,t,n)}},_removeListener$1=function(i,e,t,n){if(i.removeEventListener){var s=_touchEventLookup$1[e];i.removeEventListener(s||e,t,n),s&&e!==s&&i.removeEventListener(e,t,n)}},_preventDefault$1=function(i){i.preventDefault&&i.preventDefault(),i.preventManipulation&&i.preventManipulation()},_hasTouchID$1=function(i,e){for(var t=i.length;t--;)if(i[t].identifier===e)return!0},_onMultiTouchDocumentEnd$1=function i(e){_isMultiTouching$1=e.touches&&_dragCount$1<e.touches.length,_removeListener$1(e.target,"touchend",i)},_onMultiTouchDocument$1=function(i){_isMultiTouching$1=i.touches&&_dragCount$1<i.touches.length,_addListener$1(i.target,"touchend",_onMultiTouchDocumentEnd$1)},_getDocScrollTop$2=function(i){return _win$1$1.pageYOffset||i.scrollTop||i.documentElement.scrollTop||i.body.scrollTop||0},_getDocScrollLeft$2=function(i){return _win$1$1.pageXOffset||i.scrollLeft||i.documentElement.scrollLeft||i.body.scrollLeft||0},_addScrollListener$1=function i(e,t){_addListener$1(e,"scroll",t),_isRoot$1(e.parentNode)||i(e.parentNode,t)},_removeScrollListener$1=function i(e,t){_removeListener$1(e,"scroll",t),_isRoot$1(e.parentNode)||i(e.parentNode,t)},_isRoot$1=function(i){return!i||i===_docElement$3||i.nodeType===9||i===_doc$4.body||i===_win$1$1||!i.nodeType||!i.parentNode},_getMaxScroll$1=function(i,e){var t=e==="x"?"Width":"Height",n="scroll"+t,s="client"+t;return Math.max(0,_isRoot$1(i)?Math.max(_docElement$3[n],_body$2[n])-(_win$1$1["inner"+t]||_docElement$3[s]||_body$2[s]):i[n]-i[s])},_recordMaxScrolls$1=function i(e,t){var n=_getMaxScroll$1(e,"x"),s=_getMaxScroll$1(e,"y");_isRoot$1(e)?e=_windowProxy$1:i(e.parentNode,t),e._gsMaxScrollX=n,e._gsMaxScrollY=s,t||(e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0)},_setStyle$1=function(i,e,t){var n=i.style;n&&(_isUndefined$1$1(n[e])&&(e=_checkPrefix$1(e,i)||e),t==null?n.removeProperty&&n.removeProperty(e.replace(/([A-Z])/g,"-$1").toLowerCase()):n[e]=t)},_getComputedStyle$1=function(i){return _win$1$1.getComputedStyle(i instanceof Element?i:i.host||(i.parentNode||{}).host||i)},_tempRect$1={},_parseRect$1=function(i){if(i===_win$1$1)return _tempRect$1.left=_tempRect$1.top=0,_tempRect$1.width=_tempRect$1.right=_docElement$3.clientWidth||i.innerWidth||_body$2.clientWidth||0,_tempRect$1.height=_tempRect$1.bottom=(i.innerHeight||0)-20<_docElement$3.clientHeight?_docElement$3.clientHeight:i.innerHeight||_body$2.clientHeight||0,_tempRect$1;var e=i.ownerDocument||_doc$4,t=_isUndefined$1$1(i.pageX)?!i.nodeType&&!_isUndefined$1$1(i.left)&&!_isUndefined$1$1(i.top)?i:_toArray$2(i)[0].getBoundingClientRect():{left:i.pageX-_getDocScrollLeft$2(e),top:i.pageY-_getDocScrollTop$2(e),right:i.pageX-_getDocScrollLeft$2(e)+1,bottom:i.pageY-_getDocScrollTop$2(e)+1};return _isUndefined$1$1(t.right)&&!_isUndefined$1$1(t.width)?(t.right=t.left+t.width,t.bottom=t.top+t.height):_isUndefined$1$1(t.width)&&(t={width:t.right-t.left,height:t.bottom-t.top,right:t.right,left:t.left,bottom:t.bottom,top:t.top}),t},_dispatchEvent$1=function(i,e,t){var n=i.vars,s=n[t],o=i._listeners[e],a;return _isFunction$2(s)&&(a=s.apply(n.callbackScope||i,n[t+"Params"]||[i.pointerEvent])),o&&i.dispatchEvent(e)===!1&&(a=!1),a},_getBounds$1=function(i,e){var t=_toArray$2(i)[0],n,s,o;return!t.nodeType&&t!==_win$1$1?_isUndefined$1$1(i.left)?(s=i.min||i.minX||i.minRotation||0,n=i.min||i.minY||0,{left:s,top:n,width:(i.max||i.maxX||i.maxRotation||0)-s,height:(i.max||i.maxY||0)-n}):(o={x:0,y:0},{left:i.left-o.x,top:i.top-o.y,width:i.width,height:i.height}):_getElementBounds$1(t,e)},_point1$1={},_getElementBounds$1=function(i,e){e=_toArray$2(e)[0];var t=i.getBBox&&i.ownerSVGElement,n=i.ownerDocument||_doc$4,s,o,a,l,c,h,f,_,y,u,b,$,k;if(i===_win$1$1)a=_getDocScrollTop$2(n),s=_getDocScrollLeft$2(n),o=s+(n.documentElement.clientWidth||i.innerWidth||n.body.clientWidth||0),l=a+((i.innerHeight||0)-20<n.documentElement.clientHeight?n.documentElement.clientHeight:i.innerHeight||n.body.clientHeight||0);else{if(e===_win$1$1||_isUndefined$1$1(e))return i.getBoundingClientRect();s=a=0,t?(u=i.getBBox(),b=u.width,$=u.height):(i.viewBox&&(u=i.viewBox.baseVal)&&(s=u.x||0,a=u.y||0,b=u.width,$=u.height),b||(k=_getComputedStyle$1(i),u=k.boxSizing==="border-box",b=(parseFloat(k.width)||i.clientWidth||0)+(u?0:parseFloat(k.borderLeftWidth)+parseFloat(k.borderRightWidth)),$=(parseFloat(k.height)||i.clientHeight||0)+(u?0:parseFloat(k.borderTopWidth)+parseFloat(k.borderBottomWidth)))),o=b,l=$}return i===e?{left:s,top:a,width:o-s,height:l-a}:(c=getGlobalMatrix$1(e,!0).multiply(getGlobalMatrix$1(i)),h=c.apply({x:s,y:a}),f=c.apply({x:o,y:a}),_=c.apply({x:o,y:l}),y=c.apply({x:s,y:l}),s=Math.min(h.x,f.x,_.x,y.x),a=Math.min(h.y,f.y,_.y,y.y),{left:s,top:a,width:Math.max(h.x,f.x,_.x,y.x)-s,height:Math.max(h.y,f.y,_.y,y.y)-a})},_parseInertia$1=function(i,e,t,n,s,o){var a={},l,c,h;if(e)if(s!==1&&e instanceof Array){if(a.end=l=[],h=e.length,_isObject$2(e[0]))for(c=0;c<h;c++)l[c]=_copy$1(e[c],s);else for(c=0;c<h;c++)l[c]=e[c]*s;t+=1.1,n-=1.1}else _isFunction$2(e)?a.end=function(f){var _=e.call(i,f),y,u;if(s!==1)if(_isObject$2(_)){y={};for(u in _)y[u]=_[u]*s;_=y}else _*=s;return _}:a.end=e;return(t||t===0)&&(a.max=t),(n||n===0)&&(a.min=n),o&&(a.velocity=0),a},_isClickable$1=function i(e){var t;return!e||!e.getAttribute||e===_body$2?!1:(t=e.getAttribute("data-clickable"))==="true"||t!=="false"&&(_clickableTagExp$1.test(e.nodeName+"")||e.getAttribute("contentEditable")==="true")?!0:i(e.parentNode)},_setSelectable$1=function(i,e){for(var t=i.length,n;t--;)n=i[t],n.ondragstart=n.onselectstart=e?null:_emptyFunc$1$1,gsap$3.set(n,{lazy:!0,userSelect:e?"text":"none"})},_isFixed$2=function i(e){if(_getComputedStyle$1(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return i(e)},_supports3D$2,_addPaddingBR$1,ScrollProxy$1=function(i,e){i=gsap$3.utils.toArray(i)[0],e=e||{};var t=document.createElement("div"),n=t.style,s=i.firstChild,o=0,a=0,l=i.scrollTop,c=i.scrollLeft,h=i.scrollWidth,f=i.scrollHeight,_=0,y=0,u=0,b,$,k,A,C,I;_supports3D$2&&e.force3D!==!1?(C="translate3d(",I="px,0px)"):_transformProp$3&&(C="translate(",I="px)"),this.scrollTop=function(S,O){if(!arguments.length)return-this.top();this.top(-S,O)},this.scrollLeft=function(S,O){if(!arguments.length)return-this.left();this.left(-S,O)},this.left=function(S,O){if(!arguments.length)return-(i.scrollLeft+a);var L=i.scrollLeft-c,B=a;if((L>2||L<-2)&&!O){c=i.scrollLeft,gsap$3.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-c),e.onKill&&e.onKill();return}S=-S,S<0?(a=S-.5|0,S=0):S>y?(a=S-y|0,S=y):a=0,(a||B)&&(this._skip||(n[_transformProp$3]=C+-a+"px,"+-o+I),a+_>=0&&(n.paddingRight=a+_+"px")),i.scrollLeft=S|0,c=i.scrollLeft},this.top=function(S,O){if(!arguments.length)return-(i.scrollTop+o);var L=i.scrollTop-l,B=o;if((L>2||L<-2)&&!O){l=i.scrollTop,gsap$3.killTweensOf(this,{top:1,scrollTop:1}),this.top(-l),e.onKill&&e.onKill();return}S=-S,S<0?(o=S-.5|0,S=0):S>u?(o=S-u|0,S=u):o=0,(o||B)&&(this._skip||(n[_transformProp$3]=C+-a+"px,"+-o+I)),i.scrollTop=S|0,l=i.scrollTop},this.maxScrollTop=function(){return u},this.maxScrollLeft=function(){return y},this.disable=function(){for(s=t.firstChild;s;)A=s.nextSibling,i.appendChild(s),s=A;i===t.parentNode&&i.removeChild(t)},this.enable=function(){if(s=i.firstChild,s!==t){for(;s;)A=s.nextSibling,t.appendChild(s),s=A;i.appendChild(t),this.calibrate()}},this.calibrate=function(S){var O=i.clientWidth===b,L,B,N;l=i.scrollTop,c=i.scrollLeft,!(O&&i.clientHeight===$&&t.offsetHeight===k&&h===i.scrollWidth&&f===i.scrollHeight&&!S)&&((o||a)&&(B=this.left(),N=this.top(),this.left(-i.scrollLeft),this.top(-i.scrollTop)),L=_getComputedStyle$1(i),(!O||S)&&(n.display="block",n.width="auto",n.paddingRight="0px",_=Math.max(0,i.scrollWidth-i.clientWidth),_&&(_+=parseFloat(L.paddingLeft)+(_addPaddingBR$1?parseFloat(L.paddingRight):0))),n.display="inline-block",n.position="relative",n.overflow="visible",n.verticalAlign="top",n.boxSizing="content-box",n.width="100%",n.paddingRight=_+"px",_addPaddingBR$1&&(n.paddingBottom=L.paddingBottom),b=i.clientWidth,$=i.clientHeight,h=i.scrollWidth,f=i.scrollHeight,y=i.scrollWidth-b,u=i.scrollHeight-$,k=t.offsetHeight,n.display="block",(B||N)&&(this.left(B),this.top(N)))},this.content=t,this.element=i,this._skip=!1,this.enable()},_initCore$2=function(i){if(_windowExists$1$1()&&document.body){var e=window&&window.navigator;_win$1$1=window,_doc$4=document,_docElement$3=_doc$4.documentElement,_body$2=_doc$4.body,_tempDiv$2=_createElement$2("div"),_supportsPointer$1=!!window.PointerEvent,_placeholderDiv$1=_createElement$2("div"),_placeholderDiv$1.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",_defaultCursor$1=_placeholderDiv$1.style.cursor==="grab"?"grab":"move",_isAndroid$1=e&&e.userAgent.toLowerCase().indexOf("android")!==-1,_isTouchDevice$1="ontouchstart"in _docElement$3&&"orientation"in _win$1$1||e&&(e.MaxTouchPoints>0||e.msMaxTouchPoints>0),_addPaddingBR$1=function(){var t=_createElement$2("div"),n=_createElement$2("div"),s=n.style,o=_body$2,a;return s.display="inline-block",s.position="relative",t.style.cssText="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",t.appendChild(n),o.appendChild(t),a=n.offsetHeight+18>t.scrollHeight,o.removeChild(t),a}(),_touchEventLookup$1=function(t){for(var n=t.split(","),s=("onpointerdown"in _tempDiv$2?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in _tempDiv$2?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":t).split(","),o={},a=4;--a>-1;)o[n[a]]=s[a],o[s[a]]=n[a];try{_docElement$3.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){_supportsPassive$1=1}}))}catch{}return o}("touchstart,touchmove,touchend,touchcancel"),_addListener$1(_doc$4,"touchcancel",_emptyFunc$1$1),_addListener$1(_win$1$1,"touchmove",_emptyFunc$1$1),_body$2&&_body$2.addEventListener("touchstart",_emptyFunc$1$1),_addListener$1(_doc$4,"contextmenu",function(){for(var t in _lookup$1)_lookup$1[t].isPressed&&_lookup$1[t].endDrag()}),gsap$3=_coreInitted$2=_getGSAP$3()}gsap$3?(InertiaPlugin$1=gsap$3.plugins.inertia,_context$2=gsap$3.core.context||function(){},_checkPrefix$1=gsap$3.utils.checkPrefix,_transformProp$3=_checkPrefix$1(_transformProp$3),_transformOriginProp$3=_checkPrefix$1(_transformOriginProp$3),_toArray$2=gsap$3.utils.toArray,_getStyleSaver$2=gsap$3.core.getStyleSaver,_supports3D$2=!!_checkPrefix$1("perspective")):i&&console.warn("Please gsap.registerPlugin(Draggable)")},EventDispatcher$1=function(){function i(t){this._listeners={},this.target=t||this}var e=i.prototype;return e.addEventListener=function(t,n){var s=this._listeners[t]||(this._listeners[t]=[]);~s.indexOf(n)||s.push(n)},e.removeEventListener=function(t,n){var s=this._listeners[t],o=s&&s.indexOf(n);o>=0&&s.splice(o,1)},e.dispatchEvent=function(t){var n=this,s;return(this._listeners[t]||[]).forEach(function(o){return o.call(n,{type:t,target:n.target})===!1&&(s=!1)}),s},i}(),Draggable$1=function(i){_inheritsLoose$2(e,i);function e(t,n){var s;s=i.call(this)||this,_coreInitted$2||_initCore$2(1),t=_toArray$2(t)[0],s.styles=_getStyleSaver$2&&_getStyleSaver$2(t,"transform,left,top"),InertiaPlugin$1||(InertiaPlugin$1=gsap$3.plugins.inertia),s.vars=n=_copy$1(n||{}),s.target=t,s.x=s.y=s.rotation=0,s.dragResistance=parseFloat(n.dragResistance)||0,s.edgeResistance=isNaN(n.edgeResistance)?1:parseFloat(n.edgeResistance)||0,s.lockAxis=n.lockAxis,s.autoScroll=n.autoScroll||0,s.lockedAxis=null,s.allowEventDefault=!!n.allowEventDefault,gsap$3.getProperty(t,"x");var o=(n.type||"x,y").toLowerCase(),a=~o.indexOf("x")||~o.indexOf("y"),l=o.indexOf("rotation")!==-1,c=l?"rotation":a?"x":"left",h=a?"y":"top",f=!!(~o.indexOf("x")||~o.indexOf("left")||o==="scroll"),_=!!(~o.indexOf("y")||~o.indexOf("top")||o==="scroll"),y=n.minimumMovement||2,u=_assertThisInitialized$2(s),b=_toArray$2(n.trigger||n.handle||t),$={},k=0,A=!1,C=n.autoScrollMarginTop||40,I=n.autoScrollMarginRight||40,S=n.autoScrollMarginBottom||40,O=n.autoScrollMarginLeft||40,L=n.clickableTest||_isClickable$1,B=0,N=t._gsap||gsap$3.core.getCache(t),j=_isFixed$2(t),Ie=function(z,M){return parseFloat(N.get(t,z,M))},ae=t.ownerDocument||_doc$4,Be,re,sn,rt,Le,Je,on,Gn,Pn,Se,Gt,pt,jt,jn,En,Yn,qn,Tn,wi,Ni,Wn,Nr,ke,qt,Cr,ki,Sn,Ci,Ds,_s,Mi,Vs,Is,Bs=function(z){return _preventDefault$1(z),z.stopImmediatePropagation&&z.stopImmediatePropagation(),!1},Si=function z(M){if(u.autoScroll&&u.isDragging&&(A||qn)){var W=t,F=u.autoScroll*15,Y,he,me,fe,ye,An,wn,zn;for(A=!1,_windowProxy$1.scrollTop=_win$1$1.pageYOffset!=null?_win$1$1.pageYOffset:ae.documentElement.scrollTop!=null?ae.documentElement.scrollTop:ae.body.scrollTop,_windowProxy$1.scrollLeft=_win$1$1.pageXOffset!=null?_win$1$1.pageXOffset:ae.documentElement.scrollLeft!=null?ae.documentElement.scrollLeft:ae.body.scrollLeft,fe=u.pointerX-_windowProxy$1.scrollLeft,ye=u.pointerY-_windowProxy$1.scrollTop;W&&!he;)he=_isRoot$1(W.parentNode),Y=he?_windowProxy$1:W.parentNode,me=he?{bottom:Math.max(_docElement$3.clientHeight,_win$1$1.innerHeight||0),right:Math.max(_docElement$3.clientWidth,_win$1$1.innerWidth||0),left:0,top:0}:Y.getBoundingClientRect(),An=wn=0,_&&(zn=Y._gsMaxScrollY-Y.scrollTop,zn<0?wn=zn:ye>me.bottom-S&&zn?(A=!0,wn=Math.min(zn,F*(1-Math.max(0,me.bottom-ye)/S)|0)):ye<me.top+C&&Y.scrollTop&&(A=!0,wn=-Math.min(Y.scrollTop,F*(1-Math.max(0,ye-me.top)/C)|0)),wn&&(Y.scrollTop+=wn)),f&&(zn=Y._gsMaxScrollX-Y.scrollLeft,zn<0?An=zn:fe>me.right-I&&zn?(A=!0,An=Math.min(zn,F*(1-Math.max(0,me.right-fe)/I)|0)):fe<me.left+O&&Y.scrollLeft&&(A=!0,An=-Math.min(Y.scrollLeft,F*(1-Math.max(0,fe-me.left)/O)|0)),An&&(Y.scrollLeft+=An)),he&&(An||wn)&&(_win$1$1.scrollTo(Y.scrollLeft,Y.scrollTop),nt(u.pointerX+An,u.pointerY+wn)),W=Y}if(qn){var Un=u.x,xi=u.y;l?(u.deltaX=Un-parseFloat(N.rotation),u.rotation=Un,N.rotation=Un+"deg",N.renderTransform(1,N)):re?(_&&(u.deltaY=xi-re.top(),re.top(xi)),f&&(u.deltaX=Un-re.left(),re.left(Un))):a?(_&&(u.deltaY=xi-parseFloat(N.y),N.y=xi+"px"),f&&(u.deltaX=Un-parseFloat(N.x),N.x=Un+"px"),N.renderTransform(1,N)):(_&&(u.deltaY=xi-parseFloat(t.style.top||0),t.style.top=xi+"px"),f&&(u.deltaX=Un-parseFloat(t.style.left||0),t.style.left=Un+"px")),Gn&&!M&&!Ci&&(Ci=!0,_dispatchEvent$1(u,"drag","onDrag")===!1&&(f&&(u.x-=u.deltaX),_&&(u.y-=u.deltaY),z(!0)),Ci=!1)}qn=!1},Dr=function(z,M){var W=u.x,F=u.y,Y,he;t._gsap||(N=gsap$3.core.getCache(t)),N.uncache&&gsap$3.getProperty(t,"x"),a?(u.x=parseFloat(N.x),u.y=parseFloat(N.y)):l?u.x=u.rotation=parseFloat(N.rotation):re?(u.y=re.top(),u.x=re.left()):(u.y=parseFloat(t.style.top||(he=_getComputedStyle$1(t))&&he.top)||0,u.x=parseFloat(t.style.left||(he||{}).left)||0),(wi||Ni||Wn)&&!M&&(u.isDragging||u.isThrowing)&&(Wn&&(_temp1$1.x=u.x,_temp1$1.y=u.y,Y=Wn(_temp1$1),Y.x!==u.x&&(u.x=Y.x,qn=!0),Y.y!==u.y&&(u.y=Y.y,qn=!0)),wi&&(Y=wi(u.x),Y!==u.x&&(u.x=Y,l&&(u.rotation=Y),qn=!0)),Ni&&(Y=Ni(u.y),Y!==u.y&&(u.y=Y),qn=!0)),qn&&Si(!0),z||(u.deltaX=u.x-W,u.deltaY=u.y-F,_dispatchEvent$1(u,"throwupdate","onThrowUpdate"))},zs=function(z,M,W,F){return M==null&&(M=-1e20),W==null&&(W=_bigNum$1$1),_isFunction$2(z)?function(Y){var he=u.isPressed?1-u.edgeResistance:1;return z.call(u,(Y>W?W+(Y-W)*he:Y<M?M+(Y-M)*he:Y)*F)*F}:_isArray$2(z)?function(Y){for(var he=z.length,me=0,fe=_bigNum$1$1,ye,An;--he>-1;)ye=z[he],An=ye-Y,An<0&&(An=-An),An<fe&&ye>=M&&ye<=W&&(me=he,fe=An);return z[me]}:isNaN(z)?function(Y){return Y}:function(){return z*F}},js=function(z,M,W,F,Y,he,me){return he=he&&he<_bigNum$1$1?he*he:_bigNum$1$1,_isFunction$2(z)?function(fe){var ye=u.isPressed?1-u.edgeResistance:1,An=fe.x,wn=fe.y,zn,Un,xi;return fe.x=An=An>W?W+(An-W)*ye:An<M?M+(An-M)*ye:An,fe.y=wn=wn>Y?Y+(wn-Y)*ye:wn<F?F+(wn-F)*ye:wn,zn=z.call(u,fe),zn!==fe&&(fe.x=zn.x,fe.y=zn.y),me!==1&&(fe.x*=me,fe.y*=me),he<_bigNum$1$1&&(Un=fe.x-An,xi=fe.y-wn,Un*Un+xi*xi>he&&(fe.x=An,fe.y=wn)),fe}:_isArray$2(z)?function(fe){for(var ye=z.length,An=0,wn=_bigNum$1$1,zn,Un,xi,Ei;--ye>-1;)xi=z[ye],zn=xi.x-fe.x,Un=xi.y-fe.y,Ei=zn*zn+Un*Un,Ei<wn&&(An=ye,wn=Ei);return wn<=he?z[An]:fe}:function(fe){return fe}},Ws=function(){var z,M,W,F;on=!1,re?(re.calibrate(),u.minX=Gt=-re.maxScrollLeft(),u.minY=jt=-re.maxScrollTop(),u.maxX=Se=u.maxY=pt=0,on=!0):n.bounds&&(z=_getBounds$1(n.bounds,t.parentNode),l?(u.minX=Gt=z.left,u.maxX=Se=z.left+z.width,u.minY=jt=u.maxY=pt=0):!_isUndefined$1$1(n.bounds.maxX)||!_isUndefined$1$1(n.bounds.maxY)?(z=n.bounds,u.minX=Gt=z.minX,u.minY=jt=z.minY,u.maxX=Se=z.maxX,u.maxY=pt=z.maxY):(M=_getBounds$1(t,t.parentNode),u.minX=Gt=Math.round(Ie(c,"px")+z.left-M.left),u.minY=jt=Math.round(Ie(h,"px")+z.top-M.top),u.maxX=Se=Math.round(Gt+(z.width-M.width)),u.maxY=pt=Math.round(jt+(z.height-M.height))),Gt>Se&&(u.minX=Se,u.maxX=Se=Gt,Gt=u.minX),jt>pt&&(u.minY=pt,u.maxY=pt=jt,jt=u.minY),l&&(u.minRotation=Gt,u.maxRotation=Se),on=!0),n.liveSnap&&(W=n.liveSnap===!0?n.snap||{}:n.liveSnap,F=_isArray$2(W)||_isFunction$2(W),l?(wi=zs(F?W:W.rotation,Gt,Se,1),Ni=null):W.points?Wn=js(F?W:W.points,Gt,Se,jt,pt,W.radius,re?-1:1):(f&&(wi=zs(F?W:W.x||W.left||W.scrollLeft,Gt,Se,re?-1:1)),_&&(Ni=zs(F?W:W.y||W.top||W.scrollTop,jt,pt,re?-1:1))))},Js=function(){u.isThrowing=!1,_dispatchEvent$1(u,"throwcomplete","onThrowComplete")},Gs=function(){u.isThrowing=!1},Ns=function(z,M){var W,F,Y,he;z&&InertiaPlugin$1?(z===!0&&(W=n.snap||n.liveSnap||{},F=_isArray$2(W)||_isFunction$2(W),z={resistance:(n.throwResistance||n.resistance||1e3)/(l?10:1)},l?z.rotation=_parseInertia$1(u,F?W:W.rotation,Se,Gt,1,M):(f&&(z[c]=_parseInertia$1(u,F?W:W.points||W.x||W.left,Se,Gt,re?-1:1,M||u.lockedAxis==="x")),_&&(z[h]=_parseInertia$1(u,F?W:W.points||W.y||W.top,pt,jt,re?-1:1,M||u.lockedAxis==="y")),(W.points||_isArray$2(W)&&_isObject$2(W[0]))&&(z.linkedProps=c+","+h,z.radius=W.radius))),u.isThrowing=!0,he=isNaN(n.overshootTolerance)?n.edgeResistance===1?0:1-u.edgeResistance+.2:n.overshootTolerance,z.duration||(z.duration={max:Math.max(n.minDuration||0,"maxDuration"in n?n.maxDuration:2),min:isNaN(n.minDuration)?he===0||_isObject$2(z)&&z.resistance>1e3?0:.5:n.minDuration,overshoot:he}),u.tween=Y=gsap$3.to(re||t,{inertia:z,data:"_draggable",inherit:!1,onComplete:Js,onInterrupt:Gs,onUpdate:n.fastMode?_dispatchEvent$1:Dr,onUpdateParams:n.fastMode?[u,"onthrowupdate","onThrowUpdate"]:W&&W.radius?[!1,!0]:[]}),n.fastMode||(re&&(re._skip=!0),Y.render(1e9,!0,!0),Dr(!0,!0),u.endX=u.x,u.endY=u.y,l&&(u.endRotation=u.x),Y.play(0),Dr(!0,!0),re&&(re._skip=!1))):on&&u.applyBounds()},Ys=function(z){var M=qt,W;qt=getGlobalMatrix$1(t.parentNode,!0),z&&u.isPressed&&!qt.equals(M||new Matrix2D$1)&&(W=M.inverse().apply({x:sn,y:rt}),qt.apply(W,W),sn=W.x,rt=W.y),qt.equals(_identityMatrix$2)&&(qt=null)},Vr=function(){var z=1-u.edgeResistance,M=j?_getDocScrollLeft$2(ae):0,W=j?_getDocScrollTop$2(ae):0,F,Y,he;a&&(N.x=Ie(c,"px")+"px",N.y=Ie(h,"px")+"px",N.renderTransform()),Ys(!1),_point1$1.x=u.pointerX-M,_point1$1.y=u.pointerY-W,qt&&qt.apply(_point1$1,_point1$1),sn=_point1$1.x,rt=_point1$1.y,qn&&(nt(u.pointerX,u.pointerY),Si(!0)),Vs=getGlobalMatrix$1(t),re?(Ws(),Je=re.top(),Le=re.left()):(_n()?(Dr(!0,!0),Ws()):u.applyBounds(),l?(F=t.ownerSVGElement?[N.xOrigin-t.getBBox().x,N.yOrigin-t.getBBox().y]:(_getComputedStyle$1(t)[_transformOriginProp$3]||"0 0").split(" "),Yn=u.rotationOrigin=getGlobalMatrix$1(t).apply({x:parseFloat(F[0])||0,y:parseFloat(F[1])||0}),Dr(!0,!0),Y=u.pointerX-Yn.x-M,he=Yn.y-u.pointerY+W,Le=u.x,Je=u.y=Math.atan2(he,Y)*_RAD2DEG$1$1):(Je=Ie(h,"px"),Le=Ie(c,"px"))),on&&z&&(Le>Se?Le=Se+(Le-Se)/z:Le<Gt&&(Le=Gt-(Gt-Le)/z),l||(Je>pt?Je=pt+(Je-pt)/z:Je<jt&&(Je=jt-(jt-Je)/z))),u.startX=Le=_round$3(Le),u.startY=Je=_round$3(Je)},_n=function(){return u.tween&&u.tween.isActive()},Hs=function(){_placeholderDiv$1.parentNode&&!_n()&&!u.isDragging&&_placeholderDiv$1.parentNode.removeChild(_placeholderDiv$1)},Fr=function(z,M){var W;if(!Be||u.isPressed||!z||(z.type==="mousedown"||z.type==="pointerdown")&&!M&&_getTime$1()-B<30&&_touchEventLookup$1[u.pointerEvent.type]){Mi&&z&&Be&&_preventDefault$1(z);return}if(Cr=_n(),Is=!1,u.pointerEvent=z,_touchEventLookup$1[z.type]?(ke=~z.type.indexOf("touch")?z.currentTarget||z.target:ae,_addListener$1(ke,"touchend",Oi),_addListener$1(ke,"touchmove",Ir),_addListener$1(ke,"touchcancel",Oi),_addListener$1(ae,"touchstart",_onMultiTouchDocument$1)):(ke=null,_addListener$1(ae,"mousemove",Ir)),Sn=null,(!_supportsPointer$1||!ke)&&(_addListener$1(ae,"mouseup",Oi),z&&z.target&&_addListener$1(z.target,"mouseup",Oi)),Nr=L.call(u,z.target)&&n.dragClickables===!1&&!M,Nr){_addListener$1(z.target,"change",Oi),_dispatchEvent$1(u,"pressInit","onPressInit"),_dispatchEvent$1(u,"press","onPress"),_setSelectable$1(b,!0),Mi=!1;return}if(ki=!ke||f===_||u.vars.allowNativeTouchScrolling===!1||u.vars.allowContextMenu&&z&&(z.ctrlKey||z.which>2)?!1:f?"y":"x",Mi=!ki&&!u.allowEventDefault,Mi&&(_preventDefault$1(z),_addListener$1(_win$1$1,"touchforcechange",_preventDefault$1)),z.changedTouches?(z=jn=z.changedTouches[0],En=z.identifier):z.pointerId?En=z.pointerId:jn=En=null,_dragCount$1++,_addToRenderQueue$1(Si),rt=u.pointerY=z.pageY,sn=u.pointerX=z.pageX,_dispatchEvent$1(u,"pressInit","onPressInit"),(ki||u.autoScroll)&&_recordMaxScrolls$1(t.parentNode),t.parentNode&&u.autoScroll&&!re&&!l&&t.parentNode._gsMaxScrollX&&!_placeholderDiv$1.parentNode&&!t.getBBox&&(_placeholderDiv$1.style.width=t.parentNode.scrollWidth+"px",t.parentNode.appendChild(_placeholderDiv$1)),Vr(),u.tween&&u.tween.kill(),u.isThrowing=!1,gsap$3.killTweensOf(re||t,$,!0),re&&gsap$3.killTweensOf(t,{scrollTo:1},!0),u.tween=u.lockedAxis=null,(n.zIndexBoost||!l&&!re&&n.zIndexBoost!==!1)&&(t.style.zIndex=e.zIndex++),u.isPressed=!0,Gn=!!(n.onDrag||u._listeners.drag),Pn=!!(n.onMove||u._listeners.move),n.cursor!==!1||n.activeCursor)for(W=b.length;--W>-1;)gsap$3.set(b[W],{cursor:n.activeCursor||n.cursor||(_defaultCursor$1==="grab"?"grabbing":_defaultCursor$1)});_dispatchEvent$1(u,"press","onPress")},Ir=function(z){var M=z,W,F,Y,he,me,fe;if(!Be||_isMultiTouching$1||!u.isPressed||!z){Mi&&z&&Be&&_preventDefault$1(z);return}if(u.pointerEvent=z,W=z.changedTouches,W){if(z=W[0],z!==jn&&z.identifier!==En){for(he=W.length;--he>-1&&(z=W[he]).identifier!==En&&z.target!==t;);if(he<0)return}}else if(z.pointerId&&En&&z.pointerId!==En)return;if(ke&&ki&&!Sn&&(_point1$1.x=z.pageX-(j?_getDocScrollLeft$2(ae):0),_point1$1.y=z.pageY-(j?_getDocScrollTop$2(ae):0),qt&&qt.apply(_point1$1,_point1$1),F=_point1$1.x,Y=_point1$1.y,me=Math.abs(F-sn),fe=Math.abs(Y-rt),(me!==fe&&(me>y||fe>y)||_isAndroid$1&&ki===Sn)&&(Sn=me>fe&&f?"x":"y",ki&&Sn!==ki&&_addListener$1(_win$1$1,"touchforcechange",_preventDefault$1),u.vars.lockAxisOnTouchScroll!==!1&&f&&_&&(u.lockedAxis=Sn==="x"?"y":"x",_isFunction$2(u.vars.onLockAxis)&&u.vars.onLockAxis.call(u,M)),_isAndroid$1&&ki===Sn))){Oi(M);return}!u.allowEventDefault&&(!ki||Sn&&ki!==Sn)&&M.cancelable!==!1?(_preventDefault$1(M),Mi=!0):Mi&&(Mi=!1),u.autoScroll&&(A=!0),nt(z.pageX,z.pageY,Pn)},nt=function(z,M,W){var F=1-u.dragResistance,Y=1-u.edgeResistance,he=u.pointerX,me=u.pointerY,fe=Je,ye=u.x,An=u.y,wn=u.endX,zn=u.endY,Un=u.endRotation,xi=qn,Ei,Di,Pi,Hn,Ri,Mr;u.pointerX=z,u.pointerY=M,j&&(z-=_getDocScrollLeft$2(ae),M-=_getDocScrollTop$2(ae)),l?(Hn=Math.atan2(Yn.y-M,z-Yn.x)*_RAD2DEG$1$1,Ri=u.y-Hn,Ri>180?(Je-=360,u.y=Hn):Ri<-180&&(Je+=360,u.y=Hn),u.x!==Le||Math.max(Math.abs(sn-z),Math.abs(rt-M))>y?(u.y=Hn,Pi=Le+(Je-Hn)*F):Pi=Le):(qt&&(Mr=z*qt.a+M*qt.c+qt.e,M=z*qt.b+M*qt.d+qt.f,z=Mr),Di=M-rt,Ei=z-sn,Di<y&&Di>-y&&(Di=0),Ei<y&&Ei>-y&&(Ei=0),(u.lockAxis||u.lockedAxis)&&(Ei||Di)&&(Mr=u.lockedAxis,Mr||(u.lockedAxis=Mr=f&&Math.abs(Ei)>Math.abs(Di)?"y":_?"x":null,Mr&&_isFunction$2(u.vars.onLockAxis)&&u.vars.onLockAxis.call(u,u.pointerEvent)),Mr==="y"?Di=0:Mr==="x"&&(Ei=0)),Pi=_round$3(Le+Ei*F),Hn=_round$3(Je+Di*F)),(wi||Ni||Wn)&&(u.x!==Pi||u.y!==Hn&&!l)&&(Wn&&(_temp1$1.x=Pi,_temp1$1.y=Hn,Mr=Wn(_temp1$1),Pi=_round$3(Mr.x),Hn=_round$3(Mr.y)),wi&&(Pi=_round$3(wi(Pi))),Ni&&(Hn=_round$3(Ni(Hn)))),on&&(Pi>Se?Pi=Se+Math.round((Pi-Se)*Y):Pi<Gt&&(Pi=Gt+Math.round((Pi-Gt)*Y)),l||(Hn>pt?Hn=Math.round(pt+(Hn-pt)*Y):Hn<jt&&(Hn=Math.round(jt+(Hn-jt)*Y)))),(u.x!==Pi||u.y!==Hn&&!l)&&(l?(u.endRotation=u.x=u.endX=Pi,qn=!0):(_&&(u.y=u.endY=Hn,qn=!0),f&&(u.x=u.endX=Pi,qn=!0)),!W||_dispatchEvent$1(u,"move","onMove")!==!1?!u.isDragging&&u.isPressed&&(u.isDragging=Is=!0,_dispatchEvent$1(u,"dragstart","onDragStart")):(u.pointerX=he,u.pointerY=me,Je=fe,u.x=ye,u.y=An,u.endX=wn,u.endY=zn,u.endRotation=Un,qn=xi))},Oi=function z(M,W){if(!Be||!u.isPressed||M&&En!=null&&!W&&(M.pointerId&&M.pointerId!==En&&M.target!==t||M.changedTouches&&!_hasTouchID$1(M.changedTouches,En))){Mi&&M&&Be&&_preventDefault$1(M);return}u.isPressed=!1;var F=M,Y=u.isDragging,he=u.vars.allowContextMenu&&M&&(M.ctrlKey||M.which>2),me=gsap$3.delayedCall(.001,Hs),fe,ye,An,wn,zn;if(ke?(_removeListener$1(ke,"touchend",z),_removeListener$1(ke,"touchmove",Ir),_removeListener$1(ke,"touchcancel",z),_removeListener$1(ae,"touchstart",_onMultiTouchDocument$1)):_removeListener$1(ae,"mousemove",Ir),_removeListener$1(_win$1$1,"touchforcechange",_preventDefault$1),(!_supportsPointer$1||!ke)&&(_removeListener$1(ae,"mouseup",z),M&&M.target&&_removeListener$1(M.target,"mouseup",z)),qn=!1,Y&&(k=_lastDragTime$1=_getTime$1(),u.isDragging=!1),_removeFromRenderQueue$1(Si),Nr&&!he){M&&(_removeListener$1(M.target,"change",z),u.pointerEvent=F),_setSelectable$1(b,!1),_dispatchEvent$1(u,"release","onRelease"),_dispatchEvent$1(u,"click","onClick"),Nr=!1;return}for(ye=b.length;--ye>-1;)_setStyle$1(b[ye],"cursor",n.cursor||(n.cursor!==!1?_defaultCursor$1:null));if(_dragCount$1--,M){if(fe=M.changedTouches,fe&&(M=fe[0],M!==jn&&M.identifier!==En)){for(ye=fe.length;--ye>-1&&(M=fe[ye]).identifier!==En&&M.target!==t;);if(ye<0&&!W)return}u.pointerEvent=F,u.pointerX=M.pageX,u.pointerY=M.pageY}return he&&F?(_preventDefault$1(F),Mi=!0,_dispatchEvent$1(u,"release","onRelease")):F&&!Y?(Mi=!1,Cr&&(n.snap||n.bounds)&&Ns(n.inertia||n.throwProps),_dispatchEvent$1(u,"release","onRelease"),(!_isAndroid$1||F.type!=="touchmove")&&F.type.indexOf("cancel")===-1&&(_dispatchEvent$1(u,"click","onClick"),_getTime$1()-B<300&&_dispatchEvent$1(u,"doubleclick","onDoubleClick"),wn=F.target||t,B=_getTime$1(),zn=function(){B!==Ds&&u.enabled()&&!u.isPressed&&!F.defaultPrevented&&(wn.click?wn.click():ae.createEvent&&(An=ae.createEvent("MouseEvents"),An.initMouseEvent("click",!0,!0,_win$1$1,1,u.pointerEvent.screenX,u.pointerEvent.screenY,u.pointerX,u.pointerY,!1,!1,!1,!1,0,null),wn.dispatchEvent(An)))},!_isAndroid$1&&!F.defaultPrevented&&gsap$3.delayedCall(.05,zn))):(Ns(n.inertia||n.throwProps),!u.allowEventDefault&&F&&(n.dragClickables!==!1||!L.call(u,F.target))&&Y&&(!ki||Sn&&ki===Sn)&&F.cancelable!==!1?(Mi=!0,_preventDefault$1(F)):Mi=!1,_dispatchEvent$1(u,"release","onRelease")),_n()&&me.duration(u.tween.duration()),Y&&_dispatchEvent$1(u,"dragend","onDragEnd"),!0},Ls=function(z){if(z&&u.isDragging&&!re){var M=z.target||t.parentNode,W=M.scrollLeft-M._gsScrollX,F=M.scrollTop-M._gsScrollY;(W||F)&&(qt?(sn-=W*qt.a+F*qt.c,rt-=F*qt.d+W*qt.b):(sn-=W,rt-=F),M._gsScrollX+=W,M._gsScrollY+=F,nt(u.pointerX,u.pointerY))}},Xs=function(z){var M=_getTime$1(),W=M-B<100,F=M-k<50,Y=W&&Ds===B,he=u.pointerEvent&&u.pointerEvent.defaultPrevented,me=W&&_s===B,fe=z.isTrusted||z.isTrusted==null&&W&&Y;if((Y||F&&u.vars.suppressClickOnDrag!==!1)&&z.stopImmediatePropagation&&z.stopImmediatePropagation(),W&&!(u.pointerEvent&&u.pointerEvent.defaultPrevented)&&(!Y||fe&&!me)){fe&&Y&&(_s=B),Ds=B;return}(u.isPressed||F||W)&&(!fe||!z.detail||!W||he)&&_preventDefault$1(z),!W&&!F&&!Is&&(z&&z.target&&(u.pointerEvent=z),_dispatchEvent$1(u,"click","onClick"))},_o=function(z){return qt?{x:z.x*qt.a+z.y*qt.c+qt.e,y:z.x*qt.b+z.y*qt.d+qt.f}:{x:z.x,y:z.y}};return Tn=e.get(t),Tn&&Tn.kill(),s.startDrag=function(z,M){var W,F,Y,he;Fr(z||u.pointerEvent,!0),M&&!u.hitTest(z||u.pointerEvent)&&(W=_parseRect$1(z||u.pointerEvent),F=_parseRect$1(t),Y=_o({x:W.left+W.width/2,y:W.top+W.height/2}),he=_o({x:F.left+F.width/2,y:F.top+F.height/2}),sn-=Y.x-he.x,rt-=Y.y-he.y),u.isDragging||(u.isDragging=Is=!0,_dispatchEvent$1(u,"dragstart","onDragStart"))},s.drag=Ir,s.endDrag=function(z){return Oi(z||u.pointerEvent,!0)},s.timeSinceDrag=function(){return u.isDragging?0:(_getTime$1()-k)/1e3},s.timeSinceClick=function(){return(_getTime$1()-B)/1e3},s.hitTest=function(z,M){return e.hitTest(u.target,z,M)},s.getDirection=function(z,M){var W=z==="velocity"&&InertiaPlugin$1?z:_isObject$2(z)&&!l?"element":"start",F,Y,he,me,fe,ye;return W==="element"&&(fe=_parseRect$1(u.target),ye=_parseRect$1(z)),F=W==="start"?u.x-Le:W==="velocity"?InertiaPlugin$1.getVelocity(t,c):fe.left+fe.width/2-(ye.left+ye.width/2),l?F<0?"counter-clockwise":"clockwise":(M=M||2,Y=W==="start"?u.y-Je:W==="velocity"?InertiaPlugin$1.getVelocity(t,h):fe.top+fe.height/2-(ye.top+ye.height/2),he=Math.abs(F/Y),me=he<1/M?"":F<0?"left":"right",he<M&&(me!==""&&(me+="-"),me+=Y<0?"up":"down"),me)},s.applyBounds=function(z,M){var W,F,Y,he,me,fe;if(z&&n.bounds!==z)return n.bounds=z,u.update(!0,M);if(Dr(!0),Ws(),on&&!_n()){if(W=u.x,F=u.y,W>Se?W=Se:W<Gt&&(W=Gt),F>pt?F=pt:F<jt&&(F=jt),(u.x!==W||u.y!==F)&&(Y=!0,u.x=u.endX=W,l?u.endRotation=W:u.y=u.endY=F,qn=!0,Si(!0),u.autoScroll&&!u.isDragging))for(_recordMaxScrolls$1(t.parentNode),he=t,_windowProxy$1.scrollTop=_win$1$1.pageYOffset!=null?_win$1$1.pageYOffset:ae.documentElement.scrollTop!=null?ae.documentElement.scrollTop:ae.body.scrollTop,_windowProxy$1.scrollLeft=_win$1$1.pageXOffset!=null?_win$1$1.pageXOffset:ae.documentElement.scrollLeft!=null?ae.documentElement.scrollLeft:ae.body.scrollLeft;he&&!fe;)fe=_isRoot$1(he.parentNode),me=fe?_windowProxy$1:he.parentNode,_&&me.scrollTop>me._gsMaxScrollY&&(me.scrollTop=me._gsMaxScrollY),f&&me.scrollLeft>me._gsMaxScrollX&&(me.scrollLeft=me._gsMaxScrollX),he=me;u.isThrowing&&(Y||u.endX>Se||u.endX<Gt||u.endY>pt||u.endY<jt)&&Ns(n.inertia||n.throwProps,Y)}return u},s.update=function(z,M,W){if(M&&u.isPressed){var F=getGlobalMatrix$1(t),Y=Vs.apply({x:u.x-Le,y:u.y-Je}),he=getGlobalMatrix$1(t.parentNode,!0);he.apply({x:F.e-Y.x,y:F.f-Y.y},Y),u.x-=Y.x-he.e,u.y-=Y.y-he.f,Si(!0),Vr()}var me=u.x,fe=u.y;return Ys(!M),z?u.applyBounds():(qn&&W&&Si(!0),Dr(!0)),M&&(nt(u.pointerX,u.pointerY),qn&&Si(!0)),u.isPressed&&!M&&(f&&Math.abs(me-u.x)>.01||_&&Math.abs(fe-u.y)>.01&&!l)&&Vr(),u.autoScroll&&(_recordMaxScrolls$1(t.parentNode,u.isDragging),A=u.isDragging,Si(!0),_removeScrollListener$1(t,Ls),_addScrollListener$1(t,Ls)),u},s.enable=function(z){var M={lazy:!0},W,F,Y;if(n.cursor!==!1&&(M.cursor=n.cursor||_defaultCursor$1),gsap$3.utils.checkPrefix("touchCallout")&&(M.touchCallout="none"),z!=="soft"){for(_setTouchActionForAllDescendants$1(b,f===_?"none":n.allowNativeTouchScrolling&&t.scrollHeight===t.clientHeight==(t.scrollWidth===t.clientHeight)||n.allowEventDefault?"manipulation":f?"pan-y":"pan-x"),F=b.length;--F>-1;)Y=b[F],_supportsPointer$1||_addListener$1(Y,"mousedown",Fr),_addListener$1(Y,"touchstart",Fr),_addListener$1(Y,"click",Xs,!0),gsap$3.set(Y,M),Y.getBBox&&Y.ownerSVGElement&&f!==_&&gsap$3.set(Y.ownerSVGElement,{touchAction:n.allowNativeTouchScrolling||n.allowEventDefault?"manipulation":f?"pan-y":"pan-x"}),n.allowContextMenu||_addListener$1(Y,"contextmenu",Bs);_setSelectable$1(b,!1)}return _addScrollListener$1(t,Ls),Be=!0,InertiaPlugin$1&&z!=="soft"&&InertiaPlugin$1.track(re||t,a?"x,y":l?"rotation":"top,left"),t._gsDragID=W=t._gsDragID||"d"+_lookupCount$1++,_lookup$1[W]=u,re&&(re.enable(),re.element._gsDragID=W),(n.bounds||l)&&Vr(),n.bounds&&u.applyBounds(),u},s.disable=function(z){for(var M=u.isDragging,W=b.length,F;--W>-1;)_setStyle$1(b[W],"cursor",null);if(z!=="soft"){for(_setTouchActionForAllDescendants$1(b,null),W=b.length;--W>-1;)F=b[W],_setStyle$1(F,"touchCallout",null),_removeListener$1(F,"mousedown",Fr),_removeListener$1(F,"touchstart",Fr),_removeListener$1(F,"click",Xs,!0),_removeListener$1(F,"contextmenu",Bs);_setSelectable$1(b,!0),ke&&(_removeListener$1(ke,"touchcancel",Oi),_removeListener$1(ke,"touchend",Oi),_removeListener$1(ke,"touchmove",Ir)),_removeListener$1(ae,"mouseup",Oi),_removeListener$1(ae,"mousemove",Ir)}return _removeScrollListener$1(t,Ls),Be=!1,InertiaPlugin$1&&z!=="soft"&&(InertiaPlugin$1.untrack(re||t,a?"x,y":l?"rotation":"top,left"),u.tween&&u.tween.kill()),re&&re.disable(),_removeFromRenderQueue$1(Si),u.isDragging=u.isPressed=Nr=!1,M&&_dispatchEvent$1(u,"dragend","onDragEnd"),u},s.enabled=function(z,M){return arguments.length?z?u.enable(M):u.disable(M):Be},s.kill=function(){return u.isThrowing=!1,u.tween&&u.tween.kill(),u.disable(),gsap$3.set(b,{clearProps:"userSelect"}),delete _lookup$1[t._gsDragID],u},s.revert=function(){this.kill(),this.styles&&this.styles.revert()},~o.indexOf("scroll")&&(re=s.scrollProxy=new ScrollProxy$1(t,_extend$1({onKill:function(){u.isPressed&&Oi(null)}},n)),t.style.overflowY=_&&!_isTouchDevice$1?"auto":"hidden",t.style.overflowX=f&&!_isTouchDevice$1?"auto":"hidden",t=re.content),l?$.rotation=1:(f&&($[c]=1),_&&($[h]=1)),N.force3D="force3D"in n?n.force3D:!0,_context$2(_assertThisInitialized$2(s)),s.enable(),s}return e.register=function(t){gsap$3=t,_initCore$2()},e.create=function(t,n){return _coreInitted$2||_initCore$2(!0),_toArray$2(t).map(function(s){return new e(s,n)})},e.get=function(t){return _lookup$1[(_toArray$2(t)[0]||{})._gsDragID]},e.timeSinceDrag=function(){return(_getTime$1()-_lastDragTime$1)/1e3},e.hitTest=function(t,n,s){if(t===n)return!1;var o=_parseRect$1(t),a=_parseRect$1(n),l=o.top,c=o.left,h=o.right,f=o.bottom,_=o.width,y=o.height,u=a.left>h||a.right<c||a.top>f||a.bottom<l,b,$,k;return u||!s?!u:(k=(s+"").indexOf("%")!==-1,s=parseFloat(s)||0,b={left:Math.max(c,a.left),top:Math.max(l,a.top)},b.width=Math.min(h,a.right)-b.left,b.height=Math.min(f,a.bottom)-b.top,b.width<0||b.height<0?!1:k?(s*=.01,$=b.width*b.height,$>=_*y*s||$>=a.width*a.height*s):b.width>s&&b.height>s)},e}(EventDispatcher$1);_setDefaults$2(Draggable$1.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1});Draggable$1.zIndex=1e3;Draggable$1.version="3.13.0";_getGSAP$3()&&gsap$3.registerPlugin(Draggable$1);gsapWithCSS$1.registerPlugin(Draggable$1);const Rt=class Ql extends HTMLElement{constructor(){super(),ct(this,"knobElement"),ct(this,"indicatorElement"),ct(this,"pathElement"),ct(this,"gsapDraggable"),ct(this,"config",{minValue:0,maxValue:100,defaultValue:0,minRotation:-170,maxRotation:170,snapIncrement:1,curve:1,disabled:!1,borderStyle:"currentState"}),ct(this,"currentValue",0),ct(this,"currentRotation",0),ct(this,"rotationToValue"),ct(this,"valueToRotation"),ct(this,"applySnapping")}static get observedAttributes(){return["min-value","max-value","default-value","min-rotation","max-rotation","snap-increment","value","disabled","width","height","border-style","curve"]}connectedCallback(){this.injectGlobalStyles(),this.createUtilityFunctions(),this.render(),setTimeout(()=>{this.createDraggable(),this.setValue(this.config.defaultValue||this.config.minValue)},0)}disconnectedCallback(){this.cleanup()}attributeChangedCallback(e,t,n){if(t!==n){if(e==="max-value"||e==="min-value"){const s=this.config.minValue,o=this.config.maxValue;this.updateConfigFromAttributes(),this.updateBorder();let a;e==="max-value"?a=gsapWithCSS$1.utils.mapRange(s,parseFloat(t),this.config.minValue,this.config.maxValue,this.currentValue):a=gsapWithCSS$1.utils.mapRange(parseFloat(t),o,this.config.minValue,this.config.maxValue,this.currentValue),this.createUtilityFunctions(),this.setValue(a);return}if(this.updateConfigFromAttributes(),this.updateBorder(),e==="width"||e==="height"||e==="border-style")return;if(e==="curve"){this.createUtilityFunctions(),this.setValue(this.currentValue);return}this.gsapDraggable&&this.reinitialize()}}injectGlobalStyles(){if(Ql.stylesInjected)return;const e=document.createElement("style");e.id="knob-element-styles",e.textContent=`
      knob-element {
        display: block;
        box-sizing: border-box;

        --knob-size: 120px;
        --knob-bg: inherit;  /* or currentColor ? linear-gradient(145deg, #2d2d2d, #1a1a1a); */
        --knob-border: rgb(234, 234, 234);
        --knob-indicator-color: var(--knob-border); 

        width: var(--knob-size, 120px);  /* Default, but overridable */
        height: var(--knob-size, 120px);
      }
      
      knob-element[disabled] {
        opacity: 0.5;
        pointer-events: none;
      }
      
      knob-element .knob-container {
        position: relative;
        width: 100%; /* Fill parent */
        height: 100%; 
      }

      knob-element .knob-border-svg {
        position: absolute;
        top: 0;
        left: 0;
        pointer-events: none;
      }
      
      knob-element .knob {
        position: relative;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        position: relative;
        cursor: grab;
        transition: transform 0.1s ease;
      }
      
      knob-element .knob:hover {
        transform: scale(1.05);
      }
      
      knob-element .knob:active {
        cursor: grabbing;
        transform: scale(0.95);
      }
      
      knob-element .center-dot {
        display: none; 
        position: absolute;
        top: calc(50% - 2px);
        left: calc(50% - 2px);
        width: 4px;
        height: 4px;
        background: var(--knob-indicator-color);
        border-radius: 50%;
        pointer-events: none;
      }
    `,document.head.appendChild(e),Ql.stylesInjected=!0}updateConfigFromAttributes(){const e=(s,o)=>{const a=this.getAttribute(s);return a!==null?parseFloat(a):o},t=(s,o)=>this.getAttribute(s)||o,n=s=>{const o=this.getAttribute(s);if(o)try{return JSON.parse(o)}catch{console.warn(`KnobElement: Invalid ${s} JSON:`,o);return}};this.config={minValue:e("min-value",0),maxValue:e("max-value",100),defaultValue:e("default-value",0),minRotation:e("min-rotation",-150),maxRotation:e("max-rotation",150),snapIncrement:e("snap-increment",1),curve:e("curve",1),borderStyle:t("border-style","currentState"),snapThresholds:n("snap-thresholds"),disabled:this.hasAttribute("disabled")},this.updateDimensions()}updateDimensions(){const e=this.getAttribute("width"),t=this.getAttribute("height");if(e||t){const n=e||t||"120";this.style.setProperty("--knob-size",`${n}px`)}}render(){this.innerHTML=`
    <div class="knob-container">
      <!-- SVG border (doesn't rotate) -->
      <svg class="knob-border-svg" width="100%" height="100%" viewBox="0 0 100 100">
          <path class="knob-border" 
                fill="none" 
                stroke="var(--knob-border)" 
                stroke-width="4" 
                d="M50,50Z"/>
      </svg>
      
      <!-- Rotating knob content -->
      <div class="knob">
        <div class="knob-indicator"></div>
      </div>

      <!-- Fixed center dot -->
        <div class="center-dot"></div>
    </div>
  `,this.knobElement=this.querySelector(".knob"),this.indicatorElement=this.querySelector(".knob-indicator"),this.pathElement=this.querySelector(".knob-border")}reinitialize(){this.cleanup(),this.createUtilityFunctions(),this.createDraggable(),this.setValue(this.config.defaultValue||this.config.minValue)}cleanup(){this.gsapDraggable&&this.gsapDraggable.kill()}createUtilityFunctions(){const e=this.config.curve||1;this.rotationToValue=t=>{const n=gsapWithCSS$1.utils.mapRange(this.config.minRotation,this.config.maxRotation,0,1)(t),s=Math.pow(n,e);return gsapWithCSS$1.utils.mapRange(0,1,this.config.minValue,this.config.maxValue)(s)},this.valueToRotation=t=>{const n=gsapWithCSS$1.utils.mapRange(this.config.minValue,this.config.maxValue,0,1)(t),s=Math.pow(n,1/e);return gsapWithCSS$1.utils.mapRange(0,1,this.config.minRotation,this.config.maxRotation)(s)},this.applySnapping=t=>{if(this.config.snapIncrement<=0)return t;let n=this.config.snapIncrement;if(this.config.snapThresholds){for(const{maxValue:s,increment:o}of this.config.snapThresholds)if(t<s){n=o;break}}return Math.round(t/n)*n}}createDraggable(){if(this.config.disabled)return;const e="pointerLockElement"in document&&"requestPointerLock"in HTMLElement.prototype;e||console.info("KnobElement: Pointer lock not supported");let t=0,n=0,s;this.gsapDraggable=Draggable$1.create(this.knobElement,{type:"y",inertia:!1,overshootTolerance:0,bounds:{minRotation:this.config.minRotation,maxRotation:this.config.maxRotation},onPress:()=>{t=this.currentRotation,n=0,e&&(this.knobElement.requestPointerLock(),s=o=>{if(document.pointerLockElement===this.knobElement){n+=o.movementY;const a=t-n*4,l=gsapWithCSS$1.utils.clamp(this.config.minRotation,this.config.maxRotation,a),c=this.rotationToValue(l),h=this.applySnapping(c);this.currentValue=h,h!==c?this.currentRotation=this.valueToRotation(h):this.currentRotation=l,gsapWithCSS$1.set(this.knobElement,{y:0,rotation:this.currentRotation,duration:0}),this.updateBorder(),this.dispatchChangeEvent()}},document.addEventListener("mousemove",s))},onDrag:()=>{if(!e){const o=t-this.gsapDraggable.y*4,a=gsapWithCSS$1.utils.clamp(this.config.minRotation,this.config.maxRotation,o),l=this.rotationToValue(a),c=this.applySnapping(l);this.currentValue=c,c!==l?this.currentRotation=this.valueToRotation(c):this.currentRotation=a,gsapWithCSS$1.set(this.knobElement,{rotation:this.currentRotation,y:0}),this.updateBorder(),this.dispatchChangeEvent()}},onRelease:()=>{e&&(document.exitPointerLock(),s&&document.removeEventListener("mousemove",s))}})[0]}updateBorder(){if(this.pathElement)if((this.getAttribute("border-style")||"currentState")==="currentState"){const e=(this.config.minRotation-90)*Math.PI/180,t=(this.currentRotation-90)*Math.PI/180,n=48*Math.cos(e)+50,s=48*Math.sin(e)+50,o=48*Math.cos(t)+50,a=48*Math.sin(t)+50,l=this.currentRotation-this.config.minRotation,c=Math.abs(l)>180?1:0,h=`M50,50 L${n},${s} A48,48,0,${c},1,${o},${a} Z`;this.pathElement.setAttribute("d",h)}else this.pathElement.setAttribute("d","M50,2 A48,48,0,1,1,49.9,2 Z")}dispatchChangeEvent(){const e=gsapWithCSS$1.utils.mapRange(this.config.minValue,this.config.maxValue,0,100)(this.currentValue),t=new CustomEvent("knob-change",{detail:{value:this.currentValue,rotation:this.currentRotation,percentage:e},bubbles:!0});this.dispatchEvent(t)}setValue(e,t=!1,n){!this.valueToRotation||!this.knobElement||!this.pathElement||(this.currentValue=gsapWithCSS$1.utils.clamp(this.config.minValue,this.config.maxValue,e),this.currentRotation=this.valueToRotation(this.currentValue),t?gsapWithCSS$1.to(this.knobElement,{rotation:this.currentRotation,duration:(n==null?void 0:n.duration)??.3,ease:(n==null?void 0:n.ease)||"power2.out"}):gsapWithCSS$1.set(this.knobElement,{rotation:this.currentRotation}),this.updateBorder(),this.dispatchChangeEvent())}getValue(){return this.currentValue}setCurve(e){this.config.curve=e,this.createUtilityFunctions(),this.setValue(this.currentValue)}getCurve(){return this.config.curve||1}setDisabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}isDisabled(){return this.hasAttribute("disabled")}getPercentage(){return gsapWithCSS$1.utils.mapRange(this.config.minValue,this.config.maxValue,0,100)(this.currentValue)}get value(){return this.getValue()}set value(e){this.setValue(e,!1)}get disabled(){return this.isDisabled()}set disabled(e){this.setDisabled(e)}};ct(Rt,"stylesInjected",!1);let KnobElement=Rt;const createKnob=i=>{const{onChange:e,minValue:t=0,maxValue:n=1,defaultValue:s=.5,snapIncrement:o=.01,width:a=45,height:l=45,curve:c=1,snapThresholds:h,className:f="generic-knob",title:_}=i;defineElement("knob-element",KnobElement);const y=document.createElement("knob-element");return y.setAttribute("min-value",t.toString()),y.setAttribute("max-value",n.toString()),y.setAttribute("snap-increment",o.toString()),y.setAttribute("width",a.toString()),y.setAttribute("height",l.toString()),y.setAttribute("default-value",s.toString()),y.setAttribute("curve",c.toString()),h&&y.setAttribute("snap-thresholds",JSON.stringify(h)),y.className=f,_&&(y.title=_),y.addEventListener("knob-change",u=>{const b=u.detail;e(b.value)}),y},createLabeledKnob=i=>{const{label:e="Value",valueFormatter:t=c=>c.toFixed(2),showValue:n=!0,...s}=i,o=document.createElement("div");o.style.cssText=`
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    font-size: 12px;
    color: #ccc;
  `;const a=document.createElement("div");a.textContent=e,a.style.textAlign="center";const l=createKnob(s);if(o.appendChild(a),o.appendChild(l),n){const c=document.createElement("div");c.textContent=t(s.defaultValue||0),c.style.cssText=`
      font-size: 10px;
      color: #999;
      text-align: center;
    `,l.addEventListener("knob-change",h=>{const f=h.detail;c.textContent=t(f.value)}),o.appendChild(c)}return o},{div:div$4}=van.tags,KarplusSynthElement=i=>{let e;const t=i.attr("expanded","true"),n=van.state(.5),s=van.state(0),o=van.state(.7),a=van.state(.001),l=van.state(.01),c=van.state(1e4),h=van.state(20),f=van.state(!0),_=van.state(!1),y=van.state("Not initialized"),u=k=>van.derive(()=>e&&k());i.mount(()=>((()=>{try{if(e=Qh(16),!e){console.warn("Failed to create Karplus-Strong synthesizer");return}e.connect(e.context.destination),Object.defineProperty(i.$this,"synth",{get:()=>e,configurable:!0}),u(()=>e.volume=n.val),u(()=>e.setParameterValue("noiseGain",s.val)),u(()=>e.setParameterValue("attack",a.val)),u(()=>e.setParameterValue("decay",o.val)),u(()=>e.setParameterValue("noiseTime",l.val)),u(()=>e.setLpfCutoff(c.val)),u(()=>e.setHpfCutoff(h.val)),u(()=>f.val?e.enableKeyboard():e.disableKeyboard()),u(()=>_.val?e.enableMIDI():e.disableMIDI()),y.val="Ready"}catch(k){console.error("Failed to initialize Karplus-Strong synth:",k),y.val=`Error: ${k instanceof Error?k.message:String(k)}`}})(),()=>{delete i.$this.synth,e==null||e.dispose()}));const b=createIcons(),$="display: flex; flex-direction: column; max-width: 50vw; padding: 0.5rem;";return div$4({class:"karplus-synth",style:()=>$},ExpandableHeader("Karplus Synth",t),div$4({class:"controls",style:()=>t.val==="true"?"":"display: none"},div$4({class:"controls",style:()=>t.val==="true"?"":"display: none"},VolumeSlider(n),createSlider("Attack",a,.001,2,.001),createSlider("Thickness",l,.001,.5,.001),div$4({class:"knobs",style:()=>t.val==="true"?`
                  display: grid;
                  grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
                  gap: 1rem;
                  padding: 1rem;
                  max-width: 100%;
                  justify-items: center;
                  align-items: start;
                `:"display: none; padding: 0.5rem;"},createLabeledKnob({label:"Decay",defaultValue:.7,minValue:.01,maxValue:1,curve:2,onChange:k=>o.val=k}),createLabeledKnob({label:"Input Noise",defaultValue:0,minValue:0,maxValue:1,curve:1,onChange:k=>o.val=k})),FilterSliders(c,h),div$4({style:"display: flex; gap: 10px; flex-wrap: wrap;"},InputControls(f,_,b.keys,b.midi)),div$4({style:"font-size: 0.8rem; color: #666; margin-top: 0.5rem;"},()=>`Status: ${y.val}`))))},defineKarplusSynth=(i="karplus-synth")=>{define(i,KarplusSynthElement,!1)};if(window.customElements){let styles=document.createElement("style");styles.innerHTML=`#webaudioctrl-context-menu {
  display: none;
  position: absolute;
  z-index: 10;
  padding: 0;
  width: 100px;
  color:#eee;
  background-color: #268;
  border: solid 1px #888;
  box-shadow: 1px 1px 2px #888;
  font-family: sans-serif;
  font-size: 11px;
  line-height:1.7em;
  text-align:center;
  cursor:pointer;
  color:#fff;
  list-style: none;
}
#webaudioctrl-context-menu.active {
  display: block;
}
.webaudioctrl-context-menu__item {
  display: block;
  margin: 0;
  padding: 0;
  color: #000;
  background-color:#eee;
  text-decoration: none;
}
.webaudioctrl-context-menu__title{
  font-weight:bold;
}
.webaudioctrl-context-menu__item:last-child {
  margin-bottom: 0;
}
.webaudioctrl-context-menu__item:hover {
  background-color: #b8b8b8;
}
`,document.head.appendChild(styles);let midimenu=document.createElement("ul");midimenu.id="webaudioctrl-context-menu",midimenu.innerHTML=`<li class="webaudioctrl-context-menu__title">MIDI Learn</li>
<li class="webaudioctrl-context-menu__item" id="webaudioctrl-context-menu-learn" onclick="webAudioControlsWidgetManager.contextMenuLearn()">Learn</li>
<li class="webaudioctrl-context-menu__item" onclick="webAudioControlsWidgetManager.contextMenuClear()">Clear</li>
<li class="webaudioctrl-context-menu__item" onclick="webAudioControlsWidgetManager.contextMenuClose()">Close</li>
`;let opt={useMidi:0,preserveMidiLearn:0,preserveValue:0,midilearn:0,mididump:0,outline:null,knobSrc:null,knobSprites:null,knobWidth:null,knobHeight:null,knobDiameter:null,knobColors:"#e00;#000;#fff",sliderSrc:null,sliderWidth:null,sliderHeight:null,sliderKnobSrc:null,sliderKnobWidth:null,sliderKnobHeight:null,sliderDitchlength:null,sliderColors:"#e00;#333;#fcc",switchWidth:null,switchHeight:null,switchDiameter:null,switchColors:"#e00;#000;#fcc",paramWidth:null,paramHeight:null,paramFontSize:9,paramColors:"#fff;#000",valuetip:0,xypadColors:"#e00;#000;#fcc"};window.WebAudioControlsOptions&&Object.assign(opt,window.WebAudioControlsOptions);class WebAudioControlsWidget extends HTMLElement{constructor(){super(),document.addEventListener("keydown",this.keydown.bind(this)),document.addEventListener("keyup",this.keyup.bind(this)),this.addEventListener("mousedown",this.pointerdown,{passive:!1}),this.addEventListener("touchstart",this.pointerdown,{passive:!1}),this.addEventListener("wheel",this.wheel,{passive:!1}),this.addEventListener("mouseover",this.pointerover),this.addEventListener("mouseout",this.pointerout),this.addEventListener("contextmenu",this.contextMenu),this.hover=this.drag=0,document.body.appendChild(midimenu),this.basestyle=`
.webaudioctrl-tooltip{
  display:inline-block;
  position:absolute;
  margin:0 -1000px;
  z-index: 999;
  background:#eee;
  color:#000;
  border:1px solid #666;
  border-radius:4px;
  padding:5px 10px;
  text-align:center;
  left:0; top:0;
  font-size:11px;
  opacity:0;
  visibility:hidden;
}
.webaudioctrl-tooltip:before{
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -8px;
  border: 8px solid transparent;
  border-top: 8px solid #666;
}
.webaudioctrl-tooltip:after{
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -6px;
  border: 6px solid transparent;
  border-top: 6px solid #eee;
}
`,this.onblur=()=>{this.elem.style.outline="none"},this.onfocus=()=>{switch(+this.outline){case null:case 0:this.elem.style.outline="none";break;case 1:this.elem.style.outline="1px solid #444";break;default:this.elem.style.outline=this.outline}}}sendEvent(e){let t;t=document.createEvent("HTMLEvents"),t.initEvent(e,!1,!0),this.dispatchEvent(t)}getAttr(e,t){let n=this.getAttribute(e);if(n==null)return t;switch(typeof t){case"number":return n=="true"?1:(n=+n,isNaN(n)?0:n)}return n}showtip(e){function t(o,a,l){switch(l){case"x":return(o|0).toString(16);case"X":return(o|0).toString(16).toUpperCase();case"d":return(o|0).toString();case"f":return parseFloat(o).toFixed(a);case"s":return o.toString()}return""}function n(o,a){let l=o.indexOf("%"),c=l+1;l<0&&(c=o.length);let h=[0,0],f=0,_=0,y="";if(o.indexOf("%s")>=0)return o.replace("%s",a);for(;c<o.length;++c){if("dfxXs".indexOf(o[c])>=0){f=o[c];break}o[c]=="."?_=1:h[_]=h[_]*10+parseInt(o[c])}return y=t(a,h[1],f),h[0]>0&&(y=("               "+y).slice(-h[0])),y=o.replace(/%.*[xXdfs]/,y),y}let s=this.tooltip;if((this.drag||this.hover)&&(this.valuetip&&(s==null?s="%s":s.indexOf("%")<0&&(s+=" : %s")),s)){this.ttframe.innerHTML=n(s,this.convValue),this.ttframe.style.display="inline-block",this.ttframe.style.width="auto",this.ttframe.style.height="auto",this.ttframe.style.transition="opacity 0.5s "+e+"s,visibility 0.5s "+e+"s",this.ttframe.style.opacity=.9,this.ttframe.style.visibility="visible";let o=this.getBoundingClientRect(),a=this.ttframe.getBoundingClientRect();document.documentElement.getBoundingClientRect(),this.ttframe.style.left=(o.width-a.width)*.5+1e3+"px",this.ttframe.style.top=-a.height-8+"px";return}this.ttframe.style.transition="opacity 0.1s "+e+"s,visibility 0.1s "+e+"s",this.ttframe.style.opacity=0,this.ttframe.style.visibility="hidden"}setupLabel(){this.labelpos=this.getAttr("labelpos","bottom 0px");const e=this.labelpos.split(" ");let t="";switch(e.length==3&&(t=`translate(${e[1]},${e[2]})`),this.label.style.position="absolute",e[0]){case"center":this.label.style.top="50%",this.label.style.left="50%",this.label.style.transform=`translate(-50%,-50%) ${t}`;break;case"right":this.label.style.top="50%",this.label.style.left="100%",this.label.style.transform=`translateY(-50%) ${t}`;break;case"left":this.label.style.top="50%",this.label.style.left="0%",this.label.style.transform=`translate(-100%,-50%) ${t}`;break;case"bottom":this.label.style.top="100%",this.label.style.left="50%",this.label.style.transform=`translateX(-50%) ${t}`;break;case"top":this.label.style.top="0%",this.label.style.left="50%",this.label.style.transform=`translate(-50%,-100%) ${t}`;break}}pointerover(e){this.hover=1,this.showtip(.6)}pointerout(e){this.hover=0,this.showtip(0)}contextMenu(e){window.webAudioControlsWidgetManager&&this.midilearn&&webAudioControlsWidgetManager.contextMenuOpen(e,this),e.preventDefault(),e.stopPropagation()}setMidiController(e,t){this.listeningToThisMidiController(e,t)||(this.midiController={channel:e,cc:t},console.log("Added mapping for channel="+e+" cc="+t+" tooltip="+this.tooltip))}listeningToThisMidiController(e,t){const n=this.midiController;return(n.channel===e||n.channel<0)&&n.cc===t}processMidiEvent(e){const t=e.data[0]&15,n=e.data[1];if(this.midiMode=="learn"&&(this.setMidiController(t,n),webAudioControlsWidgetManager.contextMenuClose(),this.midiMode="normal",webAudioControlsWidgetManager.preserveMidiLearn()),this.listeningToThisMidiController(t,n))if(this.tagName=="WEBAUDIO-SWITCH")switch(this.type){case"toggle":e.data[2]>=64&&this.setValue(1-this.value,!0);break;case"kick":this.setValue(e.data[2]>=64?1:0);break;case"radio":let s=document.querySelectorAll("webaudio-switch[type='radio'][group='"+this.group+"']");for(let o=0;o<s.length;++o)s[o]==this?s[o].setValue(1):s[o].setValue(0);break}else{const s=this.min+(this.max-this.min)*e.data[2]/127;this.setValue(s,!0)}}}try{customElements.define("webaudio-knob",class extends WebAudioControlsWidget{constructor(){super()}connectedCallback(){let root;if(this.attachShadow?root=this.attachShadow({mode:"open"}):root=this,root.innerHTML=`<style>
${this.basestyle}
:host{
  display:inline-block;
  margin:0;
  padding:0;
  cursor:pointer;
  font-family: sans-serif;
  font-size: 11px;
}
.webaudio-knob-body{
  display:inline-block;
  position:relative;
  margin:0;
  padding:0;
  vertical-align:bottom;
  white-space:pre;
}
</style>
<div class='webaudio-knob-body' tabindex='1' touch-action='none'><div class='webaudioctrl-tooltip'></div><div part="label" class="webaudioctrl-label"><slot></slot></div></div>
`,this.elem=root.childNodes[2],this.ttframe=this.elem.firstChild,this.label=this.ttframe.nextSibling,this.enable=this.getAttr("enable",1),this._src=this.getAttr("src",opt.knobSrc),this.hasOwnProperty("src")||Object.defineProperty(this,"src",{get:()=>this._src,set:i=>{this._src=i,this.setupImage()}}),this._value=this.getAttr("value",0),this.hasOwnProperty("value")||Object.defineProperty(this,"value",{get:()=>this._value,set:i=>{this._value=i,this.redraw()}}),this.defvalue=this.getAttr("defvalue",this._value),this._min=this.getAttr("min",0),this.hasOwnProperty("min")||Object.defineProperty(this,"min",{get:()=>this._min,set:i=>{this._min=+i,this.redraw()}}),this._max=this.getAttr("max",100),this.hasOwnProperty("max")||Object.defineProperty(this,"max",{get:()=>this._max,set:i=>{this._max=+i,this.redraw()}}),this._step=this.getAttr("step",1),this.hasOwnProperty("step")||Object.defineProperty(this,"step",{get:()=>this._step,set:i=>{this._step=+i,this.redraw()}}),this._sprites=this.getAttr("sprites",opt.knobSprites),this.hasOwnProperty("sprites")||Object.defineProperty(this,"sprites",{get:()=>this._sprites,set:i=>{this._sprites=i,this.setupImage()}}),this._width=this.getAttr("width",null),this.hasOwnProperty("width")||Object.defineProperty(this,"width",{get:()=>this._width,set:i=>{this._width=i,this.setupImage()}}),this._height=this.getAttr("height",null),this.hasOwnProperty("height")||Object.defineProperty(this,"height",{get:()=>this._height,set:i=>{this._height=i,this.setupImage()}}),this._diameter=this.getAttr("diameter",null),this.hasOwnProperty("diameter")||Object.defineProperty(this,"diameter",{get:()=>this._diameter,set:i=>{this._diameter=i,this.setupImage()}}),this._colors=this.getAttr("colors",opt.knobColors),this.hasOwnProperty("colors")||Object.defineProperty(this,"colors",{get:()=>this._colors,set:i=>{this._colors=i,this.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.setupLabel(),this.log=this.getAttr("log",0),this.sensitivity=this.getAttr("sensitivity",1),this.valuetip=this.getAttr("valuetip",opt.valuetip),this.tooltip=this.getAttr("tooltip",null),this.conv=this.getAttr("conv",null),this.conv){const x=this._value;this.convValue=eval(this.conv),typeof this.convValue=="function"&&(this.convValue=this.convValue(x))}else this.convValue=this._value;if(this.midilearn=this.getAttr("midilearn",opt.midilearn),this.midicc=this.getAttr("midicc",null),this.midiController={},this.midiMode="normal",this.midicc){let i=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,e=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(i,e)}if(this.midilearn&&this.id&&webAudioControlsWidgetManager&&webAudioControlsWidgetManager.midiLearnTable){const i=webAudioControlsWidgetManager.midiLearnTable;for(let e=0;e<i.length;++e)if(i[e].id==this.id){this.setMidiController(i[e].cc.channel,i[e].cc.cc);break}}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(let i=this.step;i<1;i*=10)++this.digits;this._setValue(this._value),this.coltab=["#e00","#000","#000"],window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this)}disconnectedCallback(){}setupImage(){if(this.kw=this._width||this._diameter||opt.knobWidth||opt.knobDiameter,this.kh=this._height||this._diameter||opt.knobHeight||opt.knobDiameter,this.src)this.img=new Image,this.img.onload=()=>{this.elem.style.backgroundImage="url("+this.src+")",this._sprites==null?this._sprites=this.img.height/this.img.width-1:this._sprites=+this._sprites,this.kw==null&&(this.kw=this.img.width),this.kh==null&&(this.kh=this.img.height/(this.sprites+1)),this.sprites?this.elem.style.backgroundSize=`${this.kw}px ${this.kh*(this.sprites+1)}px`:this.elem.style.backgroundSize="100% 100%",this.elem.style.width=this.kw+"px",this.elem.style.height=this.kh+"px",this.style.height=this.kh+"px",this.redraw()},this.img.src=this.src;else{this.colors&&(this.coltab=this.colors.split(";")),this.coltab||(this.coltab=["#e00","#000","#000"]);let i=`<svg xmlns="http://www.w3.org/2000/svg" width="64" height="6464" preserveAspectRatio="none">
<defs>
  <filter id="f1">
    <feGaussianBlur in="SourceGraphic" stdDeviation="0.8" />
  </filter>
  <radialGradient id="g1" cx="50%" cy="10%">
    <stop offset="0%" stop-color="${this.coltab[2]}"/>
    <stop offset="100%" stop-color="${this.coltab[1]}"/>
  </radialGradient>
  <linearGradient id="g2" x1="0%" y1="0%" x2="0%" y2="100%">
    <stop offset="0%" stop-color="#000" stop-opacity="0"/>
    <stop offset="100%" stop-color="#000" stop-opacity="0.3"/>
  </linearGradient>
  <g id="B">
    <circle cx="32" cy="32" r="31" fill="#000"/>
    <circle cx="32" cy="32" r="29" fill="url(#g1)"/>
    <circle cx="32" cy="32" r="29" fill="url(#g2)"/>
    <circle cx="32" cy="32" r="25" fill="${this.coltab[1]}" filter="url(#f1)"/>
    <circle cx="32" cy="32" r="29" fill="url(#g2)"/>
  </g>
  <line id="K" x1="32" y1="25" x2="32" y2="11" stroke-linecap="round" stroke-width="6" stroke="${this.coltab[0]}"/>
</defs>`;for(let e=0;e<101;++e)i+=`<use href="#B" y="${64*e}"/><use href="#K" y="${64*e}" transform="rotate(${(-135+270*e/101).toFixed(2)},32,${64*e+32})"/>`;i+="</svg>",this.elem.style.backgroundImage="url(data:image/svg+xml;base64,"+btoa(i)+")",this.kw==null&&(this.kw=64),this.kh==null&&(this.kh=64),this.elem.style.backgroundSize=`${this.kw}px ${this.kh*101}px`,this.elem.style.width=this.kw+"px",this.elem.style.height=this.kh+"px",this.style.height=this.kh+"px",this.fireflag=!0,this.redraw();return}}redraw(){let i;if(this.digits=0,this.step&&this.step<1)for(let n=this.step;n<1;n*=10)++this.digits;this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max),this.log?i=Math.log(this.value/this.min)/Math.log(this.max/this.min):i=(this.value-this.min)/(this.max-this.min);let e=this.elem.style,t=this.src?this.sprites:100;if(t>=1){let n=t*i|0;e.backgroundPosition="0px "+-n*this.kh+"px",e.transform="rotate(0deg)"}else{let n=270*(i-.5);e.backgroundPosition="0px 0px",e.transform="rotate("+n+"deg)"}}_setValue(v){if(this.step&&(v=Math.round((v-this.min)/this.step)*this.step+this.min),this._value=Math.min(this.max,Math.max(this.min,v)),this._value!=this.oldvalue){if(this.fireflag=!0,this.oldvalue=this._value,this.conv){const x=this._value;this.convValue=eval(this.conv),typeof this.convValue=="function"&&(this.convValue=this.convValue(x))}else this.convValue=this._value;return typeof this.convValue=="number"&&(this.convValue=this.convValue.toFixed(this.digits)),this.redraw(),this.showtip(0),1}return 0}setValue(i,e){this._setValue(i)&&e&&(this.sendEvent("input"),this.sendEvent("change"))}keydown(i){let e=this.step;switch(e==0&&(e=1),i.key){case"ArrowUp":this.setValue(this.value+e,!0);break;case"ArrowDown":this.setValue(this.value-e,!0);break;default:return}i.preventDefault(),i.stopPropagation()}wheel(i){if(this.enable){if(this.log){let e=Math.log(this.value/this.min)/Math.log(this.max/this.min),t=i.deltaY>0?-.01:.01;i.shiftKey||(t*=5),e+=t,this.setValue(this.min*Math.pow(this.max/this.min,e),!0)}else{let e=Math.max(this.step,(this.max-this.min)*.05);i.shiftKey&&(e=this.step?this.step:1),e=i.deltaY>0?-e:e,this.setValue(+this.value+e,!0)}i.preventDefault(),i.stopPropagation()}}pointerdown(i){if(!this.enable)return;let e=i;if(i.touches)e=i.changedTouches[0],this.identifier=e.identifier;else if(e.buttons!=1&&e.button!=0)return;this.elem.focus(),this.drag=1,this.showtip(0),this.oldvalue=this._value;let t=o=>{let a=o;if(o.touches){for(let c=0;c<o.touches.length;++c)if(o.touches[c].identifier==this.identifier){a=o.touches[c];break}}this.lastShift!==a.shiftKey&&(this.lastShift=a.shiftKey,this.startPosX=a.pageX,this.startPosY=a.pageY,this.startVal=this.value);let l=(this.startPosY-a.pageY-this.startPosX+a.pageX)*this.sensitivity;if(this.log){let c=Math.log(this.startVal/this.min)/Math.log(this.max/this.min);c+=l/((a.shiftKey?4:1)*128),c<0&&(c=0),c>1&&(c=1),this._setValue(this.min*Math.pow(this.max/this.min,c))}else this._setValue(this.min+((this.startVal+(this.max-this.min)*l/((a.shiftKey?4:1)*128)-this.min)/this.step|0)*this.step);return this.fireflag&&(this.sendEvent("input"),this.fireflag=!1),a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!1},n=o=>{let a=o;if(o.touches){for(let l=0;o.changedTouches[l].identifier!=this.identifier;)if(++l>=o.changedTouches.length)return}this.drag=0,this.showtip(0),this.startPosX=this.startPosY=null,window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t,{passive:!1}),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),window.removeEventListener("touchcancel",n),document.body.removeEventListener("touchstart",s,{passive:!1}),this.sendEvent("change")},s=o=>{o.preventDefault()};return e.ctrlKey||e.metaKey?this.setValue(this.defvalue,!0):(this.startPosX=e.pageX,this.startPosY=e.pageY,this.startVal=this.value,window.addEventListener("mousemove",t),window.addEventListener("touchmove",t,{passive:!1})),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),window.addEventListener("touchcancel",n),document.body.addEventListener("touchstart",s,{passive:!1}),i.preventDefault(),i.stopPropagation(),!1}})}catch(i){console.log("webaudio-knob already defined")}try{customElements.define("webaudio-slider",class extends WebAudioControlsWidget{constructor(){super()}connectedCallback(){let root;if(this.attachShadow?root=this.attachShadow({mode:"open"}):root=this,root.innerHTML=`<style>
${this.basestyle}
:host{
  display:inline-block;
  position:relative;
  margin:0;
  padding:0;
  font-family: sans-serif;
  font-size: 11px;
  cursor:pointer;
}
.webaudio-slider-body{
  display:inline-block;
  position:relative;
  margin:0;
  padding:0;
  vertical-align:bottom;
  white-space:pre;
}
.webaudio-slider-knob{
  display:inline-block;
  position:absolute;
  margin:0;
  padding:0;
}
</style>
<div class='webaudio-slider-body' tabindex='1' touch-action='none'><div class='webaudio-slider-knob' touch-action='none'></div><div class='webaudioctrl-tooltip'></div><div part="label" class="webaudioctrl-label"><slot></slot></div></div>
`,this.elem=root.childNodes[2],this.knob=this.elem.firstChild,this.ttframe=this.knob.nextSibling,this.label=this.ttframe.nextSibling,this.enable=this.getAttr("enable",1),this.tracking=this.getAttr("tracking","rel"),this._src=this.getAttr("src",opt.sliderSrc),this.hasOwnProperty("src")||Object.defineProperty(this,"src",{get:()=>this._src,set:i=>{this._src=i,this.setupImage()}}),this._knobsrc=this.getAttr("knobsrc",opt.sliderKnobSrc),this.hasOwnProperty("knobsrc")||Object.defineProperty(this,"knobsrc",{get:()=>this._knobsrc,set:i=>{this._knobsrc=i,this.setupImage()}}),this._value=this.getAttr("value",0),this.hasOwnProperty("value")||Object.defineProperty(this,"value",{get:()=>this._value,set:i=>{this._value=i,this.redraw()}}),this.defvalue=this.getAttr("defvalue",this._value),this._min=this.getAttr("min",0),this.hasOwnProperty("min")||Object.defineProperty(this,"min",{get:()=>this._min,set:i=>{this._min=i,this.redraw()}}),this._max=this.getAttr("max",100),this.hasOwnProperty("max")||Object.defineProperty(this,"max",{get:()=>this._max,set:i=>{this._max=i,this.redraw()}}),this._step=this.getAttr("step",1),this.hasOwnProperty("step")||Object.defineProperty(this,"step",{get:()=>this._step,set:i=>{this._step=i,this.redraw()}}),this._sprites=this.getAttr("sprites",0),this.hasOwnProperty("sprites")||Object.defineProperty(this,"sprites",{get:()=>this._sprites,set:i=>{this._sprites=i,this.setupImage()}}),this._direction=this.getAttr("direction",null),this.hasOwnProperty("direction")||Object.defineProperty(this,"direction",{get:()=>this._direction,set:i=>{this._direction=i,this.setupImage()}}),this.log=this.getAttr("log",0),this._width=this.getAttr("width",opt.sliderWidth),this.hasOwnProperty("width")||Object.defineProperty(this,"width",{get:()=>this._width,set:i=>{this._width=i,this.setupImage()}}),this._height=this.getAttr("height",opt.sliderHeight),this.hasOwnProperty("height")||Object.defineProperty(this,"height",{get:()=>this._height,set:i=>{this._height=i,this.setupImage()}}),this._knobwidth=this.getAttr("knobwidth",opt.sliderKnobWidth),this.hasOwnProperty("knobwidth")||Object.defineProperty(this,"knobwidth",{get:()=>this._knobwidth,set:i=>{this._knobwidth=i,this.setupImage()}}),this._knobheight=this.getAttr("knobheight",opt.sliderKnobHeight),this.hasOwnProperty("knobheight")||Object.defineProperty(this,"knobheight",{get:()=>this._knobheight,set:i=>{this._knobheight=i,this.setupImage()}}),this._ditchlength=this.getAttr("ditchlength",opt.sliderDitchlength),this.hasOwnProperty("ditchlength")||Object.defineProperty(this,"ditchlength",{get:()=>this._ditchlength,set:i=>{this._ditchlength=i,this.setupImage()}}),this._colors=this.getAttr("colors",opt.sliderColors),this.hasOwnProperty("colors")||Object.defineProperty(this,"colors",{get:()=>this._colors,set:i=>{this._colors=i,this.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.setupLabel(),this.sensitivity=this.getAttr("sensitivity",1),this.valuetip=this.getAttr("valuetip",opt.valuetip),this.tooltip=this.getAttr("tooltip",null),this.conv=this.getAttr("conv",null),this.conv){const x=this._value;this.convValue=eval(this.conv),typeof this.convValue=="function"&&(this.convValue=this.convValue(x))}else this.convValue=this._value;if(this.midilearn=this.getAttr("midilearn",opt.midilearn),this.midicc=this.getAttr("midicc",null),this.midiController={},this.midiMode="normal",this.midicc){let i=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,e=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(i,e)}if(this.midilearn&&this.id&&webAudioControlsWidgetManager&&webAudioControlsWidgetManager.midiLearnTable){const i=webAudioControlsWidgetManager.midiLearnTable;for(let e=0;e<i.length;++e)if(i[e].id==this.id){this.setMidiController(i[e].cc.channel,i[e].cc.cc);break}}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(let i=this.step;i<1;i*=10)++this.digits;this.fireflag=!0,window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this),this.elem.onclick=i=>{i.stopPropagation()}}disconnectedCallback(){document.removeEventListener("keydown",this.keydown),document.removeEventListener("keyup",this.keyup)}setupImage(){if(this.coltab=this.colors.split(";"),this.bodyimg=new Image,this.knobimg=new Image,this.srcurl=null,this.src==null||this.src==""){this.sw=+this._width,this.sh=+this.height,this._direction=="horz"?(this._width==null&&(this.sw=128),this._height==null&&(this.sh=24)):this._direction=="vert"?(this._width==null&&(this.sw=24),this._height==null&&(this.sh=128)):(this._width==null&&(this.sw=128),this._height==null&&(this.sh=24));const i=Math.min(this.sw,this.sh)*.5,e=`<svg xmlns="http://www.w3.org/2000/svg" width="${this.sw}" height="${this.sh}" preserveAspectRatio="none">
<defs>
  <filter id="f1">
    <feGaussianBlur in="SourceGraphic" stdDeviation="0.8" />
  </filter>
  <linearGradient id="g1" x1="0%" y1="0%" ${this.sw>this.sh?'x2="0%" y2="100%"':'x2="100%" y2="0%"'}>
    <stop offset="0%" stop-color="#000" stop-opacity="0"/>
    <stop offset="100%" stop-color="#000" stop-opacity="0.3"/>
  </linearGradient>
</defs>
<rect x="1" y="1" rx="${i}" ry="${i}" width="${this.sw-2}" height="${this.sh-2}" fill="#000"/>
<rect x="3" y="3" rx="${i}" ry="${i}" width="${this.sw-6}" height="${this.sh-6}" fill="${this.coltab[1]}" filter="url(#f1)"/>
<rect x="1" y="1" rx="${i}" ry="${i}" width="${this.sw-2}" height="${this.sh-2}" fill="url(#g1)"/>
</svg>`;this.srcurl="data:image/svg+xml;base64,"+btoa(e)}else this.srcurl=this.src;this.bodyimg.onload=()=>{if(this.src!=""&&(this.elem.style.backgroundImage="url("+this.srcurl+")"),this.sw=+this._width,this.sh=+this._height,this._width==null&&(this.sw=this.bodyimg.width),this._height==null&&(this.sh=this.bodyimg.height),this.dr==null&&(this.sw>this.sh?this.dr="horz":this.dr="vert"),this.kw=+this._knobwidth,this.kh=+this._knobheight,this._knobsrc==null){this._knobwidth==null&&(this.kw=Math.min(this.sw,this.sh)),this._knobheight==null&&(this.kh=Math.min(this.sw,this.sh));const i=Math.min(this.kw,this.kh)*.5,e=Math.max(1,this.kw-12),t=Math.max(1,this.kh-12),n=`<svg xmlns="http://www.w3.org/2000/svg" width="${this.kw}" height="${this.kh}" preserveAspectRatio="none">
<defs>
  <filter id="f1">
    <feGaussianBlur in="SourceGraphic" stdDeviation="0.8" />
  </filter>
  <linearGradient id="g1" x1="0%" y1="0%" x2="0%" y2="100%">
    <stop offset="0%" stop-color="${this.coltab[2]}"/>
    <stop offset="50%" stop-color="${this.coltab[0]}"/>
    <stop offset="100%" stop-color="${this.coltab[0]}" stop-opacity="0.5"/>
  </linearGradient>
  <linearGradient id="g2" x1="0%" y1="0%" x2="0%" y2="100%">
    <stop offset="0%" stop-color="${this.coltab[0]}"/>
    <stop offset="100%" stop-color="${this.coltab[0]}"/>
  </linearGradient>
  <linearGradient id="g3" x1="0%" y1="0%" x2="0%" y2="100%">
    <stop offset="0%" stop-color="#000" stop-opacity="0"/>
    <stop offset="100%" stop-color="#000" stop-opacity="0.3"/>
  </linearGradient>
</defs>
<rect x="2" y="2" width="${this.kw-4}" height="${this.kh-4}" rx="${i}" ry="${i}" fill="#000"/>
<rect x="3" y="3" width="${this.kw-6}" height="${this.kh-6}" rx="${i}" ry="${i}" fill="url(#g1)"/>
<rect x="6" y="6" width="${e}" height="${t}" rx="${i}" ry="${i}" fill="url(#g2)" filter="url(#f1)"/>
<rect x="3" y="3" width="${this.kw-6}" height="${this.kh-6}" rx="${i}" ry="${i}" fill="url(#g3)"/>
</svg>`;this.knobsrcurl="data:image/svg+xml;base64,"+btoa(n)}else this.knobsrcurl=this.knobsrc;this.knobimg.onload=()=>{this.knob.style.backgroundImage="url("+this.knobsrcurl+")",this._knobwidth==null&&(this.kw=this.knobimg.width),this._knobheight==null&&(this.kh=this.knobimg.height),this.dlen=this.ditchlength,this.dlen==null&&(this.dr=="horz"?this.dlen=this.sw-this.kw:this.dlen=this.sh-this.kh),this.knob.style.backgroundSize="100% 100%",this.knob.style.width=this.kw+"px",this.knob.style.height=this.kh+"px",this.elem.style.backgroundSize="100% 100%",this.elem.style.width=this.sw+"px",this.elem.style.height=this.sh+"px",this.redraw()},this.knobimg.src=this.knobsrcurl},this.bodyimg.src=this.srcurl}redraw(){let i;if(this.digits=0,this.step&&this.step<1)for(let t=this.step;t<1;t*=10)++this.digits;this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max),this.log?i=Math.log(this.value/this.min)/Math.log(this.max/this.min):i=(this.value-this.min)/(this.max-this.min);let e=this.knob.style;this.dr=="horz"?(e.top=(this.sh-this.kh)*.5+"px",e.left=(this.sw-this.kw-this.dlen)*.5+i*this.dlen+"px",this.sensex=1,this.sensey=0):(e.left=(this.sw-this.kw)*.5+"px",e.top=(this.sh-this.kh-this.dlen)*.5+(1-i)*this.dlen+"px",this.sensex=0,this.sensey=1)}_setValue(v){if(v=Math.round((v-this.min)/this.step)*this.step+this.min,this._value=Math.min(this.max,Math.max(this.min,v)),this._value!=this.oldvalue){if(this.oldvalue=this._value,this.fireflag=!0,this.conv){const x=this._value;this.convValue=eval(this.conv),typeof this.convValue=="function"&&(this.convValue=this.convValue(x))}else this.convValue=this._value;return typeof this.convValue=="number"&&(this.convValue=this.convValue.toFixed(this.digits)),this.redraw(),this.showtip(0),1}return 0}setValue(i,e){this._setValue(i)&&e&&(this.sendEvent("input"),this.sendEvent("change"))}keydown(i){let e=this.step;switch(e==0&&(e=1),i.key){case"ArrowUp":this.setValue(this.value+e,!0);break;case"ArrowDown":this.setValue(this.value-e,!0);break;default:return}i.preventDefault(),i.stopPropagation()}wheel(i){if(this.enable){if(this.log){let e=Math.log(this.value/this.min)/Math.log(this.max/this.min),t=i.deltaY>0?-.01:.01;i.shiftKey||(t*=5),e+=t,this.setValue(this.min*Math.pow(this.max/this.min,e),!0)}else{let e=Math.max(this.step,(this.max-this.min)*.05);i.shiftKey&&(e=this.step?this.step:1),e=i.deltaY>0?-e:e,this.setValue(+this.value+e,!0)}i.preventDefault(),i.stopPropagation()}}pointerdown(i){if(!this.enable)return;let e=i;if(i.touches)e=i.changedTouches[0],this.identifier=e.identifier;else if(e.buttons!=1&&e.button!=0)return;this.elem.focus(),this.drag=1,this.showtip(0);let t=o=>{let a=o;if(o.touches){for(let l=0;l<o.touches.length;++l)if(o.touches[l].identifier==this.identifier){a=o.touches[l];break}}if(this.lastShift!==a.shiftKey&&(this.lastShift=a.shiftKey,this.startPosX=a.pageX,this.startPosY=a.pageY,this.startVal=this.value),this.tracking=="abs"){const l=this.getBoundingClientRect();let c;this.dr=="horz"?c=Math.max(0,Math.min(1,(a.pageX-l.left-window.pageXOffset-this.kw*.5)/(this.width-this.kw))):c=1-Math.max(0,Math.min(1,(a.pageY-l.top-window.pageYOffset-this.kh*.5)/(this.height-this.kh))),this.log?this._setValue(this.min*Math.pow(this.max/this.min,c)):this._setValue(this.min+(this.max-this.min)*c)}else{let l=((this.startPosY-a.pageY)*this.sensey-(this.startPosX-a.pageX)*this.sensex)*this.sensitivity;if(this.log){let c=Math.log(this.startVal/this.min)/Math.log(this.max/this.min);c+=l/((a.shiftKey?4:1)*128),c<0&&(c=0),c>1&&(c=1),this._setValue(this.min*Math.pow(this.max/this.min,c))}else this._setValue(this.min+((this.startVal+(this.max-this.min)*l/((a.shiftKey?4:1)*this.dlen)-this.min)/this.step|0)*this.step)}return this.fireflag&&(this.sendEvent("input"),this.fireflag=!1),a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!1},n=o=>{let a=o;if(o.touches){for(let l=0;o.changedTouches[l].identifier!=this.identifier;)if(++l>=o.changedTouches.length)return}this.drag=0,this.showtip(0),this.startPosX=this.startPosY=null,window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t,{passive:!1}),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),window.removeEventListener("touchcancel",n),document.body.removeEventListener("touchstart",s,{passive:!1}),this.sendEvent("change")},s=o=>{o.preventDefault()};return e.touches&&(e=e.touches[0]),e.ctrlKey||e.metaKey?this.setValue(this.defvalue,!0):(this.startPosX=e.pageX,this.startPosY=e.pageY,this.startVal=this.value,window.addEventListener("mousemove",t),window.addEventListener("touchmove",t,{passive:!1}),t(i)),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),window.addEventListener("touchcancel",n),document.body.addEventListener("touchstart",s,{passive:!1}),e.preventDefault(),e.stopPropagation(),!1}})}catch(i){console.log("webaudio-slider already defined")}try{customElements.define("webaudio-switch",class extends WebAudioControlsWidget{constructor(){super()}connectedCallback(){let i;if(this.attachShadow?i=this.attachShadow({mode:"open"}):i=this,i.innerHTML=`<style>
${this.basestyle}
:host{
  display:inline-block;
  position:relative;
  margin:0;
  padding:0;
  font-family: sans-serif;
  font-size: 11px;
  cursor:pointer;
}
.webaudio-switch-body{
  display:inline-block;
  position:relative;
  margin:0;
  padding:0;
  vertical-align:bottom;
  white-space:pre;
}
.webaudioctrl-label{
  position:absolute;
  left:50%;
  top:50%;
}
</style>
<div class='webaudio-switch-body' tabindex='1' touch-action='none'><div class='webaudioctrl-tooltip'></div><div part="label" class="webaudioctrl-label"><slot></slot></div></div>
`,this.elem=i.childNodes[2],this.ttframe=this.elem.firstChild,this.label=this.ttframe.nextSibling,this.enable=this.getAttr("enable",1),this._src=this.getAttr("src",null),this.hasOwnProperty("src")||Object.defineProperty(this,"src",{get:()=>this._src,set:e=>{this._src=e,this.setupImage()}}),this._value=this.getAttr("value",0),this.hasOwnProperty("value")||Object.defineProperty(this,"value",{get:()=>this._value,set:e=>{this._value=e,this.redraw()}}),this.defvalue=this.getAttr("defvalue",this._value),this.type=this.getAttr("type","toggle"),this.group=this.getAttr("group",""),this._width=this.getAttr("width",null),this.hasOwnProperty("width")||Object.defineProperty(this,"width",{get:()=>this._width,set:e=>{this._width=e,this.setupImage()}}),this._height=this.getAttr("height",null),this.hasOwnProperty("height")||Object.defineProperty(this,"height",{get:()=>this._height,set:e=>{this._height=e,this.setupImage()}}),this._diameter=this.getAttr("diameter",null),this.hasOwnProperty("diameter")||Object.defineProperty(this,"diameter",{get:()=>this._diameter,set:e=>{this._diameter=e,this.setupImage()}}),this.invert=this.getAttr("invert",0),this._colors=this.getAttr("colors",opt.switchColors),this.hasOwnProperty("colors")||Object.defineProperty(this,"colors",{get:()=>this._colors,set:e=>{this._colors=e,this.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.setupLabel(),this.valuetip=0,this.tooltip=this.getAttr("tooltip",null),this.midilearn=this.getAttr("midilearn",opt.midilearn),this.midicc=this.getAttr("midicc",null),this.midiController={},this.midiMode="normal",this.midicc){let e=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,t=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(e,t)}if(this.midilearn&&this.id&&webAudioControlsWidgetManager&&webAudioControlsWidgetManager.midiLearnTable){const e=webAudioControlsWidgetManager.midiLearnTable;for(let t=0;t<e.length;++t)if(e[t].id==this.id){this.setMidiController(e[t].cc.channel,e[t].cc.cc);break}}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(let e=this.step;e<1;e*=10)++this.digits;window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this),this.elem.onclick=e=>{e.stopPropagation()}}disconnectedCallback(){}setupImage(){if(this.coltab=this.colors.split(";"),this.kw=this._width||this._diameter||opt.switchWidth||opt.switchDiameter,this.kh=this._height||this._diameter||opt.switchHeight||opt.switchDiameter,this.img=new Image,this.srcurl=null,this.src==null||this.src==""){this.kw==null&&(this.kw=32),this.kh==null&&(this.kh=32);const i=Math.min(this.kw,this.kh),e=this.kw,t=this.kh,n=`<svg xmlns="http://www.w3.org/2000/svg" width="${this.kw}" height="${this.kh*2}" preserveAspectRatio="none">
<defs>
<linearGradient id="g1" x1="0%" y1="0%" x2="0%" y2="100%">
  <stop offset="0%" stop-color="#000" stop-opacity="0"/>
  <stop offset="100%" stop-color="#000" stop-opacity="0.2"/>
</linearGradient>
<radialGradient id="g2" cx="50%" cy="30%">
    <stop offset="0%" stop-color="${this.coltab[2]}"/>
    <stop offset="100%" stop-color="${this.coltab[0]}"/>
  </radialGradient>
  <filter id="f1">
    <feGaussianBlur in="SourceGraphic" stdDeviation=".4" />
  </filter>
</defs>
<g id="p1">
  <rect x="${e*.075}" y="${t*.075}" width="${e*.85}" height="${t*.85}" rx="${i*.1}" ry="${i*.1}" fill="#000"/>
  <rect x="${e*.1}" y="${t*.1}" width="${e*.8}" height="${t*.8}" rx="${i*.1}" ry="${i*.1}" fill="${this.coltab[1]}"/>
</g>
<g id="p2">
  <circle cx="${e*.5}" cy="${t*.5}" r="${i*.35}" stroke="#000" stroke-width="${i*.03}" fill="${this.coltab[0]}" filter="url(#f1)"/>
  <circle cx="${e*.5}" cy="${t*.5}" r="${i*.27}" stroke="#000" stroke-width="${i*.03}" fill="#000" filter="url(#f1)"/>
  <rect x="${e*.075}" y="${t*.075}" width="${e*.85}" height="${t*.85}" rx="${i*.1}" ry="${i*.1}" fill="url(#g1)"/>
</g>
<use href="#p1" y="${t}"/>
<use href="#p2" y="${t}"/>
<circle cx="${e*.5}" cy="${t*1.5}" r="${i*.25}" fill="url(#g2)" filter="url(#f1)"/>
<circle cx="${e*.5}" cy="${t*1.5}" r="${i*.25}" fill="url(#g1)"/>
</svg>`;this.srcurl="data:image/svg+xml;base64,"+btoa(n)}else this.srcurl=this.src;this.img.onload=()=>{this.kw==null&&(this.kw=this.img.width),this.kh==null&&(this.kh=this.img.height*.5),this.elem.style.backgroundImage="url("+this.srcurl+")",this.elem.style.backgroundSize="100% 200%",this.elem.style.width=this.kw+"px",this.elem.style.height=this.kh+"px",this.redraw()},this.img.src=this.srcurl}redraw(){let i=this.elem.style;this.value^this.invert?i.backgroundPosition="0px -100%":i.backgroundPosition="0px 0px"}setValue(i,e){this.value=i,this.checked=!!i,this.value!=this.oldvalue&&(this.redraw(),this.showtip(0),e&&(this.sendEvent("input"),this.sendEvent("change")),this.oldvalue=this.value)}pointerdown(i){if(!this.enable)return;let e=i;if(i.touches)e=i.changedTouches[0],this.identifier=e.identifier;else if(e.buttons!=1&&e.button!=0)return;this.elem.focus(),this.drag=1,this.showtip(0);let t=o=>(o.preventDefault(),o.stopPropagation(),!1),n=o=>{this.drag=0,this.showtip(0),window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t,{passive:!1}),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),window.removeEventListener("touchcancel",n),document.body.removeEventListener("touchstart",s,{passive:!1}),this.type=="kick"&&(this.value=0,this.checked=!1,this.redraw(),this.sendEvent("change")),this.sendEvent("click"),o.preventDefault(),o.stopPropagation()},s=o=>{o.preventDefault()};switch(this.type){case"kick":this.setValue(1),this.sendEvent("change");break;case"toggle":e.ctrlKey||e.metaKey?this.value=defvalue:this.value=1-this.value,this.checked=!!this.value,this.sendEvent("change");break;case"radio":let o=document.querySelectorAll("webaudio-switch[type='radio'][group='"+this.group+"']");for(let a=0;a<o.length;++a)o[a]==this?o[a].setValue(1):o[a].setValue(0);this.sendEvent("change");break}return window.addEventListener("mouseup",n),window.addEventListener("touchend",n),window.addEventListener("touchcancel",n),document.body.addEventListener("touchstart",s,{passive:!1}),this.redraw(),i.preventDefault(),i.stopPropagation(),!1}})}catch(i){console.log("webaudio-switch already defined")}try{customElements.define("webaudio-param",class extends WebAudioControlsWidget{constructor(){super(),this.addEventListener("keydown",this.keydown),this.addEventListener("mousedown",this.pointerdown,{passive:!1}),this.addEventListener("touchstart",this.pointerdown,{passive:!1}),this.addEventListener("wheel",this.wheel),this.addEventListener("mouseover",this.pointerover),this.addEventListener("mouseout",this.pointerout),this.addEventListener("contextmenu",this.contextMenu)}connectedCallback(){let root;if(this.attachShadow?root=this.attachShadow({mode:"open"}):root=this,root.innerHTML=`<style>
${this.basestyle}
:host{
  display:inline-block;
  user-select:none;
  margin:0;
  padding:0;
  font-family: sans-serif;
  font-size: 8px;
  cursor:pointer;
  position:relative;
  vertical-align:baseline;
}
.webaudio-param-body{
  display:inline-block;
  position:relative;
  text-align:center;
  background:none;
  margin:0;
  padding:0;
  font-family:sans-serif;
  font-size:11px;
  vertical-align:bottom;
  border:none;
}
</style>
<input class='webaudio-param-body' value='0' tabindex='1' touch-action='none'/><div class='webaudioctrl-tooltip'></div>
`,this.elem=root.childNodes[2],this.ttframe=root.childNodes[3],this.enable=this.getAttr("enable",1),this._value=this.getAttr("value",0),this.hasOwnProperty("value")||Object.defineProperty(this,"value",{get:()=>this._value,set:i=>{this._value=i,this.redraw()}}),this.defvalue=this.getAttr("defvalue",0),this._fontsize=this.getAttr("fontsize",9),this.hasOwnProperty("fontsize")||Object.defineProperty(this,"fontsize",{get:()=>this._fontsize,set:i=>{this._fontsize=i,this.setupImage()}}),this._src=this.getAttr("src",opt.paramSrc),this.hasOwnProperty("src")||Object.defineProperty(this,"src",{get:()=>this._src,set:i=>{this._src=i,this.setupImage()}}),this.link=this.getAttr("link",""),this._width=this.getAttr("width",opt.paramWidth),this.hasOwnProperty("width")||Object.defineProperty(this,"width",{get:()=>this._width,set:i=>{this._width=i,this.setupImage()}}),this._height=this.getAttr("height",opt.paramHeight),this.hasOwnProperty("height")||Object.defineProperty(this,"height",{get:()=>this._height,set:i=>{this._height=i,this.setupImage()}}),this._colors=this.getAttr("colors",opt.paramColors),this.hasOwnProperty("colors")||Object.defineProperty(this,"colors",{get:()=>this._colors,set:i=>{this._colors=i,this.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.rconv=this.getAttr("rconv",null),this.midiController={},this.midiMode="normal",this.currentLink=null,this.midicc){let i=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,e=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(i,e)}this.setupImage(),window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this),this.fromLink=(i=>{this.setValue(i.target.convValue.toFixed(i.target.digits))}).bind(this),this.elem.onchange=()=>{if(!this.currentLink.target.conv||this.currentLink.target.conv&&this.rconv){let val=this.value=this.elem.value;if(this.rconv){let x=+this.elem.value;val=eval(this.rconv)}this.currentLink&&this.currentLink.target.setValue(val,!0)}}}disconnectedCallback(){}setupImage(){this.imgloaded=()=>{this.src!=""&&this.src!=null?(this.elem.style.backgroundImage="url("+this.src+")",this.elem.style.backgroundSize="100% 100%",this._width==null&&(this._width=this.img.width),this._height==null&&(this._height=this.img.height)):(this._width==null&&(this._width=32),this._height==null&&(this._height=20)),this.elem.style.width=this._width+"px",this.elem.style.height=this._height+"px",this.elem.style.fontSize=this.fontsize+"px";let i=document.getElementById(this.link);i&&typeof i.value<"u"&&(typeof i.convValue=="number"?this.setValue(i.convValue.toFixed(i.digits)):this.setValue(i.convValue),this.currentLink&&this.currentLink.removeEventListener("input",this.currentLink.func),this.currentLink={target:i,func:e=>{typeof i.convValue=="number"?this.setValue(i.convValue.toFixed(i.digits)):this.setValue(i.convValue)}},this.currentLink.target.addEventListener("input",this.currentLink.func)),this.redraw()},this.coltab=this.colors.split(";"),this.elem.style.color=this.coltab[0],this.img=new Image,this.img.onload=this.imgloaded.bind(),this.src==null?(this.elem.style.backgroundColor=this.coltab[1],this.imgloaded()):this.src==""?(this.elem.style.background="none",this.imgloaded()):this.img.src=this.src}redraw(){this.elem.value=this.value}setValue(i,e){if(this.value=i,this.value!=this.oldvalue){if(this.redraw(),this.showtip(0),e){let t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),this.dispatchEvent(t)}this.oldvalue=this.value}}pointerdown(i){if(!this.enable)return;let e=i;if(i.touches)e=i.touches[0];else if(e.buttons!=1&&e.button!=0)return;this.elem.focus(),this.redraw()}})}catch(i){console.log("webaudio-param already defined")}try{customElements.define("webaudio-keyboard",class extends WebAudioControlsWidget{constructor(){super()}connectedCallback(){let i;if(this.attachShadow?i=this.attachShadow({mode:"open"}):i=this,i.innerHTML=`<style>
${this.basestyle}
:host{
  display:inline-block;
  position:relative;
  margin:0;
  padding:0;
  font-family: sans-serif;
  font-size: 11px;
}
.webaudio-keyboard-body{
  display:inline-block;
  margin:0;
  padding:0;
  vertical-align:bottom;
}
</style>
<canvas class='webaudio-keyboard-body' tabindex='1' touch-action='none'></canvas><div class='webauioctrl-tooltip'></div>
`,this.elem=this.cv=i.childNodes[2],this.ttframe=i.childNodes[3],this.ctx=this.cv.getContext("2d"),this._values=[],this.enable=this.getAttr("enable",1),this._width=this.getAttr("width",480),this.hasOwnProperty("width")||Object.defineProperty(this,"width",{get:()=>this._width,set:e=>{this._width=e,this.setupImage()}}),this._height=this.getAttr("height",128),this.hasOwnProperty("height")||Object.defineProperty(this,"height",{get:()=>this._height,set:e=>{this._height=e,this.setupImage()}}),this._min=this.getAttr("min",0),this.hasOwnProperty("min")||Object.defineProperty(this,"min",{get:()=>this._min,set:e=>{this._min=+e,this.redraw()}}),this._keys=this.getAttr("keys",25),this.hasOwnProperty("keys")||Object.defineProperty(this,"keys",{get:()=>this._keys,set:e=>{this._keys=+e,this.setupImage()}}),this._colors=this.getAttr("colors","#222;#eee;#ccc;#333;#000;#e88;#c44;#c33;#800"),this.hasOwnProperty("colors")||Object.defineProperty(this,"colors",{get:()=>this._colors,set:e=>{this._colors=e,this.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.midilearn=this.getAttr("midilearn",0),this.midicc=this.getAttr("midicc",null),this.press=0,this.keycodes1=[90,83,88,68,67,86,71,66,72,78,74,77,188,76,190,187,191,226],this.keycodes2=[81,50,87,51,69,82,53,84,54,89,55,85,73,57,79,48,80,192,222,219],this.midiController={},this.midiMode="normal",this.midicc){let e=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,t=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(e,t)}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(let e=this.step;e<1;e*=10)++this.digits;window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this)}disconnectedCallback(){}setupImage(){this.cv.style.width=this.width+"px",this.cv.style.height=this.height+"px",this.bheight=this.height*.55,this.kp=[0,7/12,1,3*7/12,2,3,6*7/12,4,8*7/12,5,10*7/12,6],this.kf=[0,1,0,1,0,0,1,0,1,0,1,0],this.ko=[0,0,7*2/12-1,0,7*4/12-2,7*5/12-3,0,7*7/12-4,0,7*9/12-5,0,7*11/12-6],this.kn=[0,2,4,5,7,9,11],this.coltab=this.colors.split(";"),this.cv.width=this.width,this.cv.height=this.height,this.cv.style.width=this.width+"px",this.cv.style.height=this.height+"px",this.style.height=this.height+"px",this.cv.style.outline=this.outline?"":"none",this.bheight=this.height*.55,this.max=this.min+this.keys-1,this.dispvalues=[],this.valuesold=[],this.kf[this.min%12]&&--this.min,this.kf[this.max%12]&&++this.max,this.redraw()}redraw(){function i(o,a,l,c,h,f,_,y){if(y){let u=o.createLinearGradient(a,l,a+c,l);u.addColorStop(0,_),u.addColorStop(1,y),o.fillStyle=u}else o.fillStyle=_;o.beginPath(),o.moveTo(a,l),o.lineTo(a+c,l),o.lineTo(a+c,l+h-f),o.quadraticCurveTo(a+c,l+h,a+c-f,l+h),o.lineTo(a+f,l+h),o.quadraticCurveTo(a,l+h,a,l+h-f),o.lineTo(a,l),o.fill()}this.ctx.fillStyle=this.coltab[0],this.ctx.fillRect(0,0,this.width,this.height);let e=7*(this.min/12|0)+this.kp[this.min%12],t=7*(this.max/12|0)+this.kp[this.max%12]-e;this.wwidth=(this.width-1)/(t+1),this.bwidth=this.wwidth*7/12;let n=this.bheight,s=Math.min(8,this.wwidth*.2);for(let o=this.min,a=0;o<=this.max;++o)if(this.kf[o%12]==0){let l=this.wwidth*a+++1;this.dispvalues.indexOf(o)>=0?i(this.ctx,l,1,this.wwidth-1,this.height-2,s,this.coltab[5],this.coltab[6]):i(this.ctx,l,1,this.wwidth-1,this.height-2,s,this.coltab[1],this.coltab[2])}s=Math.min(8,this.bwidth*.3);for(let o=this.min;o<this.max;++o)if(this.kf[o%12]){let a=this.wwidth*this.ko[this.min%12]+this.bwidth*(o-this.min)+1;this.dispvalues.indexOf(o)>=0?i(this.ctx,a,1,this.bwidth,n,s,this.coltab[7],this.coltab[8]):i(this.ctx,a,1,this.bwidth,n,s,this.coltab[3],this.coltab[4]),this.ctx.strokeStyle=this.coltab[0],this.ctx.stroke()}}_setValue(i){return this.step&&(i=Math.round((i-this.min)/this.step)*this.step+this.min),this._value=Math.min(this.max,Math.max(this.min,i)),this._value!=this.oldvalue?(this.oldvalue=this._value,this.redraw(),this.showtip(0),1):0}setValue(i,e){this._setValue(i)&&e&&(this.sendEvent("input"),this.sendEvent("change"))}wheel(i){}keydown(i){let e=Math.floor((this.min+11)/12)*12,t=this.keycodes1.indexOf(i.keyCode);t<0&&(t=this.keycodes2.indexOf(i.keyCode),t>=0&&(t+=12)),t>=0&&(t+=e,this.currentKey!=t&&(this.currentKey=t,this.setdispvalues(1,t),this.sendEventFromKey(1,t),this.setNote(1,t)))}keyup(i){let e=Math.floor((this.min+11)/12)*12,t=this.keycodes1.indexOf(i.keyCode);t<0&&(t=this.keycodes2.indexOf(i.keyCode),t>=0&&(t+=12)),t>=0&&(t+=e,this.currentKey=-1,this.setdispvalues(0,t),this.sendEventFromKey(0,t),this.setNote(0,t))}pointerdown(i){this.cv.focus(),this.enable&&++this.press;let e=s=>{if(!this.enable)return;let o=this.getBoundingClientRect(),a=[],l;s.touches?l=s.targetTouches:this.press?l=[s]:l=[],l.length>0&&(this.drag=1);for(let c=0;c<l.length;++c){let h=l[c].clientX-o.left,f=l[c].clientY-o.top,_,y,u;f>=0&&f<this.height&&(f<this.bheight?(_=h-this.wwidth*this.ko[this.min%12],y=this.min+(_/this.bwidth|0)):(y=h/this.wwidth|0,u=this.kp[this.min%12],y+=u,y=this.min+(y/7|0)*12+this.kn[y%7]-this.kn[u%7]),y>=this.min&&y<=this.max&&a.push(y))}a.sort(),this.values=a,this.sendevent(),this.redraw()},t=s=>{this.enable&&(s.touches?this.press=s.touches.length:this.press=0,e(s),this.sendevent(),this.press==0&&(window.removeEventListener("mousemove",e),window.removeEventListener("touchmove",e,{passive:!1}),window.removeEventListener("mouseup",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t),document.body.removeEventListener("touchstart",n,{passive:!1})),this.redraw()),this.drag=0,s.preventDefault()},n=s=>{s.preventDefault()};window.addEventListener("mousemove",e),window.addEventListener("touchmove",e,{passive:!1}),window.addEventListener("mouseup",t),window.addEventListener("touchend",t),window.addEventListener("touchcancel",t),document.body.addEventListener("touchstart",n,{passive:!1}),e(i),i.preventDefault(),i.stopPropagation()}sendEventFromKey(i,e){let t=document.createEvent("HTMLEvents");t.initEvent("keyboard",!0,!0),t.note=[i,e],this.dispatchEvent(t)}sendevent(){let i=[];for(let e=0,t=this.valuesold.length;e<t;++e)this.values.indexOf(this.valuesold[e])<0&&i.push([0,this.valuesold[e]]);for(let e=0,t=this.values.length;e<t;++e)this.valuesold.indexOf(this.values[e])<0&&i.push([1,this.values[e]]);if(i.length){this.valuesold=this.values;for(let e=0;e<i.length;++e){this.setdispvalues(i[e][0],i[e][1]);let t=document.createEvent("HTMLEvents");t.initEvent("pointer",!0,!0),t.note=i[e],this.dispatchEvent(t)}}}setdispvalues(i,e){let t=this.dispvalues.indexOf(e);i?t<0&&this.dispvalues.push(e):t>=0&&this.dispvalues.splice(t,1)}setNote(i,e,t,n){const s=t&&n-t.currentTime;s>0?setTimeout(()=>{this.setNote(i,e)},s*1e3):(this.setdispvalues(i,e),this.redraw())}})}catch(i){console.log("webaudio-keyboard already defined")}class WebAudioControlsWidgetManager{constructor(){this.midiAccess=null,this.listOfWidgets=[],this.listOfExternalMidiListeners=[],this.updateWidgets(),opt.preserveMidiLearn?this.midiLearnTable=JSON.parse(localStorage.getItem("WebAudioControlsMidiLearn")):this.midiLearnTable=null,this.initWebAudioControls()}addWidget(e){this.listOfWidgets.push(e)}updateWidgets(){}initWebAudioControls(){navigator.requestMIDIAccess&&navigator.requestMIDIAccess().then(e=>{this.midiAccess=e,this.enableInputs()},e=>{console.log("MIDI not initialized - error encountered:"+e.code)})}enableInputs(){let e=this.midiAccess.inputs.values();console.log("Found "+this.midiAccess.inputs.size+" MIDI input(s)");for(let t=e.next();t&&!t.done;t=e.next())console.log("Connected input: "+t.value.name),t.value.onmidimessage=this.handleMIDIMessage.bind(this)}midiConnectionStateChange(e){console.log("connection: "+e.port.name+" "+e.port.connection+" "+e.port.state),enableInputs()}onMIDIStarted(e){this.midiAccess=e,e.onstatechange=this.midiConnectionStateChange,enableInputs(e)}addMidiListener(e){this.listOfExternalMidiListeners.push(e)}getCurrentConfigAsJSON(){return currentConfig.stringify()}handleMIDIMessage(e){if(this.listOfExternalMidiListeners.forEach(function(t){t(e)}),!((e.data[0]&240)==240||(e.data[0]&240)==176&&e.data[1]>=120)){for(let t of this.listOfWidgets)t.processMidiEvent&&t.processMidiEvent(e);opt.mididump&&console.log(e.data)}}contextMenuOpen(e,t){if(!this.midiAccess)return;let n=document.getElementById("webaudioctrl-context-menu");n.style.left=e.pageX+"px",n.style.top=e.pageY+"px",n.knob=t,n.classList.add("active"),n.knob.focus(),n.knob.addEventListener("keydown",this.contextMenuCloseByKey.bind(this))}contextMenuCloseByKey(e){e.keyCode==27&&this.contextMenuClose()}contextMenuClose(){let e=document.getElementById("webaudioctrl-context-menu");e.knob.removeEventListener("keydown",this.contextMenuCloseByKey),e.classList.remove("active");let t=document.getElementById("webaudioctrl-context-menu-learn");t.innerHTML="Learn",e.knob.midiMode="normal"}contextMenuLearn(){let e=document.getElementById("webaudioctrl-context-menu"),t=document.getElementById("webaudioctrl-context-menu-learn");t.innerHTML="Listening...",e.knob.midiMode="learn"}contextMenuClear(e){let t=document.getElementById("webaudioctrl-context-menu");t.knob.midiController={},this.contextMenuClose()}preserveMidiLearn(){if(!opt.preserveMidiLearn)return;const e=[];for(let n of this.listOfWidgets)n.id&&e.push({id:n.id,cc:n.midiController});const t=JSON.stringify(e);localStorage.setItem("WebAudioControlsMidiLearn",t)}}(window.UseWebAudioControlsMidi||opt.useMidi)&&(window.webAudioControlsWidgetManager=window.webAudioControlsMidiManager=new WebAudioControlsWidgetManager)}class SliderGSAP extends HTMLElement{constructor(){super(),ct(this,"svg"),ct(this,"thumbs"),ct(this,"track"),ct(this,"minValue",0),ct(this,"maxValue",1),ct(this,"positionsPixels"),ct(this,"sliderMinPx",10),ct(this,"sliderMaxPx",210),ct(this,"sliderWidthPx",200),ct(this,"snapToEdges",gsapWithCSS$1.utils.snap({values:[0,1],radius:.001})),ct(this,"norm",gsapWithCSS$1.utils.mapRange(this.sliderMinPx,this.sliderMaxPx,0,1)),ct(this,"isShiftDragging",!1),ct(this,"dragStartPositions",[]),this.positionsPixels=[10,210]}connectedCallback(){this.innerHTML=`
      <style>
        .slider-container {
          position: relative;
          width: 220px;
          height: 20px;
          margin: 20px auto;
        }

        .slider-svg {
          width: 100%;
          height: 100%;
          overflow: visible;
        }

        .slider-thumb {
          cursor: pointer;
          fill: #2196f3;
          stroke: #fff;
          stroke-width: 2;
        }

        .slider-thumb:hover {
          fill: #1976d2;
        }

        .slider-track {
          stroke: #ddd;
          stroke-width: 4;
          stroke-linecap: round;
        }

        .output-values {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 10px;
          padding: 5px;
          background:rgb(100, 100, 100);
          border: 1px solid #ddd;
          border-radius: 4px;

          margin: 5px 0;
          margin-top: 10px;
          font-family: Arial, sans-serif;
          font-size: 14px;
        }
      </style>
      
      <div class="slider-container">
        <svg class="slider-svg" viewBox="0 0 220 20">
          <line class="slider-track" x1="10" y1="10" x2="210" y2="10"></line>
            <circle class="slider-thumb" r="8" cx="0" cy="10" data-thumb="0"></circle>
            <circle class="slider-thumb" r="8" cx="0" cy="10" data-thumb="1"></circle>
        </svg>
      </div>

      <!--
      <div class="output-values">
        <span>Thumb:</span>
        <span>%</span>
        <span>First:</span>
        <span id="value-0">${this.positionsPixels[0].toFixed(2)}</span>
        <span>Second:</span>
        <span id="value-1">${this.positionsPixels[1].toFixed(2)}</span>
      </div>
        -->
    `,this.svg=this.querySelector(".slider-svg"),this.track=this.querySelector(".slider-track"),this.thumbs=Array.from(this.querySelectorAll(".slider-thumb")),this.initializeGSAP(),this.updateThumbs()}valueToNormalized(e){return(e-this.minValue)/(this.maxValue-this.minValue)}normalizedToValue(e){return this.minValue+e*(this.maxValue-this.minValue)}normalizedToPixels(e){return this.sliderMinPx+e*this.sliderWidthPx}pixelsToNormalized(e){return(e-this.sliderMinPx)/this.sliderWidthPx}initializeGSAP(){if(typeof gsapWithCSS$1>"u"){console.error("GSAP is not loaded");return}gsapWithCSS$1.registerPlugin(Draggable$1),gsapWithCSS$1.set(this.thumbs[0],{x:this.positionsPixels[0]}),gsapWithCSS$1.set(this.thumbs[1],{x:this.positionsPixels[1]}),this.thumbs.forEach((e,t)=>{Draggable$1.create(e,{type:"x",bounds:{minX:this.sliderMinPx,maxX:this.sliderMaxPx},onDrag:()=>this.onDrag(t),onPress:n=>this.onPress(n,t),onThrowUpdate:()=>this.onDrag(t),throwProps:!0})})}onPress(e,t){this.isShiftDragging=e.shiftKey,this.isShiftDragging&&(this.dragStartPositions=[gsapWithCSS$1.getProperty(this.thumbs[0],"x"),gsapWithCSS$1.getProperty(this.thumbs[1],"x")])}onDrag(e){let t=gsapWithCSS$1.getProperty(this.thumbs[0],"x"),n=gsapWithCSS$1.getProperty(this.thumbs[1],"x");if(this.isShiftDragging){const s=(e===0?t:n)-this.dragStartPositions[e],o=this.dragStartPositions[0]+s,a=this.dragStartPositions[1]+s,l=Math.max(this.sliderMinPx,Math.min(this.sliderMaxPx,o)),c=Math.max(this.sliderMinPx,Math.min(this.sliderMaxPx,a));gsapWithCSS$1.set(this.thumbs[0],{x:l}),gsapWithCSS$1.set(this.thumbs[1],{x:c}),this.positionsPixels[0]=l,this.positionsPixels[1]=c}else t>n-2&&(e===0?t=n-2:n=t+2,gsapWithCSS$1.set(this.thumbs[e],{x:e===0?t:n})),this.positionsPixels[0]=t,this.positionsPixels[1]=n;this.dispatchChangeEvent()}dispatchChangeEvent(){const e=this.pixelsToNormalized(this.positionsPixels[0]),t=this.pixelsToNormalized(this.positionsPixels[1]),n=this.normalizedToValue(e),s=this.normalizedToValue(t);this.dispatchEvent(new CustomEvent("range-change",{detail:{min:n,max:s,isShiftDragging:this.isShiftDragging,minNormalized:e,maxNormalized:t}}))}updateThumbs(){typeof gsapWithCSS$1>"u"||(this.thumbs.forEach((e,t)=>{gsapWithCSS$1.to(e,{x:this.positionsPixels[t],duration:.3,ease:"power2.out"})}),this.dispatchChangeEvent())}refreshDisplay(){this.thumbs.forEach((e,t)=>{const n=this.querySelector(`#value-${t}`);n&&(n.textContent=this.positionsPixels[t].toFixed(0))})}setRange(e,t){this.minValue=e,this.maxValue=t,this.updateThumbs()}setPosition(e,t){if(e>=0&&e<this.positionsPixels.length){const n=this.valueToNormalized(t);this.positionsPixels[e]=this.normalizedToPixels(n),this.updateThumbs()}}getPosition(e){const t=this.pixelsToNormalized(this.positionsPixels[e]);return this.normalizedToValue(t)}getPositionsInPx(){return[...this.positionsPixels]}}customElements.define("slider-gsap",SliderGSAP);const{div:div$3,label:label$2}=van.tags,createSliderGSAP=(i,e,t,n,s)=>{const o=van.tags["slider-gsap"]({}),a=(s==null?void 0:s.rawVal)??.5;return setTimeout(()=>{o.setRange(n.min,n.max),o.setPosition(0,e.rawVal),o.setPosition(1,t.rawVal)},0),o.addEventListener("range-change",l=>{e.val=l.detail.min,t.val=l.detail.max,s!==void 0&&(s.val=l.detail.isShiftDragging?0:a)}),{container:div$3({style:"margin-bottom: 10px; display: flex; align-items: center; gap: 8px;"},label$2(()=>i+":"),o),sliderElement:o}},SampleControls=(i,e,t,n,s,o)=>{const a=e.rawVal-.001;let l=e.rawVal-i.rawVal;const{div:c}=van.tags;defineElement("knob-element",KnobElement);const h=van.state(a);let f=van.state(0);const{container:_}=createSliderGSAP("Trim",i,h,{min:0,max:o.rawVal-.001},t),y=document.createElement("knob-element");y.setAttribute("min-value","0"),y.setAttribute("max-value",l.toString()),y.setAttribute("snap-increment","0.0001"),y.setAttribute("width","45"),y.setAttribute("height","45"),y.setAttribute("default-value","0"),y.setAttribute("curve","0.1"),y.style.marginTop="10px",y.className="cranker",y.addEventListener("knob-change",b=>{if(!y)return;const $=b.detail;f.val=$.value});const u=van.derive(()=>{const b=h.val-i.val;return Math.max(b,.001)});return van.derive(()=>{y.setAttribute("max-value",u.val.toString())}),van.derive(()=>{const b=Math.max(i.rawVal+.001,h.val-f.val);e.val=b,b<i.val&&(i.val=Math.max(0,b-.001))}),c({style:"display: flex; flex-direction: column;"},c({style:"display: flex; place-items: center; column-gap: 0.5rem; margin-top: 10px;"},_,y))},{div:div$2,button:button$2}=van.tags,FileOperations=(i,e,t,n,s,o)=>{const a="padding: 0.2rem 0.5rem; margin: 0.1rem 0; cursor: pointer";return div$2({style:"display: flex; gap: 10px; margin-bottom: 1rem;"},button$2({style:a,onclick:n},"Upload"),button$2({style:a,onclick:()=>t.val==="Recording"||t.val==="Armed"?o():s()},()=>t.val))},toStyleStr=i=>Object.entries(i).map(([e,t])=>`${e}: ${t};`).join(""),stateProto=Object.getPrototypeOf(van.state(null)),stateOf=i=>Object.getPrototypeOf(i??0)===stateProto?i:van.state(i),{input,label:label$1,span}=van.tags,Toggle=({on:i=!1,size:e=1,cursor:t="pointer",offColor:n="#ccc",onColor:s="#2196F3",circleColor:o="white",toggleClass:a="",toggleStyleOverrides:l={},sliderClass:c="",sliderStyleOverrides:h={},circleClass:f="",circleStyleOverrides:_={},circleWhenOnStyleOverrides:y={},onChange:u})=>{const b=stateOf(i),$=toStyleStr({position:"relative",display:"inline-block",width:1.76*e+"rem",height:e+"rem",cursor:t,...l}),k=toStyleStr({opacity:0,width:0,height:0,position:"absolute","z-index":1e4}),A=toStyleStr({position:"absolute",top:0,left:0,right:0,bottom:0,transition:".4s","border-radius":e+"rem",...h}),C=toStyleStr({position:"absolute",height:.76*e+"rem",width:.76*e+"rem",left:.12*e+"rem",bottom:.12*e+"rem","background-color":o,transition:".4s","border-radius":"50%",..._}),I=toStyleStr({transform:`translateX(${.76*e}rem)`,...y});return label$1({class:a,style:$},input({type:"checkbox",style:k,checked:b,oninput:S=>{const O=S.target.checked;b.val=O,u==null||u(O)}}),span({class:c,style:()=>`${A}; background-color: ${b.val?s:n};`},span({class:f,style:()=>C+(b.val?I:"")})))};/*!
 * paths 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _svgPathExp=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,_numbersExp=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,_scientific=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,_selectorExp=/(^[#\.][a-z]|[a-y][a-z])/i,_DEG2RAD$1=Math.PI/180,_RAD2DEG$3=180/Math.PI,_sin$2=Math.sin,_cos$2=Math.cos,_abs=Math.abs,_sqrt$1=Math.sqrt,_atan2$2=Math.atan2,_largeNum=1e8,_isString$2=function i(e){return typeof e=="string"},_isNumber$2=function i(e){return typeof e=="number"},_isUndefined$3=function i(e){return typeof e>"u"},_temp={},_temp2={},_roundingNum=1e5,_wrapProgress=function i(e){return Math.round((e+_largeNum)%1*_roundingNum)/_roundingNum||(e<0?0:1)},_round$2=function i(e){return Math.round(e*_roundingNum)/_roundingNum||0},_roundPrecise$2=function i(e){return Math.round(e*1e10)/1e10||0},_splitSegment=function i(e,t,n,s){var o=e[t],a=s===1?6:subdivideSegment(o,n,s);if((a||!s)&&a+n+2<o.length)return e.splice(t,0,o.slice(0,n+a+2)),o.splice(0,n+a),1},_getSampleIndex=function i(e,t,n){var s=e.length,o=~~(n*s);if(e[o]>t){for(;--o&&e[o]>t;);o<0&&(o=0)}else for(;e[++o]<t&&o<s;);return o<s?o:s-1},_reverseRawPath=function i(e,t){var n=e.length;for(e.reverse();n--;)e[n].reversed||reverseSegment(e[n])},_copyMetaData=function i(e,t){return t.totalLength=e.totalLength,e.samples?(t.samples=e.samples.slice(0),t.lookup=e.lookup.slice(0),t.minLength=e.minLength,t.resolution=e.resolution):e.totalPoints&&(t.totalPoints=e.totalPoints),t},_appendOrMerge=function i(e,t){var n=e.length,s=e[n-1]||[],o=s.length;n&&t[0]===s[o-2]&&t[1]===s[o-1]&&(t=s.concat(t.slice(2)),n--),e[n]=t};function getRawPath(i){i=_isString$2(i)&&_selectorExp.test(i)&&document.querySelector(i)||i;var e=i.getAttribute?i:0,t;return e&&(i=i.getAttribute("d"))?(e._gsPath||(e._gsPath={}),t=e._gsPath[i],t&&!t._dirty?t:e._gsPath[i]=stringToRawPath(i)):i?_isString$2(i)?stringToRawPath(i):_isNumber$2(i[0])?[i]:i:console.warn("Expecting a <path> element or an SVG path data string")}function copyRawPath(i){for(var e=[],t=0;t<i.length;t++)e[t]=_copyMetaData(i[t],i[t].slice(0));return _copyMetaData(i,e)}function reverseSegment(i){var e=0,t;for(i.reverse();e<i.length;e+=2)t=i[e],i[e]=i[e+1],i[e+1]=t;i.reversed=!i.reversed}var _createPath=function i(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path"),s=[].slice.call(e.attributes),o=s.length,a;for(t=","+t+",";--o>-1;)a=s[o].nodeName.toLowerCase(),t.indexOf(","+a+",")<0&&n.setAttributeNS(null,a,s[o].nodeValue);return n},_typeAttrs={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"},_attrToObj=function i(e,t){for(var n=t?t.split(","):[],s={},o=n.length;--o>-1;)s[n[o]]=+e.getAttribute(n[o])||0;return s};function convertToPath(i,e){var t=i.tagName.toLowerCase(),n=.552284749831,s,o,a,l,c,h,f,_,y,u,b,$,k,A,C,I,S,O,L,B,N,j;return t==="path"||!i.getBBox?i:(h=_createPath(i,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),j=_attrToObj(i,_typeAttrs[t]),t==="rect"?(l=j.rx,c=j.ry||l,o=j.x,a=j.y,u=j.width-l*2,b=j.height-c*2,l||c?($=o+l*(1-n),k=o+l,A=k+u,C=A+l*n,I=A+l,S=a+c*(1-n),O=a+c,L=O+b,B=L+c*n,N=L+c,s="M"+I+","+O+" V"+L+" C"+[I,B,C,N,A,N,A-(A-k)/3,N,k+(A-k)/3,N,k,N,$,N,o,B,o,L,o,L-(L-O)/3,o,O+(L-O)/3,o,O,o,S,$,a,k,a,k+(A-k)/3,a,A-(A-k)/3,a,A,a,C,a,I,S,I,O].join(",")+"z"):s="M"+(o+u)+","+a+" v"+b+" h"+-u+" v"+-b+" h"+u+"z"):t==="circle"||t==="ellipse"?(t==="circle"?(l=c=j.r,_=l*n):(l=j.rx,c=j.ry,_=c*n),o=j.cx,a=j.cy,f=l*n,s="M"+(o+l)+","+a+" C"+[o+l,a+_,o+f,a+c,o,a+c,o-f,a+c,o-l,a+_,o-l,a,o-l,a-_,o-f,a-c,o,a-c,o+f,a-c,o+l,a-_,o+l,a].join(",")+"z"):t==="line"?s="M"+j.x1+","+j.y1+" L"+j.x2+","+j.y2:(t==="polyline"||t==="polygon")&&(y=(i.getAttribute("points")+"").match(_numbersExp)||[],o=y.shift(),a=y.shift(),s="M"+o+","+a+" L"+y.join(","),t==="polygon"&&(s+=","+o+","+a+"z")),h.setAttribute("d",rawPathToString(h._gsRawPath=stringToRawPath(s))),e&&i.parentNode&&(i.parentNode.insertBefore(h,i),i.parentNode.removeChild(i)),h)}function getRotationAtBezierT(i,e,t){var n=i[e],s=i[e+2],o=i[e+4],a;return n+=(s-n)*t,s+=(o-s)*t,n+=(s-n)*t,a=s+(o+(i[e+6]-o)*t-s)*t-n,n=i[e+1],s=i[e+3],o=i[e+5],n+=(s-n)*t,s+=(o-s)*t,n+=(s-n)*t,_round$2(_atan2$2(s+(o+(i[e+7]-o)*t-s)*t-n,a)*_RAD2DEG$3)}function sliceRawPath(i,e,t){t=_isUndefined$3(t)?1:_roundPrecise$2(t)||0,e=_roundPrecise$2(e)||0;var n=Math.max(0,~~(_abs(t-e)-1e-8)),s=copyRawPath(i);if(e>t&&(e=1-e,t=1-t,_reverseRawPath(s),s.totalLength=0),e<0||t<0){var o=Math.abs(~~Math.min(e,t))+1;e+=o,t+=o}s.totalLength||cacheRawPathMeasurements(s);var a=t>1,l=getProgressData(s,e,_temp,!0),c=getProgressData(s,t,_temp2),h=c.segment,f=l.segment,_=c.segIndex,y=l.segIndex,u=c.i,b=l.i,$=y===_,k=u===b&&$,A,C,I,S,O,L,B,N;if(a||n){for(A=_<y||$&&u<b||k&&c.t<l.t,_splitSegment(s,y,b,l.t)&&(y++,A||(_++,k?(c.t=(c.t-l.t)/(1-l.t),u=0):$&&(u-=b))),Math.abs(1-(t-e))<1e-5?_=y-1:!c.t&&_?_--:_splitSegment(s,_,u,c.t)&&A&&y++,l.t===1&&(y=(y+1)%s.length),O=[],L=s.length,B=1+L*n,N=y,B+=(L-y+_)%L,S=0;S<B;S++)_appendOrMerge(O,s[N++%L]);s=O}else if(I=c.t===1?6:subdivideSegment(h,u,c.t),e!==t)for(C=subdivideSegment(f,b,k?l.t/c.t:l.t),$&&(I+=C),h.splice(u+I+2),(C||b)&&f.splice(0,b+C),S=s.length;S--;)(S<y||S>_)&&s.splice(S,1);else h.angle=getRotationAtBezierT(h,u+I,0),u+=I,l=h[u],c=h[u+1],h.length=h.totalLength=0,h.totalPoints=s.totalPoints=8,h.push(l,c,l,c,l,c,l,c);return s.totalLength=0,s}function measureSegment(i,e,t){e=e||0,i.samples||(i.samples=[],i.lookup=[]);var n=~~i.resolution||12,s=1/n,o=i.length,a=i[e],l=i[e+1],c=e?e/6*n:0,h=i.samples,f=i.lookup,_=(e?i.minLength:_largeNum)||_largeNum,y=h[c+t*n-1],u=e?h[c-1]:0,b,$,k,A,C,I,S,O,L,B,N,j,Ie,ae,Be,re,sn;for(h.length=f.length=0,$=e+2;$<o;$+=6){if(k=i[$+4]-a,A=i[$+2]-a,C=i[$]-a,O=i[$+5]-l,L=i[$+3]-l,B=i[$+1]-l,I=S=N=j=0,_abs(k)<.01&&_abs(O)<.01&&_abs(C)+_abs(B)<.01)i.length>8&&(i.splice($,6),$-=6,o-=6);else for(b=1;b<=n;b++)ae=s*b,Ie=1-ae,I=S-(S=(ae*ae*k+3*Ie*(ae*A+Ie*C))*ae),N=j-(j=(ae*ae*O+3*Ie*(ae*L+Ie*B))*ae),re=_sqrt$1(N*N+I*I),re<_&&(_=re),u+=re,h[c++]=u;a+=k,l+=O}if(y)for(y-=u;c<h.length;c++)h[c]+=y;if(h.length&&_){if(i.totalLength=sn=h[h.length-1]||0,i.minLength=_,sn/_<9999)for(re=Be=0,b=0;b<sn;b+=_)f[re++]=h[Be]<b?++Be:Be}else i.totalLength=h[0]=0;return e?u-h[e/2-1]:u}function cacheRawPathMeasurements(i,e){var t,n,s;for(s=t=n=0;s<i.length;s++)i[s].resolution=~~e||12,n+=i[s].length,t+=measureSegment(i[s]);return i.totalPoints=n,i.totalLength=t,i}function subdivideSegment(i,e,t){if(t<=0||t>=1)return 0;var n=i[e],s=i[e+1],o=i[e+2],a=i[e+3],l=i[e+4],c=i[e+5],h=i[e+6],f=i[e+7],_=n+(o-n)*t,y=o+(l-o)*t,u=s+(a-s)*t,b=a+(c-a)*t,$=_+(y-_)*t,k=u+(b-u)*t,A=l+(h-l)*t,C=c+(f-c)*t;return y+=(A-y)*t,b+=(C-b)*t,i.splice(e+2,4,_round$2(_),_round$2(u),_round$2($),_round$2(k),_round$2($+(y-$)*t),_round$2(k+(b-k)*t),_round$2(y),_round$2(b),_round$2(A),_round$2(C)),i.samples&&i.samples.splice(e/6*i.resolution|0,0,0,0,0,0,0,0),6}function getProgressData(i,e,t,n){t=t||{},i.totalLength||cacheRawPathMeasurements(i),(e<0||e>1)&&(e=_wrapProgress(e));var s=0,o=i[0],a,l,c,h,f,_,y;if(!e)y=_=s=0,o=i[0];else if(e===1)y=1,s=i.length-1,o=i[s],_=o.length-8;else{if(i.length>1){for(c=i.totalLength*e,f=_=0;(f+=i[_++].totalLength)<c;)s=_;o=i[s],h=f-o.totalLength,e=(c-h)/(f-h)||0}a=o.samples,l=o.resolution,c=o.totalLength*e,_=o.lookup.length?o.lookup[~~(c/o.minLength)]||0:_getSampleIndex(a,c,e),h=_?a[_-1]:0,f=a[_],f<c&&(h=f,f=a[++_]),y=1/l*((c-h)/(f-h)+_%l),_=~~(_/l)*6,n&&y===1&&(_+6<o.length?(_+=6,y=0):s+1<i.length&&(_=y=0,o=i[++s]))}return t.t=y,t.i=_,t.path=i,t.segment=o,t.segIndex=s,t}function getPositionOnPath(i,e,t,n){var s=i[0],o=n||{},a,l,c,h,f,_,y,u,b;if((e<0||e>1)&&(e=_wrapProgress(e)),s.lookup||cacheRawPathMeasurements(i),i.length>1){for(c=i.totalLength*e,f=_=0;(f+=i[_++].totalLength)<c;)s=i[_];h=f-s.totalLength,e=(c-h)/(f-h)||0}return a=s.samples,l=s.resolution,c=s.totalLength*e,_=s.lookup.length?s.lookup[e<1?~~(c/s.minLength):s.lookup.length-1]||0:_getSampleIndex(a,c,e),h=_?a[_-1]:0,f=a[_],f<c&&(h=f,f=a[++_]),y=1/l*((c-h)/(f-h)+_%l)||0,b=1-y,_=~~(_/l)*6,u=s[_],o.x=_round$2((y*y*(s[_+6]-u)+3*b*(y*(s[_+4]-u)+b*(s[_+2]-u)))*y+u),o.y=_round$2((y*y*(s[_+7]-(u=s[_+1]))+3*b*(y*(s[_+5]-u)+b*(s[_+3]-u)))*y+u),t&&(o.angle=s.totalLength?getRotationAtBezierT(s,_,y>=1?1-1e-9:y||1e-9):s.angle||0),o}function transformRawPath(i,e,t,n,s,o,a){for(var l=i.length,c,h,f,_,y;--l>-1;)for(c=i[l],h=c.length,f=0;f<h;f+=2)_=c[f],y=c[f+1],c[f]=_*e+y*n+o,c[f+1]=_*t+y*s+a;return i._dirty=1,i}function arcToSegment(i,e,t,n,s,o,a,l,c){if(!(i===l&&e===c)){t=_abs(t),n=_abs(n);var h=s%360*_DEG2RAD$1,f=_cos$2(h),_=_sin$2(h),y=Math.PI,u=y*2,b=(i-l)/2,$=(e-c)/2,k=f*b+_*$,A=-_*b+f*$,C=k*k,I=A*A,S=C/(t*t)+I/(n*n);S>1&&(t=_sqrt$1(S)*t,n=_sqrt$1(S)*n);var O=t*t,L=n*n,B=(O*L-O*I-L*C)/(O*I+L*C);B<0&&(B=0);var N=(o===a?-1:1)*_sqrt$1(B),j=N*(t*A/n),Ie=N*-(n*k/t),ae=(i+l)/2,Be=(e+c)/2,re=ae+(f*j-_*Ie),sn=Be+(_*j+f*Ie),rt=(k-j)/t,Le=(A-Ie)/n,Je=(-k-j)/t,on=(-A-Ie)/n,Gn=rt*rt+Le*Le,Pn=(Le<0?-1:1)*Math.acos(rt/_sqrt$1(Gn)),Se=(rt*on-Le*Je<0?-1:1)*Math.acos((rt*Je+Le*on)/_sqrt$1(Gn*(Je*Je+on*on)));isNaN(Se)&&(Se=y),!a&&Se>0?Se-=u:a&&Se<0&&(Se+=u),Pn%=u,Se%=u;var Gt=Math.ceil(_abs(Se)/(u/4)),pt=[],jt=Se/Gt,jn=4/3*_sin$2(jt/2)/(1+_cos$2(jt/2)),En=f*t,Yn=_*t,qn=_*-n,Tn=f*n,wi;for(wi=0;wi<Gt;wi++)s=Pn+wi*jt,k=_cos$2(s),A=_sin$2(s),rt=_cos$2(s+=jt),Le=_sin$2(s),pt.push(k-jn*A,A+jn*k,rt+jn*Le,Le-jn*rt,rt,Le);for(wi=0;wi<pt.length;wi+=2)k=pt[wi],A=pt[wi+1],pt[wi]=k*En+A*qn+re,pt[wi+1]=k*Yn+A*Tn+sn;return pt[wi-2]=l,pt[wi-1]=c,pt}}function stringToRawPath(i){var e=(i+"").replace(_scientific,function(j){var Ie=+j;return Ie<1e-4&&Ie>-1e-4?0:Ie}).match(_svgPathExp)||[],t=[],n=0,s=0,o=2/3,a=e.length,l=0,c="ERROR: malformed path: "+i,h,f,_,y,u,b,$,k,A,C,I,S,O,L,B,N=function(j,Ie,ae,Be){C=(ae-j)/3,I=(Be-Ie)/3,$.push(j+C,Ie+I,ae-C,Be-I,ae,Be)};if(!i||!isNaN(e[0])||isNaN(e[1]))return console.log(c),t;for(h=0;h<a;h++)if(O=u,isNaN(e[h])?(u=e[h].toUpperCase(),b=u!==e[h]):h--,_=+e[h+1],y=+e[h+2],b&&(_+=n,y+=s),h||(k=_,A=y),u==="M")$&&($.length<8?t.length-=1:l+=$.length),n=k=_,s=A=y,$=[_,y],t.push($),h+=2,u="L";else if(u==="C")$||($=[0,0]),b||(n=s=0),$.push(_,y,n+e[h+3]*1,s+e[h+4]*1,n+=e[h+5]*1,s+=e[h+6]*1),h+=6;else if(u==="S")C=n,I=s,(O==="C"||O==="S")&&(C+=n-$[$.length-4],I+=s-$[$.length-3]),b||(n=s=0),$.push(C,I,_,y,n+=e[h+3]*1,s+=e[h+4]*1),h+=4;else if(u==="Q")C=n+(_-n)*o,I=s+(y-s)*o,b||(n=s=0),n+=e[h+3]*1,s+=e[h+4]*1,$.push(C,I,n+(_-n)*o,s+(y-s)*o,n,s),h+=4;else if(u==="T")C=n-$[$.length-4],I=s-$[$.length-3],$.push(n+C,s+I,_+(n+C*1.5-_)*o,y+(s+I*1.5-y)*o,n=_,s=y),h+=2;else if(u==="H")N(n,s,n=_,s),h+=1;else if(u==="V")N(n,s,n,s=_+(b?s-n:0)),h+=1;else if(u==="L"||u==="Z")u==="Z"&&(_=k,y=A,$.closed=!0),(u==="L"||_abs(n-_)>.5||_abs(s-y)>.5)&&(N(n,s,_,y),u==="L"&&(h+=2)),n=_,s=y;else if(u==="A"){if(L=e[h+4],B=e[h+5],C=e[h+6],I=e[h+7],f=7,L.length>1&&(L.length<3?(I=C,C=B,f--):(I=B,C=L.substr(2),f-=2),B=L.charAt(1),L=L.charAt(0)),S=arcToSegment(n,s,+e[h+1],+e[h+2],+e[h+3],+L,+B,(b?n:0)+C*1,(b?s:0)+I*1),h+=f,S)for(f=0;f<S.length;f++)$.push(S[f]);n=$[$.length-2],s=$[$.length-1]}else console.log(c);return h=$.length,h<6?(t.pop(),h=0):$[0]===$[h-2]&&$[1]===$[h-1]&&($.closed=!0),t.totalPoints=l+h,t}function flatPointsToSegment(i,e){e===void 0&&(e=1);for(var t=i[0],n=0,s=[t,n],o=2;o<i.length;o+=2)s.push(t,n,i[o],n=(i[o]-t)*e/2,t=i[o],-n);return s}function pointsToSegment(i,e){_abs(i[0]-i[2])<1e-4&&_abs(i[1]-i[3])<1e-4&&(i=i.slice(2));var t=i.length-2,n=+i[0],s=+i[1],o=+i[2],a=+i[3],l=[n,s,n,s],c=o-n,h=a-s,f=Math.abs(i[t]-n)<.001&&Math.abs(i[t+1]-s)<.001,_,y,u,b,$,k,A,C,I,S,O,L,B,N,j;for(f&&(i.push(o,a),o=n,a=s,n=i[t-2],s=i[t-1],i.unshift(n,s),t+=4),e=e||e===0?+e:1,u=2;u<t;u+=2)_=n,y=s,n=o,s=a,o=+i[u+2],a=+i[u+3],!(n===o&&s===a)&&(b=c,$=h,c=o-n,h=a-s,k=_sqrt$1(b*b+$*$),A=_sqrt$1(c*c+h*h),C=_sqrt$1(Math.pow(c/A+b/k,2)+Math.pow(h/A+$/k,2)),I=(k+A)*e*.25/C,S=n-(n-_)*(k?I/k:0),O=n+(o-n)*(A?I/A:0),L=n-(S+((O-S)*(k*3/(k+A)+.5)/4||0)),B=s-(s-y)*(k?I/k:0),N=s+(a-s)*(A?I/A:0),j=s-(B+((N-B)*(k*3/(k+A)+.5)/4||0)),(n!==_||s!==y)&&l.push(_round$2(S+L),_round$2(B+j),_round$2(n),_round$2(s),_round$2(O+L),_round$2(N+j)));return n!==o||s!==a||l.length<4?l.push(_round$2(o),_round$2(a),_round$2(o),_round$2(a)):l.length-=2,l.length===2?l.push(n,s,n,s,n,s):f&&(l.splice(0,6),l.length=l.length-6),l}function rawPathToString(i){_isNumber$2(i[0])&&(i=[i]);var e="",t=i.length,n,s,o,a;for(s=0;s<t;s++){for(a=i[s],e+="M"+_round$2(a[0])+","+_round$2(a[1])+" C",n=a.length,o=2;o<n;o++)e+=_round$2(a[o++])+","+_round$2(a[o++])+" "+_round$2(a[o++])+","+_round$2(a[o++])+" "+_round$2(a[o++])+","+_round$2(a[o])+" ";a.closed&&(e+="z")}return e}/*!
 * CustomEase 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var gsap$2,_coreInitted$1$1,_getGSAP$2=function i(){return gsap$2||typeof window<"u"&&(gsap$2=window.gsap)&&gsap$2.registerPlugin&&gsap$2},_initCore$1$1=function i(){gsap$2=_getGSAP$2(),gsap$2?(gsap$2.registerEase("_CE",CustomEase.create),_coreInitted$1$1=1):console.warn("Please gsap.registerPlugin(CustomEase)")},_bigNum$4=1e20,_round$1$1=function i(e){return~~(e*1e3+(e<0?-.5:.5))/1e3},_numExp$2=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/gi,_needsParsingExp=/[cLlsSaAhHvVtTqQ]/g,_findMinimum=function i(e){var t=e.length,n=_bigNum$4,s;for(s=1;s<t;s+=6)+e[s]<n&&(n=+e[s]);return n},_normalize=function i(e,t,n){!n&&n!==0&&(n=Math.max(+e[e.length-1],+e[1]));var s=+e[0]*-1,o=-n,a=e.length,l=1/(+e[a-2]+s),c=-t||(Math.abs(+e[a-1]-+e[1])<.01*(+e[a-2]-+e[0])?_findMinimum(e)+o:+e[a-1]+o),h;for(c?c=1/c:c=-l,h=0;h<a;h+=2)e[h]=(+e[h]+s)*l,e[h+1]=(+e[h+1]+o)*c},_bezierToPoints=function i(e,t,n,s,o,a,l,c,h,f,_){var y=(e+n)/2,u=(t+s)/2,b=(n+o)/2,$=(s+a)/2,k=(o+l)/2,A=(a+c)/2,C=(y+b)/2,I=(u+$)/2,S=(b+k)/2,O=($+A)/2,L=(C+S)/2,B=(I+O)/2,N=l-e,j=c-t,Ie=Math.abs((n-l)*j-(s-c)*N),ae=Math.abs((o-l)*j-(a-c)*N),Be;return f||(f=[{x:e,y:t},{x:l,y:c}],_=1),f.splice(_||f.length-1,0,{x:L,y:B}),(Ie+ae)*(Ie+ae)>h*(N*N+j*j)&&(Be=f.length,i(e,t,y,u,C,I,L,B,h,f,_),i(L,B,S,O,k,A,l,c,h,f,_+1+(f.length-Be))),f},CustomEase=function(){function i(t,n,s){_coreInitted$1$1||_initCore$1$1(),this.id=t,this.setData(n,s)}var e=i.prototype;return e.setData=function(t,n){n=n||{},t=t||"0,0,1,1";var s=t.match(_numExp$2),o=1,a=[],l=[],c=n.precision||1,h=c<=1,f,_,y,u,b,$,k,A,C;if(this.data=t,(_needsParsingExp.test(t)||~t.indexOf("M")&&t.indexOf("C")<0)&&(s=stringToRawPath(t)[0]),f=s.length,f===4)s.unshift(0,0),s.push(1,1),f=8;else if((f-2)%6)throw"Invalid CustomEase";for((+s[0]!=0||+s[f-2]!=1)&&_normalize(s,n.height,n.originY),this.segment=s,u=2;u<f;u+=6)_={x:+s[u-2],y:+s[u-1]},y={x:+s[u+4],y:+s[u+5]},a.push(_,y),_bezierToPoints(_.x,_.y,+s[u],+s[u+1],+s[u+2],+s[u+3],y.x,y.y,1/(c*2e5),a,a.length-1);for(f=a.length,u=0;u<f;u++)k=a[u],A=a[u-1]||k,(k.x>A.x||A.y!==k.y&&A.x===k.x||k===A)&&k.x<=1?(A.cx=k.x-A.x,A.cy=k.y-A.y,A.n=k,A.nx=k.x,h&&u>1&&Math.abs(A.cy/A.cx-a[u-2].cy/a[u-2].cx)>2&&(h=0),A.cx<o&&(A.cx?o=A.cx:(A.cx=.001,u===f-1&&(A.x-=.001,o=Math.min(o,.001),h=0)))):(a.splice(u--,1),f--);if(f=1/o+1|0,b=1/f,$=0,k=a[0],h){for(u=0;u<f;u++)C=u*b,k.nx<C&&(k=a[++$]),_=k.y+(C-k.x)/k.cx*k.cy,l[u]={x:C,cx:b,y:_,cy:0,nx:9},u&&(l[u-1].cy=_-l[u-1].y);$=a[a.length-1],l[f-1].cy=$.y-_,l[f-1].cx=$.x-l[l.length-1].x}else{for(u=0;u<f;u++)k.nx<u*b&&(k=a[++$]),l[u]=k;$<a.length-1&&(l[u-1]=a[a.length-2])}return this.ease=function(I){var S=l[I*f|0]||l[f-1];return S.nx<I&&(S=S.n),S.y+(I-S.x)/S.cx*S.cy},this.ease.custom=this,this.id&&gsap$2&&gsap$2.registerEase(this.id,this.ease),this},e.getSVGData=function(t){return i.getSVGData(this,t)},i.create=function(t,n,s){return new i(t,n,s).ease},i.register=function(t){gsap$2=t,_initCore$1$1()},i.get=function(t){return gsap$2.parseEase(t)},i.getSVGData=function(t,n){n=n||{};var s=n.width||100,o=n.height||100,a=n.x||0,l=(n.y||0)+o,c=gsap$2.utils.toArray(n.path)[0],h,f,_,y,u,b,$,k,A,C;if(n.invert&&(o=-o,l=0),typeof t=="string"&&(t=gsap$2.parseEase(t)),t.custom&&(t=t.custom),t instanceof i)h=rawPathToString(transformRawPath([t.segment],s,0,0,-o,a,l));else{for(h=[a,l],$=Math.max(5,(n.precision||1)*200),y=1/$,$+=2,k=5/$,A=_round$1$1(a+y*s),C=_round$1$1(l+t(y)*-o),f=(C-l)/(A-a),_=2;_<$;_++)u=_round$1$1(a+_*y*s),b=_round$1$1(l+t(_*y)*-o),(Math.abs((b-C)/(u-A)-f)>k||_===$-1)&&(h.push(A,C),f=(b-C)/(u-A)),A=u,C=b;h="M"+h.join(",")}return c&&c.setAttribute("d",h),h},i}();CustomEase.version="3.13.0";CustomEase.headless=!0;_getGSAP$2()&&gsap$2.registerPlugin(CustomEase);/*!
 * MotionPathPlugin 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _xProps="x,translateX,left,marginLeft,xPercent".split(","),_yProps="y,translateY,top,marginTop,yPercent".split(","),_DEG2RAD$3=Math.PI/180,gsap$1$1,PropTween$2,_getUnit,_toArray$1,_getStyleSaver$1$1,_reverting$1$1,_getGSAP$1=function i(){return gsap$1$1||typeof window<"u"&&(gsap$1$1=window.gsap)&&gsap$1$1.registerPlugin&&gsap$1$1},_populateSegmentFromArray=function i(e,t,n,s){for(var o=t.length,a=s===2?0:s,l=0;l<o;l++)e[a]=parseFloat(t[l][n]),s===2&&(e[a+1]=0),a+=2;return e},_getPropNum=function i(e,t,n){return parseFloat(e._gsap.get(e,t,n||"px"))||0},_relativize=function i(e){var t=e[0],n=e[1],s;for(s=2;s<e.length;s+=2)t=e[s]+=t,n=e[s+1]+=n},_segmentToRawPath=function i(e,t,n,s,o,a,l,c,h){if(l.type==="cubic")t=[t];else{l.fromCurrent!==!1&&t.unshift(_getPropNum(n,s,c),o?_getPropNum(n,o,h):0),l.relative&&_relativize(t);var f=o?pointsToSegment:flatPointsToSegment;t=[f(t,l.curviness)]}return t=a(_align(t,n,l)),_addDimensionalPropTween(e,n,s,t,"x",c),o&&_addDimensionalPropTween(e,n,o,t,"y",h),cacheRawPathMeasurements(t,l.resolution||(l.curviness===0?20:12))},_emptyFunc$3=function i(e){return e},_numExp$1=/[-+\.]*\d+\.?(?:e-|e\+)?\d*/g,_originToPoint=function i(e,t,n){var s=getGlobalMatrix$1(e),o=0,a=0,l;return(e.tagName+"").toLowerCase()==="svg"?(l=e.viewBox.baseVal,l.width||(l={width:+e.getAttribute("width"),height:+e.getAttribute("height")})):l=t&&e.getBBox&&e.getBBox(),t&&t!=="auto"&&(o=t.push?t[0]*(l?l.width:e.offsetWidth||0):t.x,a=t.push?t[1]*(l?l.height:e.offsetHeight||0):t.y),n.apply(o||a?s.apply({x:o,y:a}):{x:s.e,y:s.f})},_getAlignMatrix=function i(e,t,n,s){var o=getGlobalMatrix$1(e.parentNode,!0,!0),a=o.clone().multiply(getGlobalMatrix$1(t)),l=_originToPoint(e,n,o),c=_originToPoint(t,s,o),h=c.x,f=c.y,_;return a.e=a.f=0,s==="auto"&&t.getTotalLength&&t.tagName.toLowerCase()==="path"&&(_=t.getAttribute("d").match(_numExp$1)||[],_=a.apply({x:+_[0],y:+_[1]}),h+=_.x,f+=_.y),_&&(_=a.apply(t.getBBox()),h-=_.x,f-=_.y),a.e=h-l.x,a.f=f-l.y,a},_align=function i(e,t,n){var s=n.align,o=n.matrix,a=n.offsetX,l=n.offsetY,c=n.alignOrigin,h=e[0][0],f=e[0][1],_=_getPropNum(t,"x"),y=_getPropNum(t,"y"),u,b,$;return!e||!e.length?getRawPath("M0,0L0,0"):(s&&(s==="self"||(u=_toArray$1(s)[0]||t)===t?transformRawPath(e,1,0,0,1,_-h,y-f):(c&&c[2]!==!1?gsap$1$1.set(t,{transformOrigin:c[0]*100+"% "+c[1]*100+"%"}):c=[_getPropNum(t,"xPercent")/-100,_getPropNum(t,"yPercent")/-100],b=_getAlignMatrix(t,u,c,"auto"),$=b.apply({x:h,y:f}),transformRawPath(e,b.a,b.b,b.c,b.d,_+b.e-($.x-b.e),y+b.f-($.y-b.f)))),o?transformRawPath(e,o.a,o.b,o.c,o.d,o.e,o.f):(a||l)&&transformRawPath(e,1,0,0,1,a||0,l||0),e)},_addDimensionalPropTween=function i(e,t,n,s,o,a){var l=t._gsap,c=l.harness,h=c&&c.aliases&&c.aliases[n],f=h&&h.indexOf(",")<0?h:n,_=e._pt=new PropTween$2(e._pt,t,f,0,0,_emptyFunc$3,0,l.set(t,f,e));_.u=_getUnit(l.get(t,f,a))||0,_.path=s,_.pp=o,e._props.push(f)},_sliceModifier=function i(e,t){return function(n){return e||t!==1?sliceRawPath(n,e,t):n}},MotionPathPlugin={version:"3.13.0",name:"motionPath",register:function i(e,t,n){gsap$1$1=e,_getUnit=gsap$1$1.utils.getUnit,_toArray$1=gsap$1$1.utils.toArray,_getStyleSaver$1$1=gsap$1$1.core.getStyleSaver,_reverting$1$1=gsap$1$1.core.reverting||function(){},PropTween$2=n},init:function i(e,t,n){if(!gsap$1$1)return console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),!1;(!(typeof t=="object"&&!t.style)||!t.path)&&(t={path:t});var s=[],o=t,a=o.path,l=o.autoRotate,c=o.unitX,h=o.unitY,f=o.x,_=o.y,y=a[0],u=_sliceModifier(t.start,"end"in t?t.end:1),b,$;if(this.rawPaths=s,this.target=e,this.tween=n,this.styles=_getStyleSaver$1$1&&_getStyleSaver$1$1(e,"transform"),(this.rotate=l||l===0)&&(this.rOffset=parseFloat(l)||0,this.radians=!!t.useRadians,this.rProp=t.rotation||"rotation",this.rSet=e._gsap.set(e,this.rProp,this),this.ru=_getUnit(e._gsap.get(e,this.rProp))||0),Array.isArray(a)&&!("closed"in a)&&typeof y!="number"){for($ in y)!f&&~_xProps.indexOf($)?f=$:!_&&~_yProps.indexOf($)&&(_=$);f&&_?s.push(_segmentToRawPath(this,_populateSegmentFromArray(_populateSegmentFromArray([],a,f,0),a,_,1),e,f,_,u,t,c||_getUnit(a[0][f]),h||_getUnit(a[0][_]))):f=_=0;for($ in y)$!==f&&$!==_&&s.push(_segmentToRawPath(this,_populateSegmentFromArray([],a,$,2),e,$,0,u,t,_getUnit(a[0][$])))}else b=u(_align(getRawPath(t.path),e,t)),cacheRawPathMeasurements(b,t.resolution),s.push(b),_addDimensionalPropTween(this,e,t.x||"x",b,"x",t.unitX||"px"),_addDimensionalPropTween(this,e,t.y||"y",b,"y",t.unitY||"px");n.vars.immediateRender&&this.render(n.progress(),this)},render:function i(e,t){var n=t.rawPaths,s=n.length,o=t._pt;if(t.tween._time||!_reverting$1$1()){for(e>1?e=1:e<0&&(e=0);s--;)getPositionOnPath(n[s],e,!s&&t.rotate,n[s]);for(;o;)o.set(o.t,o.p,o.path[o.pp]+o.u,o.d,e),o=o._next;t.rotate&&t.rSet(t.target,t.rProp,n[0].angle*(t.radians?_DEG2RAD$3:1)+t.rOffset+t.ru,t,e)}else t.styles.revert()},getLength:function i(e){return cacheRawPathMeasurements(getRawPath(e)).totalLength},sliceRawPath,getRawPath,pointsToSegment,stringToRawPath,rawPathToString,transformRawPath,getGlobalMatrix:getGlobalMatrix$1,getPositionOnPath,cacheRawPathMeasurements,convertToPath:function i(e,t){return _toArray$1(e).map(function(n){return convertToPath(n,t!==!1)})},convertCoordinates:function i(e,t,n){var s=getGlobalMatrix$1(t,!0,!0).multiply(getGlobalMatrix$1(e));return n?s.apply(n):s},getAlignMatrix:_getAlignMatrix,getRelativePosition:function i(e,t,n,s){var o=_getAlignMatrix(e,t,n,s);return{x:o.e,y:o.f}},arrayToRawPath:function i(e,t){t=t||{};var n=_populateSegmentFromArray(_populateSegmentFromArray([],e,t.x||"x",0),e,t.y||"y",1);return t.relative&&_relativize(n),[t.type==="cubic"?n:pointsToSegment(n,t.curviness)]}};_getGSAP$1()&&gsap$1$1.registerPlugin(MotionPathPlugin);/*!
 * DrawSVGPlugin 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var gsap$5,_toArray$3,_win$5,_isEdge,_coreInitted$4,_warned,_getStyleSaver$4,_reverting$4,_windowExists$4=function i(){return typeof window<"u"},_getGSAP$4=function i(){return gsap$5||_windowExists$4()&&(gsap$5=window.gsap)&&gsap$5.registerPlugin&&gsap$5},_numExp$4=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,_types={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]},_round$5=function i(e){return Math.round(e*1e4)/1e4},_parseNum=function i(e){return parseFloat(e)||0},_parseSingleVal=function i(e,t){var n=_parseNum(e);return~e.indexOf("%")?n/100*t:n},_getAttributeAsNumber=function i(e,t){return _parseNum(e.getAttribute(t))},_sqrt$3=Math.sqrt,_getDistance=function i(e,t,n,s,o,a){return _sqrt$3(Math.pow((_parseNum(n)-_parseNum(e))*o,2)+Math.pow((_parseNum(s)-_parseNum(t))*a,2))},_warn$2=function i(e){return console.warn(e)},_hasNonScalingStroke=function i(e){return e.getAttribute("vector-effect")==="non-scaling-stroke"},_bonusValidated=1,_parse=function i(e,t,n){var s=e.indexOf(" "),o,a;return s<0?(o=n!==void 0?n+"":e,a=e):(o=e.substr(0,s),a=e.substr(s+1)),o=_parseSingleVal(o,t),a=_parseSingleVal(a,t),o>a?[a,o]:[o,a]},_getLength=function i(e){if(e=_toArray$3(e)[0],!e)return 0;var t=e.tagName.toLowerCase(),n=e.style,s=1,o=1,a,l,c,h,f,_,y;_hasNonScalingStroke(e)&&(o=e.getScreenCTM(),s=_sqrt$3(o.a*o.a+o.b*o.b),o=_sqrt$3(o.d*o.d+o.c*o.c));try{l=e.getBBox()}catch{_warn$2("Some browsers won't measure invisible elements (like display:none or masks inside defs).")}var u=l||{x:0,y:0,width:0,height:0},b=u.x,$=u.y,k=u.width,A=u.height;if((!l||!k&&!A)&&_types[t]&&(k=_getAttributeAsNumber(e,_types[t][0]),A=_getAttributeAsNumber(e,_types[t][1]),t!=="rect"&&t!=="line"&&(k*=2,A*=2),t==="line"&&(b=_getAttributeAsNumber(e,"x1"),$=_getAttributeAsNumber(e,"y1"),k=Math.abs(k-b),A=Math.abs(A-$))),t==="path")h=n.strokeDasharray,n.strokeDasharray="none",a=e.getTotalLength()||0,_round$5(s)!==_round$5(o)&&!_warned&&(_warned=1)&&_warn$2("Warning: <path> length cannot be measured when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."),a*=(s+o)/2,n.strokeDasharray=h;else if(t==="rect")a=k*2*s+A*2*o;else if(t==="line")a=_getDistance(b,$,b+k,$+A,s,o);else if(t==="polyline"||t==="polygon")for(c=e.getAttribute("points").match(_numExp$4)||[],t==="polygon"&&c.push(c[0],c[1]),a=0,f=2;f<c.length;f+=2)a+=_getDistance(c[f-2],c[f-1],c[f],c[f+1],s,o)||0;else(t==="circle"||t==="ellipse")&&(_=k/2*s,y=A/2*o,a=Math.PI*(3*(_+y)-_sqrt$3((3*_+y)*(_+3*y))));return a||0},_getPosition=function i(e,t){if(e=_toArray$3(e)[0],!e)return[0,0];t||(t=_getLength(e)+1);var n=_win$5.getComputedStyle(e),s=n.strokeDasharray||"",o=_parseNum(n.strokeDashoffset),a=s.indexOf(",");return a<0&&(a=s.indexOf(" ")),s=a<0?t:_parseNum(s.substr(0,a)),s>t&&(s=t),[-o||0,s-o||0]},_initCore$4=function i(){_windowExists$4()&&(_win$5=window,_coreInitted$4=gsap$5=_getGSAP$4(),_toArray$3=gsap$5.utils.toArray,_getStyleSaver$4=gsap$5.core.getStyleSaver,_reverting$4=gsap$5.core.reverting||function(){},_isEdge=((_win$5.navigator||{}).userAgent||"").indexOf("Edge")!==-1)},DrawSVGPlugin={version:"3.13.0",name:"drawSVG",register:function i(e){gsap$5=e,_initCore$4()},init:function i(e,t,n,s,o){if(!e.getBBox)return!1;_coreInitted$4||_initCore$4();var a=_getLength(e),l,c,h;return this.styles=_getStyleSaver$4&&_getStyleSaver$4(e,"strokeDashoffset,strokeDasharray,strokeMiterlimit"),this.tween=n,this._style=e.style,this._target=e,t+""=="true"?t="0 100%":t?(t+"").indexOf(" ")===-1&&(t="0 "+t):t="0 0",l=_getPosition(e,a),c=_parse(t,a,l[0]),this._length=_round$5(a),this._dash=_round$5(l[1]-l[0]),this._offset=_round$5(-l[0]),this._dashPT=this.add(this,"_dash",this._dash,_round$5(c[1]-c[0]),0,0,0,0,0,1),this._offsetPT=this.add(this,"_offset",this._offset,_round$5(-c[0]),0,0,0,0,0,1),_isEdge&&(h=_win$5.getComputedStyle(e),h.strokeLinecap!==h.strokeLinejoin&&(c=_parseNum(h.strokeMiterlimit),this.add(e.style,"strokeMiterlimit",c,c+.01))),this._live=_hasNonScalingStroke(e)||~(t+"").indexOf("live"),this._nowrap=~(t+"").indexOf("nowrap"),this._props.push("drawSVG"),_bonusValidated},render:function i(e,t){if(t.tween._time||!_reverting$4()){var n=t._pt,s=t._style,o,a,l,c;if(n){for(t._live&&(o=_getLength(t._target),o!==t._length&&(a=o/t._length,t._length=o,t._offsetPT&&(t._offsetPT.s*=a,t._offsetPT.c*=a),t._dashPT?(t._dashPT.s*=a,t._dashPT.c*=a):t._dash*=a));n;)n.r(e,n.d),n=n._next;l=t._dash||e&&e!==1&&1e-4||0,o=t._length-l+.1,c=t._offset,l&&c&&l+Math.abs(c%t._length)>t._length-.05&&(c+=c<0?.005:-.005)&&(o+=.005),s.strokeDashoffset=l?c:c+.001,s.strokeDasharray=o<.1?"none":l?l+"px,"+(t._nowrap?999999:o)+"px":"0px, 999999px"}}else t.styles.revert()},getLength:_getLength,getPosition:_getPosition};_getGSAP$4()&&gsap$5.registerPlugin(DrawSVGPlugin);var gsapWithCSS$2=gsap$4.registerPlugin(CSSPlugin$1)||gsap$4;gsapWithCSS$2.core.Tween;const knobDefaults={minValue:.5,maxValue:100,defaultValue:1,snapIncrement:1,curve:3.5,snapThresholds:[{maxValue:1,increment:.1}],className:"envelope-time-scale-knob",title:"Time scale"},LabeledTimeScaleKnob=i=>{const{onChange:e,envelopeType:t,label:n="Time Scale",...s}=i,o={minValue:.5,maxValue:120,defaultValue:1,snapIncrement:1,curve:4,snapThresholds:[{maxValue:.5,increment:.5},{maxValue:1,increment:.1},{maxValue:10,increment:.5},{maxValue:100,increment:1}],className:"envelope-time-scale-knob",title:`Time scale (${i.minValue||.1}x - ${i.maxValue||180}x)`,valueFormatter:a=>`${a.toFixed(1)}x`};return createLabeledKnob({...knobDefaults,...o,...s,label:n,onChange:a=>e({envelopeType:t,timeScale:a})})},secondsToScreenX=(i,e,t)=>i/e*t,screenXToSeconds=(i,e,t)=>i/e*t,screenYToNormalizedValue=(i,e)=>Math.max(0,Math.min(1,1-i/e)),screenYToAbsoluteValue=(i,e,t)=>{const n=screenYToNormalizedValue(i,e),[s,o]=t;return s+n*(o-s)},absoluteValueToNormalized=(i,e)=>{const[t,n]=e;return(i-t)/(n-t)},applySnapping=(i,e,t)=>{if(!e)return i;const n=e.find(s=>Math.abs(s-i)<t);return n!==void 0?n:i},applySnappingAbsolute=(i,e,t,n)=>{if(!e)return i;const s=absoluteValueToNormalized(i,n),o=applySnapping(s,e,t),[a,l]=n;return a+o*(l-a)},{button:button$1}=van.tags,EnvToggleButtons=(i,e,t)=>{const n=button$1({style:()=>`
      position: absolute; 
      top: 4px; 
      right: 4px; 
      width: 16px; 
      height: 16px; 
      border: none; 
      border-radius: 50%; 
      cursor: pointer; 
      z-index: 10;
      background: ${i.val?"#4ade80":"#666"};
    `,title:()=>i.val?"Disable envelope":"Enable envelope",onclick:()=>i.val=!i.val}),s=button$1({style:()=>`
      position: absolute; 
      top: 4px; 
      right: 24px; 
      width: 16px; 
      height: 16px; 
      border: none; 
      border-radius: 50%; 
      cursor: pointer; 
      z-index: 10;
      background: ${e.val&&i.val?"#ff6b6b":"#666"};
    `,title:()=>e.val?"Disable looping":"Enable looping",onclick:()=>e.val=!e.val}),o=button$1({style:()=>`
      position: absolute; 
      top: 4px; 
      right: 44px;  
      width: 16px; 
      height: 16px; 
      border: none; 
      border-radius: 50%; 
      cursor: pointer; 
      z-index: 10;
      background: ${t.val&&i.val?"#336bcc":"#666"};
    `,title:()=>t.val?"Disable sync":"Enable sync",onclick:()=>t.val=!t.val});return{enabledToggle:n,loopToggle:s,syncToggle:o}},{g,line}=van.tags("http://www.w3.org/2000/svg"),createEnvelopeGrid=(i,e)=>{const t=Array.from({length:6},(s,o)=>{const a=o/5*i;return line({x1:a,y1:0,x2:a,y2:e,stroke:"#333","stroke-width":1})}),n=Array.from({length:6},(s,o)=>{const a=o/5*e;return line({x1:0,y1:a,x2:i,y2:a,stroke:"#333","stroke-width":1})});return g({class:"envelope-grid"},...t,...n)},getWaveformSVGData=(i,e,t)=>{if(!i.length)return"";const n=i.getChannelData(0),s=Math.ceil(n.length/e);let o="";for(let a=0;a<e;a++){const l=a*s,c=(1-((n[l]||0)+1)/2)*t;o+=(a===0?"M":"L")+`${a},${c} `}return o};function generateMidiNoteColors(i="none",e=[20,80],t=!0){const n={};for(let s=0;s<=127;s++){const o=s%12*30,a=t?85:70,l=e[0]+s%12/11*(e[1]-e[0]),c=(1-Math.abs(2*l/100-1))*a/100,h=c*(1-Math.abs(o/60%2-1)),f=l/100-c/2;let _=0,y=0,u=0;o<60?(_=c,y=h):o<120?(_=h,y=c):o<180?(y=c,u=h):o<240?(y=h,u=c):o<300?(_=h,u=c):(_=c,u=h),i==="r"?_=0:i==="g"?y=0:i==="b"&&(u=0);const b=$=>Math.round(Math.max(0,Math.min(255,($+f)*255))).toString(16).padStart(2,"0");if(t){let[$,k,A]=[_+f,y+f,u+f];const C=Math.max(e[0]/100*.8,.3);if(Math.max($,k,A)<C){const I=C/Math.max($,k,A);$*=I,k*=I,A*=I}n[s]=`#${Math.round($*255).toString(16).padStart(2,"0")}${Math.round(k*255).toString(16).padStart(2,"0")}${Math.round(A*255).toString(16).padStart(2,"0")}`}else n[s]=`#${b(_)}${b(y)}${b(u)}`}return n}gsapWithCSS$2.registerPlugin(MotionPathPlugin,CustomEase);const createPlayheads=(i,e,t,n,s,o=400,a=200)=>{const l=new Map,c=new Map,h=new Map,f=new Map,_=generateMidiNoteColors("none",[40,90],!0),y=a/2,u=(k,A)=>{const C=document.createElementNS("http://www.w3.org/2000/svg","circle");return C.setAttribute("fill",_[A]),C.setAttribute("pointer-events","none"),C.setAttribute("stroke","#fff"),C.setAttribute("stroke-width","1"),C.style.pointerEvents="none",C},b=k=>gsapWithCSS$2.fromTo(k,{r:0,strokeWidth:0,opacity:0},{r:5,strokeWidth:1,opacity:1,duration:.2});n.onMessage(`${s}:trigger`,k=>{if(!k.voiceId)return;const{voiceId:A,midiNote:C=60,duration:I,sustainEnabled:S,loopEnabled:O,sustainPoint:L,releasePoint:B}=k;if(O&&l.has(A))return;l.has(A)&&$(A);const N=u(A,C);i.appendChild(N),f.set(A,N),gsapWithCSS$2.set(N,{x:0,y});const j=gsapWithCSS$2.timeline();I>.3&&j.add(b(N),0);const Ie=Math.max(.3,I);if(O)j.to(N,{x:o,duration:I,ease:"none",onComplete:()=>{}},0),c.set(A,j),j.play();else if(S){const ae=L.time/t.fullDuration*o;j.to(N,{x:ae,duration:Ie,ease:"none",onComplete:()=>{j.pause()}},0)}else j.to(N,{x:o,duration:Ie,ease:"none"},0);l.set(A,j)}),n.onMessage(`${s}:trigger:loop`,k=>{if(!k.voiceId||!c.has(k.voiceId))return;const A=c.get(k.voiceId);A&&A.restart()}),n.onMessage(`${s}:release`,k=>{const{voiceId:A,remainingDuration:C,releasePoint:I}=k;if(!A||!C||!I)return;if(c.has(A)){const L=c.get(A);L==null||L.kill(),c.delete(A)}if(!l.has(A))return;const S=l.get(A),O=f.get(A);if(S&&O){const L=I.normalizedTime*o;gsapWithCSS$2.set(O,{x:L}),gsapWithCSS$2.set(O,{opacity:.7}),S.kill();const B=gsapWithCSS$2.timeline();B.to(O,{x:o,duration:C,ease:"none",onComplete:()=>$(A)}).to(O,{r:0,strokeWidth:0,opacity:.1,duration:Math.min(.2,C-.2)},C-.2),l.set(A,B)}});const $=k=>{if(c.delete(k),h.has(k)){const I=h.get(k);I==null||I.kill(),h.delete(k)}if(!l.has(k))return;const A=l.get(k),C=f.get(k);if(A&&(A.kill(),l.delete(k)),C&&C.parentNode===i){const I=gsapWithCSS$2.timeline({onComplete:()=>{C.parentNode===i&&i.removeChild(C),f.delete(k),h.delete(k),I.kill()}});h.set(k,I),I.to(C,{r:0,strokeWidth:0,duration:.2,ease:"none",opacity:.1})}};return n.onMessage("voice:stopped",k=>{$(k.voiceId)}),{cleanup:()=>{[...l.keys()].forEach($),[...c.values()].forEach(k=>k.kill()),[...h.values()].forEach(k=>k.kill()),l.clear(),c.clear(),h.clear(),f.clear()}}};gsapWithCSS$2.registerPlugin(MotionPathPlugin,DrawSVGPlugin,CustomEase);const{div:div$1}=van.tags,{svg,path}=van.tags("http://www.w3.org/2000/svg"),EnvelopeSVG=(i,e,t="100%",n="120px",s={y:[0]},o=.025,a=!0)=>{if(!i.getEnvelope(e).points.length){const on=div$1({style:`width: ${t}; height: ${n}; background: #1a1a1a; border: 1px solid #444; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: #666;`},"No envelope data");return{element:on,timeScaleKnob:on,drawWaveform:()=>{},cleanup:()=>{}}}const l=i.getEnvelope(e),c=e,h=400,f=200;let _,y,u,b=null;const $=van.state(l.isEnabled),k=van.state(l.loopEnabled),A=van.state(l.syncedToPlaybackRate),C=van.state(null),I=van.state(!1);let S={};const O=new Set,L=()=>{if(!y)return;O.forEach(clearTimeout),O.clear(),y.replaceChildren();const on=l.points;on.forEach((Gn,Pn)=>{const Se=document.createElementNS("http://www.w3.org/2000/svg","circle");Se.setAttribute("cx",secondsToScreenX(Gn.time,l.fullDuration,h).toString());const Gt=absoluteValueToNormalized(Gn.value,l.valueRange);Se.setAttribute("cy",((1-Gt)*f).toString()),Se.setAttribute("r","4");let pt=C.val===Pn?"#ff6b6b":l.isEnabled?"#4ade80":"#666";Pn===l.sustainPointIndex&&(Se.setAttribute("fill",l.isEnabled?"#ff2211":"#666"),Se.setAttribute("r","6")),Pn===l.sustainPointIndex&&(pt=l.isEnabled?"#ff2211":"#666",Se.setAttribute("r","6")),Pn===l.releasePointIndex&&(pt=l.isEnabled?"#2196f3":"#666",Se.setAttribute("r","6")),Pn===l.sustainPointIndex&&Pn===l.releasePointIndex&&(pt=l.isEnabled?"#9c27b0":"#666"),Se.setAttribute("fill",pt),Se.setAttribute("stroke","#fff"),Se.setAttribute("stroke-width","1"),Se.style.cursor="pointer",Se.style.zIndex="999";let jt;Se.addEventListener("mousedown",jn=>{if(!l.isEnabled)return;if(jn.altKey){jn.preventDefault(),Pn===l.sustainPointIndex?i.setEnvelopeSustainPoint(e,null):i.setEnvelopeSustainPoint(e,Pn),L(),ae();return}if(jn.metaKey){jn.preventDefault(),Pn===l.releasePointIndex&&l.sustainPointIndex?i.setEnvelopeReleasePoint(e,l.sustainPointIndex):i.setEnvelopeReleasePoint(e,Pn),L(),ae();return}const En=(S[Pn]||0)+1;if(S={...S,[Pn]:En},I.val=!0,C.val=Pn,clearTimeout(jt),En===1)jt=setTimeout(()=>{S={...S,[Pn]:0},O.delete(jt)},200),O.add(jt);else if(En===2){if(I.val=!1,Pn>0&&Pn<on.length-1){const Yn=l.sustainPointIndex;i.deleteEnvelopePoint(c,Pn),Pn===Yn?i.setEnvelopeSustainPoint(e,null):Yn&&Pn<Yn&&i.setEnvelopeSustainPoint(e,Yn-1),L(),ae()}S={...S,[Pn]:0}}jn.preventDefault()}),y.appendChild(Se)})};_=svg({viewBox:`0 0 ${h} ${f}`,preserveAspectRatio:"none",style:`width: ${t}; height: ${n}; background: #1a1a1a; border: 1px solid #444; border-radius: 4px;`});const B=EnvToggleButtons($,k,A);van.derive(()=>{$.val?i.enableEnvelope(c):$.val||i.disableEnvelope(c)}),van.derive(()=>i.setEnvelopeLoop(c,k.val)),van.derive(()=>i.setEnvelopeSync(c,A.val));const N=LabeledTimeScaleKnob({label:"Env Speed",onChange:({envelopeType:on,timeScale:Gn})=>i.setEnvelopeTimeScale(on,Gn),envelopeType:c,height:40,width:40}),j=div$1({style:`position: relative; width: ${t}; height: ${n};`},B.enabledToggle,B.loopToggle,B.syncToggle);j.appendChild(_);const Ie=createEnvelopeGrid(h,f),ae=()=>{u.setAttribute("d",l.data.getSVGPath(h,f,l.fullDuration))};u=path({id:"envelope-path",fill:"none",stroke:()=>$.val?"#4ade80":"#666","stroke-width":2}),ae(),y=document.createElementNS("http://www.w3.org/2000/svg","g"),y.setAttribute("class","control-points");const Be=createPlayheads(_,y,l,i,c,h,f);function re(on){b&&b.parentNode===_&&(_.removeChild(b),b=null);const Gn=getWaveformSVGData(on,h,f);b=path({id:"waveform-path",d:Gn.trim(),fill:"none",stroke:()=>$.val?"#3467bc":"#333","stroke-width":1,style:"z-index: -999; pointer-events: none; ","pointer-events":"none"}),_.insertBefore(b,y),gsapWithCSS$2.from(b,{duration:.5,drawSVG:0,ease:"none"})}const sn=on=>{if(l.isEnabled&&I.val&&C.val!==null){const Gn=l.points,Pn=C.val===0,Se=C.val===Gn.length-1,Gt=_.getBoundingClientRect();let pt=screenXToSeconds(on.clientX-Gt.left,Gt.width,l.fullDuration),jt=screenYToAbsoluteValue(on.clientY-Gt.top,Gt.height,l.valueRange);jt=applySnappingAbsolute(jt,s.y,o,l.valueRange),Pn?pt=0:Se?pt=l.fullDuration:pt=applySnapping(pt,s.x,o),i.updateEnvelopePoint(c,C.val,pt,jt),L(),ae()}},rt=()=>{l.isEnabled&&(I.val=!1,C.val=null,L())},Le=()=>{l.isEnabled&&(I.val=!1,C.val=null,L())},Je=on=>{if(!l.isEnabled||(on.stopPropagation(),I.val))return;const Gn=_.getBoundingClientRect(),Pn=screenXToSeconds(on.clientX-Gn.left,Gn.width,l.fullDuration),Se=screenYToAbsoluteValue(on.clientY-Gn.top,Gn.height,l.valueRange);i.addEnvelopePoint(c,Pn,Se),L(),ae()};return _.addEventListener("mousemove",sn),_.addEventListener("mouseup",rt),_.addEventListener("mouseleave",Le),_.addEventListener("dblclick",Je),_.appendChild(Ie),_.appendChild(u),_.appendChild(y),L(),gsapWithCSS$2.timeline().from(Ie.children,{duration:.25,drawSVG:0,ease:"none",stagger:.1},.1).from(u,{duration:.25,drawSVG:0,ease:"none"},.2).from(y,{opacity:0,duration:.25,ease:"none"},"-=0.2"),{element:j,timeScaleKnob:N,drawWaveform:re,cleanup:()=>{Be.cleanup(),O.forEach(clearTimeout),b&&b.parentNode===_&&_.removeChild(b)}}},{div:div$8,button:button$3,label}=van.tags,SamplerElement=i=>{let e=null,t=null;const n=i.attr("expanded","true"),s=van.state(.75),o=van.state({dry:1,wet:0}),a=van.state(40),l=van.state(18e3),c=van.state(0),h=van.state(0),f=van.state(0),_=van.state(0),y=van.state(0),u=van.state(.5),b=van.state(!0),$=van.state(null),k=van.state(null),A=van.state(null),C=van.state(0),I=van.state(0),S=van.state(0),O=van.state(0),L=van.state(0),B=van.state(0),N=van.state(.5),j=van.state(0),Ie=van.state(0),ae=van.state(0),Be=van.state(!0),re=van.state(!1),sn=van.state(!1);van.state(!1);const rt=van.state(!1),Le=van.state(!1),Je=createIcons(),on=van.state("amp-env"),Gn=van.state({width:"100%",height:"200px"});let Pn=null,Se=null,Gt=null;const pt=()=>{e&&(Pn&&Pn.cleanup(),Se&&Se.cleanup(),Gt&&Gt.cleanup(),$.val=e.getEnvelope("amp-env"),A.val=e.getEnvelope("filter-env"),k.val=e.getEnvelope("pitch-env"),Pn=EnvelopeSVG(e,"amp-env",Gn.val.width,Gn.val.height),Se=EnvelopeSVG(e,"filter-env",Gn.val.width,Gn.val.height),Gt=EnvelopeSVG(e,"pitch-env",Gn.val.width,Gn.val.height))},jt=ke=>{Pn==null||Pn.drawWaveform(ke),Se==null||Se.drawWaveform(ke),Gt==null||Gt.drawWaveform(ke)},jn=van.state("Record"),En=van.state("Not initialized"),Yn=ke=>van.derive(()=>e&&ke());i.mount(()=>{const ke=async()=>{try{const Cr=md();Cr.initialized||await Cr.init();const ki=parseInt(i.attr("polyphony","16").val);if(e=Cr.createSamplePlayer(void 0,ki),console.log("polyphony",ki),!e.initialized){console.warn("Failed to create sample player"),En.val="Failed to initialize";return}van.derive(()=>{e&&L.val!==e.loopStart&&(N.val===0?e.scrollLoopPoints(L.val,B.val):e.setLoopStart(L.val,N.val))}),van.derive(()=>{e&&N.val!==0&&B.val!==e.loopEnd&&e.setLoopEnd(B.val,N.val)}),Yn(()=>{e==null||e.setSampleStartPoint(j.val)}),Yn(()=>{e!=null&&e.isLoaded&&(e==null||e.setSampleEndPoint(Ie.val))}),Yn(()=>{(e==null?void 0:e.volume)!==void 0&&(e.volume=s.val)}),Yn(()=>{e!=null&&e.initialized&&e.setGlideTime(c.val)}),Yn(()=>{e&&e.setDryWetMix(o.val)}),Yn(()=>{e&&e.setHpfCutoff(a.val)}),Yn(()=>{e&&e.setLpfCutoff(l.val)}),Yn(()=>{e&&e.setReverbAmount(h.val)}),Yn(()=>{e&&e.setKarplusAmount(f.val)}),Yn(()=>{e&&e.outputBus.setDrive(_.val)}),Yn(()=>{e&&e.outputBus.setClippingMacro(y.val)}),Yn(()=>{e!=null&&e.initialized&&e.setFeedbackPitchScale(u.val)}),Yn(()=>{var Sn;if(!((Sn=e==null?void 0:e.outputBus.getNode("karplus"))!=null&&Sn.initialized))return;const Ci=b.val===!0?"monophonic":"polyphonic";e.setFeedbackMode(Ci)}),Yn(()=>{var Sn;if(!e)return;const Ci=S.val*100+.1;(Sn=e.gainLFO)==null||Sn.setFrequency(Ci)}),Yn(()=>{var Sn;e&&((Sn=e.gainLFO)==null||Sn.setDepth(O.val))}),Yn(()=>{var Sn;if(!e)return;const Ci=C.val*100+.1;(Sn=e.pitchLFO)==null||Sn.setFrequency(Ci)}),Yn(()=>{var Sn;if(!e)return;const Ci=I.val/10;(Sn=e.pitchLFO)==null||Sn.setDepth(Ci)}),Yn(()=>Be.val?e==null?void 0:e.enableKeyboard():e==null?void 0:e.disableKeyboard()),Yn(()=>re.val?e==null?void 0:e.enableMIDI():e==null?void 0:e.disableMIDI()),Yn(()=>{e==null||e.setHoldLocked(Le.val)}),Yn(()=>{e==null||e.setLoopLocked(rt.val)}),e.onMessage("sample:loaded",Sn=>Tn(Sn.durationSeconds)),e.onMessage("voice:stopped",Sn=>{}),e.onMessage("sample:pitch-detected",Sn=>{En.val=`Sample Pitch Detected -> ${Sn.pitch}`}),document.addEventListener("keydown",Sn=>{if(Sn.code==="CapsLock"){const Ci=Sn.getModifierState("CapsLock");Ci!==sn.val&&!rt.val&&(sn.val=Ci,En.val=Ci?"Loop Enabled":"Loop disabled")}}),document.addEventListener("keyup",Sn=>{if(Sn.code==="CapsLock"){const Ci=Sn.getModifierState("CapsLock");Ci!==sn.val&&!rt.val&&(sn.val=Ci,En.val=Ci?"Loop Enabled":"Loop disabled")}}),En.val="Ready"}catch(Cr){console.error("Failed to initialize sampler:",Cr),En.val=`Error: ${Cr instanceof Error?Cr.message:String(Cr)}`}},qt=document.querySelector(".keyboard-section");return qt&&qt.appendChild(Wn),ke(),()=>{e==null||e.dispose()}});const qn=async()=>{if(!e){En.val="Sampler not initialized";return}try{const ke=document.createElement("input");ke.type="file",ke.accept="audio/*",ke.onchange=async qt=>{const Cr=qt.target.files;if(Cr&&Cr.length>0){const ki=Cr[0];En.val=`Loading: ${ki.name}...`;try{if(!e)return;const Sn=await ki.arrayBuffer();if(!Sn){console.warn("Failed to retrieve uploaded arrayBuffer");return}const Ci=(await e.loadSample(Sn)).duration;await new Promise(Ds=>setTimeout(Ds,0)),Ci>0&&(ae.val=Ci,En.val=`Loaded: ${ki.name}`)}catch(Sn){console.error("Failed to load sample:",Sn),En.val=`Error loading: ${Sn instanceof Error?Sn.message:String(Sn)}`}}},ke.click()}catch(ke){console.error("Failed to load sample:",ke),En.val=`Error: ${ke instanceof Error?ke.message:String(ke)}`}};function Tn(ke){const qt=e==null?void 0:e.audiobuffer;ae.val=ke,pt(),qt instanceof AudioBuffer&&jt(qt),En.val=`All voices loaded. Sample Duration: ${ke.toFixed(3)}`}const wi=async()=>{if(!(!e||jn.val==="Recording"))try{const ke=await md().createRecorder();if(!ke){En.val="Failed to create recorder";return}if(t=ke,!t)return;t.connect(e),await t.start({useThreshold:!0,startThreshold:-30,autoStop:!0,stopThreshold:-40,silenceTimeoutMs:1e3}),jn.val="Armed",En.val="Listening...",t.onMessage("record:armed",()=>{jn.val="Armed",En.val="Listening..."}),t.onMessage("record:start",()=>{jn.val="Recording",En.val="Recording..."}),t.onMessage("record:cancelled",()=>{jn.val="Record",En.val="Recording cancelled"}),t.onMessage("record:stop",()=>{jn.val="Record",En.val="Recording completed"})}catch(ke){console.error("Failed to start recording:",ke),En.val=`Recording error: ${ke instanceof Error?ke.message:String(ke)}`,jn.val="Record"}},Ni=async()=>{if(t)try{jn.val="Record",await(t==null?void 0:t.stop()),jn.val="Record",En.val="Recording stopped"}catch(ke){console.error("Failed to stop recording:",ke),En.val=`Stop error: ${ke instanceof Error?ke.message:String(ke)}`}},Wn=document.createElement("webaudio-keyboard");Wn.setAttribute("width","300"),Wn.setAttribute("height","60"),Wn.setAttribute("min","37"),Wn.setAttribute("keys","31"),Wn.addEventListener("pointer",ke=>{const[qt,Cr]=ke.note;qt===1?e==null||e.play(Cr):e==null||e.release(Cr)});const Nr="display: flex; flex-direction: column; max-width: 50vw; padding: 1rem;";return div$8({class:"sampler-element",style:()=>Nr},ExpandableHeader("Sampler",n,FileOperations(e,En,jn,qn,wi,Ni)),div$8({class:"controls",style:()=>n.val==="true"?"":"display: none; padding: 0.5rem;"},div$8({class:"knobs",style:()=>n.val==="true"?`
                  display: grid;
                  grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
                  gap: 1rem;
                  padding: 1rem;
                  max-width: 100%;
                  justify-items: center;
                  align-items: start;
                `:"display: none; padding: 0.5rem;"},createLabeledKnob({label:"Volume",defaultValue:.5,onChange:ke=>s.val=ke}),createLabeledKnob({label:"Dry/Wet",defaultValue:0,onChange:ke=>{o.val={dry:1-ke,wet:ke}}}),createLabeledKnob({label:"HPF",defaultValue:50,minValue:30,maxValue:18e3,curve:5,onChange:ke=>a.val=ke}),createLabeledKnob({label:"LPF",defaultValue:18e3,minValue:20,maxValue:2e4,curve:5,onChange:ke=>l.val=ke}),createLabeledKnob({label:"Reverb",defaultValue:.5,onChange:ke=>h.val=ke}),createLabeledKnob({label:"Feedback",defaultValue:0,minValue:0,maxValue:1,onChange:ke=>f.val=ke}),createLabeledKnob({label:"DistDrive",defaultValue:0,minValue:0,maxValue:1,onChange:ke=>_.val=ke}),createLabeledKnob({label:"Clipping",defaultValue:0,minValue:0,maxValue:1,onChange:ke=>y.val=ke}),createLabeledKnob({label:"FB-Pitch",defaultValue:1,minValue:1,maxValue:4,snapIncrement:1,onChange:ke=>u.val=ke}),createLabeledKnob({label:"amp-lfo-rate",defaultValue:.1,onChange:ke=>S.val=ke,curve:5,snapIncrement:0}),createLabeledKnob({label:"amp-lfo-depth",defaultValue:0,onChange:ke=>O.val=ke,curve:1.5}),createLabeledKnob({label:"pitch-lfo-rate",defaultValue:.01,onChange:ke=>C.val=ke,curve:5,snapIncrement:0}),createLabeledKnob({defaultValue:0,label:"pitch-lfo-depth",onChange:ke=>I.val=ke,curve:1.5}),createLabeledKnob({valueFormatter:ke=>ke.toFixed(3),defaultValue:0,minValue:0,maxValue:1,label:"Glide",snapIncrement:1e-4,onChange:ke=>c.val=ke,curve:2.75}),div$8(label({textContent:"Feedback Mode"}),Toggle({on:!0,size:1,onColor:"#4CAF50",onChange:()=>b.val=!b.oldVal}))),()=>$.val&&k.val&&A.val&&ae.val?div$8({style:"margin: 10px 0;"},div$8({style:"display: flex; justify-content: space-between; align-items: center; height: 5vh; column-gap: 0.5rem; margin-left: 0.5rem;"},div$8({style:"display: flex; column-gap: 0.5rem;"},button$3({style:()=>"cursor: pointer; font-size: 0.9rem; margin-bottom: 5px; padding: 0.5rem;",onclick:()=>on.val="amp-env"},"Amp Env"),button$3({style:()=>"cursor: pointer; font-size: 0.9rem; margin-bottom: 5px; padding: 0.5rem;",onclick:()=>on.val="filter-env"},"Filter Env"),button$3({style:()=>"cursor: pointer; font-size: 0.9rem; margin-bottom: 5px; padding: 0.5rem;",onclick:()=>on.val="pitch-env"},"Pitch Env")),div$8({style:"position: relative;"},div$8({style:()=>`visibility: ${on.val==="amp-env"?"visible":"hidden"}`},Pn==null?void 0:Pn.timeScaleKnob),div$8({style:()=>`position: absolute; top: 0; visibility: ${on.val==="pitch-env"?"visible":"hidden"}`},Gt==null?void 0:Gt.timeScaleKnob),div$8({style:()=>`position: absolute; top: 0; visibility: ${on.val==="filter-env"?"visible":"hidden"}`},Se==null?void 0:Se.timeScaleKnob))),div$8({style:()=>`position: relative;  height: ${Gn.val.height}; width: ${Gn.val.width};`},()=>Pn?div$8({style:()=>`position: absolute; padding: 0.5rem; visibility: ${on.val==="amp-env"?"visible":"hidden"}`},Pn.element):div$8(),()=>Se?div$8({style:()=>`position: absolute; padding: 0.5rem; visibility: ${on.val==="filter-env"?"visible":"hidden"}`},Se.element):div$8(),()=>Gt?div$8({style:()=>`position: absolute; padding: 0.5rem; visibility: ${on.val==="pitch-env"?"visible":"hidden"}`},Gt.element):div$8())):div$8(),()=>ae.val&&SampleControls(L,B,N,j,Ie,ae),div$8({style:"display: flex; gap: 10px; flex-wrap: wrap;"},InputControls(Be,re,Je.keys,Je.midi),LoopHoldControls(sn,rt,Le,Je)),div$8({class:"keyboard-section",style:"width: 30vw; height: 10vh; margin: 1rem 0;"}),div$8({style:"font-size: 0.8rem; color: #666; margin-top: 0.5rem;"},()=>`Status: ${En.val}`)))},defineSampler=(i="sampler-element")=>{define(i,SamplerElement,!1)},initAudiolib=async()=>await pd({autoInit:!0}).then(()=>{defineSampler("sampler-element"),defineKarplusSynth("karplus-synth-element")}).catch(i=>console.error(`main.js, Create audiolib error: ${i}`));function _assertThisInitialized$1(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _inheritsLoose$1(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _config={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_defaults={duration:.5,overwrite:!1,delay:0},_suppressOverwrites,_reverting$1,_context$1,_bigNum$2=1e8,_tinyNum=1/_bigNum$2,_2PI=Math.PI*2,_HALF_PI=_2PI/4,_gsID=0,_sqrt=Math.sqrt,_cos=Math.cos,_sin=Math.sin,_isString=function i(e){return typeof e=="string"},_isFunction$1=function i(e){return typeof e=="function"},_isNumber=function i(e){return typeof e=="number"},_isUndefined$1=function i(e){return typeof e>"u"},_isObject$1=function i(e){return typeof e=="object"},_isNotFalse=function i(e){return e!==!1},_windowExists$2=function i(){return typeof window<"u"},_isFuncOrString=function i(e){return _isFunction$1(e)||_isString(e)},_isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_isArray$1=Array.isArray,_strictNumExp=/(?:-?\.?\d|\.)+/gi,_numExp=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_numWithUnitExp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_complexStringNumExp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_relExp=/[+-]=-?[.\d]+/,_delimitedValueExp=/[^,'"\[\]\s]+/gi,_unitExp=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,_globalTimeline,_win$3,_coreInitted$1,_doc$3,_globals={},_installScope={},_coreReady,_install=function i(e){return(_installScope=_merge(e,_globals))&&gsap$1},_missingPlugin=function i(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},_warn=function i(e,t){return!t&&console.warn(e)},_addGlobal=function i(e,t){return e&&(_globals[e]=t)&&_installScope&&(_installScope[e]=t)||_globals},_emptyFunc$1=function i(){return 0},_startAtRevertConfig={suppressEvents:!0,isStart:!0,kill:!1},_revertConfigNoKill={suppressEvents:!0,kill:!1},_revertConfig={suppressEvents:!0},_reservedProps={},_lazyTweens=[],_lazyLookup={},_lastRenderedFrame,_plugins={},_effects={},_nextGCFrame=30,_harnessPlugins=[],_callbackNames="",_harness=function i(e){var t=e[0],n,s;if(_isObject$1(t)||_isFunction$1(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(s=_harnessPlugins.length;s--&&!_harnessPlugins[s].targetTest(t););n=_harnessPlugins[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new GSCache(e[s],n)))||e.splice(s,1);return e},_getCache=function i(e){return e._gsap||_harness(toArray(e))[0]._gsap},_getProperty=function i(e,t,n){return(n=e[t])&&_isFunction$1(n)?e[t]():_isUndefined$1(n)&&e.getAttribute&&e.getAttribute(t)||n},_forEachName=function i(e,t){return(e=e.split(",")).forEach(t)||e},_round$1=function i(e){return Math.round(e*1e5)/1e5||0},_roundPrecise=function i(e){return Math.round(e*1e7)/1e7||0},_parseRelative=function i(e,t){var n=t.charAt(0),s=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+s:n==="-"?e-s:n==="*"?e*s:e/s},_arrayContainsAny=function i(e,t){for(var n=t.length,s=0;e.indexOf(t[s])<0&&++s<n;);return s<n},_lazyRender=function i(){var e=_lazyTweens.length,t=_lazyTweens.slice(0),n,s;for(_lazyLookup={},_lazyTweens.length=0,n=0;n<e;n++)s=t[n],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},_isRevertWorthy=function i(e){return!!(e._initted||e._startAt||e.add)},_lazySafeRender=function i(e,t,n,s){_lazyTweens.length&&!_reverting$1&&_lazyRender(),e.render(t,n,!!(_reverting$1&&t<0&&_isRevertWorthy(e))),_lazyTweens.length&&!_reverting$1&&_lazyRender()},_numericIfPossible=function i(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(_delimitedValueExp).length<2?t:_isString(e)?e.trim():e},_passThrough=function i(e){return e},_setDefaults$1=function i(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},_setKeyframeDefaults=function i(e){return function(t,n){for(var s in n)s in t||s==="duration"&&e||s==="ease"||(t[s]=n[s])}},_merge=function i(e,t){for(var n in t)e[n]=t[n];return e},_mergeDeep=function i(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=_isObject$1(t[n])?i(e[n]||(e[n]={}),t[n]):t[n]);return e},_copyExcluding=function i(e,t){var n={},s;for(s in e)s in t||(n[s]=e[s]);return n},_inheritDefaults=function i(e){var t=e.parent||_globalTimeline,n=e.keyframes?_setKeyframeDefaults(_isArray$1(e.keyframes)):_setDefaults$1;if(_isNotFalse(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},_arraysMatch=function i(e,t){for(var n=e.length,s=n===t.length;s&&n--&&e[n]===t[n];);return n<0},_addLinkedListItem=function i(e,t,n,s,o){var a=e[s],l;if(o)for(l=t[o];a&&a[o]>l;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[s]=t,t._prev=a,t.parent=t._dp=e,t},_removeLinkedListItem=function i(e,t,n,s){n===void 0&&(n="_first"),s===void 0&&(s="_last");var o=t._prev,a=t._next;o?o._next=a:e[n]===t&&(e[n]=a),a?a._prev=o:e[s]===t&&(e[s]=o),t._next=t._prev=t.parent=null},_removeFromParent=function i(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},_uncache=function i(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},_recacheAncestors=function i(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},_rewindStartAt=function i(e,t,n,s){return e._startAt&&(_reverting$1?e._startAt.revert(_revertConfigNoKill):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,s))},_hasNoPausedAncestors=function i(e){return!e||e._ts&&i(e.parent)},_elapsedCycleDuration=function i(e){return e._repeat?_animationCycle(e._tTime,e=e.duration()+e._rDelay)*e:0},_animationCycle=function i(e,t){var n=Math.floor(e=_roundPrecise(e/t));return e&&n===e?n-1:n},_parentToChildTotalTime=function i(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},_setEnd=function i(e){return e._end=_roundPrecise(e._start+(e._tDur/Math.abs(e._ts||e._rts||_tinyNum)||0))},_alignPlayhead=function i(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=_roundPrecise(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),_setEnd(e),n._dirty||_uncache(n,e)),e},_postAddChecks=function i(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=_parentToChildTotalTime(e.rawTime(),t),(!t._dur||_clamp(0,t.totalDuration(),n)-t._tTime>_tinyNum)&&t.render(n,!0)),_uncache(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},_addToTimeline=function i(e,t,n,s){return t.parent&&_removeFromParent(t),t._start=_roundPrecise((_isNumber(n)?n:n||e!==_globalTimeline?_parsePosition(e,n,t):e._time)+t._delay),t._end=_roundPrecise(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),_addLinkedListItem(e,t,"_first","_last",e._sort?"_start":0),_isFromOrFromStart(t)||(e._recent=t),s||_postAddChecks(e,t),e._ts<0&&_alignPlayhead(e,e._tTime),e},_scrollTrigger=function i(e,t){return(_globals.ScrollTrigger||_missingPlugin("scrollTrigger",t))&&_globals.ScrollTrigger.create(t,e)},_attemptInitTween=function i(e,t,n,s,o){if(_initTween(e,t,o),!e._initted)return 1;if(!n&&e._pt&&!_reverting$1&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&_lastRenderedFrame!==_ticker.frame)return _lazyTweens.push(e),e._lazy=[o,s],1},_parentPlayheadIsBeforeStart=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},_isFromOrFromStart=function i(e){var t=e.data;return t==="isFromStart"||t==="isStart"},_renderZeroDurationTween=function i(e,t,n,s){var o=e.ratio,a=t<0||!t&&(!e._start&&_parentPlayheadIsBeforeStart(e)&&!(!e._initted&&_isFromOrFromStart(e))||(e._ts<0||e._dp._ts<0)&&!_isFromOrFromStart(e))?0:1,l=e._rDelay,c=0,h,f,_;if(l&&e._repeat&&(c=_clamp(0,e._tDur,t),f=_animationCycle(c,l),e._yoyo&&f&1&&(a=1-a),f!==_animationCycle(e._tTime,l)&&(o=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==o||_reverting$1||s||e._zTime===_tinyNum||!t&&e._zTime){if(!e._initted&&_attemptInitTween(e,t,s,n,c))return;for(_=e._zTime,e._zTime=t||(n?_tinyNum:0),n||(n=t&&!_),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,h=e._pt;h;)h.r(a,h.d),h=h._next;t<0&&_rewindStartAt(e,t,n,!0),e._onUpdate&&!n&&_callback(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&_callback(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&_removeFromParent(e,1),!n&&!_reverting$1&&(_callback(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},_findNextPauseTween=function i(e,t,n){var s;if(n>t)for(s=e._first;s&&s._start<=n;){if(s.data==="isPause"&&s._start>t)return s;s=s._next}else for(s=e._last;s&&s._start>=n;){if(s.data==="isPause"&&s._start<t)return s;s=s._prev}},_setDuration=function i(e,t,n,s){var o=e._repeat,a=_roundPrecise(t)||0,l=e._tTime/e._tDur;return l&&!s&&(e._time*=a/e._dur),e._dur=a,e._tDur=o?o<0?1e10:_roundPrecise(a*(o+1)+e._rDelay*o):a,l>0&&!s&&_alignPlayhead(e,e._tTime=e._tDur*l),e.parent&&_setEnd(e),n||_uncache(e.parent,e),e},_onUpdateTotalDuration=function i(e){return e instanceof Timeline?_uncache(e):_setDuration(e,e._dur)},_zeroPosition={_start:0,endTime:_emptyFunc$1,totalDuration:_emptyFunc$1},_parsePosition=function i(e,t,n){var s=e.labels,o=e._recent||_zeroPosition,a=e.duration()>=_bigNum$2?o.endTime(!1):e._dur,l,c,h;return _isString(t)&&(isNaN(t)||t in s)?(c=t.charAt(0),h=t.substr(-1)==="%",l=t.indexOf("="),c==="<"||c===">"?(l>=0&&(t=t.replace(/=/,"")),(c==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(l<0?o:n).totalDuration()/100:1)):l<0?(t in s||(s[t]=a),s[t]):(c=parseFloat(t.charAt(l-1)+t.substr(l+1)),h&&n&&(c=c/100*(_isArray$1(n)?n[0]:n).totalDuration()),l>1?i(e,t.substr(0,l-1),n)+c:a+c)):t==null?a:+t},_createTweenType=function i(e,t,n){var s=_isNumber(t[1]),o=(s?2:1)+(e<2?0:1),a=t[o],l,c;if(s&&(a.duration=t[1]),a.parent=n,e){for(l=a,c=n;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=_isNotFalse(c.vars.inherit)&&c.parent;a.immediateRender=_isNotFalse(l.immediateRender),e<2?a.runBackwards=1:a.startAt=t[o-1]}return new Tween(t[0],a,t[o+1])},_conditionalReturn=function i(e,t){return e||e===0?t(e):t},_clamp=function i(e,t,n){return n<e?e:n>t?t:n},getUnit=function i(e,t){return!_isString(e)||!(t=_unitExp.exec(e))?"":t[1]},clamp=function i(e,t,n){return _conditionalReturn(n,function(s){return _clamp(e,t,s)})},_slice=[].slice,_isArrayLike=function i(e,t){return e&&_isObject$1(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&_isObject$1(e[0]))&&!e.nodeType&&e!==_win$3},_flatten=function i(e,t,n){return n===void 0&&(n=[]),e.forEach(function(s){var o;return _isString(s)&&!t||_isArrayLike(s,1)?(o=n).push.apply(o,toArray(s)):n.push(s)})||n},toArray=function i(e,t,n){return _context$1&&!t&&_context$1.selector?_context$1.selector(e):_isString(e)&&!n&&(_coreInitted$1||!_wake())?_slice.call((t||_doc$3).querySelectorAll(e),0):_isArray$1(e)?_flatten(e,n):_isArrayLike(e)?_slice.call(e,0):e?[e]:[]},selector=function i(e){return e=toArray(e)[0]||_warn("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return toArray(t,n.querySelectorAll?n:n===e?_warn("Invalid scope")||_doc$3.createElement("div"):e)}},shuffle=function i(e){return e.sort(function(){return .5-Math.random()})},distribute=function i(e){if(_isFunction$1(e))return e;var t=_isObject$1(e)?e:{each:e},n=_parseEase(t.ease),s=t.from||0,o=parseFloat(t.base)||0,a={},l=s>0&&s<1,c=isNaN(s)||l,h=t.axis,f=s,_=s;return _isString(s)?f=_={center:.5,edges:.5,end:1}[s]||0:!l&&c&&(f=s[0],_=s[1]),function(y,u,b){var $=(b||t).length,k=a[$],A,C,I,S,O,L,B,N,j;if(!k){if(j=t.grid==="auto"?0:(t.grid||[1,_bigNum$2])[1],!j){for(B=-1e8;B<(B=b[j++].getBoundingClientRect().left)&&j<$;);j<$&&j--}for(k=a[$]=[],A=c?Math.min(j,$)*f-.5:s%j,C=j===_bigNum$2?0:c?$*_/j-.5:s/j|0,B=0,N=_bigNum$2,L=0;L<$;L++)I=L%j-A,S=C-(L/j|0),k[L]=O=h?Math.abs(h==="y"?S:I):_sqrt(I*I+S*S),O>B&&(B=O),O<N&&(N=O);s==="random"&&shuffle(k),k.max=B-N,k.min=N,k.v=$=(parseFloat(t.amount)||parseFloat(t.each)*(j>$?$-1:h?h==="y"?$/j:j:Math.max(j,$/j))||0)*(s==="edges"?-1:1),k.b=$<0?o-$:o,k.u=getUnit(t.amount||t.each)||0,n=n&&$<0?_invertEase(n):n}return $=(k[y]-k.min)/k.max||0,_roundPrecise(k.b+(n?n($):$)*k.v)+k.u}},_roundModifier=function i(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var s=_roundPrecise(Math.round(parseFloat(n)/e)*e*t);return(s-s%1)/t+(_isNumber(n)?0:getUnit(n))}},snap=function i(e,t){var n=_isArray$1(e),s,o;return!n&&_isObject$1(e)&&(s=n=e.radius||_bigNum$2,e.values?(e=toArray(e.values),(o=!_isNumber(e[0]))&&(s*=s)):e=_roundModifier(e.increment)),_conditionalReturn(t,n?_isFunction$1(e)?function(a){return o=e(a),Math.abs(o-a)<=s?o:a}:function(a){for(var l=parseFloat(o?a.x:a),c=parseFloat(o?a.y:0),h=_bigNum$2,f=0,_=e.length,y,u;_--;)o?(y=e[_].x-l,u=e[_].y-c,y=y*y+u*u):y=Math.abs(e[_]-l),y<h&&(h=y,f=_);return f=!s||h<=s?e[f]:a,o||f===a||_isNumber(a)?f:f+getUnit(a)}:_roundModifier(e))},random=function i(e,t,n,s){return _conditionalReturn(_isArray$1(e)?!t:n===!0?!!(n=0):!s,function(){return _isArray$1(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(s=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*s)/s})},pipe=function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(s){return t.reduce(function(o,a){return a(o)},s)}},unitize=function i(e,t){return function(n){return e(parseFloat(n))+(t||getUnit(n))}},normalize=function i(e,t,n){return mapRange(e,t,0,1,n)},_wrapArray=function i(e,t,n){return _conditionalReturn(n,function(s){return e[~~t(s)]})},wrap=function i(e,t,n){var s=t-e;return _isArray$1(e)?_wrapArray(e,i(0,e.length),t):_conditionalReturn(n,function(o){return(s+(o-e)%s)%s+e})},wrapYoyo=function i(e,t,n){var s=t-e,o=s*2;return _isArray$1(e)?_wrapArray(e,i(0,e.length-1),t):_conditionalReturn(n,function(a){return a=(o+(a-e)%o)%o||0,e+(a>s?o-a:a)})},_replaceRandom=function i(e){for(var t=0,n="",s,o,a,l;~(s=e.indexOf("random(",t));)a=e.indexOf(")",s),l=e.charAt(s+7)==="[",o=e.substr(s+7,a-s-7).match(l?_delimitedValueExp:_strictNumExp),n+=e.substr(t,s-t)+random(l?o:+o[0],l?0:+o[1],+o[2]||1e-5),t=a+1;return n+e.substr(t,e.length-t)},mapRange=function i(e,t,n,s,o){var a=t-e,l=s-n;return _conditionalReturn(o,function(c){return n+((c-e)/a*l||0)})},interpolate=function i(e,t,n,s){var o=isNaN(e+t)?0:function(u){return(1-u)*e+u*t};if(!o){var a=_isString(e),l={},c,h,f,_,y;if(n===!0&&(s=1)&&(n=null),a)e={p:e},t={p:t};else if(_isArray$1(e)&&!_isArray$1(t)){for(f=[],_=e.length,y=_-2,h=1;h<_;h++)f.push(i(e[h-1],e[h]));_--,o=function(b){b*=_;var $=Math.min(y,~~b);return f[$](b-$)},n=t}else s||(e=_merge(_isArray$1(e)?[]:{},e));if(!f){for(c in t)_addPropTween.call(l,e,c,"get",t[c]);o=function(b){return _renderPropTweens(b,l)||(a?e.p:e)}}}return _conditionalReturn(n,o)},_getLabelInDirection=function i(e,t,n){var s=e.labels,o=_bigNum$2,a,l,c;for(a in s)l=s[a]-t,l<0==!!n&&l&&o>(l=Math.abs(l))&&(c=a,o=l);return c},_callback=function i(e,t,n){var s=e.vars,o=s[t],a=_context$1,l=e._ctx,c,h,f;if(o)return c=s[t+"Params"],h=s.callbackScope||e,n&&_lazyTweens.length&&_lazyRender(),l&&(_context$1=l),f=c?o.apply(h,c):o.call(h),_context$1=a,f},_interrupt=function i(e){return _removeFromParent(e),e.scrollTrigger&&e.scrollTrigger.kill(!!_reverting$1),e.progress()<1&&_callback(e,"onInterrupt"),e},_quickTween,_registerPluginQueue=[],_createPlugin=function i(e){if(e)if(e=!e.name&&e.default||e,_windowExists$2()||e.headless){var t=e.name,n=_isFunction$1(e),s=t&&!n&&e.init?function(){this._props=[]}:e,o={init:_emptyFunc$1,render:_renderPropTweens,add:_addPropTween,kill:_killPropTweensOf,modifier:_addPluginModifier,rawVars:0},a={targetTest:0,get:0,getSetter:_getSetter,aliases:{},register:0};if(_wake(),e!==s){if(_plugins[t])return;_setDefaults$1(s,_setDefaults$1(_copyExcluding(e,o),a)),_merge(s.prototype,_merge(o,_copyExcluding(e,a))),_plugins[s.prop=t]=s,e.targetTest&&(_harnessPlugins.push(s),_reservedProps[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}_addGlobal(t,s),e.register&&e.register(gsap$1,s,PropTween)}else _registerPluginQueue.push(e)},_255=255,_colorLookup={aqua:[0,_255,_255],lime:[0,_255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_255],navy:[0,0,128],white:[_255,_255,_255],olive:[128,128,0],yellow:[_255,_255,0],orange:[_255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_255,0,0],pink:[_255,192,203],cyan:[0,_255,_255],transparent:[_255,_255,_255,0]},_hue=function i(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*_255+.5|0},splitColor=function i(e,t,n){var s=e?_isNumber(e)?[e>>16,e>>8&_255,e&_255]:0:_colorLookup.black,o,a,l,c,h,f,_,y,u,b;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),_colorLookup[e])s=_colorLookup[e];else if(e.charAt(0)==="#"){if(e.length<6&&(o=e.charAt(1),a=e.charAt(2),l=e.charAt(3),e="#"+o+o+a+a+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&_255,s&_255,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&_255,e&_255]}else if(e.substr(0,3)==="hsl"){if(s=b=e.match(_strictNumExp),!t)c=+s[0]%360/360,h=+s[1]/100,f=+s[2]/100,a=f<=.5?f*(h+1):f+h-f*h,o=f*2-a,s.length>3&&(s[3]*=1),s[0]=_hue(c+1/3,o,a),s[1]=_hue(c,o,a),s[2]=_hue(c-1/3,o,a);else if(~e.indexOf("="))return s=e.match(_numExp),n&&s.length<4&&(s[3]=1),s}else s=e.match(_strictNumExp)||_colorLookup.transparent;s=s.map(Number)}return t&&!b&&(o=s[0]/_255,a=s[1]/_255,l=s[2]/_255,_=Math.max(o,a,l),y=Math.min(o,a,l),f=(_+y)/2,_===y?c=h=0:(u=_-y,h=f>.5?u/(2-_-y):u/(_+y),c=_===o?(a-l)/u+(a<l?6:0):_===a?(l-o)/u+2:(o-a)/u+4,c*=60),s[0]=~~(c+.5),s[1]=~~(h*100+.5),s[2]=~~(f*100+.5)),n&&s.length<4&&(s[3]=1),s},_colorOrderData=function i(e){var t=[],n=[],s=-1;return e.split(_colorExp).forEach(function(o){var a=o.match(_numWithUnitExp)||[];t.push.apply(t,a),n.push(s+=a.length+1)}),t.c=n,t},_formatColors=function i(e,t,n){var s="",o=(e+s).match(_colorExp),a=t?"hsla(":"rgba(",l=0,c,h,f,_;if(!o)return e;if(o=o.map(function(y){return(y=splitColor(y,t,1))&&a+(t?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),n&&(f=_colorOrderData(e),c=n.c,c.join(s)!==f.c.join(s)))for(h=e.replace(_colorExp,"1").split(_numWithUnitExp),_=h.length-1;l<_;l++)s+=h[l]+(~c.indexOf(l)?o.shift()||a+"0,0,0,0)":(f.length?f:o.length?o:n).shift());if(!h)for(h=e.split(_colorExp),_=h.length-1;l<_;l++)s+=h[l]+o[l];return s+h[_]},_colorExp=function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in _colorLookup)i+="|"+e+"\\b";return new RegExp(i+")","gi")}(),_hslExp=/hsl[a]?\(/,_colorStringFilter=function i(e){var t=e.join(" "),n;if(_colorExp.lastIndex=0,_colorExp.test(t))return n=_hslExp.test(t),e[1]=_formatColors(e[1],n),e[0]=_formatColors(e[0],n,_colorOrderData(e[1])),!0},_tickerActive,_ticker=function(){var i=Date.now,e=500,t=33,n=i(),s=n,o=1e3/240,a=o,l=[],c,h,f,_,y,u,b=function $(k){var A=i()-s,C=k===!0,I,S,O,L;if((A>e||A<0)&&(n+=A-t),s+=A,O=s-n,I=O-a,(I>0||C)&&(L=++_.frame,y=O-_.time*1e3,_.time=O=O/1e3,a+=I+(I>=o?4:o-I),S=1),C||(c=h($)),S)for(u=0;u<l.length;u++)l[u](O,y,L,k)};return _={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(k){return y/(1e3/(k||60))},wake:function(){_coreReady&&(!_coreInitted$1&&_windowExists$2()&&(_win$3=_coreInitted$1=window,_doc$3=_win$3.document||{},_globals.gsap=gsap$1,(_win$3.gsapVersions||(_win$3.gsapVersions=[])).push(gsap$1.version),_install(_installScope||_win$3.GreenSockGlobals||!_win$3.gsap&&_win$3||{}),_registerPluginQueue.forEach(_createPlugin)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&_.sleep(),h=f||function(k){return setTimeout(k,a-_.time*1e3+1|0)},_tickerActive=1,b(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(c),_tickerActive=0,h=_emptyFunc$1},lagSmoothing:function(k,A){e=k||1/0,t=Math.min(A||33,e)},fps:function(k){o=1e3/(k||240),a=_.time*1e3+o},add:function(k,A,C){var I=A?function(S,O,L,B){k(S,O,L,B),_.remove(I)}:k;return _.remove(k),l[C?"unshift":"push"](I),_wake(),I},remove:function(k,A){~(A=l.indexOf(k))&&l.splice(A,1)&&u>=A&&u--},_listeners:l},_}(),_wake=function i(){return!_tickerActive&&_ticker.wake()},_easeMap={},_customEaseExp=/^[\d.\-M][\d.\-,\s]/,_quotesExp=/["']/g,_parseObjectInString=function i(e){for(var t={},n=e.substr(1,e.length-3).split(":"),s=n[0],o=1,a=n.length,l,c,h;o<a;o++)c=n[o],l=o!==a-1?c.lastIndexOf(","):c.length,h=c.substr(0,l),t[s]=isNaN(h)?h.replace(_quotesExp,"").trim():+h,s=c.substr(l+1).trim();return t},_valueInParentheses=function i(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),s=e.indexOf("(",t);return e.substring(t,~s&&s<n?e.indexOf(")",n+1):n)},_configEaseFromString=function i(e){var t=(e+"").split("("),n=_easeMap[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[_parseObjectInString(t[1])]:_valueInParentheses(e).split(",").map(_numericIfPossible)):_easeMap._CE&&_customEaseExp.test(e)?_easeMap._CE("",e):n},_invertEase=function i(e){return function(t){return 1-e(1-t)}},_propagateYoyoEase=function i(e,t){for(var n=e._first,s;n;)n instanceof Timeline?i(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?i(n.timeline,t):(s=n._ease,n._ease=n._yEase,n._yEase=s,n._yoyo=t)),n=n._next},_parseEase=function i(e,t){return e&&(_isFunction$1(e)?e:_easeMap[e]||_configEaseFromString(e))||t},_insertEase=function i(e,t,n,s){n===void 0&&(n=function(c){return 1-t(1-c)}),s===void 0&&(s=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var o={easeIn:t,easeOut:n,easeInOut:s},a;return _forEachName(e,function(l){_easeMap[l]=_globals[l]=o,_easeMap[a=l.toLowerCase()]=n;for(var c in o)_easeMap[a+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=_easeMap[l+"."+c]=o[c]}),o},_easeInOutFromOut=function i(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},_configElastic=function i(e,t,n){var s=t>=1?t:1,o=(n||(e?.3:.45))/(t<1?t:1),a=o/_2PI*(Math.asin(1/s)||0),l=function(f){return f===1?1:s*Math.pow(2,-10*f)*_sin((f-a)*o)+1},c=e==="out"?l:e==="in"?function(h){return 1-l(1-h)}:_easeInOutFromOut(l);return o=_2PI/o,c.config=function(h,f){return i(e,h,f)},c},_configBack=function i(e,t){t===void 0&&(t=1.70158);var n=function(a){return a?--a*a*((t+1)*a+t)+1:0},s=e==="out"?n:e==="in"?function(o){return 1-n(1-o)}:_easeInOutFromOut(n);return s.config=function(o){return i(e,o)},s};_forEachName("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;_insertEase(i+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});_easeMap.Linear.easeNone=_easeMap.none=_easeMap.Linear.easeIn;_insertEase("Elastic",_configElastic("in"),_configElastic("out"),_configElastic());(function(i,e){var t=1/e,n=2*t,s=2.5*t,o=function(l){return l<t?i*l*l:l<n?i*Math.pow(l-1.5/e,2)+.75:l<s?i*(l-=2.25/e)*l+.9375:i*Math.pow(l-2.625/e,2)+.984375};_insertEase("Bounce",function(a){return 1-o(1-a)},o)})(7.5625,2.75);_insertEase("Expo",function(i){return Math.pow(2,10*(i-1))*i+i*i*i*i*i*i*(1-i)});_insertEase("Circ",function(i){return-(_sqrt(1-i*i)-1)});_insertEase("Sine",function(i){return i===1?1:-_cos(i*_HALF_PI)+1});_insertEase("Back",_configBack("in"),_configBack("out"),_configBack());_easeMap.SteppedEase=_easeMap.steps=_globals.SteppedEase={config:function i(e,t){e===void 0&&(e=1);var n=1/e,s=e+(t?0:1),o=t?1:0,a=1-_tinyNum;return function(l){return((s*_clamp(0,a,l)|0)+o)*n}}};_defaults.ease=_easeMap["quad.out"];_forEachName("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return _callbackNames+=i+","+i+"Params,"});var GSCache=function i(e,t){this.id=_gsID++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:_getProperty,this.set=t?t.getSetter:_getSetter},Animation=function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,_setDuration(this,+t.duration,1,1),this.data=t.data,_context$1&&(this._ctx=_context$1,_context$1.data.push(this)),_tickerActive||_ticker.wake()}var e=i.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,_setDuration(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,s){if(_wake(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(_alignPlayhead(this,n),!o._dp||o.parent||_postAddChecks(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&_addToTimeline(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===_tinyNum||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),_lazySafeRender(this,n,s)),this},e.time=function(n,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+_elapsedCycleDuration(this))%(this._dur+this._rDelay)||(n?this._dur:0),s):this._time},e.totalProgress=function(n,s){return arguments.length?this.totalTime(this.totalDuration()*n,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+_elapsedCycleDuration(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,s){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*o,s):this._repeat?_animationCycle(this._tTime,o)+1:1},e.timeScale=function(n,s){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===n)return this;var o=this.parent&&this._ts?_parentToChildTotalTime(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-1e-8?0:this._rts,this.totalTime(_clamp(-Math.abs(this._delay),this.totalDuration(),o),s!==!1),_setEnd(this),_recacheAncestors(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_wake(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==_tinyNum&&(this._tTime-=_tinyNum)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&_addToTimeline(s,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(_isNotFalse(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var s=this.parent||this._dp;return s?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_parentToChildTotalTime(s.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=_revertConfig);var s=_reverting$1;return _reverting$1=n,_isRevertWorthy(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),_reverting$1=s,this},e.globalTime=function(n){for(var s=this,o=arguments.length?n:s.rawTime();s;)o=s._start+o/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(n):o},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,_onUpdateTotalDuration(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var s=this._time;return this._rDelay=n,_onUpdateTotalDuration(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,s){return this.totalTime(_parsePosition(this,n),_isNotFalse(s))},e.restart=function(n,s){return this.play().totalTime(n?-this._delay:0,_isNotFalse(s)),this._dur||(this._zTime=-1e-8),this},e.play=function(n,s){return n!=null&&this.seek(n,s),this.reversed(!1).paused(!1)},e.reverse=function(n,s){return n!=null&&this.seek(n||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(n,s){return n!=null&&this.seek(n,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var n=this.parent||this._dp,s=this._start,o;return!!(!n||this._ts&&this._initted&&n.isActive()&&(o=n.rawTime(!0))>=s&&o<this.endTime(!0)-_tinyNum)},e.eventCallback=function(n,s,o){var a=this.vars;return arguments.length>1?(s?(a[n]=s,o&&(a[n+"Params"]=o),n==="onUpdate"&&(this._onUpdate=s)):delete a[n],this):a[n]},e.then=function(n){var s=this;return new Promise(function(o){var a=_isFunction$1(n)?n:_passThrough,l=function(){var h=s.then;s.then=null,_isFunction$1(a)&&(a=a(s))&&(a.then||a===s)&&(s.then=h),o(a),s.then=h};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?l():s._prom=l})},e.kill=function(){_interrupt(this)},i}();_setDefaults$1(Animation.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Timeline=function(i){_inheritsLoose$1(e,i);function e(n,s){var o;return n===void 0&&(n={}),o=i.call(this,n)||this,o.labels={},o.smoothChildTiming=!!n.smoothChildTiming,o.autoRemoveChildren=!!n.autoRemoveChildren,o._sort=_isNotFalse(n.sortChildren),_globalTimeline&&_addToTimeline(n.parent||_globalTimeline,_assertThisInitialized$1(o),s),n.reversed&&o.reverse(),n.paused&&o.paused(!0),n.scrollTrigger&&_scrollTrigger(_assertThisInitialized$1(o),n.scrollTrigger),o}var t=e.prototype;return t.to=function(s,o,a){return _createTweenType(0,arguments,this),this},t.from=function(s,o,a){return _createTweenType(1,arguments,this),this},t.fromTo=function(s,o,a,l){return _createTweenType(2,arguments,this),this},t.set=function(s,o,a){return o.duration=0,o.parent=this,_inheritDefaults(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new Tween(s,o,_parsePosition(this,a),1),this},t.call=function(s,o,a){return _addToTimeline(this,Tween.delayedCall(0,s,o),a)},t.staggerTo=function(s,o,a,l,c,h,f){return a.duration=o,a.stagger=a.stagger||l,a.onComplete=h,a.onCompleteParams=f,a.parent=this,new Tween(s,a,_parsePosition(this,c)),this},t.staggerFrom=function(s,o,a,l,c,h,f){return a.runBackwards=1,_inheritDefaults(a).immediateRender=_isNotFalse(a.immediateRender),this.staggerTo(s,o,a,l,c,h,f)},t.staggerFromTo=function(s,o,a,l,c,h,f,_){return l.startAt=a,_inheritDefaults(l).immediateRender=_isNotFalse(l.immediateRender),this.staggerTo(s,o,l,c,h,f,_)},t.render=function(s,o,a){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,h=this._dur,f=s<=0?0:_roundPrecise(s),_=this._zTime<0!=s<0&&(this._initted||!h),y,u,b,$,k,A,C,I,S,O,L,B;if(this!==_globalTimeline&&f>c&&s>=0&&(f=c),f!==this._tTime||a||_){if(l!==this._time&&h&&(f+=this._time-l,s+=this._time-l),y=f,S=this._start,I=this._ts,A=!I,_&&(h||(l=this._zTime),(s||!o)&&(this._zTime=s)),this._repeat){if(L=this._yoyo,k=h+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(k*100+s,o,a);if(y=_roundPrecise(f%k),f===c?($=this._repeat,y=h):(O=_roundPrecise(f/k),$=~~O,$&&$===O&&(y=h,$--),y>h&&(y=h)),O=_animationCycle(this._tTime,k),!l&&this._tTime&&O!==$&&this._tTime-O*k-this._dur<=0&&(O=$),L&&$&1&&(y=h-y,B=1),$!==O&&!this._lock){var N=L&&O&1,j=N===(L&&$&1);if($<O&&(N=!N),l=N?0:f%h?h:f,this._lock=1,this.render(l||(B?0:_roundPrecise($*k)),o,!h)._lock=0,this._tTime=f,!o&&this.parent&&_callback(this,"onRepeat"),this.vars.repeatRefresh&&!B&&(this.invalidate()._lock=1),l&&l!==this._time||A!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,c=this._tDur,j&&(this._lock=2,l=N?h:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!B&&this.invalidate()),this._lock=0,!this._ts&&!A)return this;_propagateYoyoEase(this,B)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(C=_findNextPauseTween(this,_roundPrecise(l),_roundPrecise(y)),C&&(f-=y-(y=C._start))),this._tTime=f,this._time=y,this._act=!I,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,l=0),!l&&f&&!o&&!O&&(_callback(this,"onStart"),this._tTime!==f))return this;if(y>=l&&s>=0)for(u=this._first;u;){if(b=u._next,(u._act||y>=u._start)&&u._ts&&C!==u){if(u.parent!==this)return this.render(s,o,a);if(u.render(u._ts>0?(y-u._start)*u._ts:(u._dirty?u.totalDuration():u._tDur)+(y-u._start)*u._ts,o,a),y!==this._time||!this._ts&&!A){C=0,b&&(f+=this._zTime=-1e-8);break}}u=b}else{u=this._last;for(var Ie=s<0?s:y;u;){if(b=u._prev,(u._act||Ie<=u._end)&&u._ts&&C!==u){if(u.parent!==this)return this.render(s,o,a);if(u.render(u._ts>0?(Ie-u._start)*u._ts:(u._dirty?u.totalDuration():u._tDur)+(Ie-u._start)*u._ts,o,a||_reverting$1&&_isRevertWorthy(u)),y!==this._time||!this._ts&&!A){C=0,b&&(f+=this._zTime=Ie?-1e-8:_tinyNum);break}}u=b}}if(C&&!o&&(this.pause(),C.render(y>=l?0:-1e-8)._zTime=y>=l?1:-1,this._ts))return this._start=S,_setEnd(this),this.render(s,o,a);this._onUpdate&&!o&&_callback(this,"onUpdate",!0),(f===c&&this._tTime>=this.totalDuration()||!f&&l)&&(S===this._start||Math.abs(I)!==Math.abs(this._ts))&&(this._lock||((s||!h)&&(f===c&&this._ts>0||!f&&this._ts<0)&&_removeFromParent(this,1),!o&&!(s<0&&!l)&&(f||l||!c)&&(_callback(this,f===c&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(s,o){var a=this;if(_isNumber(o)||(o=_parsePosition(this,o,s)),!(s instanceof Animation)){if(_isArray$1(s))return s.forEach(function(l){return a.add(l,o)}),this;if(_isString(s))return this.addLabel(s,o);if(_isFunction$1(s))s=Tween.delayedCall(0,s);else return this}return this!==s?_addToTimeline(this,s,o):this},t.getChildren=function(s,o,a,l){s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=!0),l===void 0&&(l=-1e8);for(var c=[],h=this._first;h;)h._start>=l&&(h instanceof Tween?o&&c.push(h):(a&&c.push(h),s&&c.push.apply(c,h.getChildren(!0,o,a)))),h=h._next;return c},t.getById=function(s){for(var o=this.getChildren(1,1,1),a=o.length;a--;)if(o[a].vars.id===s)return o[a]},t.remove=function(s){return _isString(s)?this.removeLabel(s):_isFunction$1(s)?this.killTweensOf(s):(s.parent===this&&_removeLinkedListItem(this,s),s===this._recent&&(this._recent=this._last),_uncache(this))},t.totalTime=function(s,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_roundPrecise(_ticker.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),i.prototype.totalTime.call(this,s,o),this._forcing=0,this):this._tTime},t.addLabel=function(s,o){return this.labels[s]=_parsePosition(this,o),this},t.removeLabel=function(s){return delete this.labels[s],this},t.addPause=function(s,o,a){var l=Tween.delayedCall(0,o||_emptyFunc$1,a);return l.data="isPause",this._hasPause=1,_addToTimeline(this,l,_parsePosition(this,s))},t.removePause=function(s){var o=this._first;for(s=_parsePosition(this,s);o;)o._start===s&&o.data==="isPause"&&_removeFromParent(o),o=o._next},t.killTweensOf=function(s,o,a){for(var l=this.getTweensOf(s,a),c=l.length;c--;)_overwritingTween!==l[c]&&l[c].kill(s,o);return this},t.getTweensOf=function(s,o){for(var a=[],l=toArray(s),c=this._first,h=_isNumber(o),f;c;)c instanceof Tween?_arrayContainsAny(c._targets,l)&&(h?(!_overwritingTween||c._initted&&c._ts)&&c.globalTime(0)<=o&&c.globalTime(c.totalDuration())>o:!o||c.isActive())&&a.push(c):(f=c.getTweensOf(l,o)).length&&a.push.apply(a,f),c=c._next;return a},t.tweenTo=function(s,o){o=o||{};var a=this,l=_parsePosition(a,s),c=o,h=c.startAt,f=c.onStart,_=c.onStartParams,y=c.immediateRender,u,b=Tween.to(a,_setDefaults$1({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:o.duration||Math.abs((l-(h&&"time"in h?h.time:a._time))/a.timeScale())||_tinyNum,onStart:function(){if(a.pause(),!u){var k=o.duration||Math.abs((l-(h&&"time"in h?h.time:a._time))/a.timeScale());b._dur!==k&&_setDuration(b,k,0,1).render(b._time,!0,!0),u=1}f&&f.apply(b,_||[])}},o));return y?b.render(0):b},t.tweenFromTo=function(s,o,a){return this.tweenTo(o,_setDefaults$1({startAt:{time:_parsePosition(this,s)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(s){return s===void 0&&(s=this._time),_getLabelInDirection(this,_parsePosition(this,s))},t.previousLabel=function(s){return s===void 0&&(s=this._time),_getLabelInDirection(this,_parsePosition(this,s),1)},t.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+_tinyNum)},t.shiftChildren=function(s,o,a){a===void 0&&(a=0);for(var l=this._first,c=this.labels,h;l;)l._start>=a&&(l._start+=s,l._end+=s),l=l._next;if(o)for(h in c)c[h]>=a&&(c[h]+=s);return _uncache(this)},t.invalidate=function(s){var o=this._first;for(this._lock=0;o;)o.invalidate(s),o=o._next;return i.prototype.invalidate.call(this,s)},t.clear=function(s){s===void 0&&(s=!0);for(var o=this._first,a;o;)a=o._next,this.remove(o),o=a;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),_uncache(this)},t.totalDuration=function(s){var o=0,a=this,l=a._last,c=_bigNum$2,h,f,_;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-s:s));if(a._dirty){for(_=a.parent;l;)h=l._prev,l._dirty&&l.totalDuration(),f=l._start,f>c&&a._sort&&l._ts&&!a._lock?(a._lock=1,_addToTimeline(a,l,f-l._delay,1)._lock=0):c=f,f<0&&l._ts&&(o-=f,(!_&&!a._dp||_&&_.smoothChildTiming)&&(a._start+=f/a._ts,a._time-=f,a._tTime-=f),a.shiftChildren(-f,!1,-1/0),c=0),l._end>o&&l._ts&&(o=l._end),l=h;_setDuration(a,a===_globalTimeline&&a._time>o?a._time:o,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(s){if(_globalTimeline._ts&&(_lazySafeRender(_globalTimeline,_parentToChildTotalTime(s,_globalTimeline)),_lastRenderedFrame=_ticker.frame),_ticker.frame>=_nextGCFrame){_nextGCFrame+=_config.autoSleep||120;var o=_globalTimeline._first;if((!o||!o._ts)&&_config.autoSleep&&_ticker._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||_ticker.sleep()}}},e}(Animation);_setDefaults$1(Timeline.prototype,{_lock:0,_hasPause:0,_forcing:0});var _addComplexStringPropTween=function i(e,t,n,s,o,a,l){var c=new PropTween(this._pt,e,t,0,1,_renderComplexString,null,o),h=0,f=0,_,y,u,b,$,k,A,C;for(c.b=n,c.e=s,n+="",s+="",(A=~s.indexOf("random("))&&(s=_replaceRandom(s)),a&&(C=[n,s],a(C,e,t),n=C[0],s=C[1]),y=n.match(_complexStringNumExp)||[];_=_complexStringNumExp.exec(s);)b=_[0],$=s.substring(h,_.index),u?u=(u+1)%5:$.substr(-5)==="rgba("&&(u=1),b!==y[f++]&&(k=parseFloat(y[f-1])||0,c._pt={_next:c._pt,p:$||f===1?$:",",s:k,c:b.charAt(1)==="="?_parseRelative(k,b)-k:parseFloat(b)-k,m:u&&u<4?Math.round:0},h=_complexStringNumExp.lastIndex);return c.c=h<s.length?s.substring(h,s.length):"",c.fp=l,(_relExp.test(s)||A)&&(c.e=0),this._pt=c,c},_addPropTween=function i(e,t,n,s,o,a,l,c,h,f){_isFunction$1(s)&&(s=s(o||0,e,a));var _=e[t],y=n!=="get"?n:_isFunction$1(_)?h?e[t.indexOf("set")||!_isFunction$1(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():_,u=_isFunction$1(_)?h?_setterFuncWithParam:_setterFunc:_setterPlain,b;if(_isString(s)&&(~s.indexOf("random(")&&(s=_replaceRandom(s)),s.charAt(1)==="="&&(b=_parseRelative(y,s)+(getUnit(y)||0),(b||b===0)&&(s=b))),!f||y!==s||_forceAllPropTweens)return!isNaN(y*s)&&s!==""?(b=new PropTween(this._pt,e,t,+y||0,s-(y||0),typeof _=="boolean"?_renderBoolean:_renderPlain,0,u),h&&(b.fp=h),l&&b.modifier(l,this,e),this._pt=b):(!_&&!(t in e)&&_missingPlugin(t,s),_addComplexStringPropTween.call(this,e,t,y,s,u,c||_config.stringFilter,h))},_processVars=function i(e,t,n,s,o){if(_isFunction$1(e)&&(e=_parseFuncOrString(e,o,t,n,s)),!_isObject$1(e)||e.style&&e.nodeType||_isArray$1(e)||_isTypedArray(e))return _isString(e)?_parseFuncOrString(e,o,t,n,s):e;var a={},l;for(l in e)a[l]=_parseFuncOrString(e[l],o,t,n,s);return a},_checkPlugin=function i(e,t,n,s,o,a){var l,c,h,f;if(_plugins[e]&&(l=new _plugins[e]).init(o,l.rawVars?t[e]:_processVars(t[e],s,o,a,n),n,s,a)!==!1&&(n._pt=c=new PropTween(n._pt,o,e,0,1,l.render,l,0,l.priority),n!==_quickTween))for(h=n._ptLookup[n._targets.indexOf(o)],f=l._props.length;f--;)h[l._props[f]]=c;return l},_overwritingTween,_forceAllPropTweens,_initTween=function i(e,t,n){var s=e.vars,o=s.ease,a=s.startAt,l=s.immediateRender,c=s.lazy,h=s.onUpdate,f=s.runBackwards,_=s.yoyoEase,y=s.keyframes,u=s.autoRevert,b=e._dur,$=e._startAt,k=e._targets,A=e.parent,C=A&&A.data==="nested"?A.vars.targets:k,I=e._overwrite==="auto"&&!_suppressOverwrites,S=e.timeline,O,L,B,N,j,Ie,ae,Be,re,sn,rt,Le,Je;if(S&&(!y||!o)&&(o="none"),e._ease=_parseEase(o,_defaults.ease),e._yEase=_?_invertEase(_parseEase(_===!0?o:_,_defaults.ease)):0,_&&e._yoyo&&!e._repeat&&(_=e._yEase,e._yEase=e._ease,e._ease=_),e._from=!S&&!!s.runBackwards,!S||y&&!s.stagger){if(Be=k[0]?_getCache(k[0]).harness:0,Le=Be&&s[Be.prop],O=_copyExcluding(s,_reservedProps),$&&($._zTime<0&&$.progress(1),t<0&&f&&l&&!u?$.render(-1,!0):$.revert(f&&b?_revertConfigNoKill:_startAtRevertConfig),$._lazy=0),a){if(_removeFromParent(e._startAt=Tween.set(k,_setDefaults$1({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:!$&&_isNotFalse(c),startAt:null,delay:0,onUpdate:h&&function(){return _callback(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(_reverting$1||!l&&!u)&&e._startAt.revert(_revertConfigNoKill),l&&b&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(f&&b&&!$){if(t&&(l=!1),B=_setDefaults$1({overwrite:!1,data:"isFromStart",lazy:l&&!$&&_isNotFalse(c),immediateRender:l,stagger:0,parent:A},O),Le&&(B[Be.prop]=Le),_removeFromParent(e._startAt=Tween.set(k,B)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(_reverting$1?e._startAt.revert(_revertConfigNoKill):e._startAt.render(-1,!0)),e._zTime=t,!l)i(e._startAt,_tinyNum,_tinyNum);else if(!t)return}for(e._pt=e._ptCache=0,c=b&&_isNotFalse(c)||c&&!b,L=0;L<k.length;L++){if(j=k[L],ae=j._gsap||_harness(k)[L]._gsap,e._ptLookup[L]=sn={},_lazyLookup[ae.id]&&_lazyTweens.length&&_lazyRender(),rt=C===k?L:C.indexOf(j),Be&&(re=new Be).init(j,Le||O,e,rt,C)!==!1&&(e._pt=N=new PropTween(e._pt,j,re.name,0,1,re.render,re,0,re.priority),re._props.forEach(function(on){sn[on]=N}),re.priority&&(Ie=1)),!Be||Le)for(B in O)_plugins[B]&&(re=_checkPlugin(B,O,e,rt,j,C))?re.priority&&(Ie=1):sn[B]=N=_addPropTween.call(e,j,B,"get",O[B],rt,C,0,s.stringFilter);e._op&&e._op[L]&&e.kill(j,e._op[L]),I&&e._pt&&(_overwritingTween=e,_globalTimeline.killTweensOf(j,sn,e.globalTime(t)),Je=!e.parent,_overwritingTween=0),e._pt&&c&&(_lazyLookup[ae.id]=1)}Ie&&_sortPropTweensByPriority(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!Je,y&&t<=0&&S.render(_bigNum$2,!0,!0)},_updatePropTweens=function i(e,t,n,s,o,a,l,c){var h=(e._pt&&e._ptCache||(e._ptCache={}))[t],f,_,y,u;if(!h)for(h=e._ptCache[t]=[],y=e._ptLookup,u=e._targets.length;u--;){if(f=y[u][t],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==t&&f.fp!==t;)f=f._next;if(!f)return _forceAllPropTweens=1,e.vars[t]="+=0",_initTween(e,l),_forceAllPropTweens=0,c?_warn(t+" not eligible for reset"):1;h.push(f)}for(u=h.length;u--;)_=h[u],f=_._pt||_,f.s=(s||s===0)&&!o?s:f.s+(s||0)+a*f.c,f.c=n-f.s,_.e&&(_.e=_round$1(n)+getUnit(_.e)),_.b&&(_.b=f.s+getUnit(_.b))},_addAliasesToVars=function i(e,t){var n=e[0]?_getCache(e[0]).harness:0,s=n&&n.aliases,o,a,l,c;if(!s)return t;o=_merge({},t);for(a in s)if(a in o)for(c=s[a].split(","),l=c.length;l--;)o[c[l]]=o[a];return o},_parseKeyframe=function i(e,t,n,s){var o=t.ease||s||"power1.inOut",a,l;if(_isArray$1(t))l=n[e]||(n[e]=[]),t.forEach(function(c,h){return l.push({t:h/(t.length-1)*100,v:c,e:o})});else for(a in t)l=n[a]||(n[a]=[]),a==="ease"||l.push({t:parseFloat(e),v:t[a],e:o})},_parseFuncOrString=function i(e,t,n,s,o){return _isFunction$1(e)?e.call(t,n,s,o):_isString(e)&&~e.indexOf("random(")?_replaceRandom(e):e},_staggerTweenProps=_callbackNames+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",_staggerPropsToSkip={};_forEachName(_staggerTweenProps+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return _staggerPropsToSkip[i]=1});var Tween=function(i){_inheritsLoose$1(e,i);function e(n,s,o,a){var l;typeof s=="number"&&(o.duration=s,s=o,o=null),l=i.call(this,a?s:_inheritDefaults(s))||this;var c=l.vars,h=c.duration,f=c.delay,_=c.immediateRender,y=c.stagger,u=c.overwrite,b=c.keyframes,$=c.defaults,k=c.scrollTrigger,A=c.yoyoEase,C=s.parent||_globalTimeline,I=(_isArray$1(n)||_isTypedArray(n)?_isNumber(n[0]):"length"in s)?[n]:toArray(n),S,O,L,B,N,j,Ie,ae;if(l._targets=I.length?_harness(I):_warn("GSAP target "+n+" not found. https://gsap.com",!_config.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=u,b||y||_isFuncOrString(h)||_isFuncOrString(f)){if(s=l.vars,S=l.timeline=new Timeline({data:"nested",defaults:$||{},targets:C&&C.data==="nested"?C.vars.targets:I}),S.kill(),S.parent=S._dp=_assertThisInitialized$1(l),S._start=0,y||_isFuncOrString(h)||_isFuncOrString(f)){if(B=I.length,Ie=y&&distribute(y),_isObject$1(y))for(N in y)~_staggerTweenProps.indexOf(N)&&(ae||(ae={}),ae[N]=y[N]);for(O=0;O<B;O++)L=_copyExcluding(s,_staggerPropsToSkip),L.stagger=0,A&&(L.yoyoEase=A),ae&&_merge(L,ae),j=I[O],L.duration=+_parseFuncOrString(h,_assertThisInitialized$1(l),O,j,I),L.delay=(+_parseFuncOrString(f,_assertThisInitialized$1(l),O,j,I)||0)-l._delay,!y&&B===1&&L.delay&&(l._delay=f=L.delay,l._start+=f,L.delay=0),S.to(j,L,Ie?Ie(O,j,I):0),S._ease=_easeMap.none;S.duration()?h=f=0:l.timeline=0}else if(b){_inheritDefaults(_setDefaults$1(S.vars.defaults,{ease:"none"})),S._ease=_parseEase(b.ease||s.ease||"none");var Be=0,re,sn,rt;if(_isArray$1(b))b.forEach(function(Le){return S.to(I,Le,">")}),S.duration();else{L={};for(N in b)N==="ease"||N==="easeEach"||_parseKeyframe(N,b[N],L,b.easeEach);for(N in L)for(re=L[N].sort(function(Le,Je){return Le.t-Je.t}),Be=0,O=0;O<re.length;O++)sn=re[O],rt={ease:sn.e,duration:(sn.t-(O?re[O-1].t:0))/100*h},rt[N]=sn.v,S.to(I,rt,Be),Be+=rt.duration;S.duration()<h&&S.to({},{duration:h-S.duration()})}}h||l.duration(h=S.duration())}else l.timeline=0;return u===!0&&!_suppressOverwrites&&(_overwritingTween=_assertThisInitialized$1(l),_globalTimeline.killTweensOf(I),_overwritingTween=0),_addToTimeline(C,_assertThisInitialized$1(l),o),s.reversed&&l.reverse(),s.paused&&l.paused(!0),(_||!h&&!b&&l._start===_roundPrecise(C._time)&&_isNotFalse(_)&&_hasNoPausedAncestors(_assertThisInitialized$1(l))&&C.data!=="nested")&&(l._tTime=-1e-8,l.render(Math.max(0,-f)||0)),k&&_scrollTrigger(_assertThisInitialized$1(l),k),l}var t=e.prototype;return t.render=function(s,o,a){var l=this._time,c=this._tDur,h=this._dur,f=s<0,_=s>c-_tinyNum&&!f?c:s<_tinyNum?0:s,y,u,b,$,k,A,C,I,S;if(!h)_renderZeroDurationTween(this,s,o,a);else if(_!==this._tTime||!s||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f||this._lazy){if(y=_,I=this.timeline,this._repeat){if($=h+this._rDelay,this._repeat<-1&&f)return this.totalTime($*100+s,o,a);if(y=_roundPrecise(_%$),_===c?(b=this._repeat,y=h):(k=_roundPrecise(_/$),b=~~k,b&&b===k?(y=h,b--):y>h&&(y=h)),A=this._yoyo&&b&1,A&&(S=this._yEase,y=h-y),k=_animationCycle(this._tTime,$),y===l&&!a&&this._initted&&b===k)return this._tTime=_,this;b!==k&&(I&&this._yEase&&_propagateYoyoEase(I,A),this.vars.repeatRefresh&&!A&&!this._lock&&y!==$&&this._initted&&(this._lock=a=1,this.render(_roundPrecise($*b),!0).invalidate()._lock=0))}if(!this._initted){if(_attemptInitTween(this,f?s:y,a,o,_))return this._tTime=0,this;if(l!==this._time&&!(a&&this.vars.repeatRefresh&&b!==k))return this;if(h!==this._dur)return this.render(s,o,a)}if(this._tTime=_,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=C=(S||this._ease)(y/h),this._from&&(this.ratio=C=1-C),!l&&_&&!o&&!k&&(_callback(this,"onStart"),this._tTime!==_))return this;for(u=this._pt;u;)u.r(C,u.d),u=u._next;I&&I.render(s<0?s:I._dur*I._ease(y/this._dur),o,a)||this._startAt&&(this._zTime=s),this._onUpdate&&!o&&(f&&_rewindStartAt(this,s,o,a),_callback(this,"onUpdate")),this._repeat&&b!==k&&this.vars.onRepeat&&!o&&this.parent&&_callback(this,"onRepeat"),(_===this._tDur||!_)&&this._tTime===_&&(f&&!this._onUpdate&&_rewindStartAt(this,s,!0,!0),(s||!h)&&(_===this._tDur&&this._ts>0||!_&&this._ts<0)&&_removeFromParent(this,1),!o&&!(f&&!l)&&(_||l||A)&&(_callback(this,_===c?"onComplete":"onReverseComplete",!0),this._prom&&!(_<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),i.prototype.invalidate.call(this,s)},t.resetTo=function(s,o,a,l,c){_tickerActive||_ticker.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||_initTween(this,h),f=this._ease(h/this._dur),_updatePropTweens(this,s,o,a,l,f,h,c)?this.resetTo(s,o,a,l,1):(_alignPlayhead(this,0),this.parent||_addLinkedListItem(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(s,o){if(o===void 0&&(o="all"),!s&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?_interrupt(this):this.scrollTrigger&&this.scrollTrigger.kill(!!_reverting$1),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(s,o,_overwritingTween&&_overwritingTween.vars.overwrite!==!0)._first||_interrupt(this),this.parent&&a!==this.timeline.totalDuration()&&_setDuration(this,this._dur*this.timeline._tDur/a,0,1),this}var l=this._targets,c=s?toArray(s):l,h=this._ptLookup,f=this._pt,_,y,u,b,$,k,A;if((!o||o==="all")&&_arraysMatch(l,c))return o==="all"&&(this._pt=0),_interrupt(this);for(_=this._op=this._op||[],o!=="all"&&(_isString(o)&&($={},_forEachName(o,function(C){return $[C]=1}),o=$),o=_addAliasesToVars(l,o)),A=l.length;A--;)if(~c.indexOf(l[A])){y=h[A],o==="all"?(_[A]=o,b=y,u={}):(u=_[A]=_[A]||{},b=o);for($ in b)k=y&&y[$],k&&((!("kill"in k.d)||k.d.kill($)===!0)&&_removeLinkedListItem(this,k,"_pt"),delete y[$]),u!=="all"&&(u[$]=1)}return this._initted&&!this._pt&&f&&_interrupt(this),this},e.to=function(s,o){return new e(s,o,arguments[2])},e.from=function(s,o){return _createTweenType(1,arguments)},e.delayedCall=function(s,o,a,l){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:o,onReverseComplete:o,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:l})},e.fromTo=function(s,o,a){return _createTweenType(2,arguments)},e.set=function(s,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(s,o)},e.killTweensOf=function(s,o,a){return _globalTimeline.killTweensOf(s,o,a)},e}(Animation);_setDefaults$1(Tween.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});_forEachName("staggerTo,staggerFrom,staggerFromTo",function(i){Tween[i]=function(){var e=new Timeline,t=_slice.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});var _setterPlain=function i(e,t,n){return e[t]=n},_setterFunc=function i(e,t,n){return e[t](n)},_setterFuncWithParam=function i(e,t,n,s){return e[t](s.fp,n)},_setterAttribute=function i(e,t,n){return e.setAttribute(t,n)},_getSetter=function i(e,t){return _isFunction$1(e[t])?_setterFunc:_isUndefined$1(e[t])&&e.setAttribute?_setterAttribute:_setterPlain},_renderPlain=function i(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},_renderBoolean=function i(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},_renderComplexString=function i(e,t){var n=t._pt,s="";if(!e&&t.b)s=t.b;else if(e===1&&t.e)s=t.e;else{for(;n;)s=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+s,n=n._next;s+=t.c}t.set(t.t,t.p,s,t)},_renderPropTweens=function i(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},_addPluginModifier=function i(e,t,n,s){for(var o=this._pt,a;o;)a=o._next,o.p===s&&o.modifier(e,t,n),o=a},_killPropTweensOf=function i(e){for(var t=this._pt,n,s;t;)s=t._next,t.p===e&&!t.op||t.op===e?_removeLinkedListItem(this,t,"_pt"):t.dep||(n=1),t=s;return!n},_setterWithModifier=function i(e,t,n,s){s.mSet(e,t,s.m.call(s.tween,n,s.mt),s)},_sortPropTweensByPriority=function i(e){for(var t=e._pt,n,s,o,a;t;){for(n=t._next,s=o;s&&s.pr>t.pr;)s=s._next;(t._prev=s?s._prev:a)?t._prev._next=t:o=t,(t._next=s)?s._prev=t:a=t,t=n}e._pt=o},PropTween=function(){function i(t,n,s,o,a,l,c,h,f){this.t=n,this.s=o,this.c=a,this.p=s,this.r=l||_renderPlain,this.d=c||this,this.set=h||_setterPlain,this.pr=f||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(n,s,o){this.mSet=this.mSet||this.set,this.set=_setterWithModifier,this.m=n,this.mt=o,this.tween=s},i}();_forEachName(_callbackNames+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return _reservedProps[i]=1});_globals.TweenMax=_globals.TweenLite=Tween;_globals.TimelineLite=_globals.TimelineMax=Timeline;_globalTimeline=new Timeline({sortChildren:!1,defaults:_defaults,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});_config.stringFilter=_colorStringFilter;var _media=[],_listeners={},_emptyArray=[],_lastMediaTime=0,_contextID=0,_dispatch=function i(e){return(_listeners[e]||_emptyArray).map(function(t){return t()})},_onMediaChange=function i(){var e=Date.now(),t=[];e-_lastMediaTime>2&&(_dispatch("matchMediaInit"),_media.forEach(function(n){var s=n.queries,o=n.conditions,a,l,c,h;for(l in s)a=_win$3.matchMedia(s[l]).matches,a&&(c=1),a!==o[l]&&(o[l]=a,h=1);h&&(n.revert(),c&&t.push(n))}),_dispatch("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(s){return n.add(null,s)})}),_lastMediaTime=e,_dispatch("matchMedia"))},Context=function(){function i(t,n){this.selector=n&&selector(n),this.data=[],this._r=[],this.isReverted=!1,this.id=_contextID++,t&&this.add(t)}var e=i.prototype;return e.add=function(n,s,o){_isFunction$1(n)&&(o=s,s=n,n=_isFunction$1);var a=this,l=function(){var h=_context$1,f=a.selector,_;return h&&h!==a&&h.data.push(a),o&&(a.selector=selector(o)),_context$1=a,_=s.apply(a,arguments),_isFunction$1(_)&&a._r.push(_),_context$1=h,a.selector=f,a.isReverted=!1,_};return a.last=l,n===_isFunction$1?l(a,function(c){return a.add(null,c)}):n?a[n]=l:l},e.ignore=function(n){var s=_context$1;_context$1=null,n(this),_context$1=s},e.getTweens=function(){var n=[];return this.data.forEach(function(s){return s instanceof i?n.push.apply(n,s.getTweens()):s instanceof Tween&&!(s.parent&&s.parent.data==="nested")&&n.push(s)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,s){var o=this;if(n?function(){for(var l=o.getTweens(),c=o.data.length,h;c--;)h=o.data[c],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(f){return l.splice(l.indexOf(f),1)}));for(l.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,_){return _.g-f.g||-1/0}).forEach(function(f){return f.t.revert(n)}),c=o.data.length;c--;)h=o.data[c],h instanceof Timeline?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof Tween)&&h.revert&&h.revert(n);o._r.forEach(function(f){return f(n,o)}),o.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),s)for(var a=_media.length;a--;)_media[a].id===this.id&&_media.splice(a,1)},e.revert=function(n){this.kill(n||{})},i}(),MatchMedia=function(){function i(t){this.contexts=[],this.scope=t,_context$1&&_context$1.data.push(this)}var e=i.prototype;return e.add=function(n,s,o){_isObject$1(n)||(n={matches:n});var a=new Context(0,o||this.scope),l=a.conditions={},c,h,f;_context$1&&!a.selector&&(a.selector=_context$1.selector),this.contexts.push(a),s=a.add("onMatch",s),a.queries=n;for(h in n)h==="all"?f=1:(c=_win$3.matchMedia(n[h]),c&&(_media.indexOf(a)<0&&_media.push(a),(l[h]=c.matches)&&(f=1),c.addListener?c.addListener(_onMediaChange):c.addEventListener("change",_onMediaChange)));return f&&s(a,function(_){return a.add(null,_)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(s){return s.kill(n,!0)})},i}(),_gsap={registerPlugin:function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(s){return _createPlugin(s)})},timeline:function i(e){return new Timeline(e)},getTweensOf:function i(e,t){return _globalTimeline.getTweensOf(e,t)},getProperty:function i(e,t,n,s){_isString(e)&&(e=toArray(e)[0]);var o=_getCache(e||{}).get,a=n?_passThrough:_numericIfPossible;return n==="native"&&(n=""),e&&(t?a((_plugins[t]&&_plugins[t].get||o)(e,t,n,s)):function(l,c,h){return a((_plugins[l]&&_plugins[l].get||o)(e,l,c,h))})},quickSetter:function i(e,t,n){if(e=toArray(e),e.length>1){var s=e.map(function(f){return gsap$1.quickSetter(f,t,n)}),o=s.length;return function(f){for(var _=o;_--;)s[_](f)}}e=e[0]||{};var a=_plugins[t],l=_getCache(e),c=l.harness&&(l.harness.aliases||{})[t]||t,h=a?function(f){var _=new a;_quickTween._pt=0,_.init(e,n?f+n:f,_quickTween,0,[e]),_.render(1,_),_quickTween._pt&&_renderPropTweens(1,_quickTween)}:l.set(e,c);return a?h:function(f){return h(e,c,n?f+n:f,l,1)}},quickTo:function i(e,t,n){var s,o=gsap$1.to(e,_setDefaults$1((s={},s[t]="+=0.1",s.paused=!0,s.stagger=0,s),n||{})),a=function(c,h,f){return o.resetTo(t,c,h,f)};return a.tween=o,a},isTweening:function i(e){return _globalTimeline.getTweensOf(e,!0).length>0},defaults:function i(e){return e&&e.ease&&(e.ease=_parseEase(e.ease,_defaults.ease)),_mergeDeep(_defaults,e||{})},config:function i(e){return _mergeDeep(_config,e||{})},registerEffect:function i(e){var t=e.name,n=e.effect,s=e.plugins,o=e.defaults,a=e.extendTimeline;(s||"").split(",").forEach(function(l){return l&&!_plugins[l]&&!_globals[l]&&_warn(t+" effect requires "+l+" plugin.")}),_effects[t]=function(l,c,h){return n(toArray(l),_setDefaults$1(c||{},o),h)},a&&(Timeline.prototype[t]=function(l,c,h){return this.add(_effects[t](l,_isObject$1(c)?c:(h=c)&&{},this),h)})},registerEase:function i(e,t){_easeMap[e]=_parseEase(t)},parseEase:function i(e,t){return arguments.length?_parseEase(e,t):_easeMap},getById:function i(e){return _globalTimeline.getById(e)},exportRoot:function i(e,t){e===void 0&&(e={});var n=new Timeline(e),s,o;for(n.smoothChildTiming=_isNotFalse(e.smoothChildTiming),_globalTimeline.remove(n),n._dp=0,n._time=n._tTime=_globalTimeline._time,s=_globalTimeline._first;s;)o=s._next,(t||!(!s._dur&&s instanceof Tween&&s.vars.onComplete===s._targets[0]))&&_addToTimeline(n,s,s._start-s._delay),s=o;return _addToTimeline(_globalTimeline,n,0),n},context:function i(e,t){return e?new Context(e,t):_context$1},matchMedia:function i(e){return new MatchMedia(e)},matchMediaRefresh:function i(){return _media.forEach(function(e){var t=e.conditions,n,s;for(s in t)t[s]&&(t[s]=!1,n=1);n&&e.revert()})||_onMediaChange()},addEventListener:function i(e,t){var n=_listeners[e]||(_listeners[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function i(e,t){var n=_listeners[e],s=n&&n.indexOf(t);s>=0&&n.splice(s,1)},utils:{wrap,wrapYoyo,distribute,random,snap,normalize,getUnit,clamp,splitColor,toArray,selector,mapRange,pipe,unitize,interpolate,shuffle},install:_install,effects:_effects,ticker:_ticker,updateRoot:Timeline.updateRoot,plugins:_plugins,globalTimeline:_globalTimeline,core:{PropTween,globals:_addGlobal,Tween,Timeline,Animation,getCache:_getCache,_removeLinkedListItem,reverting:function i(){return _reverting$1},context:function i(e){return e&&_context$1&&(_context$1.data.push(e),e._ctx=_context$1),_context$1},suppressOverwrites:function i(e){return _suppressOverwrites=e}}};_forEachName("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return _gsap[i]=Tween[i]});_ticker.add(Timeline.updateRoot);_quickTween=_gsap.to({},{duration:0});var _getPluginPropTween=function i(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},_addModifiers=function i(e,t){var n=e._targets,s,o,a;for(s in t)for(o=n.length;o--;)a=e._ptLookup[o][s],a&&(a=a.d)&&(a._pt&&(a=_getPluginPropTween(a,s)),a&&a.modifier&&a.modifier(t[s],e,n[o],s))},_buildModifierPlugin=function i(e,t){return{name:e,headless:1,rawVars:1,init:function(s,o,a){a._onInit=function(l){var c,h;if(_isString(o)&&(c={},_forEachName(o,function(f){return c[f]=1}),o=c),t){c={};for(h in o)c[h]=t(o[h]);o=c}_addModifiers(l,o)}}}},gsap$1=_gsap.registerPlugin({name:"attr",init:function i(e,t,n,s,o){var a,l,c;this.tween=n;for(a in t)c=e.getAttribute(a)||"",l=this.add(e,"setAttribute",(c||0)+"",t[a],s,o,0,0,a),l.op=a,l.b=c,this._props.push(a)},render:function i(e,t){for(var n=t._pt;n;)_reverting$1?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function i(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},_buildModifierPlugin("roundProps",_roundModifier),_buildModifierPlugin("modifiers"),_buildModifierPlugin("snap",snap))||_gsap;Tween.version=Timeline.version=gsap$1.version="3.13.0";_coreReady=1;_windowExists$2()&&_wake();_easeMap.Power0;_easeMap.Power1;_easeMap.Power2;_easeMap.Power3;_easeMap.Power4;_easeMap.Linear;_easeMap.Quad;_easeMap.Cubic;_easeMap.Quart;_easeMap.Quint;_easeMap.Strong;_easeMap.Elastic;_easeMap.Back;_easeMap.SteppedEase;_easeMap.Bounce;_easeMap.Sine;_easeMap.Expo;_easeMap.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _win$2,_doc$2,_docElement$2,_pluginInitted,_tempDiv$1,_recentSetterPlugin,_reverting,_windowExists$1=function i(){return typeof window<"u"},_transformProps={},_RAD2DEG$1=180/Math.PI,_DEG2RAD=Math.PI/180,_atan2=Math.atan2,_bigNum$1=1e8,_capsExp=/([A-Z])/g,_horizontalExp=/(left|right|width|margin|padding|x)/i,_complexExp=/[\s,\(]\S/,_propertyAliases={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_renderCSSProp=function i(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},_renderPropWithEnd=function i(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},_renderCSSPropWithBeginning=function i(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},_renderRoundedCSSProp=function i(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},_renderNonTweeningValue=function i(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},_renderNonTweeningValueOnlyAtEnd=function i(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},_setterCSSStyle=function i(e,t,n){return e.style[t]=n},_setterCSSProp=function i(e,t,n){return e.style.setProperty(t,n)},_setterTransform=function i(e,t,n){return e._gsap[t]=n},_setterScale=function i(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},_setterScaleWithRender=function i(e,t,n,s,o){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(o,a)},_setterTransformWithRender=function i(e,t,n,s,o){var a=e._gsap;a[t]=n,a.renderTransform(o,a)},_transformProp$2="transform",_transformOriginProp$2=_transformProp$2+"Origin",_saveStyle=function i(e,t){var n=this,s=this.target,o=s.style,a=s._gsap;if(e in _transformProps&&o){if(this.tfm=this.tfm||{},e!=="transform")e=_propertyAliases[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return n.tfm[l]=_get(s,l)}):this.tfm[e]=a.x?a[e]:_get(s,e),e===_transformOriginProp$2&&(this.tfm.zOrigin=a.zOrigin);else return _propertyAliases.transform.split(",").forEach(function(l){return i.call(n,l,t)});if(this.props.indexOf(_transformProp$2)>=0)return;a.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(_transformOriginProp$2,t,"")),e=_transformProp$2}(o||t)&&this.props.push(e,t,o[e])},_removeIndependentTransforms=function i(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},_revertStyle=function i(){var e=this.props,t=this.target,n=t.style,s=t._gsap,o,a;for(o=0;o<e.length;o+=3)e[o+1]?e[o+1]===2?t[e[o]](e[o+2]):t[e[o]]=e[o+2]:e[o+2]?n[e[o]]=e[o+2]:n.removeProperty(e[o].substr(0,2)==="--"?e[o]:e[o].replace(_capsExp,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)s[a]=this.tfm[a];s.svg&&(s.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),o=_reverting(),(!o||!o.isStart)&&!n[_transformProp$2]&&(_removeIndependentTransforms(n),s.zOrigin&&n[_transformOriginProp$2]&&(n[_transformOriginProp$2]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},_getStyleSaver$1=function i(e,t){var n={target:e,props:[],revert:_revertStyle,save:_saveStyle};return e._gsap||gsap$1.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(s){return n.save(s)}),n},_supports3D$1,_createElement$1=function i(e,t){var n=_doc$2.createElementNS?_doc$2.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):_doc$2.createElement(e);return n&&n.style?n:_doc$2.createElement(e)},_getComputedProperty=function i(e,t,n){var s=getComputedStyle(e);return s[t]||s.getPropertyValue(t.replace(_capsExp,"-$1").toLowerCase())||s.getPropertyValue(t)||!n&&i(e,_checkPropPrefix(t)||t,1)||""},_prefixes="O,Moz,ms,Ms,Webkit".split(","),_checkPropPrefix=function i(e,t,n){var s=t||_tempDiv$1,o=s.style,a=5;if(e in o&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(_prefixes[a]+e in o););return a<0?null:(a===3?"ms":a>=0?_prefixes[a]:"")+e},_initCore$1=function i(){_windowExists$1()&&window.document&&(_win$2=window,_doc$2=_win$2.document,_docElement$2=_doc$2.documentElement,_tempDiv$1=_createElement$1("div")||{style:{}},_createElement$1("div"),_transformProp$2=_checkPropPrefix(_transformProp$2),_transformOriginProp$2=_transformProp$2+"Origin",_tempDiv$1.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_supports3D$1=!!_checkPropPrefix("perspective"),_reverting=gsap$1.core.reverting,_pluginInitted=1)},_getReparentedCloneBBox=function i(e){var t=e.ownerSVGElement,n=_createElement$1("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),o;s.style.display="block",n.appendChild(s),_docElement$2.appendChild(n);try{o=s.getBBox()}catch{}return n.removeChild(s),_docElement$2.removeChild(n),o},_getAttributeFallbacks=function i(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},_getBBox=function i(e){var t,n;try{t=e.getBBox()}catch{t=_getReparentedCloneBBox(e),n=1}return t&&(t.width||t.height)||n||(t=_getReparentedCloneBBox(e)),t&&!t.width&&!t.x&&!t.y?{x:+_getAttributeFallbacks(e,["x","cx","x1"])||0,y:+_getAttributeFallbacks(e,["y","cy","y1"])||0,width:0,height:0}:t},_isSVG=function i(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&_getBBox(e))},_removeProperty=function i(e,t){if(t){var n=e.style,s;t in _transformProps&&t!==_transformOriginProp$2&&(t=_transformProp$2),n.removeProperty?(s=t.substr(0,2),(s==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(s==="--"?t:t.replace(_capsExp,"-$1").toLowerCase())):n.removeAttribute(t)}},_addNonTweeningPT=function i(e,t,n,s,o,a){var l=new PropTween(e._pt,t,n,0,1,a?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue);return e._pt=l,l.b=s,l.e=o,e._props.push(n),l},_nonConvertibleUnits={deg:1,rad:1,turn:1},_nonStandardLayouts={grid:1,flex:1},_convertToUnit=function i(e,t,n,s){var o=parseFloat(n)||0,a=(n+"").trim().substr((o+"").length)||"px",l=_tempDiv$1.style,c=_horizontalExp.test(t),h=e.tagName.toLowerCase()==="svg",f=(h?"client":"offset")+(c?"Width":"Height"),_=100,y=s==="px",u=s==="%",b,$,k,A;if(s===a||!o||_nonConvertibleUnits[s]||_nonConvertibleUnits[a])return o;if(a!=="px"&&!y&&(o=i(e,t,n,"px")),A=e.getCTM&&_isSVG(e),(u||a==="%")&&(_transformProps[t]||~t.indexOf("adius")))return b=A?e.getBBox()[c?"width":"height"]:e[f],_round$1(u?o/b*_:o/100*b);if(l[c?"width":"height"]=_+(y?a:s),$=s!=="rem"&&~t.indexOf("adius")||s==="em"&&e.appendChild&&!h?e:e.parentNode,A&&($=(e.ownerSVGElement||{}).parentNode),(!$||$===_doc$2||!$.appendChild)&&($=_doc$2.body),k=$._gsap,k&&u&&k.width&&c&&k.time===_ticker.time&&!k.uncache)return _round$1(o/k.width*_);if(u&&(t==="height"||t==="width")){var C=e.style[t];e.style[t]=_+s,b=e[f],C?e.style[t]=C:_removeProperty(e,t)}else(u||a==="%")&&!_nonStandardLayouts[_getComputedProperty($,"display")]&&(l.position=_getComputedProperty(e,"position")),$===e&&(l.position="static"),$.appendChild(_tempDiv$1),b=_tempDiv$1[f],$.removeChild(_tempDiv$1),l.position="absolute";return c&&u&&(k=_getCache($),k.time=_ticker.time,k.width=$[f]),_round$1(y?b*o/_:b&&o?_/b*o:0)},_get=function i(e,t,n,s){var o;return _pluginInitted||_initCore$1(),t in _propertyAliases&&t!=="transform"&&(t=_propertyAliases[t],~t.indexOf(",")&&(t=t.split(",")[0])),_transformProps[t]&&t!=="transform"?(o=_parseTransform(e,s),o=t!=="transformOrigin"?o[t]:o.svg?o.origin:_firstTwoOnly(_getComputedProperty(e,_transformOriginProp$2))+" "+o.zOrigin+"px"):(o=e.style[t],(!o||o==="auto"||s||~(o+"").indexOf("calc("))&&(o=_specialProps[t]&&_specialProps[t](e,t,n)||_getComputedProperty(e,t)||_getProperty(e,t)||(t==="opacity"?1:0))),n&&!~(o+"").trim().indexOf(" ")?_convertToUnit(e,t,o,n)+n:o},_tweenComplexCSSString=function i(e,t,n,s){if(!n||n==="none"){var o=_checkPropPrefix(t,e,1),a=o&&_getComputedProperty(e,o,1);a&&a!==n?(t=o,n=a):t==="borderColor"&&(n=_getComputedProperty(e,"borderTopColor"))}var l=new PropTween(this._pt,e.style,t,0,1,_renderComplexString),c=0,h=0,f,_,y,u,b,$,k,A,C,I,S,O;if(l.b=n,l.e=s,n+="",s+="",s.substring(0,6)==="var(--"&&(s=_getComputedProperty(e,s.substring(4,s.indexOf(")")))),s==="auto"&&($=e.style[t],e.style[t]=s,s=_getComputedProperty(e,t)||s,$?e.style[t]=$:_removeProperty(e,t)),f=[n,s],_colorStringFilter(f),n=f[0],s=f[1],y=n.match(_numWithUnitExp)||[],O=s.match(_numWithUnitExp)||[],O.length){for(;_=_numWithUnitExp.exec(s);)k=_[0],C=s.substring(c,_.index),b?b=(b+1)%5:(C.substr(-5)==="rgba("||C.substr(-5)==="hsla(")&&(b=1),k!==($=y[h++]||"")&&(u=parseFloat($)||0,S=$.substr((u+"").length),k.charAt(1)==="="&&(k=_parseRelative(u,k)+S),A=parseFloat(k),I=k.substr((A+"").length),c=_numWithUnitExp.lastIndex-I.length,I||(I=I||_config.units[t]||S,c===s.length&&(s+=I,l.e+=I)),S!==I&&(u=_convertToUnit(e,t,$,I)||0),l._pt={_next:l._pt,p:C||h===1?C:",",s:u,c:A-u,m:b&&b<4||t==="zIndex"?Math.round:0});l.c=c<s.length?s.substring(c,s.length):""}else l.r=t==="display"&&s==="none"?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue;return _relExp.test(s)&&(l.e=0),this._pt=l,l},_keywordToPercent={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_convertKeywordsToPercentages=function i(e){var t=e.split(" "),n=t[0],s=t[1]||"50%";return(n==="top"||n==="bottom"||s==="left"||s==="right")&&(e=n,n=s,s=e),t[0]=_keywordToPercent[n]||n,t[1]=_keywordToPercent[s]||s,t.join(" ")},_renderClearProps=function i(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,s=n.style,o=t.u,a=n._gsap,l,c,h;if(o==="all"||o===!0)s.cssText="",c=1;else for(o=o.split(","),h=o.length;--h>-1;)l=o[h],_transformProps[l]&&(c=1,l=l==="transformOrigin"?_transformOriginProp$2:_transformProp$2),_removeProperty(n,l);c&&(_removeProperty(n,_transformProp$2),a&&(a.svg&&n.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",_parseTransform(n,1),a.uncache=1,_removeIndependentTransforms(s)))}},_specialProps={clearProps:function i(e,t,n,s,o){if(o.data!=="isFromStart"){var a=e._pt=new PropTween(e._pt,t,n,0,0,_renderClearProps);return a.u=s,a.pr=-10,a.tween=o,e._props.push(n),1}}},_identity2DMatrix=[1,0,0,1,0,0],_rotationalProperties={},_isNullTransform=function i(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},_getComputedTransformMatrixAsArray=function i(e){var t=_getComputedProperty(e,_transformProp$2);return _isNullTransform(t)?_identity2DMatrix:t.substr(7).match(_numExp).map(_round$1)},_getMatrix=function i(e,t){var n=e._gsap||_getCache(e),s=e.style,o=_getComputedTransformMatrixAsArray(e),a,l,c,h;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,o=[c.a,c.b,c.c,c.d,c.e,c.f],o.join(",")==="1,0,0,1,0,0"?_identity2DMatrix:o):(o===_identity2DMatrix&&!e.offsetParent&&e!==_docElement$2&&!n.svg&&(c=s.display,s.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,l=e.nextElementSibling,_docElement$2.appendChild(e)),o=_getComputedTransformMatrixAsArray(e),c?s.display=c:_removeProperty(e,"display"),h&&(l?a.insertBefore(e,l):a?a.appendChild(e):_docElement$2.removeChild(e))),t&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},_applySVGOrigin=function i(e,t,n,s,o,a){var l=e._gsap,c=o||_getMatrix(e,!0),h=l.xOrigin||0,f=l.yOrigin||0,_=l.xOffset||0,y=l.yOffset||0,u=c[0],b=c[1],$=c[2],k=c[3],A=c[4],C=c[5],I=t.split(" "),S=parseFloat(I[0])||0,O=parseFloat(I[1])||0,L,B,N,j;n?c!==_identity2DMatrix&&(B=u*k-b*$)&&(N=S*(k/B)+O*(-$/B)+($*C-k*A)/B,j=S*(-b/B)+O*(u/B)-(u*C-b*A)/B,S=N,O=j):(L=_getBBox(e),S=L.x+(~I[0].indexOf("%")?S/100*L.width:S),O=L.y+(~(I[1]||I[0]).indexOf("%")?O/100*L.height:O)),s||s!==!1&&l.smooth?(A=S-h,C=O-f,l.xOffset=_+(A*u+C*$)-A,l.yOffset=y+(A*b+C*k)-C):l.xOffset=l.yOffset=0,l.xOrigin=S,l.yOrigin=O,l.smooth=!!s,l.origin=t,l.originIsAbsolute=!!n,e.style[_transformOriginProp$2]="0px 0px",a&&(_addNonTweeningPT(a,l,"xOrigin",h,S),_addNonTweeningPT(a,l,"yOrigin",f,O),_addNonTweeningPT(a,l,"xOffset",_,l.xOffset),_addNonTweeningPT(a,l,"yOffset",y,l.yOffset)),e.setAttribute("data-svg-origin",S+" "+O)},_parseTransform=function i(e,t){var n=e._gsap||new GSCache(e);if("x"in n&&!t&&!n.uncache)return n;var s=e.style,o=n.scaleX<0,a="px",l="deg",c=getComputedStyle(e),h=_getComputedProperty(e,_transformOriginProp$2)||"0",f,_,y,u,b,$,k,A,C,I,S,O,L,B,N,j,Ie,ae,Be,re,sn,rt,Le,Je,on,Gn,Pn,Se,Gt,pt,jt,jn;return f=_=y=$=k=A=C=I=S=0,u=b=1,n.svg=!!(e.getCTM&&_isSVG(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(s[_transformProp$2]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[_transformProp$2]!=="none"?c[_transformProp$2]:"")),s.scale=s.rotate=s.translate="none"),B=_getMatrix(e,n.svg),n.svg&&(n.uncache?(on=e.getBBox(),h=n.xOrigin-on.x+"px "+(n.yOrigin-on.y)+"px",Je=""):Je=!t&&e.getAttribute("data-svg-origin"),_applySVGOrigin(e,Je||h,!!Je||n.originIsAbsolute,n.smooth!==!1,B)),O=n.xOrigin||0,L=n.yOrigin||0,B!==_identity2DMatrix&&(ae=B[0],Be=B[1],re=B[2],sn=B[3],f=rt=B[4],_=Le=B[5],B.length===6?(u=Math.sqrt(ae*ae+Be*Be),b=Math.sqrt(sn*sn+re*re),$=ae||Be?_atan2(Be,ae)*_RAD2DEG$1:0,C=re||sn?_atan2(re,sn)*_RAD2DEG$1+$:0,C&&(b*=Math.abs(Math.cos(C*_DEG2RAD))),n.svg&&(f-=O-(O*ae+L*re),_-=L-(O*Be+L*sn))):(jn=B[6],pt=B[7],Pn=B[8],Se=B[9],Gt=B[10],jt=B[11],f=B[12],_=B[13],y=B[14],N=_atan2(jn,Gt),k=N*_RAD2DEG$1,N&&(j=Math.cos(-N),Ie=Math.sin(-N),Je=rt*j+Pn*Ie,on=Le*j+Se*Ie,Gn=jn*j+Gt*Ie,Pn=rt*-Ie+Pn*j,Se=Le*-Ie+Se*j,Gt=jn*-Ie+Gt*j,jt=pt*-Ie+jt*j,rt=Je,Le=on,jn=Gn),N=_atan2(-re,Gt),A=N*_RAD2DEG$1,N&&(j=Math.cos(-N),Ie=Math.sin(-N),Je=ae*j-Pn*Ie,on=Be*j-Se*Ie,Gn=re*j-Gt*Ie,jt=sn*Ie+jt*j,ae=Je,Be=on,re=Gn),N=_atan2(Be,ae),$=N*_RAD2DEG$1,N&&(j=Math.cos(N),Ie=Math.sin(N),Je=ae*j+Be*Ie,on=rt*j+Le*Ie,Be=Be*j-ae*Ie,Le=Le*j-rt*Ie,ae=Je,rt=on),k&&Math.abs(k)+Math.abs($)>359.9&&(k=$=0,A=180-A),u=_round$1(Math.sqrt(ae*ae+Be*Be+re*re)),b=_round$1(Math.sqrt(Le*Le+jn*jn)),N=_atan2(rt,Le),C=Math.abs(N)>2e-4?N*_RAD2DEG$1:0,S=jt?1/(jt<0?-jt:jt):0),n.svg&&(Je=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!_isNullTransform(_getComputedProperty(e,_transformProp$2)),Je&&e.setAttribute("transform",Je))),Math.abs(C)>90&&Math.abs(C)<270&&(o?(u*=-1,C+=$<=0?180:-180,$+=$<=0?180:-180):(b*=-1,C+=C<=0?180:-180)),t=t||n.uncache,n.x=f-((n.xPercent=f&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+a,n.y=_-((n.yPercent=_&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-_)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+a,n.z=y+a,n.scaleX=_round$1(u),n.scaleY=_round$1(b),n.rotation=_round$1($)+l,n.rotationX=_round$1(k)+l,n.rotationY=_round$1(A)+l,n.skewX=C+l,n.skewY=I+l,n.transformPerspective=S+a,(n.zOrigin=parseFloat(h.split(" ")[2])||!t&&n.zOrigin||0)&&(s[_transformOriginProp$2]=_firstTwoOnly(h)),n.xOffset=n.yOffset=0,n.force3D=_config.force3D,n.renderTransform=n.svg?_renderSVGTransforms:_supports3D$1?_renderCSSTransforms:_renderNon3DTransforms,n.uncache=0,n},_firstTwoOnly=function i(e){return(e=e.split(" "))[0]+" "+e[1]},_addPxTranslate=function i(e,t,n){var s=getUnit(t);return _round$1(parseFloat(t)+parseFloat(_convertToUnit(e,"x",n+"px",s)))+s},_renderNon3DTransforms=function i(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,_renderCSSTransforms(e,t)},_zeroDeg="0deg",_zeroPx="0px",_endParenthesis=") ",_renderCSSTransforms=function i(e,t){var n=t||this,s=n.xPercent,o=n.yPercent,a=n.x,l=n.y,c=n.z,h=n.rotation,f=n.rotationY,_=n.rotationX,y=n.skewX,u=n.skewY,b=n.scaleX,$=n.scaleY,k=n.transformPerspective,A=n.force3D,C=n.target,I=n.zOrigin,S="",O=A==="auto"&&e&&e!==1||A===!0;if(I&&(_!==_zeroDeg||f!==_zeroDeg)){var L=parseFloat(f)*_DEG2RAD,B=Math.sin(L),N=Math.cos(L),j;L=parseFloat(_)*_DEG2RAD,j=Math.cos(L),a=_addPxTranslate(C,a,B*j*-I),l=_addPxTranslate(C,l,-Math.sin(L)*-I),c=_addPxTranslate(C,c,N*j*-I+I)}k!==_zeroPx&&(S+="perspective("+k+_endParenthesis),(s||o)&&(S+="translate("+s+"%, "+o+"%) "),(O||a!==_zeroPx||l!==_zeroPx||c!==_zeroPx)&&(S+=c!==_zeroPx||O?"translate3d("+a+", "+l+", "+c+") ":"translate("+a+", "+l+_endParenthesis),h!==_zeroDeg&&(S+="rotate("+h+_endParenthesis),f!==_zeroDeg&&(S+="rotateY("+f+_endParenthesis),_!==_zeroDeg&&(S+="rotateX("+_+_endParenthesis),(y!==_zeroDeg||u!==_zeroDeg)&&(S+="skew("+y+", "+u+_endParenthesis),(b!==1||$!==1)&&(S+="scale("+b+", "+$+_endParenthesis),C.style[_transformProp$2]=S||"translate(0, 0)"},_renderSVGTransforms=function i(e,t){var n=t||this,s=n.xPercent,o=n.yPercent,a=n.x,l=n.y,c=n.rotation,h=n.skewX,f=n.skewY,_=n.scaleX,y=n.scaleY,u=n.target,b=n.xOrigin,$=n.yOrigin,k=n.xOffset,A=n.yOffset,C=n.forceCSS,I=parseFloat(a),S=parseFloat(l),O,L,B,N,j;c=parseFloat(c),h=parseFloat(h),f=parseFloat(f),f&&(f=parseFloat(f),h+=f,c+=f),c||h?(c*=_DEG2RAD,h*=_DEG2RAD,O=Math.cos(c)*_,L=Math.sin(c)*_,B=Math.sin(c-h)*-y,N=Math.cos(c-h)*y,h&&(f*=_DEG2RAD,j=Math.tan(h-f),j=Math.sqrt(1+j*j),B*=j,N*=j,f&&(j=Math.tan(f),j=Math.sqrt(1+j*j),O*=j,L*=j)),O=_round$1(O),L=_round$1(L),B=_round$1(B),N=_round$1(N)):(O=_,N=y,L=B=0),(I&&!~(a+"").indexOf("px")||S&&!~(l+"").indexOf("px"))&&(I=_convertToUnit(u,"x",a,"px"),S=_convertToUnit(u,"y",l,"px")),(b||$||k||A)&&(I=_round$1(I+b-(b*O+$*B)+k),S=_round$1(S+$-(b*L+$*N)+A)),(s||o)&&(j=u.getBBox(),I=_round$1(I+s/100*j.width),S=_round$1(S+o/100*j.height)),j="matrix("+O+","+L+","+B+","+N+","+I+","+S+")",u.setAttribute("transform",j),C&&(u.style[_transformProp$2]=j)},_addRotationalPropTween=function i(e,t,n,s,o){var a=360,l=_isString(o),c=parseFloat(o)*(l&&~o.indexOf("rad")?_RAD2DEG$1:1),h=c-s,f=s+h+"deg",_,y;return l&&(_=o.split("_")[1],_==="short"&&(h%=a,h!==h%(a/2)&&(h+=h<0?a:-360)),_==="cw"&&h<0?h=(h+a*_bigNum$1)%a-~~(h/a)*a:_==="ccw"&&h>0&&(h=(h-a*_bigNum$1)%a-~~(h/a)*a)),e._pt=y=new PropTween(e._pt,t,n,s,h,_renderPropWithEnd),y.e=f,y.u="deg",e._props.push(n),y},_assign=function i(e,t){for(var n in t)e[n]=t[n];return e},_addRawTransformPTs=function i(e,t,n){var s=_assign({},n._gsap),o="perspective,force3D,transformOrigin,svgOrigin",a=n.style,l,c,h,f,_,y,u,b;s.svg?(h=n.getAttribute("transform"),n.setAttribute("transform",""),a[_transformProp$2]=t,l=_parseTransform(n,1),_removeProperty(n,_transformProp$2),n.setAttribute("transform",h)):(h=getComputedStyle(n)[_transformProp$2],a[_transformProp$2]=t,l=_parseTransform(n,1),a[_transformProp$2]=h);for(c in _transformProps)h=s[c],f=l[c],h!==f&&o.indexOf(c)<0&&(u=getUnit(h),b=getUnit(f),_=u!==b?_convertToUnit(n,c,h,b):parseFloat(h),y=parseFloat(f),e._pt=new PropTween(e._pt,l,c,_,y-_,_renderCSSProp),e._pt.u=b||0,e._props.push(c));_assign(l,s)};_forEachName("padding,margin,Width,Radius",function(i,e){var t="Top",n="Right",s="Bottom",o="Left",a=(e<3?[t,n,s,o]:[t+o,t+n,s+n,s+o]).map(function(l){return e<2?i+l:"border"+l+i});_specialProps[e>1?"border"+i:i]=function(l,c,h,f,_){var y,u;if(arguments.length<4)return y=a.map(function(b){return _get(l,b,h)}),u=y.join(" "),u.split(y[0]).length===5?y[0]:u;y=(f+"").split(" "),u={},a.forEach(function(b,$){return u[b]=y[$]=y[$]||y[($-1)/2|0]}),l.init(c,u,_)}});var CSSPlugin={name:"css",register:_initCore$1,targetTest:function i(e){return e.style&&e.nodeType},init:function i(e,t,n,s,o){var a=this._props,l=e.style,c=n.vars.startAt,h,f,_,y,u,b,$,k,A,C,I,S,O,L,B,N;_pluginInitted||_initCore$1(),this.styles=this.styles||_getStyleSaver$1(e),N=this.styles.props,this.tween=n;for($ in t)if($!=="autoRound"&&(f=t[$],!(_plugins[$]&&_checkPlugin($,t,n,s,e,o)))){if(u=typeof f,b=_specialProps[$],u==="function"&&(f=f.call(n,s,e,o),u=typeof f),u==="string"&&~f.indexOf("random(")&&(f=_replaceRandom(f)),b)b(this,e,$,f,n)&&(B=1);else if($.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue($)+"").trim(),f+="",_colorExp.lastIndex=0,_colorExp.test(h)||(k=getUnit(h),A=getUnit(f)),A?k!==A&&(h=_convertToUnit(e,$,h,A)+A):k&&(f+=k),this.add(l,"setProperty",h,f,s,o,0,0,$),a.push($),N.push($,0,l[$]);else if(u!=="undefined"){if(c&&$ in c?(h=typeof c[$]=="function"?c[$].call(n,s,e,o):c[$],_isString(h)&&~h.indexOf("random(")&&(h=_replaceRandom(h)),getUnit(h+"")||h==="auto"||(h+=_config.units[$]||getUnit(_get(e,$))||""),(h+"").charAt(1)==="="&&(h=_get(e,$))):h=_get(e,$),y=parseFloat(h),C=u==="string"&&f.charAt(1)==="="&&f.substr(0,2),C&&(f=f.substr(2)),_=parseFloat(f),$ in _propertyAliases&&($==="autoAlpha"&&(y===1&&_get(e,"visibility")==="hidden"&&_&&(y=0),N.push("visibility",0,l.visibility),_addNonTweeningPT(this,l,"visibility",y?"inherit":"hidden",_?"inherit":"hidden",!_)),$!=="scale"&&$!=="transform"&&($=_propertyAliases[$],~$.indexOf(",")&&($=$.split(",")[0]))),I=$ in _transformProps,I){if(this.styles.save($),u==="string"&&f.substring(0,6)==="var(--"&&(f=_getComputedProperty(e,f.substring(4,f.indexOf(")"))),_=parseFloat(f)),S||(O=e._gsap,O.renderTransform&&!t.parseTransform||_parseTransform(e,t.parseTransform),L=t.smoothOrigin!==!1&&O.smooth,S=this._pt=new PropTween(this._pt,l,_transformProp$2,0,1,O.renderTransform,O,0,-1),S.dep=1),$==="scale")this._pt=new PropTween(this._pt,O,"scaleY",O.scaleY,(C?_parseRelative(O.scaleY,C+_):_)-O.scaleY||0,_renderCSSProp),this._pt.u=0,a.push("scaleY",$),$+="X";else if($==="transformOrigin"){N.push(_transformOriginProp$2,0,l[_transformOriginProp$2]),f=_convertKeywordsToPercentages(f),O.svg?_applySVGOrigin(e,f,0,L,0,this):(A=parseFloat(f.split(" ")[2])||0,A!==O.zOrigin&&_addNonTweeningPT(this,O,"zOrigin",O.zOrigin,A),_addNonTweeningPT(this,l,$,_firstTwoOnly(h),_firstTwoOnly(f)));continue}else if($==="svgOrigin"){_applySVGOrigin(e,f,1,L,0,this);continue}else if($ in _rotationalProperties){_addRotationalPropTween(this,O,$,y,C?_parseRelative(y,C+f):f);continue}else if($==="smoothOrigin"){_addNonTweeningPT(this,O,"smooth",O.smooth,f);continue}else if($==="force3D"){O[$]=f;continue}else if($==="transform"){_addRawTransformPTs(this,f,e);continue}}else $ in l||($=_checkPropPrefix($)||$);if(I||(_||_===0)&&(y||y===0)&&!_complexExp.test(f)&&$ in l)k=(h+"").substr((y+"").length),_||(_=0),A=getUnit(f)||($ in _config.units?_config.units[$]:k),k!==A&&(y=_convertToUnit(e,$,h,A)),this._pt=new PropTween(this._pt,I?O:l,$,y,(C?_parseRelative(y,C+_):_)-y,!I&&(A==="px"||$==="zIndex")&&t.autoRound!==!1?_renderRoundedCSSProp:_renderCSSProp),this._pt.u=A||0,k!==A&&A!=="%"&&(this._pt.b=h,this._pt.r=_renderCSSPropWithBeginning);else if($ in l)_tweenComplexCSSString.call(this,e,$,h,C?C+f:f);else if($ in e)this.add(e,$,h||e[$],C?C+f:f,s,o);else if($!=="parseTransform"){_missingPlugin($,f);continue}I||($ in l?N.push($,0,l[$]):typeof e[$]=="function"?N.push($,2,e[$]()):N.push($,1,h||e[$])),a.push($)}}B&&_sortPropTweensByPriority(this)},render:function i(e,t){if(t.tween._time||!_reverting())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:_get,aliases:_propertyAliases,getSetter:function i(e,t,n){var s=_propertyAliases[t];return s&&s.indexOf(",")<0&&(t=s),t in _transformProps&&t!==_transformOriginProp$2&&(e._gsap.x||_get(e,"x"))?n&&_recentSetterPlugin===n?t==="scale"?_setterScale:_setterTransform:(_recentSetterPlugin=n||{})&&(t==="scale"?_setterScaleWithRender:_setterTransformWithRender):e.style&&!_isUndefined$1(e.style[t])?_setterCSSStyle:~t.indexOf("-")?_setterCSSProp:_getSetter(e,t)},core:{_removeProperty,_getMatrix}};gsap$1.utils.checkPrefix=_checkPropPrefix;gsap$1.core.getStyleSaver=_getStyleSaver$1;(function(i,e,t,n){var s=_forEachName(i+","+e+","+t,function(o){_transformProps[o]=1});_forEachName(e,function(o){_config.units[o]="deg",_rotationalProperties[o]=1}),_propertyAliases[s[13]]=i+","+e,_forEachName(n,function(o){var a=o.split(":");_propertyAliases[a[1]]=s[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");_forEachName("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){_config.units[i]="px"});gsap$1.registerPlugin(CSSPlugin);var gsapWithCSS=gsap$1.registerPlugin(CSSPlugin)||gsap$1;gsapWithCSS.core.Tween;/*!
 * matrix 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _doc$1,_win$1,_docElement$1,_body$1,_divContainer,_svgContainer,_identityMatrix$1,_gEl,_transformProp$1="transform",_transformOriginProp$1=_transformProp$1+"Origin",_hasOffsetBug,_setDoc=function i(e){var t=e.ownerDocument||e;for(!(_transformProp$1 in e.style)&&("msTransform"in e.style)&&(_transformProp$1="msTransform",_transformOriginProp$1=_transformProp$1+"Origin");t.parentNode&&(t=t.parentNode););if(_win$1=window,_identityMatrix$1=new Matrix2D,t){_doc$1=t,_docElement$1=t.documentElement,_body$1=t.body,_gEl=_doc$1.createElementNS("http://www.w3.org/2000/svg","g"),_gEl.style.transform="none";var n=t.createElement("div"),s=t.createElement("div"),o=t&&(t.body||t.firstElementChild);o&&o.appendChild&&(o.appendChild(n),n.appendChild(s),n.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),_hasOffsetBug=s.offsetParent!==n,o.removeChild(n))}return t},_forceNonZeroScale=function i(e){for(var t,n;e&&e!==_body$1;)n=e._gsap,n&&n.uncache&&n.get(e,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),t?t.push(n):t=[n]),e=e.parentNode;return t},_svgTemps=[],_divTemps=[],_getDocScrollTop$1=function i(){return _win$1.pageYOffset||_doc$1.scrollTop||_docElement$1.scrollTop||_body$1.scrollTop||0},_getDocScrollLeft$1=function i(){return _win$1.pageXOffset||_doc$1.scrollLeft||_docElement$1.scrollLeft||_body$1.scrollLeft||0},_svgOwner=function i(e){return e.ownerSVGElement||((e.tagName+"").toLowerCase()==="svg"?e:null)},_isFixed$1=function i(e){if(_win$1.getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return i(e)},_createSibling=function i(e,t){if(e.parentNode&&(_doc$1||_setDoc(e))){var n=_svgOwner(e),s=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",o=n?t?"rect":"g":"div",a=t!==2?0:100,l=t===3?100:0,c="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",h=_doc$1.createElementNS?_doc$1.createElementNS(s.replace(/^https/,"http"),o):_doc$1.createElement(o);return t&&(n?(_svgContainer||(_svgContainer=i(e)),h.setAttribute("width",.01),h.setAttribute("height",.01),h.setAttribute("transform","translate("+a+","+l+")"),_svgContainer.appendChild(h)):(_divContainer||(_divContainer=i(e),_divContainer.style.cssText=c),h.style.cssText=c+"width:0.1px;height:0.1px;top:"+l+"px;left:"+a+"px",_divContainer.appendChild(h))),h}throw"Need document and parent."},_consolidate=function i(e){for(var t=new Matrix2D,n=0;n<e.numberOfItems;n++)t.multiply(e.getItem(n).matrix);return t},_getCTM=function i(e){var t=e.getCTM(),n;return t||(n=e.style[_transformProp$1],e.style[_transformProp$1]="none",e.appendChild(_gEl),t=_gEl.getCTM(),e.removeChild(_gEl),n?e.style[_transformProp$1]=n:e.style.removeProperty(_transformProp$1.replace(/([A-Z])/g,"-$1").toLowerCase())),t||_identityMatrix$1.clone()},_placeSiblings=function i(e,t){var n=_svgOwner(e),s=e===n,o=n?_svgTemps:_divTemps,a=e.parentNode,l=a&&!n&&a.shadowRoot&&a.shadowRoot.appendChild?a.shadowRoot:a,c,h,f,_,y,u;if(e===_win$1)return e;if(o.length||o.push(_createSibling(e,1),_createSibling(e,2),_createSibling(e,3)),c=n?_svgContainer:_divContainer,n)s?(f=_getCTM(e),_=-f.e/f.a,y=-f.f/f.d,h=_identityMatrix$1):e.getBBox?(f=e.getBBox(),h=e.transform?e.transform.baseVal:{},h=h.numberOfItems?h.numberOfItems>1?_consolidate(h):h.getItem(0).matrix:_identityMatrix$1,_=h.a*f.x+h.c*f.y,y=h.b*f.x+h.d*f.y):(h=new Matrix2D,_=y=0),(s?n:a).appendChild(c),c.setAttribute("transform","matrix("+h.a+","+h.b+","+h.c+","+h.d+","+(h.e+_)+","+(h.f+y)+")");else{if(_=y=0,_hasOffsetBug)for(h=e.offsetParent,f=e;f&&(f=f.parentNode)&&f!==h&&f.parentNode;)(_win$1.getComputedStyle(f)[_transformProp$1]+"").length>4&&(_=f.offsetLeft,y=f.offsetTop,f=0);if(u=_win$1.getComputedStyle(e),u.position!=="absolute"&&u.position!=="fixed")for(h=e.offsetParent;a&&a!==h;)_+=a.scrollLeft||0,y+=a.scrollTop||0,a=a.parentNode;f=c.style,f.top=e.offsetTop-y+"px",f.left=e.offsetLeft-_+"px",f[_transformProp$1]=u[_transformProp$1],f[_transformOriginProp$1]=u[_transformOriginProp$1],f.position=u.position==="fixed"?"fixed":"absolute",l.appendChild(c)}return c},_setMatrix=function i(e,t,n,s,o,a,l){return e.a=t,e.b=n,e.c=s,e.d=o,e.e=a,e.f=l,e},Matrix2D=function(){function i(t,n,s,o,a,l){t===void 0&&(t=1),n===void 0&&(n=0),s===void 0&&(s=0),o===void 0&&(o=1),a===void 0&&(a=0),l===void 0&&(l=0),_setMatrix(this,t,n,s,o,a,l)}var e=i.prototype;return e.inverse=function(){var n=this.a,s=this.b,o=this.c,a=this.d,l=this.e,c=this.f,h=n*a-s*o||1e-10;return _setMatrix(this,a/h,-s/h,-o/h,n/h,(o*c-a*l)/h,-(n*c-s*l)/h)},e.multiply=function(n){var s=this.a,o=this.b,a=this.c,l=this.d,c=this.e,h=this.f,f=n.a,_=n.c,y=n.b,u=n.d,b=n.e,$=n.f;return _setMatrix(this,f*s+y*a,f*o+y*l,_*s+u*a,_*o+u*l,c+b*s+$*a,h+b*o+$*l)},e.clone=function(){return new i(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(n){var s=this.a,o=this.b,a=this.c,l=this.d,c=this.e,h=this.f;return s===n.a&&o===n.b&&a===n.c&&l===n.d&&c===n.e&&h===n.f},e.apply=function(n,s){s===void 0&&(s={});var o=n.x,a=n.y,l=this.a,c=this.b,h=this.c,f=this.d,_=this.e,y=this.f;return s.x=o*l+a*h+_||0,s.y=o*c+a*f+y||0,s},i}();function getGlobalMatrix(i,e,t,n){if(!i||!i.parentNode||(_doc$1||_setDoc(i)).documentElement===i)return new Matrix2D;var s=_forceNonZeroScale(i),o=_svgOwner(i),a=o?_svgTemps:_divTemps,l=_placeSiblings(i),c=a[0].getBoundingClientRect(),h=a[1].getBoundingClientRect(),f=a[2].getBoundingClientRect(),_=l.parentNode,y=_isFixed$1(i),u=new Matrix2D((h.left-c.left)/100,(h.top-c.top)/100,(f.left-c.left)/100,(f.top-c.top)/100,c.left+(y?0:_getDocScrollLeft$1()),c.top+(y?0:_getDocScrollTop$1()));if(_.removeChild(l),s)for(c=s.length;c--;)h=s[c],h.scaleX=h.scaleY=0,h.renderTransform(1,h);return e?u.inverse():u}function _assertThisInitialized(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _inheritsLoose(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}var gsap,_win,_doc,_docElement,_body,_tempDiv,_placeholderDiv,_coreInitted,_checkPrefix,_toArray,_supportsPassive,_isTouchDevice,_touchEventLookup,_isMultiTouching,_isAndroid,InertiaPlugin,_defaultCursor,_supportsPointer,_context,_getStyleSaver,_dragCount=0,_windowExists=function i(){return typeof window<"u"},_getGSAP=function i(){return gsap||_windowExists()&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap},_isFunction=function i(e){return typeof e=="function"},_isObject=function i(e){return typeof e=="object"},_isUndefined=function i(e){return typeof e>"u"},_emptyFunc=function i(){return!1},_transformProp="transform",_transformOriginProp="transformOrigin",_round=function i(e){return Math.round(e*1e4)/1e4},_isArray=Array.isArray,_createElement=function i(e,t){var n=_doc.createElementNS?_doc.createElementNS("http://www.w3.org/1999/xhtml".replace(/^https/,"http"),e):_doc.createElement(e);return n.style?n:_doc.createElement(e)},_RAD2DEG=180/Math.PI,_bigNum=1e20,_identityMatrix=new Matrix2D,_getTime=Date.now||function(){return new Date().getTime()},_renderQueue=[],_lookup={},_lookupCount=0,_clickableTagExp=/^(?:a|input|textarea|button|select)$/i,_lastDragTime=0,_temp1={},_windowProxy={},_copy=function i(e,t){var n={},s;for(s in e)n[s]=t?e[s]*t:e[s];return n},_extend=function i(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},_setTouchActionForAllDescendants=function i(e,t){for(var n=e.length,s;n--;)t?e[n].style.touchAction=t:e[n].style.removeProperty("touch-action"),s=e[n].children,s&&s.length&&i(s,t)},_renderQueueTick=function i(){return _renderQueue.forEach(function(e){return e()})},_addToRenderQueue=function i(e){_renderQueue.push(e),_renderQueue.length===1&&gsap.ticker.add(_renderQueueTick)},_renderQueueTimeout=function i(){return!_renderQueue.length&&gsap.ticker.remove(_renderQueueTick)},_removeFromRenderQueue=function i(e){for(var t=_renderQueue.length;t--;)_renderQueue[t]===e&&_renderQueue.splice(t,1);gsap.to(_renderQueueTimeout,{overwrite:!0,delay:15,duration:0,onComplete:_renderQueueTimeout,data:"_draggable"})},_setDefaults=function i(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},_addListener=function i(e,t,n,s){if(e.addEventListener){var o=_touchEventLookup[t];s=s||(_supportsPassive?{passive:!1}:null),e.addEventListener(o||t,n,s),o&&t!==o&&e.addEventListener(t,n,s)}},_removeListener=function i(e,t,n,s){if(e.removeEventListener){var o=_touchEventLookup[t];e.removeEventListener(o||t,n,s),o&&t!==o&&e.removeEventListener(t,n,s)}},_preventDefault=function i(e){e.preventDefault&&e.preventDefault(),e.preventManipulation&&e.preventManipulation()},_hasTouchID=function i(e,t){for(var n=e.length;n--;)if(e[n].identifier===t)return!0},_onMultiTouchDocumentEnd=function i(e){_isMultiTouching=e.touches&&_dragCount<e.touches.length,_removeListener(e.target,"touchend",i)},_onMultiTouchDocument=function i(e){_isMultiTouching=e.touches&&_dragCount<e.touches.length,_addListener(e.target,"touchend",_onMultiTouchDocumentEnd)},_getDocScrollTop=function i(e){return _win.pageYOffset||e.scrollTop||e.documentElement.scrollTop||e.body.scrollTop||0},_getDocScrollLeft=function i(e){return _win.pageXOffset||e.scrollLeft||e.documentElement.scrollLeft||e.body.scrollLeft||0},_addScrollListener=function i(e,t){_addListener(e,"scroll",t),_isRoot(e.parentNode)||i(e.parentNode,t)},_removeScrollListener=function i(e,t){_removeListener(e,"scroll",t),_isRoot(e.parentNode)||i(e.parentNode,t)},_isRoot=function i(e){return!e||e===_docElement||e.nodeType===9||e===_doc.body||e===_win||!e.nodeType||!e.parentNode},_getMaxScroll=function i(e,t){var n=t==="x"?"Width":"Height",s="scroll"+n,o="client"+n;return Math.max(0,_isRoot(e)?Math.max(_docElement[s],_body[s])-(_win["inner"+n]||_docElement[o]||_body[o]):e[s]-e[o])},_recordMaxScrolls=function i(e,t){var n=_getMaxScroll(e,"x"),s=_getMaxScroll(e,"y");_isRoot(e)?e=_windowProxy:i(e.parentNode,t),e._gsMaxScrollX=n,e._gsMaxScrollY=s,t||(e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0)},_setStyle=function i(e,t,n){var s=e.style;s&&(_isUndefined(s[t])&&(t=_checkPrefix(t,e)||t),n==null?s.removeProperty&&s.removeProperty(t.replace(/([A-Z])/g,"-$1").toLowerCase()):s[t]=n)},_getComputedStyle=function i(e){return _win.getComputedStyle(e instanceof Element?e:e.host||(e.parentNode||{}).host||e)},_tempRect={},_parseRect=function i(e){if(e===_win)return _tempRect.left=_tempRect.top=0,_tempRect.width=_tempRect.right=_docElement.clientWidth||e.innerWidth||_body.clientWidth||0,_tempRect.height=_tempRect.bottom=(e.innerHeight||0)-20<_docElement.clientHeight?_docElement.clientHeight:e.innerHeight||_body.clientHeight||0,_tempRect;var t=e.ownerDocument||_doc,n=_isUndefined(e.pageX)?!e.nodeType&&!_isUndefined(e.left)&&!_isUndefined(e.top)?e:_toArray(e)[0].getBoundingClientRect():{left:e.pageX-_getDocScrollLeft(t),top:e.pageY-_getDocScrollTop(t),right:e.pageX-_getDocScrollLeft(t)+1,bottom:e.pageY-_getDocScrollTop(t)+1};return _isUndefined(n.right)&&!_isUndefined(n.width)?(n.right=n.left+n.width,n.bottom=n.top+n.height):_isUndefined(n.width)&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n},_dispatchEvent=function i(e,t,n){var s=e.vars,o=s[n],a=e._listeners[t],l;return _isFunction(o)&&(l=o.apply(s.callbackScope||e,s[n+"Params"]||[e.pointerEvent])),a&&e.dispatchEvent(t)===!1&&(l=!1),l},_getBounds=function i(e,t){var n=_toArray(e)[0],s,o,a;return!n.nodeType&&n!==_win?_isUndefined(e.left)?(o=e.min||e.minX||e.minRotation||0,s=e.min||e.minY||0,{left:o,top:s,width:(e.max||e.maxX||e.maxRotation||0)-o,height:(e.max||e.maxY||0)-s}):(a={x:0,y:0},{left:e.left-a.x,top:e.top-a.y,width:e.width,height:e.height}):_getElementBounds(n,t)},_point1={},_getElementBounds=function i(e,t){t=_toArray(t)[0];var n=e.getBBox&&e.ownerSVGElement,s=e.ownerDocument||_doc,o,a,l,c,h,f,_,y,u,b,$,k,A;if(e===_win)l=_getDocScrollTop(s),o=_getDocScrollLeft(s),a=o+(s.documentElement.clientWidth||e.innerWidth||s.body.clientWidth||0),c=l+((e.innerHeight||0)-20<s.documentElement.clientHeight?s.documentElement.clientHeight:e.innerHeight||s.body.clientHeight||0);else{if(t===_win||_isUndefined(t))return e.getBoundingClientRect();o=l=0,n?(b=e.getBBox(),$=b.width,k=b.height):(e.viewBox&&(b=e.viewBox.baseVal)&&(o=b.x||0,l=b.y||0,$=b.width,k=b.height),$||(A=_getComputedStyle(e),b=A.boxSizing==="border-box",$=(parseFloat(A.width)||e.clientWidth||0)+(b?0:parseFloat(A.borderLeftWidth)+parseFloat(A.borderRightWidth)),k=(parseFloat(A.height)||e.clientHeight||0)+(b?0:parseFloat(A.borderTopWidth)+parseFloat(A.borderBottomWidth)))),a=$,c=k}return e===t?{left:o,top:l,width:a-o,height:c-l}:(h=getGlobalMatrix(t,!0).multiply(getGlobalMatrix(e)),f=h.apply({x:o,y:l}),_=h.apply({x:a,y:l}),y=h.apply({x:a,y:c}),u=h.apply({x:o,y:c}),o=Math.min(f.x,_.x,y.x,u.x),l=Math.min(f.y,_.y,y.y,u.y),{left:o,top:l,width:Math.max(f.x,_.x,y.x,u.x)-o,height:Math.max(f.y,_.y,y.y,u.y)-l})},_parseInertia=function i(e,t,n,s,o,a){var l={},c,h,f;if(t)if(o!==1&&t instanceof Array){if(l.end=c=[],f=t.length,_isObject(t[0]))for(h=0;h<f;h++)c[h]=_copy(t[h],o);else for(h=0;h<f;h++)c[h]=t[h]*o;n+=1.1,s-=1.1}else _isFunction(t)?l.end=function(_){var y=t.call(e,_),u,b;if(o!==1)if(_isObject(y)){u={};for(b in y)u[b]=y[b]*o;y=u}else y*=o;return y}:l.end=t;return(n||n===0)&&(l.max=n),(s||s===0)&&(l.min=s),a&&(l.velocity=0),l},_isClickable=function i(e){var t;return!e||!e.getAttribute||e===_body?!1:(t=e.getAttribute("data-clickable"))==="true"||t!=="false"&&(_clickableTagExp.test(e.nodeName+"")||e.getAttribute("contentEditable")==="true")?!0:i(e.parentNode)},_setSelectable=function i(e,t){for(var n=e.length,s;n--;)s=e[n],s.ondragstart=s.onselectstart=t?null:_emptyFunc,gsap.set(s,{lazy:!0,userSelect:t?"text":"none"})},_isFixed=function i(e){if(_getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return i(e)},_supports3D,_addPaddingBR,ScrollProxy=function i(e,t){e=gsap.utils.toArray(e)[0],t=t||{};var n=document.createElement("div"),s=n.style,o=e.firstChild,a=0,l=0,c=e.scrollTop,h=e.scrollLeft,f=e.scrollWidth,_=e.scrollHeight,y=0,u=0,b=0,$,k,A,C,I,S;_supports3D&&t.force3D!==!1?(I="translate3d(",S="px,0px)"):_transformProp&&(I="translate(",S="px)"),this.scrollTop=function(O,L){if(!arguments.length)return-this.top();this.top(-O,L)},this.scrollLeft=function(O,L){if(!arguments.length)return-this.left();this.left(-O,L)},this.left=function(O,L){if(!arguments.length)return-(e.scrollLeft+l);var B=e.scrollLeft-h,N=l;if((B>2||B<-2)&&!L){h=e.scrollLeft,gsap.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-h),t.onKill&&t.onKill();return}O=-O,O<0?(l=O-.5|0,O=0):O>u?(l=O-u|0,O=u):l=0,(l||N)&&(this._skip||(s[_transformProp]=I+-l+"px,"+-a+S),l+y>=0&&(s.paddingRight=l+y+"px")),e.scrollLeft=O|0,h=e.scrollLeft},this.top=function(O,L){if(!arguments.length)return-(e.scrollTop+a);var B=e.scrollTop-c,N=a;if((B>2||B<-2)&&!L){c=e.scrollTop,gsap.killTweensOf(this,{top:1,scrollTop:1}),this.top(-c),t.onKill&&t.onKill();return}O=-O,O<0?(a=O-.5|0,O=0):O>b?(a=O-b|0,O=b):a=0,(a||N)&&(this._skip||(s[_transformProp]=I+-l+"px,"+-a+S)),e.scrollTop=O|0,c=e.scrollTop},this.maxScrollTop=function(){return b},this.maxScrollLeft=function(){return u},this.disable=function(){for(o=n.firstChild;o;)C=o.nextSibling,e.appendChild(o),o=C;e===n.parentNode&&e.removeChild(n)},this.enable=function(){if(o=e.firstChild,o!==n){for(;o;)C=o.nextSibling,n.appendChild(o),o=C;e.appendChild(n),this.calibrate()}},this.calibrate=function(O){var L=e.clientWidth===$,B,N,j;c=e.scrollTop,h=e.scrollLeft,!(L&&e.clientHeight===k&&n.offsetHeight===A&&f===e.scrollWidth&&_===e.scrollHeight&&!O)&&((a||l)&&(N=this.left(),j=this.top(),this.left(-e.scrollLeft),this.top(-e.scrollTop)),B=_getComputedStyle(e),(!L||O)&&(s.display="block",s.width="auto",s.paddingRight="0px",y=Math.max(0,e.scrollWidth-e.clientWidth),y&&(y+=parseFloat(B.paddingLeft)+(_addPaddingBR?parseFloat(B.paddingRight):0))),s.display="inline-block",s.position="relative",s.overflow="visible",s.verticalAlign="top",s.boxSizing="content-box",s.width="100%",s.paddingRight=y+"px",_addPaddingBR&&(s.paddingBottom=B.paddingBottom),$=e.clientWidth,k=e.clientHeight,f=e.scrollWidth,_=e.scrollHeight,u=e.scrollWidth-$,b=e.scrollHeight-k,A=n.offsetHeight,s.display="block",(N||j)&&(this.left(N),this.top(j)))},this.content=n,this.element=e,this._skip=!1,this.enable()},_initCore=function i(e){if(_windowExists()&&document.body){var t=window&&window.navigator;_win=window,_doc=document,_docElement=_doc.documentElement,_body=_doc.body,_tempDiv=_createElement("div"),_supportsPointer=!!window.PointerEvent,_placeholderDiv=_createElement("div"),_placeholderDiv.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",_defaultCursor=_placeholderDiv.style.cursor==="grab"?"grab":"move",_isAndroid=t&&t.userAgent.toLowerCase().indexOf("android")!==-1,_isTouchDevice="ontouchstart"in _docElement&&"orientation"in _win||t&&(t.MaxTouchPoints>0||t.msMaxTouchPoints>0),_addPaddingBR=function(){var n=_createElement("div"),s=_createElement("div"),o=s.style,a=_body,l;return o.display="inline-block",o.position="relative",n.style.cssText="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",n.appendChild(s),a.appendChild(n),l=s.offsetHeight+18>n.scrollHeight,a.removeChild(n),l}(),_touchEventLookup=function(n){for(var s=n.split(","),o=("onpointerdown"in _tempDiv?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in _tempDiv?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":n).split(","),a={},l=4;--l>-1;)a[s[l]]=o[l],a[o[l]]=s[l];try{_docElement.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){_supportsPassive=1}}))}catch{}return a}("touchstart,touchmove,touchend,touchcancel"),_addListener(_doc,"touchcancel",_emptyFunc),_addListener(_win,"touchmove",_emptyFunc),_body&&_body.addEventListener("touchstart",_emptyFunc),_addListener(_doc,"contextmenu",function(){for(var n in _lookup)_lookup[n].isPressed&&_lookup[n].endDrag()}),gsap=_coreInitted=_getGSAP()}gsap?(InertiaPlugin=gsap.plugins.inertia,_context=gsap.core.context||function(){},_checkPrefix=gsap.utils.checkPrefix,_transformProp=_checkPrefix(_transformProp),_transformOriginProp=_checkPrefix(_transformOriginProp),_toArray=gsap.utils.toArray,_getStyleSaver=gsap.core.getStyleSaver,_supports3D=!!_checkPrefix("perspective")):e&&console.warn("Please gsap.registerPlugin(Draggable)")},EventDispatcher=function(){function i(t){this._listeners={},this.target=t||this}var e=i.prototype;return e.addEventListener=function(n,s){var o=this._listeners[n]||(this._listeners[n]=[]);~o.indexOf(s)||o.push(s)},e.removeEventListener=function(n,s){var o=this._listeners[n],a=o&&o.indexOf(s);a>=0&&o.splice(a,1)},e.dispatchEvent=function(n){var s=this,o;return(this._listeners[n]||[]).forEach(function(a){return a.call(s,{type:n,target:s.target})===!1&&(o=!1)}),o},i}(),Draggable=function(i){_inheritsLoose(e,i);function e(t,n){var s;s=i.call(this)||this,_coreInitted||_initCore(1),t=_toArray(t)[0],s.styles=_getStyleSaver&&_getStyleSaver(t,"transform,left,top"),InertiaPlugin||(InertiaPlugin=gsap.plugins.inertia),s.vars=n=_copy(n||{}),s.target=t,s.x=s.y=s.rotation=0,s.dragResistance=parseFloat(n.dragResistance)||0,s.edgeResistance=isNaN(n.edgeResistance)?1:parseFloat(n.edgeResistance)||0,s.lockAxis=n.lockAxis,s.autoScroll=n.autoScroll||0,s.lockedAxis=null,s.allowEventDefault=!!n.allowEventDefault,gsap.getProperty(t,"x");var o=(n.type||"x,y").toLowerCase(),a=~o.indexOf("x")||~o.indexOf("y"),l=o.indexOf("rotation")!==-1,c=l?"rotation":a?"x":"left",h=a?"y":"top",f=!!(~o.indexOf("x")||~o.indexOf("left")||o==="scroll"),_=!!(~o.indexOf("y")||~o.indexOf("top")||o==="scroll"),y=n.minimumMovement||2,u=_assertThisInitialized(s),b=_toArray(n.trigger||n.handle||t),$={},k=0,A=!1,C=n.autoScrollMarginTop||40,I=n.autoScrollMarginRight||40,S=n.autoScrollMarginBottom||40,O=n.autoScrollMarginLeft||40,L=n.clickableTest||_isClickable,B=0,N=t._gsap||gsap.core.getCache(t),j=_isFixed(t),Ie=function(M,W){return parseFloat(N.get(t,M,W))},ae=t.ownerDocument||_doc,Be,re,sn,rt,Le,Je,on,Gn,Pn,Se,Gt,pt,jt,jn,En,Yn,qn,Tn,wi,Ni,Wn,Nr,ke,qt,Cr,ki,Sn,Ci,Ds,_s,Mi,Vs,Is,Bs=function(M){return _preventDefault(M),M.stopImmediatePropagation&&M.stopImmediatePropagation(),!1},Si=function z(M){if(u.autoScroll&&u.isDragging&&(A||qn)){var W=t,F=u.autoScroll*15,Y,he,me,fe,ye,An,wn,zn;for(A=!1,_windowProxy.scrollTop=_win.pageYOffset!=null?_win.pageYOffset:ae.documentElement.scrollTop!=null?ae.documentElement.scrollTop:ae.body.scrollTop,_windowProxy.scrollLeft=_win.pageXOffset!=null?_win.pageXOffset:ae.documentElement.scrollLeft!=null?ae.documentElement.scrollLeft:ae.body.scrollLeft,fe=u.pointerX-_windowProxy.scrollLeft,ye=u.pointerY-_windowProxy.scrollTop;W&&!he;)he=_isRoot(W.parentNode),Y=he?_windowProxy:W.parentNode,me=he?{bottom:Math.max(_docElement.clientHeight,_win.innerHeight||0),right:Math.max(_docElement.clientWidth,_win.innerWidth||0),left:0,top:0}:Y.getBoundingClientRect(),An=wn=0,_&&(zn=Y._gsMaxScrollY-Y.scrollTop,zn<0?wn=zn:ye>me.bottom-S&&zn?(A=!0,wn=Math.min(zn,F*(1-Math.max(0,me.bottom-ye)/S)|0)):ye<me.top+C&&Y.scrollTop&&(A=!0,wn=-Math.min(Y.scrollTop,F*(1-Math.max(0,ye-me.top)/C)|0)),wn&&(Y.scrollTop+=wn)),f&&(zn=Y._gsMaxScrollX-Y.scrollLeft,zn<0?An=zn:fe>me.right-I&&zn?(A=!0,An=Math.min(zn,F*(1-Math.max(0,me.right-fe)/I)|0)):fe<me.left+O&&Y.scrollLeft&&(A=!0,An=-Math.min(Y.scrollLeft,F*(1-Math.max(0,fe-me.left)/O)|0)),An&&(Y.scrollLeft+=An)),he&&(An||wn)&&(_win.scrollTo(Y.scrollLeft,Y.scrollTop),nt(u.pointerX+An,u.pointerY+wn)),W=Y}if(qn){var Un=u.x,xi=u.y;l?(u.deltaX=Un-parseFloat(N.rotation),u.rotation=Un,N.rotation=Un+"deg",N.renderTransform(1,N)):re?(_&&(u.deltaY=xi-re.top(),re.top(xi)),f&&(u.deltaX=Un-re.left(),re.left(Un))):a?(_&&(u.deltaY=xi-parseFloat(N.y),N.y=xi+"px"),f&&(u.deltaX=Un-parseFloat(N.x),N.x=Un+"px"),N.renderTransform(1,N)):(_&&(u.deltaY=xi-parseFloat(t.style.top||0),t.style.top=xi+"px"),f&&(u.deltaX=Un-parseFloat(t.style.left||0),t.style.left=Un+"px")),Gn&&!M&&!Ci&&(Ci=!0,_dispatchEvent(u,"drag","onDrag")===!1&&(f&&(u.x-=u.deltaX),_&&(u.y-=u.deltaY),z(!0)),Ci=!1)}qn=!1},Dr=function(M,W){var F=u.x,Y=u.y,he,me;t._gsap||(N=gsap.core.getCache(t)),N.uncache&&gsap.getProperty(t,"x"),a?(u.x=parseFloat(N.x),u.y=parseFloat(N.y)):l?u.x=u.rotation=parseFloat(N.rotation):re?(u.y=re.top(),u.x=re.left()):(u.y=parseFloat(t.style.top||(me=_getComputedStyle(t))&&me.top)||0,u.x=parseFloat(t.style.left||(me||{}).left)||0),(wi||Ni||Wn)&&!W&&(u.isDragging||u.isThrowing)&&(Wn&&(_temp1.x=u.x,_temp1.y=u.y,he=Wn(_temp1),he.x!==u.x&&(u.x=he.x,qn=!0),he.y!==u.y&&(u.y=he.y,qn=!0)),wi&&(he=wi(u.x),he!==u.x&&(u.x=he,l&&(u.rotation=he),qn=!0)),Ni&&(he=Ni(u.y),he!==u.y&&(u.y=he),qn=!0)),qn&&Si(!0),M||(u.deltaX=u.x-F,u.deltaY=u.y-Y,_dispatchEvent(u,"throwupdate","onThrowUpdate"))},zs=function(M,W,F,Y){return W==null&&(W=-1e20),F==null&&(F=_bigNum),_isFunction(M)?function(he){var me=u.isPressed?1-u.edgeResistance:1;return M.call(u,(he>F?F+(he-F)*me:he<W?W+(he-W)*me:he)*Y)*Y}:_isArray(M)?function(he){for(var me=M.length,fe=0,ye=_bigNum,An,wn;--me>-1;)An=M[me],wn=An-he,wn<0&&(wn=-wn),wn<ye&&An>=W&&An<=F&&(fe=me,ye=wn);return M[fe]}:isNaN(M)?function(he){return he}:function(){return M*Y}},js=function(M,W,F,Y,he,me,fe){return me=me&&me<_bigNum?me*me:_bigNum,_isFunction(M)?function(ye){var An=u.isPressed?1-u.edgeResistance:1,wn=ye.x,zn=ye.y,Un,xi,Ei;return ye.x=wn=wn>F?F+(wn-F)*An:wn<W?W+(wn-W)*An:wn,ye.y=zn=zn>he?he+(zn-he)*An:zn<Y?Y+(zn-Y)*An:zn,Un=M.call(u,ye),Un!==ye&&(ye.x=Un.x,ye.y=Un.y),fe!==1&&(ye.x*=fe,ye.y*=fe),me<_bigNum&&(xi=ye.x-wn,Ei=ye.y-zn,xi*xi+Ei*Ei>me&&(ye.x=wn,ye.y=zn)),ye}:_isArray(M)?function(ye){for(var An=M.length,wn=0,zn=_bigNum,Un,xi,Ei,Di;--An>-1;)Ei=M[An],Un=Ei.x-ye.x,xi=Ei.y-ye.y,Di=Un*Un+xi*xi,Di<zn&&(wn=An,zn=Di);return zn<=me?M[wn]:ye}:function(ye){return ye}},Ws=function(){var M,W,F,Y;on=!1,re?(re.calibrate(),u.minX=Gt=-re.maxScrollLeft(),u.minY=jt=-re.maxScrollTop(),u.maxX=Se=u.maxY=pt=0,on=!0):n.bounds&&(M=_getBounds(n.bounds,t.parentNode),l?(u.minX=Gt=M.left,u.maxX=Se=M.left+M.width,u.minY=jt=u.maxY=pt=0):!_isUndefined(n.bounds.maxX)||!_isUndefined(n.bounds.maxY)?(M=n.bounds,u.minX=Gt=M.minX,u.minY=jt=M.minY,u.maxX=Se=M.maxX,u.maxY=pt=M.maxY):(W=_getBounds(t,t.parentNode),u.minX=Gt=Math.round(Ie(c,"px")+M.left-W.left),u.minY=jt=Math.round(Ie(h,"px")+M.top-W.top),u.maxX=Se=Math.round(Gt+(M.width-W.width)),u.maxY=pt=Math.round(jt+(M.height-W.height))),Gt>Se&&(u.minX=Se,u.maxX=Se=Gt,Gt=u.minX),jt>pt&&(u.minY=pt,u.maxY=pt=jt,jt=u.minY),l&&(u.minRotation=Gt,u.maxRotation=Se),on=!0),n.liveSnap&&(F=n.liveSnap===!0?n.snap||{}:n.liveSnap,Y=_isArray(F)||_isFunction(F),l?(wi=zs(Y?F:F.rotation,Gt,Se,1),Ni=null):F.points?Wn=js(Y?F:F.points,Gt,Se,jt,pt,F.radius,re?-1:1):(f&&(wi=zs(Y?F:F.x||F.left||F.scrollLeft,Gt,Se,re?-1:1)),_&&(Ni=zs(Y?F:F.y||F.top||F.scrollTop,jt,pt,re?-1:1))))},Js=function(){u.isThrowing=!1,_dispatchEvent(u,"throwcomplete","onThrowComplete")},Gs=function(){u.isThrowing=!1},Ns=function(M,W){var F,Y,he,me;M&&InertiaPlugin?(M===!0&&(F=n.snap||n.liveSnap||{},Y=_isArray(F)||_isFunction(F),M={resistance:(n.throwResistance||n.resistance||1e3)/(l?10:1)},l?M.rotation=_parseInertia(u,Y?F:F.rotation,Se,Gt,1,W):(f&&(M[c]=_parseInertia(u,Y?F:F.points||F.x||F.left,Se,Gt,re?-1:1,W||u.lockedAxis==="x")),_&&(M[h]=_parseInertia(u,Y?F:F.points||F.y||F.top,pt,jt,re?-1:1,W||u.lockedAxis==="y")),(F.points||_isArray(F)&&_isObject(F[0]))&&(M.linkedProps=c+","+h,M.radius=F.radius))),u.isThrowing=!0,me=isNaN(n.overshootTolerance)?n.edgeResistance===1?0:1-u.edgeResistance+.2:n.overshootTolerance,M.duration||(M.duration={max:Math.max(n.minDuration||0,"maxDuration"in n?n.maxDuration:2),min:isNaN(n.minDuration)?me===0||_isObject(M)&&M.resistance>1e3?0:.5:n.minDuration,overshoot:me}),u.tween=he=gsap.to(re||t,{inertia:M,data:"_draggable",inherit:!1,onComplete:Js,onInterrupt:Gs,onUpdate:n.fastMode?_dispatchEvent:Dr,onUpdateParams:n.fastMode?[u,"onthrowupdate","onThrowUpdate"]:F&&F.radius?[!1,!0]:[]}),n.fastMode||(re&&(re._skip=!0),he.render(1e9,!0,!0),Dr(!0,!0),u.endX=u.x,u.endY=u.y,l&&(u.endRotation=u.x),he.play(0),Dr(!0,!0),re&&(re._skip=!1))):on&&u.applyBounds()},Ys=function(M){var W=qt,F;qt=getGlobalMatrix(t.parentNode,!0),M&&u.isPressed&&!qt.equals(W||new Matrix2D)&&(F=W.inverse().apply({x:sn,y:rt}),qt.apply(F,F),sn=F.x,rt=F.y),qt.equals(_identityMatrix)&&(qt=null)},Vr=function(){var M=1-u.edgeResistance,W=j?_getDocScrollLeft(ae):0,F=j?_getDocScrollTop(ae):0,Y,he,me;a&&(N.x=Ie(c,"px")+"px",N.y=Ie(h,"px")+"px",N.renderTransform()),Ys(!1),_point1.x=u.pointerX-W,_point1.y=u.pointerY-F,qt&&qt.apply(_point1,_point1),sn=_point1.x,rt=_point1.y,qn&&(nt(u.pointerX,u.pointerY),Si(!0)),Vs=getGlobalMatrix(t),re?(Ws(),Je=re.top(),Le=re.left()):(_n()?(Dr(!0,!0),Ws()):u.applyBounds(),l?(Y=t.ownerSVGElement?[N.xOrigin-t.getBBox().x,N.yOrigin-t.getBBox().y]:(_getComputedStyle(t)[_transformOriginProp]||"0 0").split(" "),Yn=u.rotationOrigin=getGlobalMatrix(t).apply({x:parseFloat(Y[0])||0,y:parseFloat(Y[1])||0}),Dr(!0,!0),he=u.pointerX-Yn.x-W,me=Yn.y-u.pointerY+F,Le=u.x,Je=u.y=Math.atan2(me,he)*_RAD2DEG):(Je=Ie(h,"px"),Le=Ie(c,"px"))),on&&M&&(Le>Se?Le=Se+(Le-Se)/M:Le<Gt&&(Le=Gt-(Gt-Le)/M),l||(Je>pt?Je=pt+(Je-pt)/M:Je<jt&&(Je=jt-(jt-Je)/M))),u.startX=Le=_round(Le),u.startY=Je=_round(Je)},_n=function(){return u.tween&&u.tween.isActive()},Hs=function(){_placeholderDiv.parentNode&&!_n()&&!u.isDragging&&_placeholderDiv.parentNode.removeChild(_placeholderDiv)},Fr=function(M,W){var F;if(!Be||u.isPressed||!M||(M.type==="mousedown"||M.type==="pointerdown")&&!W&&_getTime()-B<30&&_touchEventLookup[u.pointerEvent.type]){Mi&&M&&Be&&_preventDefault(M);return}if(Cr=_n(),Is=!1,u.pointerEvent=M,_touchEventLookup[M.type]?(ke=~M.type.indexOf("touch")?M.currentTarget||M.target:ae,_addListener(ke,"touchend",Oi),_addListener(ke,"touchmove",Ir),_addListener(ke,"touchcancel",Oi),_addListener(ae,"touchstart",_onMultiTouchDocument)):(ke=null,_addListener(ae,"mousemove",Ir)),Sn=null,(!_supportsPointer||!ke)&&(_addListener(ae,"mouseup",Oi),M&&M.target&&_addListener(M.target,"mouseup",Oi)),Nr=L.call(u,M.target)&&n.dragClickables===!1&&!W,Nr){_addListener(M.target,"change",Oi),_dispatchEvent(u,"pressInit","onPressInit"),_dispatchEvent(u,"press","onPress"),_setSelectable(b,!0),Mi=!1;return}if(ki=!ke||f===_||u.vars.allowNativeTouchScrolling===!1||u.vars.allowContextMenu&&M&&(M.ctrlKey||M.which>2)?!1:f?"y":"x",Mi=!ki&&!u.allowEventDefault,Mi&&(_preventDefault(M),_addListener(_win,"touchforcechange",_preventDefault)),M.changedTouches?(M=jn=M.changedTouches[0],En=M.identifier):M.pointerId?En=M.pointerId:jn=En=null,_dragCount++,_addToRenderQueue(Si),rt=u.pointerY=M.pageY,sn=u.pointerX=M.pageX,_dispatchEvent(u,"pressInit","onPressInit"),(ki||u.autoScroll)&&_recordMaxScrolls(t.parentNode),t.parentNode&&u.autoScroll&&!re&&!l&&t.parentNode._gsMaxScrollX&&!_placeholderDiv.parentNode&&!t.getBBox&&(_placeholderDiv.style.width=t.parentNode.scrollWidth+"px",t.parentNode.appendChild(_placeholderDiv)),Vr(),u.tween&&u.tween.kill(),u.isThrowing=!1,gsap.killTweensOf(re||t,$,!0),re&&gsap.killTweensOf(t,{scrollTo:1},!0),u.tween=u.lockedAxis=null,(n.zIndexBoost||!l&&!re&&n.zIndexBoost!==!1)&&(t.style.zIndex=e.zIndex++),u.isPressed=!0,Gn=!!(n.onDrag||u._listeners.drag),Pn=!!(n.onMove||u._listeners.move),n.cursor!==!1||n.activeCursor)for(F=b.length;--F>-1;)gsap.set(b[F],{cursor:n.activeCursor||n.cursor||(_defaultCursor==="grab"?"grabbing":_defaultCursor)});_dispatchEvent(u,"press","onPress")},Ir=function(M){var W=M,F,Y,he,me,fe,ye;if(!Be||_isMultiTouching||!u.isPressed||!M){Mi&&M&&Be&&_preventDefault(M);return}if(u.pointerEvent=M,F=M.changedTouches,F){if(M=F[0],M!==jn&&M.identifier!==En){for(me=F.length;--me>-1&&(M=F[me]).identifier!==En&&M.target!==t;);if(me<0)return}}else if(M.pointerId&&En&&M.pointerId!==En)return;if(ke&&ki&&!Sn&&(_point1.x=M.pageX-(j?_getDocScrollLeft(ae):0),_point1.y=M.pageY-(j?_getDocScrollTop(ae):0),qt&&qt.apply(_point1,_point1),Y=_point1.x,he=_point1.y,fe=Math.abs(Y-sn),ye=Math.abs(he-rt),(fe!==ye&&(fe>y||ye>y)||_isAndroid&&ki===Sn)&&(Sn=fe>ye&&f?"x":"y",ki&&Sn!==ki&&_addListener(_win,"touchforcechange",_preventDefault),u.vars.lockAxisOnTouchScroll!==!1&&f&&_&&(u.lockedAxis=Sn==="x"?"y":"x",_isFunction(u.vars.onLockAxis)&&u.vars.onLockAxis.call(u,W)),_isAndroid&&ki===Sn))){Oi(W);return}!u.allowEventDefault&&(!ki||Sn&&ki!==Sn)&&W.cancelable!==!1?(_preventDefault(W),Mi=!0):Mi&&(Mi=!1),u.autoScroll&&(A=!0),nt(M.pageX,M.pageY,Pn)},nt=function(M,W,F){var Y=1-u.dragResistance,he=1-u.edgeResistance,me=u.pointerX,fe=u.pointerY,ye=Je,An=u.x,wn=u.y,zn=u.endX,Un=u.endY,xi=u.endRotation,Ei=qn,Di,Pi,Hn,Ri,Mr,Cs;u.pointerX=M,u.pointerY=W,j&&(M-=_getDocScrollLeft(ae),W-=_getDocScrollTop(ae)),l?(Ri=Math.atan2(Yn.y-W,M-Yn.x)*_RAD2DEG,Mr=u.y-Ri,Mr>180?(Je-=360,u.y=Ri):Mr<-180&&(Je+=360,u.y=Ri),u.x!==Le||Math.max(Math.abs(sn-M),Math.abs(rt-W))>y?(u.y=Ri,Hn=Le+(Je-Ri)*Y):Hn=Le):(qt&&(Cs=M*qt.a+W*qt.c+qt.e,W=M*qt.b+W*qt.d+qt.f,M=Cs),Pi=W-rt,Di=M-sn,Pi<y&&Pi>-y&&(Pi=0),Di<y&&Di>-y&&(Di=0),(u.lockAxis||u.lockedAxis)&&(Di||Pi)&&(Cs=u.lockedAxis,Cs||(u.lockedAxis=Cs=f&&Math.abs(Di)>Math.abs(Pi)?"y":_?"x":null,Cs&&_isFunction(u.vars.onLockAxis)&&u.vars.onLockAxis.call(u,u.pointerEvent)),Cs==="y"?Pi=0:Cs==="x"&&(Di=0)),Hn=_round(Le+Di*Y),Ri=_round(Je+Pi*Y)),(wi||Ni||Wn)&&(u.x!==Hn||u.y!==Ri&&!l)&&(Wn&&(_temp1.x=Hn,_temp1.y=Ri,Cs=Wn(_temp1),Hn=_round(Cs.x),Ri=_round(Cs.y)),wi&&(Hn=_round(wi(Hn))),Ni&&(Ri=_round(Ni(Ri)))),on&&(Hn>Se?Hn=Se+Math.round((Hn-Se)*he):Hn<Gt&&(Hn=Gt+Math.round((Hn-Gt)*he)),l||(Ri>pt?Ri=Math.round(pt+(Ri-pt)*he):Ri<jt&&(Ri=Math.round(jt+(Ri-jt)*he)))),(u.x!==Hn||u.y!==Ri&&!l)&&(l?(u.endRotation=u.x=u.endX=Hn,qn=!0):(_&&(u.y=u.endY=Ri,qn=!0),f&&(u.x=u.endX=Hn,qn=!0)),!F||_dispatchEvent(u,"move","onMove")!==!1?!u.isDragging&&u.isPressed&&(u.isDragging=Is=!0,_dispatchEvent(u,"dragstart","onDragStart")):(u.pointerX=me,u.pointerY=fe,Je=ye,u.x=An,u.y=wn,u.endX=zn,u.endY=Un,u.endRotation=xi,qn=Ei))},Oi=function z(M,W){if(!Be||!u.isPressed||M&&En!=null&&!W&&(M.pointerId&&M.pointerId!==En&&M.target!==t||M.changedTouches&&!_hasTouchID(M.changedTouches,En))){Mi&&M&&Be&&_preventDefault(M);return}u.isPressed=!1;var F=M,Y=u.isDragging,he=u.vars.allowContextMenu&&M&&(M.ctrlKey||M.which>2),me=gsap.delayedCall(.001,Hs),fe,ye,An,wn,zn;if(ke?(_removeListener(ke,"touchend",z),_removeListener(ke,"touchmove",Ir),_removeListener(ke,"touchcancel",z),_removeListener(ae,"touchstart",_onMultiTouchDocument)):_removeListener(ae,"mousemove",Ir),_removeListener(_win,"touchforcechange",_preventDefault),(!_supportsPointer||!ke)&&(_removeListener(ae,"mouseup",z),M&&M.target&&_removeListener(M.target,"mouseup",z)),qn=!1,Y&&(k=_lastDragTime=_getTime(),u.isDragging=!1),_removeFromRenderQueue(Si),Nr&&!he){M&&(_removeListener(M.target,"change",z),u.pointerEvent=F),_setSelectable(b,!1),_dispatchEvent(u,"release","onRelease"),_dispatchEvent(u,"click","onClick"),Nr=!1;return}for(ye=b.length;--ye>-1;)_setStyle(b[ye],"cursor",n.cursor||(n.cursor!==!1?_defaultCursor:null));if(_dragCount--,M){if(fe=M.changedTouches,fe&&(M=fe[0],M!==jn&&M.identifier!==En)){for(ye=fe.length;--ye>-1&&(M=fe[ye]).identifier!==En&&M.target!==t;);if(ye<0&&!W)return}u.pointerEvent=F,u.pointerX=M.pageX,u.pointerY=M.pageY}return he&&F?(_preventDefault(F),Mi=!0,_dispatchEvent(u,"release","onRelease")):F&&!Y?(Mi=!1,Cr&&(n.snap||n.bounds)&&Ns(n.inertia||n.throwProps),_dispatchEvent(u,"release","onRelease"),(!_isAndroid||F.type!=="touchmove")&&F.type.indexOf("cancel")===-1&&(_dispatchEvent(u,"click","onClick"),_getTime()-B<300&&_dispatchEvent(u,"doubleclick","onDoubleClick"),wn=F.target||t,B=_getTime(),zn=function(){B!==Ds&&u.enabled()&&!u.isPressed&&!F.defaultPrevented&&(wn.click?wn.click():ae.createEvent&&(An=ae.createEvent("MouseEvents"),An.initMouseEvent("click",!0,!0,_win,1,u.pointerEvent.screenX,u.pointerEvent.screenY,u.pointerX,u.pointerY,!1,!1,!1,!1,0,null),wn.dispatchEvent(An)))},!_isAndroid&&!F.defaultPrevented&&gsap.delayedCall(.05,zn))):(Ns(n.inertia||n.throwProps),!u.allowEventDefault&&F&&(n.dragClickables!==!1||!L.call(u,F.target))&&Y&&(!ki||Sn&&ki===Sn)&&F.cancelable!==!1?(Mi=!0,_preventDefault(F)):Mi=!1,_dispatchEvent(u,"release","onRelease")),_n()&&me.duration(u.tween.duration()),Y&&_dispatchEvent(u,"dragend","onDragEnd"),!0},Ls=function(M){if(M&&u.isDragging&&!re){var W=M.target||t.parentNode,F=W.scrollLeft-W._gsScrollX,Y=W.scrollTop-W._gsScrollY;(F||Y)&&(qt?(sn-=F*qt.a+Y*qt.c,rt-=Y*qt.d+F*qt.b):(sn-=F,rt-=Y),W._gsScrollX+=F,W._gsScrollY+=Y,nt(u.pointerX,u.pointerY))}},Xs=function(M){var W=_getTime(),F=W-B<100,Y=W-k<50,he=F&&Ds===B,me=u.pointerEvent&&u.pointerEvent.defaultPrevented,fe=F&&_s===B,ye=M.isTrusted||M.isTrusted==null&&F&&he;if((he||Y&&u.vars.suppressClickOnDrag!==!1)&&M.stopImmediatePropagation&&M.stopImmediatePropagation(),F&&!(u.pointerEvent&&u.pointerEvent.defaultPrevented)&&(!he||ye&&!fe)){ye&&he&&(_s=B),Ds=B;return}(u.isPressed||Y||F)&&(!ye||!M.detail||!F||me)&&_preventDefault(M),!F&&!Y&&!Is&&(M&&M.target&&(u.pointerEvent=M),_dispatchEvent(u,"click","onClick"))},_o=function(M){return qt?{x:M.x*qt.a+M.y*qt.c+qt.e,y:M.x*qt.b+M.y*qt.d+qt.f}:{x:M.x,y:M.y}};return Tn=e.get(t),Tn&&Tn.kill(),s.startDrag=function(z,M){var W,F,Y,he;Fr(z||u.pointerEvent,!0),M&&!u.hitTest(z||u.pointerEvent)&&(W=_parseRect(z||u.pointerEvent),F=_parseRect(t),Y=_o({x:W.left+W.width/2,y:W.top+W.height/2}),he=_o({x:F.left+F.width/2,y:F.top+F.height/2}),sn-=Y.x-he.x,rt-=Y.y-he.y),u.isDragging||(u.isDragging=Is=!0,_dispatchEvent(u,"dragstart","onDragStart"))},s.drag=Ir,s.endDrag=function(z){return Oi(z||u.pointerEvent,!0)},s.timeSinceDrag=function(){return u.isDragging?0:(_getTime()-k)/1e3},s.timeSinceClick=function(){return(_getTime()-B)/1e3},s.hitTest=function(z,M){return e.hitTest(u.target,z,M)},s.getDirection=function(z,M){var W=z==="velocity"&&InertiaPlugin?z:_isObject(z)&&!l?"element":"start",F,Y,he,me,fe,ye;return W==="element"&&(fe=_parseRect(u.target),ye=_parseRect(z)),F=W==="start"?u.x-Le:W==="velocity"?InertiaPlugin.getVelocity(t,c):fe.left+fe.width/2-(ye.left+ye.width/2),l?F<0?"counter-clockwise":"clockwise":(M=M||2,Y=W==="start"?u.y-Je:W==="velocity"?InertiaPlugin.getVelocity(t,h):fe.top+fe.height/2-(ye.top+ye.height/2),he=Math.abs(F/Y),me=he<1/M?"":F<0?"left":"right",he<M&&(me!==""&&(me+="-"),me+=Y<0?"up":"down"),me)},s.applyBounds=function(z,M){var W,F,Y,he,me,fe;if(z&&n.bounds!==z)return n.bounds=z,u.update(!0,M);if(Dr(!0),Ws(),on&&!_n()){if(W=u.x,F=u.y,W>Se?W=Se:W<Gt&&(W=Gt),F>pt?F=pt:F<jt&&(F=jt),(u.x!==W||u.y!==F)&&(Y=!0,u.x=u.endX=W,l?u.endRotation=W:u.y=u.endY=F,qn=!0,Si(!0),u.autoScroll&&!u.isDragging))for(_recordMaxScrolls(t.parentNode),he=t,_windowProxy.scrollTop=_win.pageYOffset!=null?_win.pageYOffset:ae.documentElement.scrollTop!=null?ae.documentElement.scrollTop:ae.body.scrollTop,_windowProxy.scrollLeft=_win.pageXOffset!=null?_win.pageXOffset:ae.documentElement.scrollLeft!=null?ae.documentElement.scrollLeft:ae.body.scrollLeft;he&&!fe;)fe=_isRoot(he.parentNode),me=fe?_windowProxy:he.parentNode,_&&me.scrollTop>me._gsMaxScrollY&&(me.scrollTop=me._gsMaxScrollY),f&&me.scrollLeft>me._gsMaxScrollX&&(me.scrollLeft=me._gsMaxScrollX),he=me;u.isThrowing&&(Y||u.endX>Se||u.endX<Gt||u.endY>pt||u.endY<jt)&&Ns(n.inertia||n.throwProps,Y)}return u},s.update=function(z,M,W){if(M&&u.isPressed){var F=getGlobalMatrix(t),Y=Vs.apply({x:u.x-Le,y:u.y-Je}),he=getGlobalMatrix(t.parentNode,!0);he.apply({x:F.e-Y.x,y:F.f-Y.y},Y),u.x-=Y.x-he.e,u.y-=Y.y-he.f,Si(!0),Vr()}var me=u.x,fe=u.y;return Ys(!M),z?u.applyBounds():(qn&&W&&Si(!0),Dr(!0)),M&&(nt(u.pointerX,u.pointerY),qn&&Si(!0)),u.isPressed&&!M&&(f&&Math.abs(me-u.x)>.01||_&&Math.abs(fe-u.y)>.01&&!l)&&Vr(),u.autoScroll&&(_recordMaxScrolls(t.parentNode,u.isDragging),A=u.isDragging,Si(!0),_removeScrollListener(t,Ls),_addScrollListener(t,Ls)),u},s.enable=function(z){var M={lazy:!0},W,F,Y;if(n.cursor!==!1&&(M.cursor=n.cursor||_defaultCursor),gsap.utils.checkPrefix("touchCallout")&&(M.touchCallout="none"),z!=="soft"){for(_setTouchActionForAllDescendants(b,f===_?"none":n.allowNativeTouchScrolling&&t.scrollHeight===t.clientHeight==(t.scrollWidth===t.clientHeight)||n.allowEventDefault?"manipulation":f?"pan-y":"pan-x"),F=b.length;--F>-1;)Y=b[F],_supportsPointer||_addListener(Y,"mousedown",Fr),_addListener(Y,"touchstart",Fr),_addListener(Y,"click",Xs,!0),gsap.set(Y,M),Y.getBBox&&Y.ownerSVGElement&&f!==_&&gsap.set(Y.ownerSVGElement,{touchAction:n.allowNativeTouchScrolling||n.allowEventDefault?"manipulation":f?"pan-y":"pan-x"}),n.allowContextMenu||_addListener(Y,"contextmenu",Bs);_setSelectable(b,!1)}return _addScrollListener(t,Ls),Be=!0,InertiaPlugin&&z!=="soft"&&InertiaPlugin.track(re||t,a?"x,y":l?"rotation":"top,left"),t._gsDragID=W=t._gsDragID||"d"+_lookupCount++,_lookup[W]=u,re&&(re.enable(),re.element._gsDragID=W),(n.bounds||l)&&Vr(),n.bounds&&u.applyBounds(),u},s.disable=function(z){for(var M=u.isDragging,W=b.length,F;--W>-1;)_setStyle(b[W],"cursor",null);if(z!=="soft"){for(_setTouchActionForAllDescendants(b,null),W=b.length;--W>-1;)F=b[W],_setStyle(F,"touchCallout",null),_removeListener(F,"mousedown",Fr),_removeListener(F,"touchstart",Fr),_removeListener(F,"click",Xs,!0),_removeListener(F,"contextmenu",Bs);_setSelectable(b,!0),ke&&(_removeListener(ke,"touchcancel",Oi),_removeListener(ke,"touchend",Oi),_removeListener(ke,"touchmove",Ir)),_removeListener(ae,"mouseup",Oi),_removeListener(ae,"mousemove",Ir)}return _removeScrollListener(t,Ls),Be=!1,InertiaPlugin&&z!=="soft"&&(InertiaPlugin.untrack(re||t,a?"x,y":l?"rotation":"top,left"),u.tween&&u.tween.kill()),re&&re.disable(),_removeFromRenderQueue(Si),u.isDragging=u.isPressed=Nr=!1,M&&_dispatchEvent(u,"dragend","onDragEnd"),u},s.enabled=function(z,M){return arguments.length?z?u.enable(M):u.disable(M):Be},s.kill=function(){return u.isThrowing=!1,u.tween&&u.tween.kill(),u.disable(),gsap.set(b,{clearProps:"userSelect"}),delete _lookup[t._gsDragID],u},s.revert=function(){this.kill(),this.styles&&this.styles.revert()},~o.indexOf("scroll")&&(re=s.scrollProxy=new ScrollProxy(t,_extend({onKill:function(){u.isPressed&&Oi(null)}},n)),t.style.overflowY=_&&!_isTouchDevice?"auto":"hidden",t.style.overflowX=f&&!_isTouchDevice?"auto":"hidden",t=re.content),l?$.rotation=1:(f&&($[c]=1),_&&($[h]=1)),N.force3D="force3D"in n?n.force3D:!0,_context(_assertThisInitialized(s)),s.enable(),s}return e.register=function(n){gsap=n,_initCore()},e.create=function(n,s){return _coreInitted||_initCore(!0),_toArray(n).map(function(o){return new e(o,s)})},e.get=function(n){return _lookup[(_toArray(n)[0]||{})._gsDragID]},e.timeSinceDrag=function(){return(_getTime()-_lastDragTime)/1e3},e.hitTest=function(n,s,o){if(n===s)return!1;var a=_parseRect(n),l=_parseRect(s),c=a.top,h=a.left,f=a.right,_=a.bottom,y=a.width,u=a.height,b=l.left>f||l.right<h||l.top>_||l.bottom<c,$,k,A;return b||!o?!b:(A=(o+"").indexOf("%")!==-1,o=parseFloat(o)||0,$={left:Math.max(h,l.left),top:Math.max(c,l.top)},$.width=Math.min(f,l.right)-$.left,$.height=Math.min(_,l.bottom)-$.top,$.width<0||$.height<0?!1:A?(o*=.01,k=$.width*$.height,k>=y*u*o||k>=l.width*l.height*o):$.width>o&&$.height>o)},e}(EventDispatcher);_setDefaults(Draggable.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1});Draggable.zIndex=1e3;Draggable.version="3.13.0";_getGSAP()&&gsap.registerPlugin(Draggable);gsapWithCSS.registerPlugin(Draggable);const makeDraggable=(i={},e={})=>{const{element:t,handleElement:n,className:s="",handleClassName:o=""}=i,{axis:a}=e||null;let l=null;if(t?l=t:s&&(l=qs(s)),!(l instanceof Element)){console.warn("makeDraggable: Invalid Element.");return}return Draggable.create(l,{type:a||"x,y",trigger:n??l.querySelector(o||".drag-handle")??l})},{div,select,option,button}=van$1.tags;let nodeId=0;const addNode=(i,e)=>{const t=nodeId++,n=van$1.tags[`${i}-element`],s=div({id:`handle-for-${i}-${t}`,class:"drag-handle"}),o=e??qs(".nodes-playground")??document.body,a=div({class:`${i}-wrapper node-draggable`},s,n({expanded:!1}));return van$1.add(o,a),{nodeEl:n(),handleEl:s,wrapperEl:a}},createAddNodeButton=()=>div({class:"add-el-div"},button({class:"add-el-btn"},"+"),select({id:"node-select",class:"node-select"},option({value:"sampler"},"Sampler"),option({value:"karplus-synth"},"Karplus Synth"))),init=async()=>{await initAudiolib();const i=qs(".nodes-playground");van$1.add(i,createAddNodeButton());const e=qs(".add-el-btn"),t=qs(".node-select");e==null||e.addEventListener("click",()=>{const n=t.value,s=addNode(n,i);qs("sampler-element"),makeDraggable({element:s.wrapperEl,handleElement:s.handleEl})}),console.log("Web Audio Elements app initialized")};document.addEventListener("DOMContentLoaded",()=>init());document.addEventListener("keydown",i=>{i.key===" "&&i.preventDefault()});
//# sourceMappingURL=index-hoV2a5Xw.js.map
