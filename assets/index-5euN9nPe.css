:root{--ac-spacing-xs: .25rem;--ac-spacing-sm: .5rem;--ac-spacing-md: 1rem;--ac-spacing-lg: 1.5rem;--ac-spacing-xl: 2rem;--ac-component-height-sm: 32px;--ac-component-height-md: 40px;--ac-component-height-lg: 48px;--ac-component-min-width: 80px;--ac-font-family: system-ui, sans-serif;--ac-font-size-sm: .75rem;--ac-font-size-md: .875rem;--ac-font-size-lg: 1rem;--ac-line-height: 1.5;--ac-color-bg-primary: #ffffff;--ac-color-bg-secondary: #f8f9fa;--ac-color-bg-disabled: #e9ecef;--ac-color-border-primary: #dee2e6;--ac-color-border-focus: #80bdff;--ac-color-border-error: #dc3545;--ac-color-text-primary: #212529;--ac-color-text-secondary: #6c757d;--ac-color-text-disabled: #adb5bd;--ac-color-text-inverse: #ffffff;--ac-color-accent-primary: #007bff;--ac-color-accent-success: #28a745;--ac-color-accent-warning: #ffc107;--ac-color-accent-danger: #dc3545;--ac-color-active: #4caf50;--ac-color-armed: #ff9800;--ac-color-recording: #f44336;--ac-color-feedback: #9c27b0;--ac-shadow-sm: 0 1px 3px rgba(0, 0, 0, .1);--ac-shadow-md: 0 4px 6px rgba(0, 0, 0, .1);--ac-border-radius: 16px;--ac-transition: .15s ease-in-out;--ac-knob-size: 60px;--ac-button-padding: .5rem 1rem;--ac-toggle-height: 24px;--ac-envelope-height: 200px;--ac-keyboard-height: 60px}.ac-component{display:flex;flex-direction:column;gap:var(--ac-spacing-sm);padding:var(--ac-spacing-sm);margin:var(--ac-spacing-xs);border:1px solid var(--ac-color-border-primary);border-radius:var(--ac-border-radius);min-height:var(--ac-component-height-md);font-family:var(--ac-font-family);font-size:var(--ac-font-size-md);line-height:var(--ac-line-height);background:var(--ac-color-bg-primary);color:var(--ac-color-text-primary);transition:var(--ac-transition);box-sizing:border-box}.ac-component--inline{display:inline-flex;flex-direction:row;align-items:center;min-height:var(--ac-component-height-sm)}.ac-component--block{display:block;width:100%}.ac-component--disabled{opacity:.6;pointer-events:none;background:var(--ac-color-bg-disabled);color:var(--ac-color-text-disabled)}.ac-button{display:inline-flex;align-items:center;justify-content:center;padding:var(--ac-button-padding);border:1px solid var(--ac-color-border-primary);border-radius:var(--ac-border-radius);background:var(--ac-color-bg-primary);color:var(--ac-color-text-primary);font-family:var(--ac-font-family);font-size:var(--ac-font-size-md);line-height:var(--ac-line-height);cursor:pointer;transition:var(--ac-transition);box-sizing:border-box;min-width:var(--ac-component-min-width)}.ac-button:hover{background:var(--ac-color-bg-secondary);border-color:var(--ac-color-border-focus)}.ac-button:focus{outline:2px solid var(--ac-color-border-focus);outline-offset:2px}.ac-button--primary{background:var(--ac-color-accent-primary);color:var(--ac-color-text-inverse);border-color:var(--ac-color-accent-primary)}.ac-button--active{background:var(--ac-color-active);color:var(--ac-color-text-inverse);border-color:var(--ac-color-active)}.ac-button--armed{background:var(--ac-color-armed);color:var(--ac-color-text-inverse);border-color:var(--ac-color-armed)}.ac-button--recording{background:var(--ac-color-recording);color:var(--ac-color-text-inverse);border-color:var(--ac-color-recording)}.ac-button--small{padding:calc(var(--ac-spacing-sm) * .5) var(--ac-spacing-sm);font-size:var(--ac-font-size-sm);min-width:calc(var(--ac-component-min-width) * .75)}.ac-knob{display:flex;flex-direction:column;align-items:center;gap:var(--ac-spacing-xs);min-width:var(--ac-knob-size)}.ac-knob__container{position:relative;width:var(--ac-knob-size);height:var(--ac-knob-size)}.ac-knob__label{font-size:var(--ac-font-size-sm);color:var(--ac-color-text-secondary);text-align:center;font-weight:500}.ac-knob__value{font-size:var(--ac-font-size-sm);color:var(--ac-color-text-primary);text-align:center;font-family:monospace}.ac-toggle{display:flex;align-items:center;gap:var(--ac-spacing-sm)}.ac-toggle__container{position:relative;display:inline-block;width:calc(var(--ac-toggle-height) * 2);height:var(--ac-toggle-height)}.ac-toggle__switch{position:absolute;top:0;left:0;right:0;bottom:0;background:var(--ac-color-bg-secondary);border:1px solid var(--ac-color-border-primary);border-radius:calc(var(--ac-toggle-height) / 2);cursor:pointer;transition:var(--ac-transition)}.ac-toggle__switch:before{content:"";position:absolute;height:calc(var(--ac-toggle-height) - 4px);width:calc(var(--ac-toggle-height) - 4px);left:2px;bottom:2px;background:var(--ac-color-bg-primary);border-radius:50%;transition:var(--ac-transition)}.ac-toggle--on .ac-toggle__switch{background:var(--ac-color-active);border-color:var(--ac-color-active)}.ac-toggle--on .ac-toggle__switch:before{transform:translate(var(--ac-toggle-height))}.ac-toggle__label{font-size:var(--ac-font-size-sm);color:var(--ac-color-text-secondary);font-weight:500}.ac-envelope{display:flex;flex-direction:column;gap:var(--ac-spacing-sm)}.ac-envelope__container{position:relative;width:100%;height:var(--ac-envelope-height);border:1px solid var(--ac-color-border-primary);border-radius:var(--ac-border-radius);background:var(--ac-color-bg-primary);overflow:hidden}.ac-envelope__display{width:100%;height:100%}.ac-envelope__controls{display:flex;gap:var(--ac-spacing-sm);align-items:center}.ac-envelope__switcher{display:flex;gap:var(--ac-spacing-xs)}.ac-keyboard{display:flex;flex-direction:column;gap:var(--ac-spacing-sm)}.ac-keyboard__controls{display:flex;align-items:center;gap:var(--ac-spacing-sm)}.ac-keyboard__status{font-size:var(--ac-font-size-sm);color:var(--ac-color-text-secondary)}.ac-sampler{display:flex;flex-direction:column;gap:var(--ac-spacing-md)}.ac-sampler__core{display:none}.ac-sampler__core--debug{display:flex;flex-direction:column;gap:var(--ac-spacing-sm);padding:var(--ac-spacing-sm);border:1px solid var(--ac-color-border-primary);border-radius:var(--ac-border-radius);background:var(--ac-color-bg-secondary)}.ac-sampler__controls{display:flex;flex-wrap:wrap;gap:var(--ac-spacing-md)}.ac-sampler__status{font-size:var(--ac-font-size-sm);color:var(--ac-color-text-secondary)}.ac-layout--flex{display:flex;gap:var(--ac-spacing-sm)}.ac-layout--grid{display:grid;gap:var(--ac-spacing-sm)}.ac-layout--inline{display:inline-flex;align-items:center;gap:var(--ac-spacing-sm)}.ac-spacing--xs{gap:var(--ac-spacing-xs)}.ac-spacing--sm{gap:var(--ac-spacing-sm)}.ac-spacing--md{gap:var(--ac-spacing-md)}.ac-spacing--lg{gap:var(--ac-spacing-lg)}.ac-spacing--xl{gap:var(--ac-spacing-xl)}.ac-state--loading{opacity:.7;pointer-events:none}.ac-state--error{border-color:var(--ac-color-border-error);background:#dc35451a}.ac-state--success{border-color:var(--ac-color-accent-success);background:#28a7451a}.ac-state--hidden{display:none}@media (max-width: 768px){.ac-component{margin:var(--ac-spacing-xs) 0}.ac-knob-size{--ac-knob-size: 50px}.ac-button{padding:var(--ac-spacing-sm);min-width:auto}}@media (prefers-color-scheme: dark){:root{--ac-color-bg-primary: #1a1a1a;--ac-color-bg-secondary: #464646;--ac-color-bg-disabled: #3a3a3a;--ac-color-border-primary: #444444;--ac-color-border-focus: #0066cc;--ac-color-text-primary: #ffffff;--ac-color-text-secondary: #cccccc;--ac-color-text-disabled: #888888}}@media (min-width: 1024px) and (min-height: 800px){body,html{overflow:hidden}.page-wrapper{height:100vh}}html{background:var(--ac-color-bg-primary)}.page-wrapper{padding:var(--ac-spacing-lg);background:var(--ac-color-bg-primary);color:var(--ac-color-text-primary);min-height:100vh;box-sizing:border-box}.sampler-demo{max-width:1200px;margin:0 auto;gap:var(--ac-spacing-sm)}.top-bar{position:relative;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--ac-spacing-md);background:var(--ac-color-bg-secondary);border-bottom:1px solid var(--ac-color-border);padding:0 var(--ac-spacing-md);min-height:var(--ac-component-height-lg);border-radius:var(--ac-border-radius)}.sampler-controls{display:grid;grid-template-columns:1fr 1fr;grid-template-areas:". ." ". ." ". .";gap:var(--ac-spacing-md)}.control-group{position:relative;background:var(--ac-color-bg-secondary);border:1px solid var(--ac-color-border);border-radius:var(--ac-border-radius);padding:var(--ac-spacing-md)}.drag-handle{position:absolute;top:7px;right:0;width:28px;height:20px;background:var(--ac-color-accent);border-radius:var(--ac-border-radius-sm);cursor:grab;opacity:.6;transition:opacity .2s ease;z-index:10;outline-offset:2px}.drag-handle:focus-visible{outline:2px solid var(--ac-color-accent, #09f)}.drag-handle:hover{opacity:1}.drag-handle:active{cursor:grabbing}.drag-handle:before{content:"";position:absolute;top:2px;left:2px;right:2px;bottom:2px;background-image:linear-gradient(90deg,transparent 2px,var(--ac-color-bg-primary) 2px,var(--ac-color-bg-primary) 4px,transparent 4px),linear-gradient(90deg,transparent 6px,var(--ac-color-bg-primary) 6px,var(--ac-color-bg-primary) 8px,transparent 8px),linear-gradient(90deg,transparent 10px,var(--ac-color-bg-primary) 10px,var(--ac-color-bg-primary) 12px,transparent 12px);background-size:16px 2px;background-position:0 2px,0 5px,0 8px;background-repeat:no-repeat}.inline{display:flex;align-items:center;flex-wrap:nowrap;gap:var(--ac-spacing-sm);overflow-x:auto}.inline>*{flex-shrink:0}.control-group h3{margin:0 0 var(--ac-spacing-sm) 0;font-size:var(--ac-font-size-sm);font-weight:var(--ac-font-weight-medium);color:var(--ac-color-text-secondary);text-transform:uppercase;letter-spacing:.05em}.knob-grid,.toggle-grid{display:grid;grid-template-rows:1fr 1fr;grid-template-areas:". . . ." ". . . .";gap:var(--ac-spacing-sm)}.lfo-group{display:grid;grid-template-columns:repeat(4,1fr);grid-template-rows:1fr;grid-template-areas:". . . ."}envelope-switcher{width:100%!important;max-width:100%}piano-keyboard{width:100%!important;max-width:100%}.browser-warning{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#ff0000e6;color:#fff;padding:20px;border-radius:10px;text-align:center;z-index:10000;max-width:90%;font-family:system-ui,-apple-system,sans-serif}.browser-warning__heading{margin:0 0 10px}.browser-warning__message{margin:10px 0}.browser-warning__info{margin:10px 0;font-size:.9em}.browser-warning__button{background:#fff;color:#000;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;margin-top:10px;transition:background-color .2s ease}.browser-warning__button:hover{background-color:#f0f0f0}.browser-warning__button:focus{outline:2px solid white;outline-offset:2px}@media (max-width: 768px){piano-keyboard{width:100%!important;max-width:100%}.sampler-controls{grid-template-columns:1fr}.page-wrapper{padding:var(--ac-spacing-md)}.ac-layout--grid[style*="repeat(4"]{grid-template-columns:repeat(2,1fr)!important}.ac-layout--block{display:flex;flex-direction:column;gap:var(--ac-spacing-sm)}}.knob-w-toggle{position:relative;display:inline-flex;flex-direction:column;align-items:center;gap:2px;border:none;background:transparent}pan-drift-toggle{position:absolute;right:-40px;bottom:0;border:none;background:transparent}
